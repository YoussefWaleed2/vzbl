var LP=Object.defineProperty;var UP=(s,e,t)=>e in s?LP(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t;var Ft=(s,e,t)=>UP(s,typeof e!="symbol"?e+"":e,t);function PP(s,e){for(var t=0;t<e.length;t++){const n=e[t];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in s)){const r=Object.getOwnPropertyDescriptor(n,i);r&&Object.defineProperty(s,i,r.get?r:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function t(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(i){if(i.ep)return;i.ep=!0;const r=t(i);fetch(i.href,r)}})();(function(s){s.pathname==="/services"||s.pathname==="/contact"||s.pathname==="/about"||s.hash&&s.hash.includes("/")||s.pathname!=="/"&&document.referrer&&!document.referrer.includes(s.host)&&window.location.replace(s.origin+"/#"+s.pathname)})(window.location);function JA(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Cb={exports:{}},hv={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kR;function IP(){if(kR)return hv;kR=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(n,i,r){var a=null;if(r!==void 0&&(a=""+r),i.key!==void 0&&(a=""+i.key),"key"in i){r={};for(var l in i)l!=="key"&&(r[l]=i[l])}else r=i;return i=r.ref,{$$typeof:s,type:n,key:a,ref:i!==void 0?i:null,props:r}}return hv.Fragment=e,hv.jsx=t,hv.jsxs=t,hv}var jR;function FP(){return jR||(jR=1,Cb.exports=IP()),Cb.exports}var k=FP(),wb={exports:{}},Bn={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XR;function zP(){if(XR)return Bn;XR=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),r=Symbol.for("react.consumer"),a=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.iterator;function v(I){return I===null||typeof I!="object"?null:(I=g&&I[g]||I["@@iterator"],typeof I=="function"?I:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,b={};function M(I,ie,ue){this.props=I,this.context=ie,this.refs=b,this.updater=ue||_}M.prototype.isReactComponent={},M.prototype.setState=function(I,ie){if(typeof I!="object"&&typeof I!="function"&&I!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,I,ie,"setState")},M.prototype.forceUpdate=function(I){this.updater.enqueueForceUpdate(this,I,"forceUpdate")};function A(){}A.prototype=M.prototype;function C(I,ie,ue){this.props=I,this.context=ie,this.refs=b,this.updater=ue||_}var B=C.prototype=new A;B.constructor=C,S(B,M.prototype),B.isPureReactComponent=!0;var D=Array.isArray,N={H:null,A:null,T:null,S:null,V:null},U=Object.prototype.hasOwnProperty;function F(I,ie,ue,_e,se,xe){return ue=xe.ref,{$$typeof:s,type:I,key:ie,ref:ue!==void 0?ue:null,props:xe}}function z(I,ie){return F(I.type,ie,void 0,void 0,void 0,I.props)}function O(I){return typeof I=="object"&&I!==null&&I.$$typeof===s}function P(I){var ie={"=":"=0",":":"=2"};return"$"+I.replace(/[=:]/g,function(ue){return ie[ue]})}var q=/\/+/g;function ne(I,ie){return typeof I=="object"&&I!==null&&I.key!=null?P(""+I.key):ie.toString(36)}function te(){}function ee(I){switch(I.status){case"fulfilled":return I.value;case"rejected":throw I.reason;default:switch(typeof I.status=="string"?I.then(te,te):(I.status="pending",I.then(function(ie){I.status==="pending"&&(I.status="fulfilled",I.value=ie)},function(ie){I.status==="pending"&&(I.status="rejected",I.reason=ie)})),I.status){case"fulfilled":return I.value;case"rejected":throw I.reason}}throw I}function oe(I,ie,ue,_e,se){var xe=typeof I;(xe==="undefined"||xe==="boolean")&&(I=null);var Ae=!1;if(I===null)Ae=!0;else switch(xe){case"bigint":case"string":case"number":Ae=!0;break;case"object":switch(I.$$typeof){case s:case e:Ae=!0;break;case m:return Ae=I._init,oe(Ae(I._payload),ie,ue,_e,se)}}if(Ae)return se=se(I),Ae=_e===""?"."+ne(I,0):_e,D(se)?(ue="",Ae!=null&&(ue=Ae.replace(q,"$&/")+"/"),oe(se,ie,ue,"",function(ht){return ht})):se!=null&&(O(se)&&(se=z(se,ue+(se.key==null||I&&I.key===se.key?"":(""+se.key).replace(q,"$&/")+"/")+Ae)),ie.push(se)),1;Ae=0;var Ee=_e===""?".":_e+":";if(D(I))for(var Ne=0;Ne<I.length;Ne++)_e=I[Ne],xe=Ee+ne(_e,Ne),Ae+=oe(_e,ie,ue,xe,se);else if(Ne=v(I),typeof Ne=="function")for(I=Ne.call(I),Ne=0;!(_e=I.next()).done;)_e=_e.value,xe=Ee+ne(_e,Ne++),Ae+=oe(_e,ie,ue,xe,se);else if(xe==="object"){if(typeof I.then=="function")return oe(ee(I),ie,ue,_e,se);throw ie=String(I),Error("Objects are not valid as a React child (found: "+(ie==="[object Object]"?"object with keys {"+Object.keys(I).join(", ")+"}":ie)+"). If you meant to render a collection of children, use an array instead.")}return Ae}function H(I,ie,ue){if(I==null)return I;var _e=[],se=0;return oe(I,_e,"","",function(xe){return ie.call(ue,xe,se++)}),_e}function Y(I){if(I._status===-1){var ie=I._result;ie=ie(),ie.then(function(ue){(I._status===0||I._status===-1)&&(I._status=1,I._result=ue)},function(ue){(I._status===0||I._status===-1)&&(I._status=2,I._result=ue)}),I._status===-1&&(I._status=0,I._result=ie)}if(I._status===1)return I._result.default;throw I._result}var Z=typeof reportError=="function"?reportError:function(I){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ie=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof I=="object"&&I!==null&&typeof I.message=="string"?String(I.message):String(I),error:I});if(!window.dispatchEvent(ie))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",I);return}console.error(I)};function de(){}return Bn.Children={map:H,forEach:function(I,ie,ue){H(I,function(){ie.apply(this,arguments)},ue)},count:function(I){var ie=0;return H(I,function(){ie++}),ie},toArray:function(I){return H(I,function(ie){return ie})||[]},only:function(I){if(!O(I))throw Error("React.Children.only expected to receive a single React element child.");return I}},Bn.Component=M,Bn.Fragment=t,Bn.Profiler=i,Bn.PureComponent=C,Bn.StrictMode=n,Bn.Suspense=u,Bn.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,Bn.__COMPILER_RUNTIME={__proto__:null,c:function(I){return N.H.useMemoCache(I)}},Bn.cache=function(I){return function(){return I.apply(null,arguments)}},Bn.cloneElement=function(I,ie,ue){if(I==null)throw Error("The argument must be a React element, but you passed "+I+".");var _e=S({},I.props),se=I.key,xe=void 0;if(ie!=null)for(Ae in ie.ref!==void 0&&(xe=void 0),ie.key!==void 0&&(se=""+ie.key),ie)!U.call(ie,Ae)||Ae==="key"||Ae==="__self"||Ae==="__source"||Ae==="ref"&&ie.ref===void 0||(_e[Ae]=ie[Ae]);var Ae=arguments.length-2;if(Ae===1)_e.children=ue;else if(1<Ae){for(var Ee=Array(Ae),Ne=0;Ne<Ae;Ne++)Ee[Ne]=arguments[Ne+2];_e.children=Ee}return F(I.type,se,void 0,void 0,xe,_e)},Bn.createContext=function(I){return I={$$typeof:a,_currentValue:I,_currentValue2:I,_threadCount:0,Provider:null,Consumer:null},I.Provider=I,I.Consumer={$$typeof:r,_context:I},I},Bn.createElement=function(I,ie,ue){var _e,se={},xe=null;if(ie!=null)for(_e in ie.key!==void 0&&(xe=""+ie.key),ie)U.call(ie,_e)&&_e!=="key"&&_e!=="__self"&&_e!=="__source"&&(se[_e]=ie[_e]);var Ae=arguments.length-2;if(Ae===1)se.children=ue;else if(1<Ae){for(var Ee=Array(Ae),Ne=0;Ne<Ae;Ne++)Ee[Ne]=arguments[Ne+2];se.children=Ee}if(I&&I.defaultProps)for(_e in Ae=I.defaultProps,Ae)se[_e]===void 0&&(se[_e]=Ae[_e]);return F(I,xe,void 0,void 0,null,se)},Bn.createRef=function(){return{current:null}},Bn.forwardRef=function(I){return{$$typeof:l,render:I}},Bn.isValidElement=O,Bn.lazy=function(I){return{$$typeof:m,_payload:{_status:-1,_result:I},_init:Y}},Bn.memo=function(I,ie){return{$$typeof:h,type:I,compare:ie===void 0?null:ie}},Bn.startTransition=function(I){var ie=N.T,ue={};N.T=ue;try{var _e=I(),se=N.S;se!==null&&se(ue,_e),typeof _e=="object"&&_e!==null&&typeof _e.then=="function"&&_e.then(de,Z)}catch(xe){Z(xe)}finally{N.T=ie}},Bn.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},Bn.use=function(I){return N.H.use(I)},Bn.useActionState=function(I,ie,ue){return N.H.useActionState(I,ie,ue)},Bn.useCallback=function(I,ie){return N.H.useCallback(I,ie)},Bn.useContext=function(I){return N.H.useContext(I)},Bn.useDebugValue=function(){},Bn.useDeferredValue=function(I,ie){return N.H.useDeferredValue(I,ie)},Bn.useEffect=function(I,ie,ue){var _e=N.H;if(typeof ue=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return _e.useEffect(I,ie)},Bn.useId=function(){return N.H.useId()},Bn.useImperativeHandle=function(I,ie,ue){return N.H.useImperativeHandle(I,ie,ue)},Bn.useInsertionEffect=function(I,ie){return N.H.useInsertionEffect(I,ie)},Bn.useLayoutEffect=function(I,ie){return N.H.useLayoutEffect(I,ie)},Bn.useMemo=function(I,ie){return N.H.useMemo(I,ie)},Bn.useOptimistic=function(I,ie){return N.H.useOptimistic(I,ie)},Bn.useReducer=function(I,ie,ue){return N.H.useReducer(I,ie,ue)},Bn.useRef=function(I){return N.H.useRef(I)},Bn.useState=function(I){return N.H.useState(I)},Bn.useSyncExternalStore=function(I,ie,ue){return N.H.useSyncExternalStore(I,ie,ue)},Bn.useTransition=function(){return N.H.useTransition()},Bn.version="19.1.0",Bn}var YR;function Vg(){return YR||(YR=1,wb.exports=zP()),wb.exports}var J=Vg();const T4=JA(J),HP=PP({__proto__:null,default:T4},[J]);var Rb={exports:{}},dv={},Bb={exports:{}},Db={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qR;function GP(){return qR||(qR=1,function(s){function e(H,Y){var Z=H.length;H.push(Y);e:for(;0<Z;){var de=Z-1>>>1,I=H[de];if(0<i(I,Y))H[de]=Y,H[Z]=I,Z=de;else break e}}function t(H){return H.length===0?null:H[0]}function n(H){if(H.length===0)return null;var Y=H[0],Z=H.pop();if(Z!==Y){H[0]=Z;e:for(var de=0,I=H.length,ie=I>>>1;de<ie;){var ue=2*(de+1)-1,_e=H[ue],se=ue+1,xe=H[se];if(0>i(_e,Z))se<I&&0>i(xe,_e)?(H[de]=xe,H[se]=Z,de=se):(H[de]=_e,H[ue]=Z,de=ue);else if(se<I&&0>i(xe,Z))H[de]=xe,H[se]=Z,de=se;else break e}}return Y}function i(H,Y){var Z=H.sortIndex-Y.sortIndex;return Z!==0?Z:H.id-Y.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var r=performance;s.unstable_now=function(){return r.now()}}else{var a=Date,l=a.now();s.unstable_now=function(){return a.now()-l}}var u=[],h=[],m=1,g=null,v=3,_=!1,S=!1,b=!1,M=!1,A=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,B=typeof setImmediate<"u"?setImmediate:null;function D(H){for(var Y=t(h);Y!==null;){if(Y.callback===null)n(h);else if(Y.startTime<=H)n(h),Y.sortIndex=Y.expirationTime,e(u,Y);else break;Y=t(h)}}function N(H){if(b=!1,D(H),!S)if(t(u)!==null)S=!0,U||(U=!0,ne());else{var Y=t(h);Y!==null&&oe(N,Y.startTime-H)}}var U=!1,F=-1,z=5,O=-1;function P(){return M?!0:!(s.unstable_now()-O<z)}function q(){if(M=!1,U){var H=s.unstable_now();O=H;var Y=!0;try{e:{S=!1,b&&(b=!1,C(F),F=-1),_=!0;var Z=v;try{t:{for(D(H),g=t(u);g!==null&&!(g.expirationTime>H&&P());){var de=g.callback;if(typeof de=="function"){g.callback=null,v=g.priorityLevel;var I=de(g.expirationTime<=H);if(H=s.unstable_now(),typeof I=="function"){g.callback=I,D(H),Y=!0;break t}g===t(u)&&n(u),D(H)}else n(u);g=t(u)}if(g!==null)Y=!0;else{var ie=t(h);ie!==null&&oe(N,ie.startTime-H),Y=!1}}break e}finally{g=null,v=Z,_=!1}Y=void 0}}finally{Y?ne():U=!1}}}var ne;if(typeof B=="function")ne=function(){B(q)};else if(typeof MessageChannel<"u"){var te=new MessageChannel,ee=te.port2;te.port1.onmessage=q,ne=function(){ee.postMessage(null)}}else ne=function(){A(q,0)};function oe(H,Y){F=A(function(){H(s.unstable_now())},Y)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(H){H.callback=null},s.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<H?Math.floor(1e3/H):5},s.unstable_getCurrentPriorityLevel=function(){return v},s.unstable_next=function(H){switch(v){case 1:case 2:case 3:var Y=3;break;default:Y=v}var Z=v;v=Y;try{return H()}finally{v=Z}},s.unstable_requestPaint=function(){M=!0},s.unstable_runWithPriority=function(H,Y){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var Z=v;v=H;try{return Y()}finally{v=Z}},s.unstable_scheduleCallback=function(H,Y,Z){var de=s.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?de+Z:de):Z=de,H){case 1:var I=-1;break;case 2:I=250;break;case 5:I=1073741823;break;case 4:I=1e4;break;default:I=5e3}return I=Z+I,H={id:m++,callback:Y,priorityLevel:H,startTime:Z,expirationTime:I,sortIndex:-1},Z>de?(H.sortIndex=Z,e(h,H),t(u)===null&&H===t(h)&&(b?(C(F),F=-1):b=!0,oe(N,Z-de))):(H.sortIndex=I,e(u,H),S||_||(S=!0,U||(U=!0,ne()))),H},s.unstable_shouldYield=P,s.unstable_wrapCallback=function(H){var Y=v;return function(){var Z=v;v=Y;try{return H.apply(this,arguments)}finally{v=Z}}}}(Db)),Db}var WR;function VP(){return WR||(WR=1,Bb.exports=GP()),Bb.exports}var Nb={exports:{}},Er={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var KR;function kP(){if(KR)return Er;KR=1;var s=Vg();function e(u){var h="https://react.dev/errors/"+u;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)h+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+u+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var n={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},i=Symbol.for("react.portal");function r(u,h,m){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:g==null?null:""+g,children:u,containerInfo:h,implementation:m}}var a=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function l(u,h){if(u==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return Er.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,Er.createPortal=function(u,h){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return r(u,h,null,m)},Er.flushSync=function(u){var h=a.T,m=n.p;try{if(a.T=null,n.p=2,u)return u()}finally{a.T=h,n.p=m,n.d.f()}},Er.preconnect=function(u,h){typeof u=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,n.d.C(u,h))},Er.prefetchDNS=function(u){typeof u=="string"&&n.d.D(u)},Er.preinit=function(u,h){if(typeof u=="string"&&h&&typeof h.as=="string"){var m=h.as,g=l(m,h.crossOrigin),v=typeof h.integrity=="string"?h.integrity:void 0,_=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;m==="style"?n.d.S(u,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:g,integrity:v,fetchPriority:_}):m==="script"&&n.d.X(u,{crossOrigin:g,integrity:v,fetchPriority:_,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},Er.preinitModule=function(u,h){if(typeof u=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var m=l(h.as,h.crossOrigin);n.d.M(u,{crossOrigin:m,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&n.d.M(u)},Er.preload=function(u,h){if(typeof u=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var m=h.as,g=l(m,h.crossOrigin);n.d.L(u,m,{crossOrigin:g,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},Er.preloadModule=function(u,h){if(typeof u=="string")if(h){var m=l(h.as,h.crossOrigin);n.d.m(u,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:m,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else n.d.m(u)},Er.requestFormReset=function(u){n.d.r(u)},Er.unstable_batchedUpdates=function(u,h){return u(h)},Er.useFormState=function(u,h,m){return a.H.useFormState(u,h,m)},Er.useFormStatus=function(){return a.H.useHostTransitionStatus()},Er.version="19.1.0",Er}var JR;function C4(){if(JR)return Nb.exports;JR=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Nb.exports=kP(),Nb.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ZR;function jP(){if(ZR)return dv;ZR=1;var s=VP(),e=Vg(),t=C4();function n(o){var c="https://react.dev/errors/"+o;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)c+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+o+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function r(o){var c=o,p=o;if(o.alternate)for(;c.return;)c=c.return;else{o=c;do c=o,(c.flags&4098)!==0&&(p=c.return),o=c.return;while(o)}return c.tag===3?p:null}function a(o){if(o.tag===13){var c=o.memoizedState;if(c===null&&(o=o.alternate,o!==null&&(c=o.memoizedState)),c!==null)return c.dehydrated}return null}function l(o){if(r(o)!==o)throw Error(n(188))}function u(o){var c=o.alternate;if(!c){if(c=r(o),c===null)throw Error(n(188));return c!==o?null:o}for(var p=o,y=c;;){var E=p.return;if(E===null)break;var w=E.alternate;if(w===null){if(y=E.return,y!==null){p=y;continue}break}if(E.child===w.child){for(w=E.child;w;){if(w===p)return l(E),o;if(w===y)return l(E),c;w=w.sibling}throw Error(n(188))}if(p.return!==y.return)p=E,y=w;else{for(var G=!1,K=E.child;K;){if(K===p){G=!0,p=E,y=w;break}if(K===y){G=!0,y=E,p=w;break}K=K.sibling}if(!G){for(K=w.child;K;){if(K===p){G=!0,p=w,y=E;break}if(K===y){G=!0,y=w,p=E;break}K=K.sibling}if(!G)throw Error(n(189))}}if(p.alternate!==y)throw Error(n(190))}if(p.tag!==3)throw Error(n(188));return p.stateNode.current===p?o:c}function h(o){var c=o.tag;if(c===5||c===26||c===27||c===6)return o;for(o=o.child;o!==null;){if(c=h(o),c!==null)return c;o=o.sibling}return null}var m=Object.assign,g=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),_=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),b=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),A=Symbol.for("react.provider"),C=Symbol.for("react.consumer"),B=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),U=Symbol.for("react.suspense_list"),F=Symbol.for("react.memo"),z=Symbol.for("react.lazy"),O=Symbol.for("react.activity"),P=Symbol.for("react.memo_cache_sentinel"),q=Symbol.iterator;function ne(o){return o===null||typeof o!="object"?null:(o=q&&o[q]||o["@@iterator"],typeof o=="function"?o:null)}var te=Symbol.for("react.client.reference");function ee(o){if(o==null)return null;if(typeof o=="function")return o.$$typeof===te?null:o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case S:return"Fragment";case M:return"Profiler";case b:return"StrictMode";case N:return"Suspense";case U:return"SuspenseList";case O:return"Activity"}if(typeof o=="object")switch(o.$$typeof){case _:return"Portal";case B:return(o.displayName||"Context")+".Provider";case C:return(o._context.displayName||"Context")+".Consumer";case D:var c=o.render;return o=o.displayName,o||(o=c.displayName||c.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case F:return c=o.displayName||null,c!==null?c:ee(o.type)||"Memo";case z:c=o._payload,o=o._init;try{return ee(o(c))}catch{}}return null}var oe=Array.isArray,H=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z={pending:!1,data:null,method:null,action:null},de=[],I=-1;function ie(o){return{current:o}}function ue(o){0>I||(o.current=de[I],de[I]=null,I--)}function _e(o,c){I++,de[I]=o.current,o.current=c}var se=ie(null),xe=ie(null),Ae=ie(null),Ee=ie(null);function Ne(o,c){switch(_e(Ae,c),_e(xe,o),_e(se,null),c.nodeType){case 9:case 11:o=(o=c.documentElement)&&(o=o.namespaceURI)?vR(o):0;break;default:if(o=c.tagName,c=c.namespaceURI)c=vR(c),o=yR(c,o);else switch(o){case"svg":o=1;break;case"math":o=2;break;default:o=0}}ue(se),_e(se,o)}function ht(){ue(se),ue(xe),ue(Ae)}function Je(o){o.memoizedState!==null&&_e(Ee,o);var c=se.current,p=yR(c,o.type);c!==p&&(_e(xe,o),_e(se,p))}function st(o){xe.current===o&&(ue(se),ue(xe)),Ee.current===o&&(ue(Ee),ov._currentValue=Z)}var _t=Object.prototype.hasOwnProperty,dt=s.unstable_scheduleCallback,ce=s.unstable_cancelCallback,Ht=s.unstable_shouldYield,Ye=s.unstable_requestPaint,le=s.unstable_now,He=s.unstable_getCurrentPriorityLevel,rt=s.unstable_ImmediatePriority,Ge=s.unstable_UserBlockingPriority,Q=s.unstable_NormalPriority,X=s.unstable_LowPriority,be=s.unstable_IdlePriority,Pe=s.log,Le=s.unstable_setDisableYieldValue,Ve=null,lt=null;function ot(o){if(typeof Pe=="function"&&Le(o),lt&&typeof lt.setStrictMode=="function")try{lt.setStrictMode(Ve,o)}catch{}}var ut=Math.clz32?Math.clz32:ft,Vt=Math.log,ct=Math.LN2;function ft(o){return o>>>=0,o===0?32:31-(Vt(o)/ct|0)|0}var Tt=256,gt=4194304;function vt(o){var c=o&42;if(c!==0)return c;switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return o&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return o}}function Wt(o,c,p){var y=o.pendingLanes;if(y===0)return 0;var E=0,w=o.suspendedLanes,G=o.pingedLanes;o=o.warmLanes;var K=y&134217727;return K!==0?(y=K&~w,y!==0?E=vt(y):(G&=K,G!==0?E=vt(G):p||(p=K&~o,p!==0&&(E=vt(p))))):(K=y&~w,K!==0?E=vt(K):G!==0?E=vt(G):p||(p=y&~o,p!==0&&(E=vt(p)))),E===0?0:c!==0&&c!==E&&(c&w)===0&&(w=E&-E,p=c&-c,w>=p||w===32&&(p&4194048)!==0)?c:E}function wt(o,c){return(o.pendingLanes&~(o.suspendedLanes&~o.pingedLanes)&c)===0}function Yt(o,c){switch(o){case 1:case 2:case 4:case 8:case 64:return c+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function he(){var o=Tt;return Tt<<=1,(Tt&4194048)===0&&(Tt=256),o}function Fe(){var o=gt;return gt<<=1,(gt&62914560)===0&&(gt=4194304),o}function Ie(o){for(var c=[],p=0;31>p;p++)c.push(o);return c}function We(o,c){o.pendingLanes|=c,c!==268435456&&(o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0)}function xt(o,c,p,y,E,w){var G=o.pendingLanes;o.pendingLanes=p,o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0,o.expiredLanes&=p,o.entangledLanes&=p,o.errorRecoveryDisabledLanes&=p,o.shellSuspendCounter=0;var K=o.entanglements,me=o.expirationTimes,Oe=o.hiddenUpdates;for(p=G&~p;0<p;){var $e=31-ut(p),it=1<<$e;K[$e]=0,me[$e]=-1;var ze=Oe[$e];if(ze!==null)for(Oe[$e]=null,$e=0;$e<ze.length;$e++){var je=ze[$e];je!==null&&(je.lane&=-536870913)}p&=~it}y!==0&&Mt(o,y,0),w!==0&&E===0&&o.tag!==0&&(o.suspendedLanes|=w&~(G&~c))}function Mt(o,c,p){o.pendingLanes|=c,o.suspendedLanes&=~c;var y=31-ut(c);o.entangledLanes|=c,o.entanglements[y]=o.entanglements[y]|1073741824|p&4194090}function Qt(o,c){var p=o.entangledLanes|=c;for(o=o.entanglements;p;){var y=31-ut(p),E=1<<y;E&c|o[y]&c&&(o[y]|=c),p&=~E}}function Sn(o){switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=128;break;case 268435456:o=134217728;break;default:o=0}return o}function Jn(o){return o&=-o,2<o?8<o?(o&134217727)!==0?32:268435456:8:2}function Et(){var o=Y.p;return o!==0?o:(o=window.event,o===void 0?32:IR(o.type))}function Lt(o,c){var p=Y.p;try{return Y.p=o,c()}finally{Y.p=p}}var $t=Math.random().toString(36).slice(2),pt="__reactFiber$"+$t,Ut="__reactProps$"+$t,Rt="__reactContainer$"+$t,kt="__reactEvents$"+$t,ii="__reactListeners$"+$t,en="__reactHandles$"+$t,Nt="__reactResources$"+$t,ei="__reactMarker$"+$t;function tn(o){delete o[pt],delete o[Ut],delete o[kt],delete o[ii],delete o[en]}function V(o){var c=o[pt];if(c)return c;for(var p=o.parentNode;p;){if(c=p[Rt]||p[pt]){if(p=c.alternate,c.child!==null||p!==null&&p.child!==null)for(o=AR(o);o!==null;){if(p=o[pt])return p;o=AR(o)}return c}o=p,p=o.parentNode}return null}function W(o){if(o=o[pt]||o[Rt]){var c=o.tag;if(c===5||c===6||c===13||c===26||c===27||c===3)return o}return null}function ge(o){var c=o.tag;if(c===5||c===26||c===27||c===6)return o.stateNode;throw Error(n(33))}function Te(o){var c=o[Nt];return c||(c=o[Nt]={hoistableStyles:new Map,hoistableScripts:new Map}),c}function Be(o){o[ei]=!0}var ke=new Set,nt={};function Ke(o,c){j(o,c),j(o+"Capture",c)}function j(o,c){for(nt[o]=c,o=0;o<c.length;o++)ke.add(c[o])}var re=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),pe={},fe={};function ye(o){return _t.call(fe,o)?!0:_t.call(pe,o)?!1:re.test(o)?fe[o]=!0:(pe[o]=!0,!1)}function Re(o,c,p){if(ye(c))if(p===null)o.removeAttribute(c);else{switch(typeof p){case"undefined":case"function":case"symbol":o.removeAttribute(c);return;case"boolean":var y=c.toLowerCase().slice(0,5);if(y!=="data-"&&y!=="aria-"){o.removeAttribute(c);return}}o.setAttribute(c,""+p)}}function qe(o,c,p){if(p===null)o.removeAttribute(c);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(c);return}o.setAttribute(c,""+p)}}function Ze(o,c,p,y){if(y===null)o.removeAttribute(p);else{switch(typeof y){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(p);return}o.setAttributeNS(c,p,""+y)}}var tt,St;function At(o){if(tt===void 0)try{throw Error()}catch(p){var c=p.stack.trim().match(/\n( *(at )?)/);tt=c&&c[1]||"",St=-1<p.stack.indexOf(`
    at`)?" (<anonymous>)":-1<p.stack.indexOf("@")?"@unknown:0:0":""}return`
`+tt+o+St}var bt=!1;function jt(o,c){if(!o||bt)return"";bt=!0;var p=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var y={DetermineComponentFrameRoot:function(){try{if(c){var it=function(){throw Error()};if(Object.defineProperty(it.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(it,[])}catch(je){var ze=je}Reflect.construct(o,[],it)}else{try{it.call()}catch(je){ze=je}o.call(it.prototype)}}else{try{throw Error()}catch(je){ze=je}(it=o())&&typeof it.catch=="function"&&it.catch(function(){})}}catch(je){if(je&&ze&&typeof je.stack=="string")return[je.stack,ze.stack]}return[null,null]}};y.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var E=Object.getOwnPropertyDescriptor(y.DetermineComponentFrameRoot,"name");E&&E.configurable&&Object.defineProperty(y.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var w=y.DetermineComponentFrameRoot(),G=w[0],K=w[1];if(G&&K){var me=G.split(`
`),Oe=K.split(`
`);for(E=y=0;y<me.length&&!me[y].includes("DetermineComponentFrameRoot");)y++;for(;E<Oe.length&&!Oe[E].includes("DetermineComponentFrameRoot");)E++;if(y===me.length||E===Oe.length)for(y=me.length-1,E=Oe.length-1;1<=y&&0<=E&&me[y]!==Oe[E];)E--;for(;1<=y&&0<=E;y--,E--)if(me[y]!==Oe[E]){if(y!==1||E!==1)do if(y--,E--,0>E||me[y]!==Oe[E]){var $e=`
`+me[y].replace(" at new "," at ");return o.displayName&&$e.includes("<anonymous>")&&($e=$e.replace("<anonymous>",o.displayName)),$e}while(1<=y&&0<=E);break}}}finally{bt=!1,Error.prepareStackTrace=p}return(p=o?o.displayName||o.name:"")?At(p):""}function Xt(o){switch(o.tag){case 26:case 27:case 5:return At(o.type);case 16:return At("Lazy");case 13:return At("Suspense");case 19:return At("SuspenseList");case 0:case 15:return jt(o.type,!1);case 11:return jt(o.type.render,!1);case 1:return jt(o.type,!0);case 31:return At("Activity");default:return""}}function Hn(o){try{var c="";do c+=Xt(o),o=o.return;while(o);return c}catch(p){return`
Error generating stack: `+p.message+`
`+p.stack}}function Pt(o){switch(typeof o){case"bigint":case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function Jt(o){var c=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function It(o){var c=Jt(o)?"checked":"value",p=Object.getOwnPropertyDescriptor(o.constructor.prototype,c),y=""+o[c];if(!o.hasOwnProperty(c)&&typeof p<"u"&&typeof p.get=="function"&&typeof p.set=="function"){var E=p.get,w=p.set;return Object.defineProperty(o,c,{configurable:!0,get:function(){return E.call(this)},set:function(G){y=""+G,w.call(this,G)}}),Object.defineProperty(o,c,{enumerable:p.enumerable}),{getValue:function(){return y},setValue:function(G){y=""+G},stopTracking:function(){o._valueTracker=null,delete o[c]}}}}function ci(o){o._valueTracker||(o._valueTracker=It(o))}function fn(o){if(!o)return!1;var c=o._valueTracker;if(!c)return!0;var p=c.getValue(),y="";return o&&(y=Jt(o)?o.checked?"true":"false":o.value),o=y,o!==p?(c.setValue(o),!0):!1}function mn(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}var mi=/[\n"\\]/g;function rn(o){return o.replace(mi,function(c){return"\\"+c.charCodeAt(0).toString(16)+" "})}function Tn(o,c,p,y,E,w,G,K){o.name="",G!=null&&typeof G!="function"&&typeof G!="symbol"&&typeof G!="boolean"?o.type=G:o.removeAttribute("type"),c!=null?G==="number"?(c===0&&o.value===""||o.value!=c)&&(o.value=""+Pt(c)):o.value!==""+Pt(c)&&(o.value=""+Pt(c)):G!=="submit"&&G!=="reset"||o.removeAttribute("value"),c!=null?Ci(o,G,Pt(c)):p!=null?Ci(o,G,Pt(p)):y!=null&&o.removeAttribute("value"),E==null&&w!=null&&(o.defaultChecked=!!w),E!=null&&(o.checked=E&&typeof E!="function"&&typeof E!="symbol"),K!=null&&typeof K!="function"&&typeof K!="symbol"&&typeof K!="boolean"?o.name=""+Pt(K):o.removeAttribute("name")}function An(o,c,p,y,E,w,G,K){if(w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(o.type=w),c!=null||p!=null){if(!(w!=="submit"&&w!=="reset"||c!=null))return;p=p!=null?""+Pt(p):"",c=c!=null?""+Pt(c):p,K||c===o.value||(o.value=c),o.defaultValue=c}y=y??E,y=typeof y!="function"&&typeof y!="symbol"&&!!y,o.checked=K?o.checked:!!y,o.defaultChecked=!!y,G!=null&&typeof G!="function"&&typeof G!="symbol"&&typeof G!="boolean"&&(o.name=G)}function Ci(o,c,p){c==="number"&&mn(o.ownerDocument)===o||o.defaultValue===""+p||(o.defaultValue=""+p)}function kn(o,c,p,y){if(o=o.options,c){c={};for(var E=0;E<p.length;E++)c["$"+p[E]]=!0;for(p=0;p<o.length;p++)E=c.hasOwnProperty("$"+o[p].value),o[p].selected!==E&&(o[p].selected=E),E&&y&&(o[p].defaultSelected=!0)}else{for(p=""+Pt(p),c=null,E=0;E<o.length;E++){if(o[E].value===p){o[E].selected=!0,y&&(o[E].defaultSelected=!0);return}c!==null||o[E].disabled||(c=o[E])}c!==null&&(c.selected=!0)}}function gi(o,c,p){if(c!=null&&(c=""+Pt(c),c!==o.value&&(o.value=c),p==null)){o.defaultValue!==c&&(o.defaultValue=c);return}o.defaultValue=p!=null?""+Pt(p):""}function gs(o,c,p,y){if(c==null){if(y!=null){if(p!=null)throw Error(n(92));if(oe(y)){if(1<y.length)throw Error(n(93));y=y[0]}p=y}p==null&&(p=""),c=p}p=Pt(c),o.defaultValue=p,y=o.textContent,y===p&&y!==""&&y!==null&&(o.value=y)}function Qs(o,c){if(c){var p=o.firstChild;if(p&&p===o.lastChild&&p.nodeType===3){p.nodeValue=c;return}}o.textContent=c}var go=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function dh(o,c,p){var y=c.indexOf("--")===0;p==null||typeof p=="boolean"||p===""?y?o.setProperty(c,""):c==="float"?o.cssFloat="":o[c]="":y?o.setProperty(c,p):typeof p!="number"||p===0||go.has(c)?c==="float"?o.cssFloat=p:o[c]=(""+p).trim():o[c]=p+"px"}function ph(o,c,p){if(c!=null&&typeof c!="object")throw Error(n(62));if(o=o.style,p!=null){for(var y in p)!p.hasOwnProperty(y)||c!=null&&c.hasOwnProperty(y)||(y.indexOf("--")===0?o.setProperty(y,""):y==="float"?o.cssFloat="":o[y]="");for(var E in c)y=c[E],c.hasOwnProperty(E)&&p[E]!==y&&dh(o,E,y)}else for(var w in c)c.hasOwnProperty(w)&&dh(o,w,c[w])}function bp(o){if(o.indexOf("-")===-1)return!1;switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $g=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),T_=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function mh(o){return T_.test(""+o)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":o}var Ep=null;function Tp(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var Ol=null,Oc=null;function e0(o){var c=W(o);if(c&&(o=c.stateNode)){var p=o[Ut]||null;e:switch(o=c.stateNode,c.type){case"input":if(Tn(o,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name),c=p.name,p.type==="radio"&&c!=null){for(p=o;p.parentNode;)p=p.parentNode;for(p=p.querySelectorAll('input[name="'+rn(""+c)+'"][type="radio"]'),c=0;c<p.length;c++){var y=p[c];if(y!==o&&y.form===o.form){var E=y[Ut]||null;if(!E)throw Error(n(90));Tn(y,E.value,E.defaultValue,E.defaultValue,E.checked,E.defaultChecked,E.type,E.name)}}for(c=0;c<p.length;c++)y=p[c],y.form===o.form&&fn(y)}break e;case"textarea":gi(o,p.value,p.defaultValue);break e;case"select":c=p.value,c!=null&&kn(o,!!p.multiple,c,!1)}}}var gh=!1;function t0(o,c,p){if(gh)return o(c,p);gh=!0;try{var y=o(c);return y}finally{if(gh=!1,(Ol!==null||Oc!==null)&&(No(),Ol&&(c=Ol,o=Oc,Oc=Ol=null,e0(c),o)))for(c=0;c<o.length;c++)e0(o[c])}}function Ru(o,c){var p=o.stateNode;if(p===null)return null;var y=p[Ut]||null;if(y===null)return null;p=y[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(y=!y.disabled)||(o=o.type,y=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!y;break e;default:o=!1}if(o)return null;if(p&&typeof p!="function")throw Error(n(231,c,typeof p));return p}var vo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),vh=!1;if(vo)try{var Bu={};Object.defineProperty(Bu,"passive",{get:function(){vh=!0}}),window.addEventListener("test",Bu,Bu),window.removeEventListener("test",Bu,Bu)}catch{vh=!1}var Ko=null,n0=null,Cp=null;function i0(){if(Cp)return Cp;var o,c=n0,p=c.length,y,E="value"in Ko?Ko.value:Ko.textContent,w=E.length;for(o=0;o<p&&c[o]===E[o];o++);var G=p-o;for(y=1;y<=G&&c[p-y]===E[w-y];y++);return Cp=E.slice(o,1<y?1-y:void 0)}function Ll(o){var c=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&c===13&&(o=13)):o=c,o===10&&(o=13),32<=o||o===13?o:0}function Du(){return!0}function yh(){return!1}function $s(o){function c(p,y,E,w,G){this._reactName=p,this._targetInst=E,this.type=y,this.nativeEvent=w,this.target=G,this.currentTarget=null;for(var K in o)o.hasOwnProperty(K)&&(p=o[K],this[K]=p?p(w):w[K]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?Du:yh,this.isPropagationStopped=yh,this}return m(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var p=this.nativeEvent;p&&(p.preventDefault?p.preventDefault():typeof p.returnValue!="unknown"&&(p.returnValue=!1),this.isDefaultPrevented=Du)},stopPropagation:function(){var p=this.nativeEvent;p&&(p.stopPropagation?p.stopPropagation():typeof p.cancelBubble!="unknown"&&(p.cancelBubble=!0),this.isPropagationStopped=Du)},persist:function(){},isPersistent:Du}),c}var Ul={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Nu=$s(Ul),Ou=m({},Ul,{view:0,detail:0}),C_=$s(Ou),Jo,Lu,Uu,Pu=m({},Ou,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xh,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==Uu&&(Uu&&o.type==="mousemove"?(Jo=o.screenX-Uu.screenX,Lu=o.screenY-Uu.screenY):Lu=Jo=0,Uu=o),Jo)},movementY:function(o){return"movementY"in o?o.movementY:Lu}}),s0=$s(Pu),w_=m({},Pu,{dataTransfer:0}),XM=$s(w_),Cs=m({},Ou,{relatedTarget:0}),wp=$s(Cs),R_=m({},Ul,{animationName:0,elapsedTime:0,pseudoElement:0}),B_=$s(R_),D_=m({},Ul,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),N_=$s(D_),_h=m({},Ul,{data:0}),Rp=$s(_h),O_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},L_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},U_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function r0(o){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(o):(o=U_[o])?!!c[o]:!1}function xh(){return r0}var P_=m({},Ou,{key:function(o){if(o.key){var c=O_[o.key]||o.key;if(c!=="Unidentified")return c}return o.type==="keypress"?(o=Ll(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?L_[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xh,charCode:function(o){return o.type==="keypress"?Ll(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?Ll(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),a0=$s(P_),o0=m({},Pu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Bp=$s(o0),I_=m({},Ou,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xh}),l0=$s(I_),F_=m({},Ul,{propertyName:0,elapsedTime:0,pseudoElement:0}),Zo=$s(F_),c0=m({},Pu,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),YM=$s(c0),z_=m({},Ul,{newState:0,oldState:0}),Pl=$s(z_),Qo=[9,13,27,32],Sh=vo&&"CompositionEvent"in window,Lc=null;vo&&"documentMode"in document&&(Lc=document.documentMode);var Ah=vo&&"TextEvent"in window&&!Lc,Mh=vo&&(!Sh||Lc&&8<Lc&&11>=Lc),Il=" ",ws=!1;function bh(o,c){switch(o){case"keyup":return Qo.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function u0(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var Fl=!1;function Eh(o,c){switch(o){case"compositionend":return u0(c);case"keypress":return c.which!==32?null:(ws=!0,Il);case"textInput":return o=c.data,o===Il&&ws?null:o;default:return null}}function f0(o,c){if(Fl)return o==="compositionend"||!Sh&&bh(o,c)?(o=i0(),Cp=n0=Ko=null,Fl=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return Mh&&c.locale!=="ko"?null:c.data;default:return null}}var Dp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function h0(o){var c=o&&o.nodeName&&o.nodeName.toLowerCase();return c==="input"?!!Dp[o.type]:c==="textarea"}function vr(o,c,p,y){Ol?Oc?Oc.push(y):Oc=[y]:Ol=y,c=F1(c,"onChange"),0<c.length&&(p=new Nu("onChange","change",null,p,y),o.push({event:p,listeners:c}))}var Iu=null,Uc=null;function H_(o){hR(o,0)}function Th(o){var c=ge(o);if(fn(c))return o}function Np(o,c){if(o==="change")return c}var Op=!1;if(vo){var Lp;if(vo){var Fu="oninput"in document;if(!Fu){var zu=document.createElement("div");zu.setAttribute("oninput","return;"),Fu=typeof zu.oninput=="function"}Lp=Fu}else Lp=!1;Op=Lp&&(!document.documentMode||9<document.documentMode)}function Di(){Iu&&(Iu.detachEvent("onpropertychange",G_),Uc=Iu=null)}function G_(o){if(o.propertyName==="value"&&Th(Uc)){var c=[];vr(c,Uc,o,Tp(o)),t0(H_,c)}}function qM(o,c,p){o==="focusin"?(Di(),Iu=c,Uc=p,Iu.attachEvent("onpropertychange",G_)):o==="focusout"&&Di()}function V_(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return Th(Uc)}function Ch(o,c){if(o==="click")return Th(c)}function zl(o,c){if(o==="input"||o==="change")return Th(c)}function k_(o,c){return o===c&&(o!==0||1/o===1/c)||o!==o&&c!==c}var yr=typeof Object.is=="function"?Object.is:k_;function Ha(o,c){if(yr(o,c))return!0;if(typeof o!="object"||o===null||typeof c!="object"||c===null)return!1;var p=Object.keys(o),y=Object.keys(c);if(p.length!==y.length)return!1;for(y=0;y<p.length;y++){var E=p[y];if(!_t.call(c,E)||!yr(o[E],c[E]))return!1}return!0}function _r(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function d0(o,c){var p=_r(o);o=0;for(var y;p;){if(p.nodeType===3){if(y=o+p.textContent.length,o<=c&&y>=c)return{node:p,offset:c-o};o=y}e:{for(;p;){if(p.nextSibling){p=p.nextSibling;break e}p=p.parentNode}p=void 0}p=_r(p)}}function p0(o,c){return o&&c?o===c?!0:o&&o.nodeType===3?!1:c&&c.nodeType===3?p0(o,c.parentNode):"contains"in o?o.contains(c):o.compareDocumentPosition?!!(o.compareDocumentPosition(c)&16):!1:!1}function m0(o){o=o!=null&&o.ownerDocument!=null&&o.ownerDocument.defaultView!=null?o.ownerDocument.defaultView:window;for(var c=mn(o.document);c instanceof o.HTMLIFrameElement;){try{var p=typeof c.contentWindow.location.href=="string"}catch{p=!1}if(p)o=c.contentWindow;else break;c=mn(o.document)}return c}function wh(o){var c=o&&o.nodeName&&o.nodeName.toLowerCase();return c&&(c==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||c==="textarea"||o.contentEditable==="true")}var g0=vo&&"documentMode"in document&&11>=document.documentMode,$o=null,Up=null,Rh=null,Pp=!1;function v0(o,c,p){var y=p.window===p?p.document:p.nodeType===9?p:p.ownerDocument;Pp||$o==null||$o!==mn(y)||(y=$o,"selectionStart"in y&&wh(y)?y={start:y.selectionStart,end:y.selectionEnd}:(y=(y.ownerDocument&&y.ownerDocument.defaultView||window).getSelection(),y={anchorNode:y.anchorNode,anchorOffset:y.anchorOffset,focusNode:y.focusNode,focusOffset:y.focusOffset}),Rh&&Ha(Rh,y)||(Rh=y,y=F1(Up,"onSelect"),0<y.length&&(c=new Nu("onSelect","select",null,c,p),o.push({event:c,listeners:y}),c.target=$o)))}function Rs(o,c){var p={};return p[o.toLowerCase()]=c.toLowerCase(),p["Webkit"+o]="webkit"+c,p["Moz"+o]="moz"+c,p}var Hl={animationend:Rs("Animation","AnimationEnd"),animationiteration:Rs("Animation","AnimationIteration"),animationstart:Rs("Animation","AnimationStart"),transitionrun:Rs("Transition","TransitionRun"),transitionstart:Rs("Transition","TransitionStart"),transitioncancel:Rs("Transition","TransitionCancel"),transitionend:Rs("Transition","TransitionEnd")},Ip={},j_={};vo&&(j_=document.createElement("div").style,"AnimationEvent"in window||(delete Hl.animationend.animation,delete Hl.animationiteration.animation,delete Hl.animationstart.animation),"TransitionEvent"in window||delete Hl.transitionend.transition);function el(o){if(Ip[o])return Ip[o];if(!Hl[o])return o;var c=Hl[o],p;for(p in c)if(c.hasOwnProperty(p)&&p in j_)return Ip[o]=c[p];return o}var er=el("animationend"),y0=el("animationiteration"),xr=el("animationstart"),X_=el("transitionrun"),tl=el("transitionstart"),Hu=el("transitioncancel"),nl=el("transitionend"),Fp=new Map,Bh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Bh.push("scrollEnd");function vs(o,c){Fp.set(o,c),Ke(c,[o])}var _0=new WeakMap;function Bs(o,c){if(typeof o=="object"&&o!==null){var p=_0.get(o);return p!==void 0?p:(c={value:o,source:c,stack:Hn(c)},_0.set(o,c),c)}return{value:o,source:c,stack:Hn(c)}}var Gs=[],ma=0,zp=0;function Dh(){for(var o=ma,c=zp=ma=0;c<o;){var p=Gs[c];Gs[c++]=null;var y=Gs[c];Gs[c++]=null;var E=Gs[c];Gs[c++]=null;var w=Gs[c];if(Gs[c++]=null,y!==null&&E!==null){var G=y.pending;G===null?E.next=E:(E.next=G.next,G.next=E),y.pending=E}w!==0&&x0(p,E,w)}}function Gl(o,c,p,y){Gs[ma++]=o,Gs[ma++]=c,Gs[ma++]=p,Gs[ma++]=y,zp|=y,o.lanes|=y,o=o.alternate,o!==null&&(o.lanes|=y)}function Hp(o,c,p,y){return Gl(o,c,p,y),Gu(o)}function il(o,c){return Gl(o,null,null,c),Gu(o)}function x0(o,c,p){o.lanes|=p;var y=o.alternate;y!==null&&(y.lanes|=p);for(var E=!1,w=o.return;w!==null;)w.childLanes|=p,y=w.alternate,y!==null&&(y.childLanes|=p),w.tag===22&&(o=w.stateNode,o===null||o._visibility&1||(E=!0)),o=w,w=w.return;return o.tag===3?(w=o.stateNode,E&&c!==null&&(E=31-ut(p),o=w.hiddenUpdates,y=o[E],y===null?o[E]=[c]:y.push(c),c.lane=p|536870912),w):null}function Gu(o){if(50<Do)throw Do=0,$c=null,Error(n(185));for(var c=o.return;c!==null;)o=c,c=o.return;return o.tag===3?o.stateNode:null}var Vl={};function S0(o,c,p,y){this.tag=o,this.key=p,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=y,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Sr(o,c,p,y){return new S0(o,c,p,y)}function Nh(o){return o=o.prototype,!(!o||!o.isReactComponent)}function ji(o,c){var p=o.alternate;return p===null?(p=Sr(o.tag,c,o.key,o.mode),p.elementType=o.elementType,p.type=o.type,p.stateNode=o.stateNode,p.alternate=o,o.alternate=p):(p.pendingProps=c,p.type=o.type,p.flags=0,p.subtreeFlags=0,p.deletions=null),p.flags=o.flags&65011712,p.childLanes=o.childLanes,p.lanes=o.lanes,p.child=o.child,p.memoizedProps=o.memoizedProps,p.memoizedState=o.memoizedState,p.updateQueue=o.updateQueue,c=o.dependencies,p.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},p.sibling=o.sibling,p.index=o.index,p.ref=o.ref,p.refCleanup=o.refCleanup,p}function A0(o,c){o.flags&=65011714;var p=o.alternate;return p===null?(o.childLanes=0,o.lanes=c,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=p.childLanes,o.lanes=p.lanes,o.child=p.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=p.memoizedProps,o.memoizedState=p.memoizedState,o.updateQueue=p.updateQueue,o.type=p.type,c=p.dependencies,o.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),o}function ys(o,c,p,y,E,w){var G=0;if(y=o,typeof o=="function")Nh(o)&&(G=1);else if(typeof o=="string")G=SP(o,p,se.current)?26:o==="html"||o==="head"||o==="body"?27:5;else e:switch(o){case O:return o=Sr(31,p,c,E),o.elementType=O,o.lanes=w,o;case S:return kl(p.children,E,w,c);case b:G=8,E|=24;break;case M:return o=Sr(12,p,c,E|2),o.elementType=M,o.lanes=w,o;case N:return o=Sr(13,p,c,E),o.elementType=N,o.lanes=w,o;case U:return o=Sr(19,p,c,E),o.elementType=U,o.lanes=w,o;default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case A:case B:G=10;break e;case C:G=9;break e;case D:G=11;break e;case F:G=14;break e;case z:G=16,y=null;break e}G=29,p=Error(n(130,o===null?"null":typeof o,"")),y=null}return c=Sr(G,p,c,E),c.elementType=o,c.type=y,c.lanes=w,c}function kl(o,c,p,y){return o=Sr(7,o,y,c),o.lanes=p,o}function Oh(o,c,p){return o=Sr(6,o,null,c),o.lanes=p,o}function Gp(o,c,p){return c=Sr(4,o.children!==null?o.children:[],o.key,c),c.lanes=p,c.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},c}var Vu=[],Ar=0,Lh=null,ku=0,Ds=[],Hr=0,jl=null,yo=1,_o="";function sl(o,c){Vu[Ar++]=ku,Vu[Ar++]=Lh,Lh=o,ku=c}function Vp(o,c,p){Ds[Hr++]=yo,Ds[Hr++]=_o,Ds[Hr++]=jl,jl=o;var y=yo;o=_o;var E=32-ut(y)-1;y&=~(1<<E),p+=1;var w=32-ut(c)+E;if(30<w){var G=E-E%5;w=(y&(1<<G)-1).toString(32),y>>=G,E-=G,yo=1<<32-ut(c)+E|p<<E|y,_o=w+o}else yo=1<<w|p<<E|y,_o=o}function M0(o){o.return!==null&&(sl(o,1),Vp(o,1,0))}function b0(o){for(;o===Lh;)Lh=Vu[--Ar],Vu[Ar]=null,ku=Vu[--Ar],Vu[Ar]=null;for(;o===jl;)jl=Ds[--Hr],Ds[Hr]=null,_o=Ds[--Hr],Ds[Hr]=null,yo=Ds[--Hr],Ds[Hr]=null}var tr=null,Oi=null,Zn=!1,ga=null,Gr=!1,kp=Error(n(519));function Xl(o){var c=Error(n(418,""));throw Pc(Bs(c,o)),kp}function Y_(o){var c=o.stateNode,p=o.type,y=o.memoizedProps;switch(c[pt]=o,c[Ut]=y,p){case"dialog":Gn("cancel",c),Gn("close",c);break;case"iframe":case"object":case"embed":Gn("load",c);break;case"video":case"audio":for(p=0;p<tv.length;p++)Gn(tv[p],c);break;case"source":Gn("error",c);break;case"img":case"image":case"link":Gn("error",c),Gn("load",c);break;case"details":Gn("toggle",c);break;case"input":Gn("invalid",c),An(c,y.value,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name,!0),ci(c);break;case"select":Gn("invalid",c);break;case"textarea":Gn("invalid",c),gs(c,y.value,y.defaultValue,y.children),ci(c)}p=y.children,typeof p!="string"&&typeof p!="number"&&typeof p!="bigint"||c.textContent===""+p||y.suppressHydrationWarning===!0||gR(c.textContent,p)?(y.popover!=null&&(Gn("beforetoggle",c),Gn("toggle",c)),y.onScroll!=null&&Gn("scroll",c),y.onScrollEnd!=null&&Gn("scrollend",c),y.onClick!=null&&(c.onclick=z1),c=!0):c=!1,c||Xl(o)}function E0(o){for(tr=o.return;tr;)switch(tr.tag){case 5:case 13:Gr=!1;return;case 27:case 3:Gr=!0;return;default:tr=tr.return}}function Ga(o){if(o!==tr)return!1;if(!Zn)return E0(o),Zn=!0,!1;var c=o.tag,p;if((p=c!==3&&c!==27)&&((p=c===5)&&(p=o.type,p=!(p!=="form"&&p!=="button")||db(o.type,o.memoizedProps)),p=!p),p&&Oi&&Xl(o),E0(o),c===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(n(317));e:{for(o=o.nextSibling,c=0;o;){if(o.nodeType===8)if(p=o.data,p==="/$"){if(c===0){Oi=yl(o.nextSibling);break e}c--}else p!=="$"&&p!=="$!"&&p!=="$?"||c++;o=o.nextSibling}Oi=null}}else c===27?(c=Oi,mf(o.type)?(o=vb,vb=null,Oi=o):Oi=c):Oi=tr?yl(o.stateNode.nextSibling):null;return!0}function ju(){Oi=tr=null,Zn=!1}function si(){var o=ga;return o!==null&&(on===null?on=o:on.push.apply(on,o),ga=null),o}function Pc(o){ga===null?ga=[o]:ga.push(o)}var T0=ie(null),Yl=null,rl=null;function ql(o,c,p){_e(T0,c._currentValue),c._currentValue=p}function al(o){o._currentValue=T0.current,ue(T0)}function C0(o,c,p){for(;o!==null;){var y=o.alternate;if((o.childLanes&c)!==c?(o.childLanes|=c,y!==null&&(y.childLanes|=c)):y!==null&&(y.childLanes&c)!==c&&(y.childLanes|=c),o===p)break;o=o.return}}function Uh(o,c,p,y){var E=o.child;for(E!==null&&(E.return=o);E!==null;){var w=E.dependencies;if(w!==null){var G=E.child;w=w.firstContext;e:for(;w!==null;){var K=w;w=E;for(var me=0;me<c.length;me++)if(K.context===c[me]){w.lanes|=p,K=w.alternate,K!==null&&(K.lanes|=p),C0(w.return,p,o),y||(G=null);break e}w=K.next}}else if(E.tag===18){if(G=E.return,G===null)throw Error(n(341));G.lanes|=p,w=G.alternate,w!==null&&(w.lanes|=p),C0(G,p,o),G=null}else G=E.child;if(G!==null)G.return=E;else for(G=E;G!==null;){if(G===o){G=null;break}if(E=G.sibling,E!==null){E.return=G.return,G=E;break}G=G.return}E=G}}function va(o,c,p,y){o=null;for(var E=c,w=!1;E!==null;){if(!w){if((E.flags&524288)!==0)w=!0;else if((E.flags&262144)!==0)break}if(E.tag===10){var G=E.alternate;if(G===null)throw Error(n(387));if(G=G.memoizedProps,G!==null){var K=E.type;yr(E.pendingProps.value,G.value)||(o!==null?o.push(K):o=[K])}}else if(E===Ee.current){if(G=E.alternate,G===null)throw Error(n(387));G.memoizedState.memoizedState!==E.memoizedState.memoizedState&&(o!==null?o.push(ov):o=[ov])}E=E.return}o!==null&&Uh(c,o,p,y),c.flags|=262144}function Ph(o){for(o=o.firstContext;o!==null;){if(!yr(o.context._currentValue,o.memoizedValue))return!0;o=o.next}return!1}function xo(o){Yl=o,rl=null,o=o.dependencies,o!==null&&(o.firstContext=null)}function Ii(o){return jp(Yl,o)}function Ih(o,c){return Yl===null&&xo(o),jp(o,c)}function jp(o,c){var p=c._currentValue;if(c={context:c,memoizedValue:p,next:null},rl===null){if(o===null)throw Error(n(308));rl=c,o.dependencies={lanes:0,firstContext:c},o.flags|=524288}else rl=rl.next=c;return p}var w0=typeof AbortController<"u"?AbortController:function(){var o=[],c=this.signal={aborted:!1,addEventListener:function(p,y){o.push(y)}};this.abort=function(){c.aborted=!0,o.forEach(function(p){return p()})}},WM=s.unstable_scheduleCallback,q_=s.unstable_NormalPriority,es={$$typeof:B,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Xp(){return{controller:new w0,data:new Map,refCount:0}}function Xu(o){o.refCount--,o.refCount===0&&WM(q_,function(){o.controller.abort()})}var Yu=null,Fh=0,yn=0,qu=null;function Vr(o,c){if(Yu===null){var p=Yu=[];Fh=0,yn=sb(),qu={status:"pending",value:void 0,then:function(y){p.push(y)}}}return Fh++,c.then(Yp,Yp),c}function Yp(){if(--Fh===0&&Yu!==null){qu!==null&&(qu.status="fulfilled");var o=Yu;Yu=null,yn=0,qu=null;for(var c=0;c<o.length;c++)(0,o[c])()}}function KM(o,c){var p=[],y={status:"pending",value:null,reason:null,then:function(E){p.push(E)}};return o.then(function(){y.status="fulfilled",y.value=c;for(var E=0;E<p.length;E++)(0,p[E])(c)},function(E){for(y.status="rejected",y.reason=E,E=0;E<p.length;E++)(0,p[E])(void 0)}),y}var zh=H.S;H.S=function(o,c){typeof c=="object"&&c!==null&&typeof c.then=="function"&&Vr(o,c),zh!==null&&zh(o,c)};var ya=ie(null);function Wl(){var o=ya.current;return o!==null?o:gn.pooledCache}function Hh(o,c){c===null?_e(ya,ya.current):_e(ya,c.pool)}function qp(){var o=Wl();return o===null?null:{parent:es._currentValue,pool:o}}var Gh=Error(n(460)),R0=Error(n(474)),Va=Error(n(542)),Vh={then:function(){}};function Wp(o){return o=o.status,o==="fulfilled"||o==="rejected"}function Wu(){}function Kp(o,c,p){switch(p=o[p],p===void 0?o.push(c):p!==c&&(c.then(Wu,Wu),c=p),c.status){case"fulfilled":return c.value;case"rejected":throw o=c.reason,W_(o),o;default:if(typeof c.status=="string")c.then(Wu,Wu);else{if(o=gn,o!==null&&100<o.shellSuspendCounter)throw Error(n(482));o=c,o.status="pending",o.then(function(y){if(c.status==="pending"){var E=c;E.status="fulfilled",E.value=y}},function(y){if(c.status==="pending"){var E=c;E.status="rejected",E.reason=y}})}switch(c.status){case"fulfilled":return c.value;case"rejected":throw o=c.reason,W_(o),o}throw _a=c,Gh}}var _a=null;function B0(){if(_a===null)throw Error(n(459));var o=_a;return _a=null,o}function W_(o){if(o===Gh||o===Va)throw Error(n(483))}var ol=!1;function D0(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function hn(o,c){o=o.updateQueue,c.updateQueue===o&&(c.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,callbacks:null})}function So(o){return{lane:o,tag:0,payload:null,callback:null,next:null}}function ll(o,c,p){var y=o.updateQueue;if(y===null)return null;if(y=y.shared,(ri&2)!==0){var E=y.pending;return E===null?c.next=c:(c.next=E.next,E.next=c),y.pending=c,c=Gu(o),x0(o,null,p),c}return Gl(o,y,c,p),Gu(o)}function Ic(o,c,p){if(c=c.updateQueue,c!==null&&(c=c.shared,(p&4194048)!==0)){var y=c.lanes;y&=o.pendingLanes,p|=y,c.lanes=p,Qt(o,p)}}function Ku(o,c){var p=o.updateQueue,y=o.alternate;if(y!==null&&(y=y.updateQueue,p===y)){var E=null,w=null;if(p=p.firstBaseUpdate,p!==null){do{var G={lane:p.lane,tag:p.tag,payload:p.payload,callback:null,next:null};w===null?E=w=G:w=w.next=G,p=p.next}while(p!==null);w===null?E=w=c:w=w.next=c}else E=w=c;p={baseState:y.baseState,firstBaseUpdate:E,lastBaseUpdate:w,shared:y.shared,callbacks:y.callbacks},o.updateQueue=p;return}o=p.lastBaseUpdate,o===null?p.firstBaseUpdate=c:o.next=c,p.lastBaseUpdate=c}var N0=!1;function kh(){if(N0){var o=qu;if(o!==null)throw o}}function Ju(o,c,p,y){N0=!1;var E=o.updateQueue;ol=!1;var w=E.firstBaseUpdate,G=E.lastBaseUpdate,K=E.shared.pending;if(K!==null){E.shared.pending=null;var me=K,Oe=me.next;me.next=null,G===null?w=Oe:G.next=Oe,G=me;var $e=o.alternate;$e!==null&&($e=$e.updateQueue,K=$e.lastBaseUpdate,K!==G&&(K===null?$e.firstBaseUpdate=Oe:K.next=Oe,$e.lastBaseUpdate=me))}if(w!==null){var it=E.baseState;G=0,$e=Oe=me=null,K=w;do{var ze=K.lane&-536870913,je=ze!==K.lane;if(je?(nn&ze)===ze:(y&ze)===ze){ze!==0&&ze===yn&&(N0=!0),$e!==null&&($e=$e.next={lane:0,tag:K.tag,payload:K.payload,callback:null,next:null});e:{var pn=o,ln=K;ze=c;var Ti=p;switch(ln.tag){case 1:if(pn=ln.payload,typeof pn=="function"){it=pn.call(Ti,it,ze);break e}it=pn;break e;case 3:pn.flags=pn.flags&-65537|128;case 0:if(pn=ln.payload,ze=typeof pn=="function"?pn.call(Ti,it,ze):pn,ze==null)break e;it=m({},it,ze);break e;case 2:ol=!0}}ze=K.callback,ze!==null&&(o.flags|=64,je&&(o.flags|=8192),je=E.callbacks,je===null?E.callbacks=[ze]:je.push(ze))}else je={lane:ze,tag:K.tag,payload:K.payload,callback:K.callback,next:null},$e===null?(Oe=$e=je,me=it):$e=$e.next=je,G|=ze;if(K=K.next,K===null){if(K=E.shared.pending,K===null)break;je=K,K=je.next,je.next=null,E.lastBaseUpdate=je,E.shared.pending=null}}while(!0);$e===null&&(me=it),E.baseState=me,E.firstBaseUpdate=Oe,E.lastBaseUpdate=$e,w===null&&(E.shared.lanes=0),Ja|=G,o.lanes=G,o.memoizedState=it}}function Zu(o,c){if(typeof o!="function")throw Error(n(191,o));o.call(c)}function K_(o,c){var p=o.callbacks;if(p!==null)for(o.callbacks=null,o=0;o<p.length;o++)Zu(p[o],c)}var Qu=ie(null),Jp=ie(0);function J_(o,c){o=Ea,_e(Jp,o),_e(Qu,c),Ea=o|c.baseLanes}function O0(){_e(Jp,Ea),_e(Qu,Qu.current)}function jh(){Ea=Jp.current,ue(Qu),ue(Jp)}var cl=0,_n=null,ui=null,ts=null,Zp=!1,Kl=!1,nr=!1,as=0,xa=0,Ns=null,Z_=0;function Xi(){throw Error(n(321))}function Vs(o,c){if(c===null)return!1;for(var p=0;p<c.length&&p<o.length;p++)if(!yr(o[p],c[p]))return!1;return!0}function ul(o,c,p,y,E,w){return cl=w,_n=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,H.H=o===null||o.memoizedState===null?am:K0,nr=!1,w=p(y,E),nr=!1,Kl&&(w=$_(c,p,y,E)),Q_(o),w}function Q_(o){H.H=qh;var c=ui!==null&&ui.next!==null;if(cl=0,ts=ui=_n=null,Zp=!1,xa=0,Ns=null,c)throw Error(n(300));o===null||_s||(o=o.dependencies,o!==null&&Ph(o)&&(_s=!0))}function $_(o,c,p,y){_n=o;var E=0;do{if(Kl&&(Ns=null),xa=0,Kl=!1,25<=E)throw Error(n(301));if(E+=1,ts=ui=null,o.updateQueue!=null){var w=o.updateQueue;w.lastEffect=null,w.events=null,w.stores=null,w.memoCache!=null&&(w.memoCache.index=0)}H.H=E1,w=c(p,y)}while(Kl);return w}function JM(){var o=H.H,c=o.useState()[0];return c=typeof c.then=="function"?ka(c):c,o=o.useState()[0],(ui!==null?ui.memoizedState:null)!==o&&(_n.flags|=1024),c}function L0(){var o=as!==0;return as=0,o}function Qp(o,c,p){c.updateQueue=o.updateQueue,c.flags&=-2053,o.lanes&=~p}function U0(o){if(Zp){for(o=o.memoizedState;o!==null;){var c=o.queue;c!==null&&(c.pending=null),o=o.next}Zp=!1}cl=0,ts=ui=_n=null,Kl=!1,xa=as=0,Ns=null}function ir(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ts===null?_n.memoizedState=ts=o:ts=ts.next=o,ts}function ns(){if(ui===null){var o=_n.alternate;o=o!==null?o.memoizedState:null}else o=ui.next;var c=ts===null?_n.memoizedState:ts.next;if(c!==null)ts=c,ui=o;else{if(o===null)throw _n.alternate===null?Error(n(467)):Error(n(310));ui=o,o={memoizedState:ui.memoizedState,baseState:ui.baseState,baseQueue:ui.baseQueue,queue:ui.queue,next:null},ts===null?_n.memoizedState=ts=o:ts=ts.next=o}return ts}function Jl(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ka(o){var c=xa;return xa+=1,Ns===null&&(Ns=[]),o=Kp(Ns,o,c),c=_n,(ts===null?c.memoizedState:ts.next)===null&&(c=c.alternate,H.H=c===null||c.memoizedState===null?am:K0),o}function $p(o){if(o!==null&&typeof o=="object"){if(typeof o.then=="function")return ka(o);if(o.$$typeof===B)return Ii(o)}throw Error(n(438,String(o)))}function P0(o){var c=null,p=_n.updateQueue;if(p!==null&&(c=p.memoCache),c==null){var y=_n.alternate;y!==null&&(y=y.updateQueue,y!==null&&(y=y.memoCache,y!=null&&(c={data:y.data.map(function(E){return E.slice()}),index:0})))}if(c==null&&(c={data:[],index:0}),p===null&&(p=Jl(),_n.updateQueue=p),p.memoCache=c,p=c.data[c.index],p===void 0)for(p=c.data[c.index]=Array(o),y=0;y<o;y++)p[y]=P;return c.index++,p}function fl(o,c){return typeof c=="function"?c(o):c}function Zl(o){var c=ns();return I0(c,ui,o)}function I0(o,c,p){var y=o.queue;if(y===null)throw Error(n(311));y.lastRenderedReducer=p;var E=o.baseQueue,w=y.pending;if(w!==null){if(E!==null){var G=E.next;E.next=w.next,w.next=G}c.baseQueue=E=w,y.pending=null}if(w=o.baseState,E===null)o.memoizedState=w;else{c=E.next;var K=G=null,me=null,Oe=c,$e=!1;do{var it=Oe.lane&-536870913;if(it!==Oe.lane?(nn&it)===it:(cl&it)===it){var ze=Oe.revertLane;if(ze===0)me!==null&&(me=me.next={lane:0,revertLane:0,action:Oe.action,hasEagerState:Oe.hasEagerState,eagerState:Oe.eagerState,next:null}),it===yn&&($e=!0);else if((cl&ze)===ze){Oe=Oe.next,ze===yn&&($e=!0);continue}else it={lane:0,revertLane:Oe.revertLane,action:Oe.action,hasEagerState:Oe.hasEagerState,eagerState:Oe.eagerState,next:null},me===null?(K=me=it,G=w):me=me.next=it,_n.lanes|=ze,Ja|=ze;it=Oe.action,nr&&p(w,it),w=Oe.hasEagerState?Oe.eagerState:p(w,it)}else ze={lane:it,revertLane:Oe.revertLane,action:Oe.action,hasEagerState:Oe.hasEagerState,eagerState:Oe.eagerState,next:null},me===null?(K=me=ze,G=w):me=me.next=ze,_n.lanes|=it,Ja|=it;Oe=Oe.next}while(Oe!==null&&Oe!==c);if(me===null?G=w:me.next=K,!yr(w,o.memoizedState)&&(_s=!0,$e&&(p=qu,p!==null)))throw p;o.memoizedState=w,o.baseState=G,o.baseQueue=me,y.lastRenderedState=w}return E===null&&(y.lanes=0),[o.memoizedState,y.dispatch]}function F0(o){var c=ns(),p=c.queue;if(p===null)throw Error(n(311));p.lastRenderedReducer=o;var y=p.dispatch,E=p.pending,w=c.memoizedState;if(E!==null){p.pending=null;var G=E=E.next;do w=o(w,G.action),G=G.next;while(G!==E);yr(w,c.memoizedState)||(_s=!0),c.memoizedState=w,c.baseQueue===null&&(c.baseState=w),p.lastRenderedState=w}return[w,y]}function e1(o,c,p){var y=_n,E=ns(),w=Zn;if(w){if(p===void 0)throw Error(n(407));p=p()}else p=c();var G=!yr((ui||E).memoizedState,p);G&&(E.memoizedState=p,_s=!0),E=E.queue;var K=n1.bind(null,y,E,o);if(tf(2048,8,K,[o]),E.getSnapshot!==c||G||ts!==null&&ts.memoizedState.tag&1){if(y.flags|=2048,ef(9,Xh(),t1.bind(null,y,E,p,c),null),gn===null)throw Error(n(349));w||(cl&124)!==0||$u(y,c,p)}return p}function $u(o,c,p){o.flags|=16384,o={getSnapshot:c,value:p},c=_n.updateQueue,c===null?(c=Jl(),_n.updateQueue=c,c.stores=[o]):(p=c.stores,p===null?c.stores=[o]:p.push(o))}function t1(o,c,p,y){c.value=p,c.getSnapshot=y,i1(c)&&s1(o)}function n1(o,c,p){return p(function(){i1(c)&&s1(o)})}function i1(o){var c=o.getSnapshot;o=o.value;try{var p=c();return!yr(o,p)}catch{return!0}}function s1(o){var c=il(o,2);c!==null&&ar(c,o,2)}function z0(o){var c=ir();if(typeof o=="function"){var p=o;if(o=p(),nr){ot(!0);try{p()}finally{ot(!1)}}}return c.memoizedState=c.baseState=o,c.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fl,lastRenderedState:o},c}function r1(o,c,p,y){return o.baseState=p,I0(o,ui,typeof y=="function"?y:fl)}function ZM(o,c,p,y,E){if(rm(o))throw Error(n(485));if(o=c.action,o!==null){var w={payload:E,action:o,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(G){w.listeners.push(G)}};H.T!==null?p(!0):w.isTransition=!1,y(w),p=c.pending,p===null?(w.next=c.pending=w,a1(c,w)):(w.next=p.next,c.pending=p.next=w)}}function a1(o,c){var p=c.action,y=c.payload,E=o.state;if(c.isTransition){var w=H.T,G={};H.T=G;try{var K=p(E,y),me=H.S;me!==null&&me(G,K),o1(o,c,K)}catch(Oe){H0(o,c,Oe)}finally{H.T=w}}else try{w=p(E,y),o1(o,c,w)}catch(Oe){H0(o,c,Oe)}}function o1(o,c,p){p!==null&&typeof p=="object"&&typeof p.then=="function"?p.then(function(y){l1(o,c,y)},function(y){return H0(o,c,y)}):l1(o,c,p)}function l1(o,c,p){c.status="fulfilled",c.value=p,c1(c),o.state=p,c=o.pending,c!==null&&(p=c.next,p===c?o.pending=null:(p=p.next,c.next=p,a1(o,p)))}function H0(o,c,p){var y=o.pending;if(o.pending=null,y!==null){y=y.next;do c.status="rejected",c.reason=p,c1(c),c=c.next;while(c!==y)}o.action=null}function c1(o){o=o.listeners;for(var c=0;c<o.length;c++)(0,o[c])()}function G0(o,c){return c}function u1(o,c){if(Zn){var p=gn.formState;if(p!==null){e:{var y=_n;if(Zn){if(Oi){t:{for(var E=Oi,w=Gr;E.nodeType!==8;){if(!w){E=null;break t}if(E=yl(E.nextSibling),E===null){E=null;break t}}w=E.data,E=w==="F!"||w==="F"?E:null}if(E){Oi=yl(E.nextSibling),y=E.data==="F!";break e}}Xl(y)}y=!1}y&&(c=p[0])}}return p=ir(),p.memoizedState=p.baseState=c,y={pending:null,lanes:0,dispatch:null,lastRenderedReducer:G0,lastRenderedState:c},p.queue=y,p=M1.bind(null,_n,y),y.dispatch=p,y=z0(!1),w=sm.bind(null,_n,!1,y.queue),y=ir(),E={state:c,dispatch:null,action:o,pending:null},y.queue=E,p=ZM.bind(null,_n,E,w,p),E.dispatch=p,y.memoizedState=o,[c,p,!1]}function f1(o){var c=ns();return h1(c,ui,o)}function h1(o,c,p){if(c=I0(o,c,G0)[0],o=Zl(fl)[0],typeof c=="object"&&c!==null&&typeof c.then=="function")try{var y=ka(c)}catch(G){throw G===Gh?Va:G}else y=c;c=ns();var E=c.queue,w=E.dispatch;return p!==c.memoizedState&&(_n.flags|=2048,ef(9,Xh(),QM.bind(null,E,p),null)),[y,w,o]}function QM(o,c){o.action=c}function d1(o){var c=ns(),p=ui;if(p!==null)return h1(c,p,o);ns(),c=c.memoizedState,p=ns();var y=p.queue.dispatch;return p.memoizedState=o,[c,y,!1]}function ef(o,c,p,y){return o={tag:o,create:p,deps:y,inst:c,next:null},c=_n.updateQueue,c===null&&(c=Jl(),_n.updateQueue=c),p=c.lastEffect,p===null?c.lastEffect=o.next=o:(y=p.next,p.next=o,o.next=y,c.lastEffect=o),o}function Xh(){return{destroy:void 0,resource:void 0}}function V0(){return ns().memoizedState}function em(o,c,p,y){var E=ir();y=y===void 0?null:y,_n.flags|=o,E.memoizedState=ef(1|c,Xh(),p,y)}function tf(o,c,p,y){var E=ns();y=y===void 0?null:y;var w=E.memoizedState.inst;ui!==null&&y!==null&&Vs(y,ui.memoizedState.deps)?E.memoizedState=ef(c,w,p,y):(_n.flags|=o,E.memoizedState=ef(1|c,w,p,y))}function k0(o,c){em(8390656,8,o,c)}function j0(o,c){tf(2048,8,o,c)}function tm(o,c){return tf(4,2,o,c)}function nm(o,c){return tf(4,4,o,c)}function p1(o,c){if(typeof c=="function"){o=o();var p=c(o);return function(){typeof p=="function"?p():c(null)}}if(c!=null)return o=o(),c.current=o,function(){c.current=null}}function m1(o,c,p){p=p!=null?p.concat([o]):null,tf(4,4,p1.bind(null,c,o),p)}function X0(){}function g1(o,c){var p=ns();c=c===void 0?null:c;var y=p.memoizedState;return c!==null&&Vs(c,y[1])?y[0]:(p.memoizedState=[o,c],o)}function Y0(o,c){var p=ns();c=c===void 0?null:c;var y=p.memoizedState;if(c!==null&&Vs(c,y[1]))return y[0];if(y=o(),nr){ot(!0);try{o()}finally{ot(!1)}}return p.memoizedState=[y,c],y}function im(o,c,p){return p===void 0||(cl&1073741824)!==0?o.memoizedState=c:(o.memoizedState=p,o=vm(),_n.lanes|=o,Ja|=o,p)}function v1(o,c,p,y){return yr(p,c)?p:Qu.current!==null?(o=im(o,p,y),yr(o,c)||(_s=!0),o):(cl&42)===0?(_s=!0,o.memoizedState=p):(o=vm(),_n.lanes|=o,Ja|=o,c)}function y1(o,c,p,y,E){var w=Y.p;Y.p=w!==0&&8>w?w:8;var G=H.T,K={};H.T=K,sm(o,!1,c,p);try{var me=E(),Oe=H.S;if(Oe!==null&&Oe(K,me),me!==null&&typeof me=="object"&&typeof me.then=="function"){var $e=KM(me,y);Yh(o,c,$e,Hi(o))}else Yh(o,c,y,Hi(o))}catch(it){Yh(o,c,{then:function(){},status:"rejected",reason:it},Hi())}finally{Y.p=w,H.T=G}}function $M(){}function q0(o,c,p,y){if(o.tag!==5)throw Error(n(476));var E=_1(o).queue;y1(o,E,c,Z,p===null?$M:function(){return x1(o),p(y)})}function _1(o){var c=o.memoizedState;if(c!==null)return c;c={memoizedState:Z,baseState:Z,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fl,lastRenderedState:Z},next:null};var p={};return c.next={memoizedState:p,baseState:p,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fl,lastRenderedState:p},next:null},o.memoizedState=c,o=o.alternate,o!==null&&(o.memoizedState=c),c}function x1(o){var c=_1(o).next.queue;Yh(o,c,{},Hi())}function W0(){return Ii(ov)}function S1(){return ns().memoizedState}function A1(){return ns().memoizedState}function eb(o){for(var c=o.return;c!==null;){switch(c.tag){case 24:case 3:var p=Hi();o=So(p);var y=ll(c,o,p);y!==null&&(ar(y,c,p),Ic(y,c,p)),c={cache:Xp()},o.payload=c;return}c=c.return}}function tb(o,c,p){var y=Hi();p={lane:y,revertLane:0,action:p,hasEagerState:!1,eagerState:null,next:null},rm(o)?b1(c,p):(p=Hp(o,c,p,y),p!==null&&(ar(p,o,y),kr(p,c,y)))}function M1(o,c,p){var y=Hi();Yh(o,c,p,y)}function Yh(o,c,p,y){var E={lane:y,revertLane:0,action:p,hasEagerState:!1,eagerState:null,next:null};if(rm(o))b1(c,E);else{var w=o.alternate;if(o.lanes===0&&(w===null||w.lanes===0)&&(w=c.lastRenderedReducer,w!==null))try{var G=c.lastRenderedState,K=w(G,p);if(E.hasEagerState=!0,E.eagerState=K,yr(K,G))return Gl(o,c,E,0),gn===null&&Dh(),!1}catch{}finally{}if(p=Hp(o,c,E,y),p!==null)return ar(p,o,y),kr(p,c,y),!0}return!1}function sm(o,c,p,y){if(y={lane:2,revertLane:sb(),action:y,hasEagerState:!1,eagerState:null,next:null},rm(o)){if(c)throw Error(n(479))}else c=Hp(o,p,y,2),c!==null&&ar(c,o,2)}function rm(o){var c=o.alternate;return o===_n||c!==null&&c===_n}function b1(o,c){Kl=Zp=!0;var p=o.pending;p===null?c.next=c:(c.next=p.next,p.next=c),o.pending=c}function kr(o,c,p){if((p&4194048)!==0){var y=c.lanes;y&=o.pendingLanes,p|=y,c.lanes=p,Qt(o,p)}}var qh={readContext:Ii,use:$p,useCallback:Xi,useContext:Xi,useEffect:Xi,useImperativeHandle:Xi,useLayoutEffect:Xi,useInsertionEffect:Xi,useMemo:Xi,useReducer:Xi,useRef:Xi,useState:Xi,useDebugValue:Xi,useDeferredValue:Xi,useTransition:Xi,useSyncExternalStore:Xi,useId:Xi,useHostTransitionStatus:Xi,useFormState:Xi,useActionState:Xi,useOptimistic:Xi,useMemoCache:Xi,useCacheRefresh:Xi},am={readContext:Ii,use:$p,useCallback:function(o,c){return ir().memoizedState=[o,c===void 0?null:c],o},useContext:Ii,useEffect:k0,useImperativeHandle:function(o,c,p){p=p!=null?p.concat([o]):null,em(4194308,4,p1.bind(null,c,o),p)},useLayoutEffect:function(o,c){return em(4194308,4,o,c)},useInsertionEffect:function(o,c){em(4,2,o,c)},useMemo:function(o,c){var p=ir();c=c===void 0?null:c;var y=o();if(nr){ot(!0);try{o()}finally{ot(!1)}}return p.memoizedState=[y,c],y},useReducer:function(o,c,p){var y=ir();if(p!==void 0){var E=p(c);if(nr){ot(!0);try{p(c)}finally{ot(!1)}}}else E=c;return y.memoizedState=y.baseState=E,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:E},y.queue=o,o=o.dispatch=tb.bind(null,_n,o),[y.memoizedState,o]},useRef:function(o){var c=ir();return o={current:o},c.memoizedState=o},useState:function(o){o=z0(o);var c=o.queue,p=M1.bind(null,_n,c);return c.dispatch=p,[o.memoizedState,p]},useDebugValue:X0,useDeferredValue:function(o,c){var p=ir();return im(p,o,c)},useTransition:function(){var o=z0(!1);return o=y1.bind(null,_n,o.queue,!0,!1),ir().memoizedState=o,[!1,o]},useSyncExternalStore:function(o,c,p){var y=_n,E=ir();if(Zn){if(p===void 0)throw Error(n(407));p=p()}else{if(p=c(),gn===null)throw Error(n(349));(nn&124)!==0||$u(y,c,p)}E.memoizedState=p;var w={value:p,getSnapshot:c};return E.queue=w,k0(n1.bind(null,y,w,o),[o]),y.flags|=2048,ef(9,Xh(),t1.bind(null,y,w,p,c),null),p},useId:function(){var o=ir(),c=gn.identifierPrefix;if(Zn){var p=_o,y=yo;p=(y&~(1<<32-ut(y)-1)).toString(32)+p,c="«"+c+"R"+p,p=as++,0<p&&(c+="H"+p.toString(32)),c+="»"}else p=Z_++,c="«"+c+"r"+p.toString(32)+"»";return o.memoizedState=c},useHostTransitionStatus:W0,useFormState:u1,useActionState:u1,useOptimistic:function(o){var c=ir();c.memoizedState=c.baseState=o;var p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return c.queue=p,c=sm.bind(null,_n,!0,p),p.dispatch=c,[o,c]},useMemoCache:P0,useCacheRefresh:function(){return ir().memoizedState=eb.bind(null,_n)}},K0={readContext:Ii,use:$p,useCallback:g1,useContext:Ii,useEffect:j0,useImperativeHandle:m1,useInsertionEffect:tm,useLayoutEffect:nm,useMemo:Y0,useReducer:Zl,useRef:V0,useState:function(){return Zl(fl)},useDebugValue:X0,useDeferredValue:function(o,c){var p=ns();return v1(p,ui.memoizedState,o,c)},useTransition:function(){var o=Zl(fl)[0],c=ns().memoizedState;return[typeof o=="boolean"?o:ka(o),c]},useSyncExternalStore:e1,useId:S1,useHostTransitionStatus:W0,useFormState:f1,useActionState:f1,useOptimistic:function(o,c){var p=ns();return r1(p,ui,o,c)},useMemoCache:P0,useCacheRefresh:A1},E1={readContext:Ii,use:$p,useCallback:g1,useContext:Ii,useEffect:j0,useImperativeHandle:m1,useInsertionEffect:tm,useLayoutEffect:nm,useMemo:Y0,useReducer:F0,useRef:V0,useState:function(){return F0(fl)},useDebugValue:X0,useDeferredValue:function(o,c){var p=ns();return ui===null?im(p,o,c):v1(p,ui.memoizedState,o,c)},useTransition:function(){var o=F0(fl)[0],c=ns().memoizedState;return[typeof o=="boolean"?o:ka(o),c]},useSyncExternalStore:e1,useId:S1,useHostTransitionStatus:W0,useFormState:d1,useActionState:d1,useOptimistic:function(o,c){var p=ns();return ui!==null?r1(p,ui,o,c):(p.baseState=o,[o,p.queue.dispatch])},useMemoCache:P0,useCacheRefresh:A1},Fc=null,Wh=0;function Kh(o){var c=Wh;return Wh+=1,Fc===null&&(Fc=[]),Kp(Fc,o,c)}function nf(o,c){c=c.props.ref,o.ref=c!==void 0?c:null}function om(o,c){throw c.$$typeof===g?Error(n(525)):(o=Object.prototype.toString.call(c),Error(n(31,o==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":o)))}function T1(o){var c=o._init;return c(o._payload)}function C1(o){function c(Ce,Me){if(o){var De=Ce.deletions;De===null?(Ce.deletions=[Me],Ce.flags|=16):De.push(Me)}}function p(Ce,Me){if(!o)return null;for(;Me!==null;)c(Ce,Me),Me=Me.sibling;return null}function y(Ce){for(var Me=new Map;Ce!==null;)Ce.key!==null?Me.set(Ce.key,Ce):Me.set(Ce.index,Ce),Ce=Ce.sibling;return Me}function E(Ce,Me){return Ce=ji(Ce,Me),Ce.index=0,Ce.sibling=null,Ce}function w(Ce,Me,De){return Ce.index=De,o?(De=Ce.alternate,De!==null?(De=De.index,De<Me?(Ce.flags|=67108866,Me):De):(Ce.flags|=67108866,Me)):(Ce.flags|=1048576,Me)}function G(Ce){return o&&Ce.alternate===null&&(Ce.flags|=67108866),Ce}function K(Ce,Me,De,et){return Me===null||Me.tag!==6?(Me=Oh(De,Ce.mode,et),Me.return=Ce,Me):(Me=E(Me,De),Me.return=Ce,Me)}function me(Ce,Me,De,et){var Gt=De.type;return Gt===S?$e(Ce,Me,De.props.children,et,De.key):Me!==null&&(Me.elementType===Gt||typeof Gt=="object"&&Gt!==null&&Gt.$$typeof===z&&T1(Gt)===Me.type)?(Me=E(Me,De.props),nf(Me,De),Me.return=Ce,Me):(Me=ys(De.type,De.key,De.props,null,Ce.mode,et),nf(Me,De),Me.return=Ce,Me)}function Oe(Ce,Me,De,et){return Me===null||Me.tag!==4||Me.stateNode.containerInfo!==De.containerInfo||Me.stateNode.implementation!==De.implementation?(Me=Gp(De,Ce.mode,et),Me.return=Ce,Me):(Me=E(Me,De.children||[]),Me.return=Ce,Me)}function $e(Ce,Me,De,et,Gt){return Me===null||Me.tag!==7?(Me=kl(De,Ce.mode,et,Gt),Me.return=Ce,Me):(Me=E(Me,De),Me.return=Ce,Me)}function it(Ce,Me,De){if(typeof Me=="string"&&Me!==""||typeof Me=="number"||typeof Me=="bigint")return Me=Oh(""+Me,Ce.mode,De),Me.return=Ce,Me;if(typeof Me=="object"&&Me!==null){switch(Me.$$typeof){case v:return De=ys(Me.type,Me.key,Me.props,null,Ce.mode,De),nf(De,Me),De.return=Ce,De;case _:return Me=Gp(Me,Ce.mode,De),Me.return=Ce,Me;case z:var et=Me._init;return Me=et(Me._payload),it(Ce,Me,De)}if(oe(Me)||ne(Me))return Me=kl(Me,Ce.mode,De,null),Me.return=Ce,Me;if(typeof Me.then=="function")return it(Ce,Kh(Me),De);if(Me.$$typeof===B)return it(Ce,Ih(Ce,Me),De);om(Ce,Me)}return null}function ze(Ce,Me,De,et){var Gt=Me!==null?Me.key:null;if(typeof De=="string"&&De!==""||typeof De=="number"||typeof De=="bigint")return Gt!==null?null:K(Ce,Me,""+De,et);if(typeof De=="object"&&De!==null){switch(De.$$typeof){case v:return De.key===Gt?me(Ce,Me,De,et):null;case _:return De.key===Gt?Oe(Ce,Me,De,et):null;case z:return Gt=De._init,De=Gt(De._payload),ze(Ce,Me,De,et)}if(oe(De)||ne(De))return Gt!==null?null:$e(Ce,Me,De,et,null);if(typeof De.then=="function")return ze(Ce,Me,Kh(De),et);if(De.$$typeof===B)return ze(Ce,Me,Ih(Ce,De),et);om(Ce,De)}return null}function je(Ce,Me,De,et,Gt){if(typeof et=="string"&&et!==""||typeof et=="number"||typeof et=="bigint")return Ce=Ce.get(De)||null,K(Me,Ce,""+et,Gt);if(typeof et=="object"&&et!==null){switch(et.$$typeof){case v:return Ce=Ce.get(et.key===null?De:et.key)||null,me(Me,Ce,et,Gt);case _:return Ce=Ce.get(et.key===null?De:et.key)||null,Oe(Me,Ce,et,Gt);case z:var In=et._init;return et=In(et._payload),je(Ce,Me,De,et,Gt)}if(oe(et)||ne(et))return Ce=Ce.get(De)||null,$e(Me,Ce,et,Gt,null);if(typeof et.then=="function")return je(Ce,Me,De,Kh(et),Gt);if(et.$$typeof===B)return je(Ce,Me,De,Ih(Me,et),Gt);om(Me,et)}return null}function pn(Ce,Me,De,et){for(var Gt=null,In=null,Zt=Me,cn=Me=0,Xs=null;Zt!==null&&cn<De.length;cn++){Zt.index>cn?(Xs=Zt,Zt=null):Xs=Zt.sibling;var oi=ze(Ce,Zt,De[cn],et);if(oi===null){Zt===null&&(Zt=Xs);break}o&&Zt&&oi.alternate===null&&c(Ce,Zt),Me=w(oi,Me,cn),In===null?Gt=oi:In.sibling=oi,In=oi,Zt=Xs}if(cn===De.length)return p(Ce,Zt),Zn&&sl(Ce,cn),Gt;if(Zt===null){for(;cn<De.length;cn++)Zt=it(Ce,De[cn],et),Zt!==null&&(Me=w(Zt,Me,cn),In===null?Gt=Zt:In.sibling=Zt,In=Zt);return Zn&&sl(Ce,cn),Gt}for(Zt=y(Zt);cn<De.length;cn++)Xs=je(Zt,Ce,cn,De[cn],et),Xs!==null&&(o&&Xs.alternate!==null&&Zt.delete(Xs.key===null?cn:Xs.key),Me=w(Xs,Me,cn),In===null?Gt=Xs:In.sibling=Xs,In=Xs);return o&&Zt.forEach(function(xf){return c(Ce,xf)}),Zn&&sl(Ce,cn),Gt}function ln(Ce,Me,De,et){if(De==null)throw Error(n(151));for(var Gt=null,In=null,Zt=Me,cn=Me=0,Xs=null,oi=De.next();Zt!==null&&!oi.done;cn++,oi=De.next()){Zt.index>cn?(Xs=Zt,Zt=null):Xs=Zt.sibling;var xf=ze(Ce,Zt,oi.value,et);if(xf===null){Zt===null&&(Zt=Xs);break}o&&Zt&&xf.alternate===null&&c(Ce,Zt),Me=w(xf,Me,cn),In===null?Gt=xf:In.sibling=xf,In=xf,Zt=Xs}if(oi.done)return p(Ce,Zt),Zn&&sl(Ce,cn),Gt;if(Zt===null){for(;!oi.done;cn++,oi=De.next())oi=it(Ce,oi.value,et),oi!==null&&(Me=w(oi,Me,cn),In===null?Gt=oi:In.sibling=oi,In=oi);return Zn&&sl(Ce,cn),Gt}for(Zt=y(Zt);!oi.done;cn++,oi=De.next())oi=je(Zt,Ce,cn,oi.value,et),oi!==null&&(o&&oi.alternate!==null&&Zt.delete(oi.key===null?cn:oi.key),Me=w(oi,Me,cn),In===null?Gt=oi:In.sibling=oi,In=oi);return o&&Zt.forEach(function(OP){return c(Ce,OP)}),Zn&&sl(Ce,cn),Gt}function Ti(Ce,Me,De,et){if(typeof De=="object"&&De!==null&&De.type===S&&De.key===null&&(De=De.props.children),typeof De=="object"&&De!==null){switch(De.$$typeof){case v:e:{for(var Gt=De.key;Me!==null;){if(Me.key===Gt){if(Gt=De.type,Gt===S){if(Me.tag===7){p(Ce,Me.sibling),et=E(Me,De.props.children),et.return=Ce,Ce=et;break e}}else if(Me.elementType===Gt||typeof Gt=="object"&&Gt!==null&&Gt.$$typeof===z&&T1(Gt)===Me.type){p(Ce,Me.sibling),et=E(Me,De.props),nf(et,De),et.return=Ce,Ce=et;break e}p(Ce,Me);break}else c(Ce,Me);Me=Me.sibling}De.type===S?(et=kl(De.props.children,Ce.mode,et,De.key),et.return=Ce,Ce=et):(et=ys(De.type,De.key,De.props,null,Ce.mode,et),nf(et,De),et.return=Ce,Ce=et)}return G(Ce);case _:e:{for(Gt=De.key;Me!==null;){if(Me.key===Gt)if(Me.tag===4&&Me.stateNode.containerInfo===De.containerInfo&&Me.stateNode.implementation===De.implementation){p(Ce,Me.sibling),et=E(Me,De.children||[]),et.return=Ce,Ce=et;break e}else{p(Ce,Me);break}else c(Ce,Me);Me=Me.sibling}et=Gp(De,Ce.mode,et),et.return=Ce,Ce=et}return G(Ce);case z:return Gt=De._init,De=Gt(De._payload),Ti(Ce,Me,De,et)}if(oe(De))return pn(Ce,Me,De,et);if(ne(De)){if(Gt=ne(De),typeof Gt!="function")throw Error(n(150));return De=Gt.call(De),ln(Ce,Me,De,et)}if(typeof De.then=="function")return Ti(Ce,Me,Kh(De),et);if(De.$$typeof===B)return Ti(Ce,Me,Ih(Ce,De),et);om(Ce,De)}return typeof De=="string"&&De!==""||typeof De=="number"||typeof De=="bigint"?(De=""+De,Me!==null&&Me.tag===6?(p(Ce,Me.sibling),et=E(Me,De),et.return=Ce,Ce=et):(p(Ce,Me),et=Oh(De,Ce.mode,et),et.return=Ce,Ce=et),G(Ce)):p(Ce,Me)}return function(Ce,Me,De,et){try{Wh=0;var Gt=Ti(Ce,Me,De,et);return Fc=null,Gt}catch(Zt){if(Zt===Gh||Zt===Va)throw Zt;var In=Sr(29,Zt,null,Ce.mode);return In.lanes=et,In.return=Ce,In}finally{}}}var zc=C1(!0),w1=C1(!1),vi=ie(null),ja=null;function Ql(o){var c=o.alternate;_e(Yi,Yi.current&1),_e(vi,o),ja===null&&(c===null||Qu.current!==null||c.memoizedState!==null)&&(ja=o)}function R1(o){if(o.tag===22){if(_e(Yi,Yi.current),_e(vi,o),ja===null){var c=o.alternate;c!==null&&c.memoizedState!==null&&(ja=o)}}else $l()}function $l(){_e(Yi,Yi.current),_e(vi,vi.current)}function Ao(o){ue(vi),ja===o&&(ja=null),ue(Yi)}var Yi=ie(0);function hl(o){for(var c=o;c!==null;){if(c.tag===13){var p=c.memoizedState;if(p!==null&&(p=p.dehydrated,p===null||p.data==="$?"||gb(p)))return c}else if(c.tag===19&&c.memoizedProps.revealOrder!==void 0){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}function ec(o,c,p,y){c=o.memoizedState,p=p(y,c),p=p==null?c:m({},c,p),o.memoizedState=p,o.lanes===0&&(o.updateQueue.baseState=p)}var sr={enqueueSetState:function(o,c,p){o=o._reactInternals;var y=Hi(),E=So(y);E.payload=c,p!=null&&(E.callback=p),c=ll(o,E,y),c!==null&&(ar(c,o,y),Ic(c,o,y))},enqueueReplaceState:function(o,c,p){o=o._reactInternals;var y=Hi(),E=So(y);E.tag=1,E.payload=c,p!=null&&(E.callback=p),c=ll(o,E,y),c!==null&&(ar(c,o,y),Ic(c,o,y))},enqueueForceUpdate:function(o,c){o=o._reactInternals;var p=Hi(),y=So(p);y.tag=2,c!=null&&(y.callback=c),c=ll(o,y,p),c!==null&&(ar(c,o,p),Ic(c,o,p))}};function B1(o,c,p,y,E,w,G){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(y,w,G):c.prototype&&c.prototype.isPureReactComponent?!Ha(p,y)||!Ha(E,w):!0}function D1(o,c,p,y){o=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(p,y),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(p,y),c.state!==o&&sr.enqueueReplaceState(c,c.state,null)}function Mo(o,c){var p=c;if("ref"in c){p={};for(var y in c)y!=="ref"&&(p[y]=c[y])}if(o=o.defaultProps){p===c&&(p=m({},p));for(var E in o)p[E]===void 0&&(p[E]=o[E])}return p}var Hc=typeof reportError=="function"?reportError:function(o){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var c=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof o=="object"&&o!==null&&typeof o.message=="string"?String(o.message):String(o),error:o});if(!window.dispatchEvent(c))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",o);return}console.error(o)};function Jh(o){Hc(o)}function lm(o){console.error(o)}function N1(o){Hc(o)}function cm(o,c){try{var p=o.onUncaughtError;p(c.value,{componentStack:c.stack})}catch(y){setTimeout(function(){throw y})}}function Sa(o,c,p){try{var y=o.onCaughtError;y(p.value,{componentStack:p.stack,errorBoundary:c.tag===1?c.stateNode:null})}catch(E){setTimeout(function(){throw E})}}function um(o,c,p){return p=So(p),p.tag=3,p.payload={element:null},p.callback=function(){cm(o,c)},p}function O1(o){return o=So(o),o.tag=3,o}function fm(o,c,p,y){var E=p.type.getDerivedStateFromError;if(typeof E=="function"){var w=y.value;o.payload=function(){return E(w)},o.callback=function(){Sa(c,p,y)}}var G=p.stateNode;G!==null&&typeof G.componentDidCatch=="function"&&(o.callback=function(){Sa(c,p,y),typeof E!="function"&&(Zr===null?Zr=new Set([this]):Zr.add(this));var K=y.stack;this.componentDidCatch(y.value,{componentStack:K!==null?K:""})})}function nb(o,c,p,y,E){if(p.flags|=32768,y!==null&&typeof y=="object"&&typeof y.then=="function"){if(c=p.alternate,c!==null&&va(c,p,E,!0),p=vi.current,p!==null){switch(p.tag){case 13:return ja===null?f():p.alternate===null&&wi===0&&(wi=3),p.flags&=-257,p.flags|=65536,p.lanes=E,y===Vh?p.flags|=16384:(c=p.updateQueue,c===null?p.updateQueue=new Set([y]):c.add(y),Xe(o,y,E)),!1;case 22:return p.flags|=65536,y===Vh?p.flags|=16384:(c=p.updateQueue,c===null?(c={transitions:null,markerInstances:null,retryQueue:new Set([y])},p.updateQueue=c):(p=c.retryQueue,p===null?c.retryQueue=new Set([y]):p.add(y)),Xe(o,y,E)),!1}throw Error(n(435,p.tag))}return Xe(o,y,E),f(),!1}if(Zn)return c=vi.current,c!==null?((c.flags&65536)===0&&(c.flags|=256),c.flags|=65536,c.lanes=E,y!==kp&&(o=Error(n(422),{cause:y}),Pc(Bs(o,p)))):(y!==kp&&(c=Error(n(423),{cause:y}),Pc(Bs(c,p))),o=o.current.alternate,o.flags|=65536,E&=-E,o.lanes|=E,y=Bs(y,p),E=um(o.stateNode,y,E),Ku(o,E),wi!==4&&(wi=2)),!1;var w=Error(n(520),{cause:y});if(w=Bs(w,p),ai===null?ai=[w]:ai.push(w),wi!==4&&(wi=2),c===null)return!0;y=Bs(y,p),p=c;do{switch(p.tag){case 3:return p.flags|=65536,o=E&-E,p.lanes|=o,o=um(p.stateNode,y,o),Ku(p,o),!1;case 1:if(c=p.type,w=p.stateNode,(p.flags&128)===0&&(typeof c.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Zr===null||!Zr.has(w))))return p.flags|=65536,E&=-E,p.lanes|=E,E=O1(E),fm(E,o,p,y),Ku(p,E),!1}p=p.return}while(p!==null);return!1}var L1=Error(n(461)),_s=!1;function qi(o,c,p,y){c.child=o===null?w1(c,null,p,y):zc(c,o.child,p,y)}function Mr(o,c,p,y,E){p=p.render;var w=c.ref;if("ref"in y){var G={};for(var K in y)K!=="ref"&&(G[K]=y[K])}else G=y;return xo(c),y=ul(o,c,p,G,w,E),K=L0(),o!==null&&!_s?(Qp(o,c,E),xs(o,c,E)):(Zn&&K&&M0(c),c.flags|=1,qi(o,c,y,E),c.child)}function br(o,c,p,y,E){if(o===null){var w=p.type;return typeof w=="function"&&!Nh(w)&&w.defaultProps===void 0&&p.compare===null?(c.tag=15,c.type=w,J0(o,c,w,y,E)):(o=ys(p.type,null,y,c,c.mode,E),o.ref=c.ref,o.return=c,c.child=o)}if(w=o.child,!Zh(o,E)){var G=w.memoizedProps;if(p=p.compare,p=p!==null?p:Ha,p(G,y)&&o.ref===c.ref)return xs(o,c,E)}return c.flags|=1,o=ji(w,y),o.ref=c.ref,o.return=c,c.child=o}function J0(o,c,p,y,E){if(o!==null){var w=o.memoizedProps;if(Ha(w,y)&&o.ref===c.ref)if(_s=!1,c.pendingProps=y=w,Zh(o,E))(o.flags&131072)!==0&&(_s=!0);else return c.lanes=o.lanes,xs(o,c,E)}return sf(o,c,p,y,E)}function Gc(o,c,p){var y=c.pendingProps,E=y.children,w=o!==null?o.memoizedState:null;if(y.mode==="hidden"){if((c.flags&128)!==0){if(y=w!==null?w.baseLanes|p:p,o!==null){for(E=c.child=o.child,w=0;E!==null;)w=w|E.lanes|E.childLanes,E=E.sibling;c.childLanes=w&~y}else c.childLanes=0,c.child=null;return Vc(o,c,y,p)}if((p&536870912)!==0)c.memoizedState={baseLanes:0,cachePool:null},o!==null&&Hh(c,w!==null?w.cachePool:null),w!==null?J_(c,w):O0(),R1(c);else return c.lanes=c.childLanes=536870912,Vc(o,c,w!==null?w.baseLanes|p:p,p)}else w!==null?(Hh(c,w.cachePool),J_(c,w),$l(),c.memoizedState=null):(o!==null&&Hh(c,null),O0(),$l());return qi(o,c,E,p),c.child}function Vc(o,c,p,y){var E=Wl();return E=E===null?null:{parent:es._currentValue,pool:E},c.memoizedState={baseLanes:p,cachePool:E},o!==null&&Hh(c,null),O0(),R1(c),o!==null&&va(o,c,y,!0),null}function kc(o,c){var p=c.ref;if(p===null)o!==null&&o.ref!==null&&(c.flags|=4194816);else{if(typeof p!="function"&&typeof p!="object")throw Error(n(284));(o===null||o.ref!==p)&&(c.flags|=4194816)}}function sf(o,c,p,y,E){return xo(c),p=ul(o,c,p,y,void 0,E),y=L0(),o!==null&&!_s?(Qp(o,c,E),xs(o,c,E)):(Zn&&y&&M0(c),c.flags|=1,qi(o,c,p,E),c.child)}function jr(o,c,p,y,E,w){return xo(c),c.updateQueue=null,p=$_(c,y,p,E),Q_(o),y=L0(),o!==null&&!_s?(Qp(o,c,w),xs(o,c,w)):(Zn&&y&&M0(c),c.flags|=1,qi(o,c,p,w),c.child)}function Xr(o,c,p,y,E){if(xo(c),c.stateNode===null){var w=Vl,G=p.contextType;typeof G=="object"&&G!==null&&(w=Ii(G)),w=new p(y,w),c.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,w.updater=sr,c.stateNode=w,w._reactInternals=c,w=c.stateNode,w.props=y,w.state=c.memoizedState,w.refs={},D0(c),G=p.contextType,w.context=typeof G=="object"&&G!==null?Ii(G):Vl,w.state=c.memoizedState,G=p.getDerivedStateFromProps,typeof G=="function"&&(ec(c,p,G,y),w.state=c.memoizedState),typeof p.getDerivedStateFromProps=="function"||typeof w.getSnapshotBeforeUpdate=="function"||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(G=w.state,typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount(),G!==w.state&&sr.enqueueReplaceState(w,w.state,null),Ju(c,y,w,E),kh(),w.state=c.memoizedState),typeof w.componentDidMount=="function"&&(c.flags|=4194308),y=!0}else if(o===null){w=c.stateNode;var K=c.memoizedProps,me=Mo(p,K);w.props=me;var Oe=w.context,$e=p.contextType;G=Vl,typeof $e=="object"&&$e!==null&&(G=Ii($e));var it=p.getDerivedStateFromProps;$e=typeof it=="function"||typeof w.getSnapshotBeforeUpdate=="function",K=c.pendingProps!==K,$e||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(K||Oe!==G)&&D1(c,w,y,G),ol=!1;var ze=c.memoizedState;w.state=ze,Ju(c,y,w,E),kh(),Oe=c.memoizedState,K||ze!==Oe||ol?(typeof it=="function"&&(ec(c,p,it,y),Oe=c.memoizedState),(me=ol||B1(c,p,me,y,ze,Oe,G))?($e||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(c.flags|=4194308)):(typeof w.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=y,c.memoizedState=Oe),w.props=y,w.state=Oe,w.context=G,y=me):(typeof w.componentDidMount=="function"&&(c.flags|=4194308),y=!1)}else{w=c.stateNode,hn(o,c),G=c.memoizedProps,$e=Mo(p,G),w.props=$e,it=c.pendingProps,ze=w.context,Oe=p.contextType,me=Vl,typeof Oe=="object"&&Oe!==null&&(me=Ii(Oe)),K=p.getDerivedStateFromProps,(Oe=typeof K=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(G!==it||ze!==me)&&D1(c,w,y,me),ol=!1,ze=c.memoizedState,w.state=ze,Ju(c,y,w,E),kh();var je=c.memoizedState;G!==it||ze!==je||ol||o!==null&&o.dependencies!==null&&Ph(o.dependencies)?(typeof K=="function"&&(ec(c,p,K,y),je=c.memoizedState),($e=ol||B1(c,p,$e,y,ze,je,me)||o!==null&&o.dependencies!==null&&Ph(o.dependencies))?(Oe||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(y,je,me),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(y,je,me)),typeof w.componentDidUpdate=="function"&&(c.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof w.componentDidUpdate!="function"||G===o.memoizedProps&&ze===o.memoizedState||(c.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||G===o.memoizedProps&&ze===o.memoizedState||(c.flags|=1024),c.memoizedProps=y,c.memoizedState=je),w.props=y,w.state=je,w.context=me,y=$e):(typeof w.componentDidUpdate!="function"||G===o.memoizedProps&&ze===o.memoizedState||(c.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||G===o.memoizedProps&&ze===o.memoizedState||(c.flags|=1024),y=!1)}return w=y,kc(o,c),y=(c.flags&128)!==0,w||y?(w=c.stateNode,p=y&&typeof p.getDerivedStateFromError!="function"?null:w.render(),c.flags|=1,o!==null&&y?(c.child=zc(c,o.child,null,E),c.child=zc(c,null,p,E)):qi(o,c,p,E),c.memoizedState=w.state,o=c.child):o=xs(o,c,E),o}function tc(o,c,p,y){return ju(),c.flags|=256,qi(o,c,p,y),c.child}var Xa={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ya(o){return{baseLanes:o,cachePool:qp()}}function os(o,c,p){return o=o!==null?o.childLanes&~p:0,c&&(o|=Ta),o}function rf(o,c,p){var y=c.pendingProps,E=!1,w=(c.flags&128)!==0,G;if((G=w)||(G=o!==null&&o.memoizedState===null?!1:(Yi.current&2)!==0),G&&(E=!0,c.flags&=-129),G=(c.flags&32)!==0,c.flags&=-33,o===null){if(Zn){if(E?Ql(c):$l(),Zn){var K=Oi,me;if(me=K){e:{for(me=K,K=Gr;me.nodeType!==8;){if(!K){K=null;break e}if(me=yl(me.nextSibling),me===null){K=null;break e}}K=me}K!==null?(c.memoizedState={dehydrated:K,treeContext:jl!==null?{id:yo,overflow:_o}:null,retryLane:536870912,hydrationErrors:null},me=Sr(18,null,null,0),me.stateNode=K,me.return=c,c.child=me,tr=c,Oi=null,me=!0):me=!1}me||Xl(c)}if(K=c.memoizedState,K!==null&&(K=K.dehydrated,K!==null))return gb(K)?c.lanes=32:c.lanes=536870912,null;Ao(c)}return K=y.children,y=y.fallback,E?($l(),E=c.mode,K=jc({mode:"hidden",children:K},E),y=kl(y,E,p,null),K.return=c,y.return=c,K.sibling=y,c.child=K,E=c.child,E.memoizedState=Ya(p),E.childLanes=os(o,G,p),c.memoizedState=Xa,y):(Ql(c),bo(c,K))}if(me=o.memoizedState,me!==null&&(K=me.dehydrated,K!==null)){if(w)c.flags&256?(Ql(c),c.flags&=-257,c=Os(o,c,p)):c.memoizedState!==null?($l(),c.child=o.child,c.flags|=128,c=null):($l(),E=y.fallback,K=c.mode,y=jc({mode:"visible",children:y.children},K),E=kl(E,K,p,null),E.flags|=2,y.return=c,E.return=c,y.sibling=E,c.child=y,zc(c,o.child,null,p),y=c.child,y.memoizedState=Ya(p),y.childLanes=os(o,G,p),c.memoizedState=Xa,c=E);else if(Ql(c),gb(K)){if(G=K.nextSibling&&K.nextSibling.dataset,G)var Oe=G.dgst;G=Oe,y=Error(n(419)),y.stack="",y.digest=G,Pc({value:y,source:null,stack:null}),c=Os(o,c,p)}else if(_s||va(o,c,p,!1),G=(p&o.childLanes)!==0,_s||G){if(G=gn,G!==null&&(y=p&-p,y=(y&42)!==0?1:Sn(y),y=(y&(G.suspendedLanes|p))!==0?0:y,y!==0&&y!==me.retryLane))throw me.retryLane=y,il(o,y),ar(G,o,y),L1;K.data==="$?"||f(),c=Os(o,c,p)}else K.data==="$?"?(c.flags|=192,c.child=o.child,c=null):(o=me.treeContext,Oi=yl(K.nextSibling),tr=c,Zn=!0,ga=null,Gr=!1,o!==null&&(Ds[Hr++]=yo,Ds[Hr++]=_o,Ds[Hr++]=jl,yo=o.id,_o=o.overflow,jl=c),c=bo(c,y.children),c.flags|=4096);return c}return E?($l(),E=y.fallback,K=c.mode,me=o.child,Oe=me.sibling,y=ji(me,{mode:"hidden",children:y.children}),y.subtreeFlags=me.subtreeFlags&65011712,Oe!==null?E=ji(Oe,E):(E=kl(E,K,p,null),E.flags|=2),E.return=c,y.return=c,y.sibling=E,c.child=y,y=E,E=c.child,K=o.child.memoizedState,K===null?K=Ya(p):(me=K.cachePool,me!==null?(Oe=es._currentValue,me=me.parent!==Oe?{parent:Oe,pool:Oe}:me):me=qp(),K={baseLanes:K.baseLanes|p,cachePool:me}),E.memoizedState=K,E.childLanes=os(o,G,p),c.memoizedState=Xa,y):(Ql(c),p=o.child,o=p.sibling,p=ji(p,{mode:"visible",children:y.children}),p.return=c,p.sibling=null,o!==null&&(G=c.deletions,G===null?(c.deletions=[o],c.flags|=16):G.push(o)),c.child=p,c.memoizedState=null,p)}function bo(o,c){return c=jc({mode:"visible",children:c},o.mode),c.return=o,o.child=c}function jc(o,c){return o=Sr(22,o,null,c),o.lanes=0,o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},o}function Os(o,c,p){return zc(c,o.child,null,p),o=bo(c,c.pendingProps.children),o.flags|=2,c.memoizedState=null,o}function Ls(o,c,p){o.lanes|=c;var y=o.alternate;y!==null&&(y.lanes|=c),C0(o.return,c,p)}function jn(o,c,p,y,E){var w=o.memoizedState;w===null?o.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:y,tail:p,tailMode:E}:(w.isBackwards=c,w.rendering=null,w.renderingStartTime=0,w.last=y,w.tail=p,w.tailMode=E)}function Aa(o,c,p){var y=c.pendingProps,E=y.revealOrder,w=y.tail;if(qi(o,c,y.children,p),y=Yi.current,(y&2)!==0)y=y&1|2,c.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=c.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&Ls(o,p,c);else if(o.tag===19)Ls(o,p,c);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===c)break e;for(;o.sibling===null;){if(o.return===null||o.return===c)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}y&=1}switch(_e(Yi,y),E){case"forwards":for(p=c.child,E=null;p!==null;)o=p.alternate,o!==null&&hl(o)===null&&(E=p),p=p.sibling;p=E,p===null?(E=c.child,c.child=null):(E=p.sibling,p.sibling=null),jn(c,!1,E,p,w);break;case"backwards":for(p=null,E=c.child,c.child=null;E!==null;){if(o=E.alternate,o!==null&&hl(o)===null){c.child=E;break}o=E.sibling,E.sibling=p,p=E,E=o}jn(c,!0,p,null,w);break;case"together":jn(c,!1,null,null,void 0);break;default:c.memoizedState=null}return c.child}function xs(o,c,p){if(o!==null&&(c.dependencies=o.dependencies),Ja|=c.lanes,(p&c.childLanes)===0)if(o!==null){if(va(o,c,p,!1),(p&c.childLanes)===0)return null}else return null;if(o!==null&&c.child!==o.child)throw Error(n(153));if(c.child!==null){for(o=c.child,p=ji(o,o.pendingProps),c.child=p,p.return=c;o.sibling!==null;)o=o.sibling,p=p.sibling=ji(o,o.pendingProps),p.return=c;p.sibling=null}return c.child}function Zh(o,c){return(o.lanes&c)!==0?!0:(o=o.dependencies,!!(o!==null&&Ph(o)))}function Ma(o,c,p){switch(c.tag){case 3:Ne(c,c.stateNode.containerInfo),ql(c,es,o.memoizedState.cache),ju();break;case 27:case 5:Je(c);break;case 4:Ne(c,c.stateNode.containerInfo);break;case 10:ql(c,c.type,c.memoizedProps.value);break;case 13:var y=c.memoizedState;if(y!==null)return y.dehydrated!==null?(Ql(c),c.flags|=128,null):(p&c.child.childLanes)!==0?rf(o,c,p):(Ql(c),o=xs(o,c,p),o!==null?o.sibling:null);Ql(c);break;case 19:var E=(o.flags&128)!==0;if(y=(p&c.childLanes)!==0,y||(va(o,c,p,!1),y=(p&c.childLanes)!==0),E){if(y)return Aa(o,c,p);c.flags|=128}if(E=c.memoizedState,E!==null&&(E.rendering=null,E.tail=null,E.lastEffect=null),_e(Yi,Yi.current),y)break;return null;case 22:case 23:return c.lanes=0,Gc(o,c,p);case 24:ql(c,es,o.memoizedState.cache)}return xs(o,c,p)}function Xc(o,c,p){if(o!==null)if(o.memoizedProps!==c.pendingProps)_s=!0;else{if(!Zh(o,p)&&(c.flags&128)===0)return _s=!1,Ma(o,c,p);_s=(o.flags&131072)!==0}else _s=!1,Zn&&(c.flags&1048576)!==0&&Vp(c,ku,c.index);switch(c.lanes=0,c.tag){case 16:e:{o=c.pendingProps;var y=c.elementType,E=y._init;if(y=E(y._payload),c.type=y,typeof y=="function")Nh(y)?(o=Mo(y,o),c.tag=1,c=Xr(null,c,y,o,p)):(c.tag=0,c=sf(null,c,y,o,p));else{if(y!=null){if(E=y.$$typeof,E===D){c.tag=11,c=Mr(null,c,y,o,p);break e}else if(E===F){c.tag=14,c=br(null,c,y,o,p);break e}}throw c=ee(y)||y,Error(n(306,c,""))}}return c;case 0:return sf(o,c,c.type,c.pendingProps,p);case 1:return y=c.type,E=Mo(y,c.pendingProps),Xr(o,c,y,E,p);case 3:e:{if(Ne(c,c.stateNode.containerInfo),o===null)throw Error(n(387));y=c.pendingProps;var w=c.memoizedState;E=w.element,hn(o,c),Ju(c,y,null,p);var G=c.memoizedState;if(y=G.cache,ql(c,es,y),y!==w.cache&&Uh(c,[es],p,!0),kh(),y=G.element,w.isDehydrated)if(w={element:y,isDehydrated:!1,cache:G.cache},c.updateQueue.baseState=w,c.memoizedState=w,c.flags&256){c=tc(o,c,y,p);break e}else if(y!==E){E=Bs(Error(n(424)),c),Pc(E),c=tc(o,c,y,p);break e}else{switch(o=c.stateNode.containerInfo,o.nodeType){case 9:o=o.body;break;default:o=o.nodeName==="HTML"?o.ownerDocument.body:o}for(Oi=yl(o.firstChild),tr=c,Zn=!0,ga=null,Gr=!0,p=w1(c,null,y,p),c.child=p;p;)p.flags=p.flags&-3|4096,p=p.sibling}else{if(ju(),y===E){c=xs(o,c,p);break e}qi(o,c,y,p)}c=c.child}return c;case 26:return kc(o,c),o===null?(p=TR(c.type,null,c.pendingProps,null))?c.memoizedState=p:Zn||(p=c.type,o=c.pendingProps,y=H1(Ae.current).createElement(p),y[pt]=c,y[Ut]=o,or(y,p,o),Be(y),c.stateNode=y):c.memoizedState=TR(c.type,o.memoizedProps,c.pendingProps,o.memoizedState),null;case 27:return Je(c),o===null&&Zn&&(y=c.stateNode=MR(c.type,c.pendingProps,Ae.current),tr=c,Gr=!0,E=Oi,mf(c.type)?(vb=E,Oi=yl(y.firstChild)):Oi=E),qi(o,c,c.pendingProps.children,p),kc(o,c),o===null&&(c.flags|=4194304),c.child;case 5:return o===null&&Zn&&((E=y=Oi)&&(y=lP(y,c.type,c.pendingProps,Gr),y!==null?(c.stateNode=y,tr=c,Oi=yl(y.firstChild),Gr=!1,E=!0):E=!1),E||Xl(c)),Je(c),E=c.type,w=c.pendingProps,G=o!==null?o.memoizedProps:null,y=w.children,db(E,w)?y=null:G!==null&&db(E,G)&&(c.flags|=32),c.memoizedState!==null&&(E=ul(o,c,JM,null,null,p),ov._currentValue=E),kc(o,c),qi(o,c,y,p),c.child;case 6:return o===null&&Zn&&((o=p=Oi)&&(p=cP(p,c.pendingProps,Gr),p!==null?(c.stateNode=p,tr=c,Oi=null,o=!0):o=!1),o||Xl(c)),null;case 13:return rf(o,c,p);case 4:return Ne(c,c.stateNode.containerInfo),y=c.pendingProps,o===null?c.child=zc(c,null,y,p):qi(o,c,y,p),c.child;case 11:return Mr(o,c,c.type,c.pendingProps,p);case 7:return qi(o,c,c.pendingProps,p),c.child;case 8:return qi(o,c,c.pendingProps.children,p),c.child;case 12:return qi(o,c,c.pendingProps.children,p),c.child;case 10:return y=c.pendingProps,ql(c,c.type,y.value),qi(o,c,y.children,p),c.child;case 9:return E=c.type._context,y=c.pendingProps.children,xo(c),E=Ii(E),y=y(E),c.flags|=1,qi(o,c,y,p),c.child;case 14:return br(o,c,c.type,c.pendingProps,p);case 15:return J0(o,c,c.type,c.pendingProps,p);case 19:return Aa(o,c,p);case 31:return y=c.pendingProps,p=c.mode,y={mode:y.mode,children:y.children},o===null?(p=jc(y,p),p.ref=c.ref,c.child=p,p.return=c,c=p):(p=ji(o.child,y),p.ref=c.ref,c.child=p,p.return=c,c=p),c;case 22:return Gc(o,c,p);case 24:return xo(c),y=Ii(es),o===null?(E=Wl(),E===null&&(E=gn,w=Xp(),E.pooledCache=w,w.refCount++,w!==null&&(E.pooledCacheLanes|=p),E=w),c.memoizedState={parent:y,cache:E},D0(c),ql(c,es,E)):((o.lanes&p)!==0&&(hn(o,c),Ju(c,null,null,p),kh()),E=o.memoizedState,w=c.memoizedState,E.parent!==y?(E={parent:y,cache:y},c.memoizedState=E,c.lanes===0&&(c.memoizedState=c.updateQueue.baseState=E),ql(c,es,y)):(y=w.cache,ql(c,es,y),y!==E.cache&&Uh(c,[es],p,!0))),qi(o,c,c.pendingProps.children,p),c.child;case 29:throw c.pendingProps}throw Error(n(156,c.tag))}function qa(o){o.flags|=4}function Qh(o,c){if(c.type!=="stylesheet"||(c.state.loading&4)!==0)o.flags&=-16777217;else if(o.flags|=16777216,!DR(c)){if(c=vi.current,c!==null&&((nn&4194048)===nn?ja!==null:(nn&62914560)!==nn&&(nn&536870912)===0||c!==ja))throw _a=Vh,R0;o.flags|=8192}}function dl(o,c){c!==null&&(o.flags|=4),o.flags&16384&&(c=o.tag!==22?Fe():536870912,o.lanes|=c,Yn|=c)}function Yc(o,c){if(!Zn)switch(o.tailMode){case"hidden":c=o.tail;for(var p=null;c!==null;)c.alternate!==null&&(p=c),c=c.sibling;p===null?o.tail=null:p.sibling=null;break;case"collapsed":p=o.tail;for(var y=null;p!==null;)p.alternate!==null&&(y=p),p=p.sibling;y===null?c||o.tail===null?o.tail=null:o.tail.sibling=null:y.sibling=null}}function Ai(o){var c=o.alternate!==null&&o.alternate.child===o.child,p=0,y=0;if(c)for(var E=o.child;E!==null;)p|=E.lanes|E.childLanes,y|=E.subtreeFlags&65011712,y|=E.flags&65011712,E.return=o,E=E.sibling;else for(E=o.child;E!==null;)p|=E.lanes|E.childLanes,y|=E.subtreeFlags,y|=E.flags,E.return=o,E=E.sibling;return o.subtreeFlags|=y,o.childLanes=p,c}function Z0(o,c,p){var y=c.pendingProps;switch(b0(c),c.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ai(c),null;case 1:return Ai(c),null;case 3:return p=c.stateNode,y=null,o!==null&&(y=o.memoizedState.cache),c.memoizedState.cache!==y&&(c.flags|=2048),al(es),ht(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(o===null||o.child===null)&&(Ga(c)?qa(c):o===null||o.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,si())),Ai(c),null;case 26:return p=c.memoizedState,o===null?(qa(c),p!==null?(Ai(c),Qh(c,p)):(Ai(c),c.flags&=-16777217)):p?p!==o.memoizedState?(qa(c),Ai(c),Qh(c,p)):(Ai(c),c.flags&=-16777217):(o.memoizedProps!==y&&qa(c),Ai(c),c.flags&=-16777217),null;case 27:st(c),p=Ae.current;var E=c.type;if(o!==null&&c.stateNode!=null)o.memoizedProps!==y&&qa(c);else{if(!y){if(c.stateNode===null)throw Error(n(166));return Ai(c),null}o=se.current,Ga(c)?Y_(c):(o=MR(E,y,p),c.stateNode=o,qa(c))}return Ai(c),null;case 5:if(st(c),p=c.type,o!==null&&c.stateNode!=null)o.memoizedProps!==y&&qa(c);else{if(!y){if(c.stateNode===null)throw Error(n(166));return Ai(c),null}if(o=se.current,Ga(c))Y_(c);else{switch(E=H1(Ae.current),o){case 1:o=E.createElementNS("http://www.w3.org/2000/svg",p);break;case 2:o=E.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;default:switch(p){case"svg":o=E.createElementNS("http://www.w3.org/2000/svg",p);break;case"math":o=E.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;case"script":o=E.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild);break;case"select":o=typeof y.is=="string"?E.createElement("select",{is:y.is}):E.createElement("select"),y.multiple?o.multiple=!0:y.size&&(o.size=y.size);break;default:o=typeof y.is=="string"?E.createElement(p,{is:y.is}):E.createElement(p)}}o[pt]=c,o[Ut]=y;e:for(E=c.child;E!==null;){if(E.tag===5||E.tag===6)o.appendChild(E.stateNode);else if(E.tag!==4&&E.tag!==27&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===c)break e;for(;E.sibling===null;){if(E.return===null||E.return===c)break e;E=E.return}E.sibling.return=E.return,E=E.sibling}c.stateNode=o;e:switch(or(o,p,y),p){case"button":case"input":case"select":case"textarea":o=!!y.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&qa(c)}}return Ai(c),c.flags&=-16777217,null;case 6:if(o&&c.stateNode!=null)o.memoizedProps!==y&&qa(c);else{if(typeof y!="string"&&c.stateNode===null)throw Error(n(166));if(o=Ae.current,Ga(c)){if(o=c.stateNode,p=c.memoizedProps,y=null,E=tr,E!==null)switch(E.tag){case 27:case 5:y=E.memoizedProps}o[pt]=c,o=!!(o.nodeValue===p||y!==null&&y.suppressHydrationWarning===!0||gR(o.nodeValue,p)),o||Xl(c)}else o=H1(o).createTextNode(y),o[pt]=c,c.stateNode=o}return Ai(c),null;case 13:if(y=c.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(E=Ga(c),y!==null&&y.dehydrated!==null){if(o===null){if(!E)throw Error(n(318));if(E=c.memoizedState,E=E!==null?E.dehydrated:null,!E)throw Error(n(317));E[pt]=c}else ju(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;Ai(c),E=!1}else E=si(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=E),E=!0;if(!E)return c.flags&256?(Ao(c),c):(Ao(c),null)}if(Ao(c),(c.flags&128)!==0)return c.lanes=p,c;if(p=y!==null,o=o!==null&&o.memoizedState!==null,p){y=c.child,E=null,y.alternate!==null&&y.alternate.memoizedState!==null&&y.alternate.memoizedState.cachePool!==null&&(E=y.alternate.memoizedState.cachePool.pool);var w=null;y.memoizedState!==null&&y.memoizedState.cachePool!==null&&(w=y.memoizedState.cachePool.pool),w!==E&&(y.flags|=2048)}return p!==o&&p&&(c.child.flags|=8192),dl(c,c.updateQueue),Ai(c),null;case 4:return ht(),o===null&&lb(c.stateNode.containerInfo),Ai(c),null;case 10:return al(c.type),Ai(c),null;case 19:if(ue(Yi),E=c.memoizedState,E===null)return Ai(c),null;if(y=(c.flags&128)!==0,w=E.rendering,w===null)if(y)Yc(E,!1);else{if(wi!==0||o!==null&&(o.flags&128)!==0)for(o=c.child;o!==null;){if(w=hl(o),w!==null){for(c.flags|=128,Yc(E,!1),o=w.updateQueue,c.updateQueue=o,dl(c,o),c.subtreeFlags=0,o=p,p=c.child;p!==null;)A0(p,o),p=p.sibling;return _e(Yi,Yi.current&1|2),c.child}o=o.sibling}E.tail!==null&&le()>ks&&(c.flags|=128,y=!0,Yc(E,!1),c.lanes=4194304)}else{if(!y)if(o=hl(w),o!==null){if(c.flags|=128,y=!0,o=o.updateQueue,c.updateQueue=o,dl(c,o),Yc(E,!0),E.tail===null&&E.tailMode==="hidden"&&!w.alternate&&!Zn)return Ai(c),null}else 2*le()-E.renderingStartTime>ks&&p!==536870912&&(c.flags|=128,y=!0,Yc(E,!1),c.lanes=4194304);E.isBackwards?(w.sibling=c.child,c.child=w):(o=E.last,o!==null?o.sibling=w:c.child=w,E.last=w)}return E.tail!==null?(c=E.tail,E.rendering=c,E.tail=c.sibling,E.renderingStartTime=le(),c.sibling=null,o=Yi.current,_e(Yi,y?o&1|2:o&1),c):(Ai(c),null);case 22:case 23:return Ao(c),jh(),y=c.memoizedState!==null,o!==null?o.memoizedState!==null!==y&&(c.flags|=8192):y&&(c.flags|=8192),y?(p&536870912)!==0&&(c.flags&128)===0&&(Ai(c),c.subtreeFlags&6&&(c.flags|=8192)):Ai(c),p=c.updateQueue,p!==null&&dl(c,p.retryQueue),p=null,o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(p=o.memoizedState.cachePool.pool),y=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(y=c.memoizedState.cachePool.pool),y!==p&&(c.flags|=2048),o!==null&&ue(ya),null;case 24:return p=null,o!==null&&(p=o.memoizedState.cache),c.memoizedState.cache!==p&&(c.flags|=2048),al(es),Ai(c),null;case 25:return null;case 30:return null}throw Error(n(156,c.tag))}function af(o,c){switch(b0(c),c.tag){case 1:return o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 3:return al(es),ht(),o=c.flags,(o&65536)!==0&&(o&128)===0?(c.flags=o&-65537|128,c):null;case 26:case 27:case 5:return st(c),null;case 13:if(Ao(c),o=c.memoizedState,o!==null&&o.dehydrated!==null){if(c.alternate===null)throw Error(n(340));ju()}return o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 19:return ue(Yi),null;case 4:return ht(),null;case 10:return al(c.type),null;case 22:case 23:return Ao(c),jh(),o!==null&&ue(ya),o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 24:return al(es),null;case 25:return null;default:return null}}function of(o,c){switch(b0(c),c.tag){case 3:al(es),ht();break;case 26:case 27:case 5:st(c);break;case 4:ht();break;case 13:Ao(c);break;case 19:ue(Yi);break;case 10:al(c.type);break;case 22:case 23:Ao(c),jh(),o!==null&&ue(ya);break;case 24:al(es)}}function qc(o,c){try{var p=c.updateQueue,y=p!==null?p.lastEffect:null;if(y!==null){var E=y.next;p=E;do{if((p.tag&o)===o){y=void 0;var w=p.create,G=p.inst;y=w(),G.destroy=y}p=p.next}while(p!==E)}}catch(K){Se(c,c.return,K)}}function Yr(o,c,p){try{var y=c.updateQueue,E=y!==null?y.lastEffect:null;if(E!==null){var w=E.next;y=w;do{if((y.tag&o)===o){var G=y.inst,K=G.destroy;if(K!==void 0){G.destroy=void 0,E=c;var me=p,Oe=K;try{Oe()}catch($e){Se(E,me,$e)}}}y=y.next}while(y!==w)}}catch($e){Se(c,c.return,$e)}}function Wc(o){var c=o.updateQueue;if(c!==null){var p=o.stateNode;try{K_(c,p)}catch(y){Se(o,o.return,y)}}}function pl(o,c,p){p.props=Mo(o.type,o.memoizedProps),p.state=o.memoizedState;try{p.componentWillUnmount()}catch(y){Se(o,c,y)}}function Kc(o,c){try{var p=o.ref;if(p!==null){switch(o.tag){case 26:case 27:case 5:var y=o.stateNode;break;case 30:y=o.stateNode;break;default:y=o.stateNode}typeof p=="function"?o.refCleanup=p(y):p.current=y}}catch(E){Se(o,c,E)}}function Eo(o,c){var p=o.ref,y=o.refCleanup;if(p!==null)if(typeof y=="function")try{y()}catch(E){Se(o,c,E)}finally{o.refCleanup=null,o=o.alternate,o!=null&&(o.refCleanup=null)}else if(typeof p=="function")try{p(null)}catch(E){Se(o,c,E)}else p.current=null}function lf(o){var c=o.type,p=o.memoizedProps,y=o.stateNode;try{e:switch(c){case"button":case"input":case"select":case"textarea":p.autoFocus&&y.focus();break e;case"img":p.src?y.src=p.src:p.srcSet&&(y.srcset=p.srcSet)}}catch(E){Se(o,o.return,E)}}function $h(o,c,p){try{var y=o.stateNode;iP(y,o.type,p,c),y[Ut]=c}catch(E){Se(o,o.return,E)}}function ed(o){return o.tag===5||o.tag===3||o.tag===26||o.tag===27&&mf(o.type)||o.tag===4}function nc(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||ed(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.tag===27&&mf(o.type)||o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function ic(o,c,p){var y=o.tag;if(y===5||y===6)o=o.stateNode,c?(p.nodeType===9?p.body:p.nodeName==="HTML"?p.ownerDocument.body:p).insertBefore(o,c):(c=p.nodeType===9?p.body:p.nodeName==="HTML"?p.ownerDocument.body:p,c.appendChild(o),p=p._reactRootContainer,p!=null||c.onclick!==null||(c.onclick=z1));else if(y!==4&&(y===27&&mf(o.type)&&(p=o.stateNode,c=null),o=o.child,o!==null))for(ic(o,c,p),o=o.sibling;o!==null;)ic(o,c,p),o=o.sibling}function sc(o,c,p){var y=o.tag;if(y===5||y===6)o=o.stateNode,c?p.insertBefore(o,c):p.appendChild(o);else if(y!==4&&(y===27&&mf(o.type)&&(p=o.stateNode),o=o.child,o!==null))for(sc(o,c,p),o=o.sibling;o!==null;)sc(o,c,p),o=o.sibling}function rc(o){var c=o.stateNode,p=o.memoizedProps;try{for(var y=o.type,E=c.attributes;E.length;)c.removeAttributeNode(E[0]);or(c,y,p),c[pt]=o,c[Ut]=p}catch(w){Se(o,o.return,w)}}var To=!1,Mi=!1,cf=!1,qr=typeof WeakSet=="function"?WeakSet:Set,yi=null;function ls(o,c){if(o=o.containerInfo,fb=Y1,o=m0(o),wh(o)){if("selectionStart"in o)var p={start:o.selectionStart,end:o.selectionEnd};else e:{p=(p=o.ownerDocument)&&p.defaultView||window;var y=p.getSelection&&p.getSelection();if(y&&y.rangeCount!==0){p=y.anchorNode;var E=y.anchorOffset,w=y.focusNode;y=y.focusOffset;try{p.nodeType,w.nodeType}catch{p=null;break e}var G=0,K=-1,me=-1,Oe=0,$e=0,it=o,ze=null;t:for(;;){for(var je;it!==p||E!==0&&it.nodeType!==3||(K=G+E),it!==w||y!==0&&it.nodeType!==3||(me=G+y),it.nodeType===3&&(G+=it.nodeValue.length),(je=it.firstChild)!==null;)ze=it,it=je;for(;;){if(it===o)break t;if(ze===p&&++Oe===E&&(K=G),ze===w&&++$e===y&&(me=G),(je=it.nextSibling)!==null)break;it=ze,ze=it.parentNode}it=je}p=K===-1||me===-1?null:{start:K,end:me}}else p=null}p=p||{start:0,end:0}}else p=null;for(hb={focusedElem:o,selectionRange:p},Y1=!1,yi=c;yi!==null;)if(c=yi,o=c.child,(c.subtreeFlags&1024)!==0&&o!==null)o.return=c,yi=o;else for(;yi!==null;){switch(c=yi,w=c.alternate,o=c.flags,c.tag){case 0:break;case 11:case 15:break;case 1:if((o&1024)!==0&&w!==null){o=void 0,p=c,E=w.memoizedProps,w=w.memoizedState,y=p.stateNode;try{var pn=Mo(p.type,E,p.elementType===p.type);o=y.getSnapshotBeforeUpdate(pn,w),y.__reactInternalSnapshotBeforeUpdate=o}catch(ln){Se(p,p.return,ln)}}break;case 3:if((o&1024)!==0){if(o=c.stateNode.containerInfo,p=o.nodeType,p===9)mb(o);else if(p===1)switch(o.nodeName){case"HEAD":case"HTML":case"BODY":mb(o);break;default:o.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((o&1024)!==0)throw Error(n(163))}if(o=c.sibling,o!==null){o.return=c.return,yi=o;break}yi=c.return}}function ml(o,c,p){var y=p.flags;switch(p.tag){case 0:case 11:case 15:rr(o,p),y&4&&qc(5,p);break;case 1:if(rr(o,p),y&4)if(o=p.stateNode,c===null)try{o.componentDidMount()}catch(G){Se(p,p.return,G)}else{var E=Mo(p.type,c.memoizedProps);c=c.memoizedState;try{o.componentDidUpdate(E,c,o.__reactInternalSnapshotBeforeUpdate)}catch(G){Se(p,p.return,G)}}y&64&&Wc(p),y&512&&Kc(p,p.return);break;case 3:if(rr(o,p),y&64&&(o=p.updateQueue,o!==null)){if(c=null,p.child!==null)switch(p.child.tag){case 27:case 5:c=p.child.stateNode;break;case 1:c=p.child.stateNode}try{K_(o,c)}catch(G){Se(p,p.return,G)}}break;case 27:c===null&&y&4&&rc(p);case 26:case 5:rr(o,p),c===null&&y&4&&lf(p),y&512&&Kc(p,p.return);break;case 12:rr(o,p);break;case 13:rr(o,p),y&4&&ac(o,p),y&64&&(o=p.memoizedState,o!==null&&(o=o.dehydrated,o!==null&&(p=Ri.bind(null,p),uP(o,p))));break;case 22:if(y=p.memoizedState!==null||To,!y){c=c!==null&&c.memoizedState!==null||Mi,E=To;var w=Mi;To=y,(Mi=c)&&!w?Co(o,p,(p.subtreeFlags&8772)!==0):rr(o,p),To=E,Mi=w}break;case 30:break;default:rr(o,p)}}function Cn(o){var c=o.alternate;c!==null&&(o.alternate=null,Cn(c)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(c=o.stateNode,c!==null&&tn(c)),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}var an=null,Xn=!1;function ba(o,c,p){for(p=p.child;p!==null;)Jc(o,c,p),p=p.sibling}function Jc(o,c,p){if(lt&&typeof lt.onCommitFiberUnmount=="function")try{lt.onCommitFiberUnmount(Ve,p)}catch{}switch(p.tag){case 26:Mi||Eo(p,c),ba(o,c,p),p.memoizedState?p.memoizedState.count--:p.stateNode&&(p=p.stateNode,p.parentNode.removeChild(p));break;case 27:Mi||Eo(p,c);var y=an,E=Xn;mf(p.type)&&(an=p.stateNode,Xn=!1),ba(o,c,p),iv(p.stateNode),an=y,Xn=E;break;case 5:Mi||Eo(p,c);case 6:if(y=an,E=Xn,an=null,ba(o,c,p),an=y,Xn=E,an!==null)if(Xn)try{(an.nodeType===9?an.body:an.nodeName==="HTML"?an.ownerDocument.body:an).removeChild(p.stateNode)}catch(w){Se(p,c,w)}else try{an.removeChild(p.stateNode)}catch(w){Se(p,c,w)}break;case 18:an!==null&&(Xn?(o=an,SR(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,p.stateNode),fv(o)):SR(an,p.stateNode));break;case 4:y=an,E=Xn,an=p.stateNode.containerInfo,Xn=!0,ba(o,c,p),an=y,Xn=E;break;case 0:case 11:case 14:case 15:Mi||Yr(2,p,c),Mi||Yr(4,p,c),ba(o,c,p);break;case 1:Mi||(Eo(p,c),y=p.stateNode,typeof y.componentWillUnmount=="function"&&pl(p,c,y)),ba(o,c,p);break;case 21:ba(o,c,p);break;case 22:Mi=(y=Mi)||p.memoizedState!==null,ba(o,c,p),Mi=y;break;default:ba(o,c,p)}}function ac(o,c){if(c.memoizedState===null&&(o=c.alternate,o!==null&&(o=o.memoizedState,o!==null&&(o=o.dehydrated,o!==null))))try{fv(o)}catch(p){Se(c,c.return,p)}}function hm(o){switch(o.tag){case 13:case 19:var c=o.stateNode;return c===null&&(c=o.stateNode=new qr),c;case 22:return o=o.stateNode,c=o._retryCache,c===null&&(c=o._retryCache=new qr),c;default:throw Error(n(435,o.tag))}}function Zc(o,c){var p=hm(o);c.forEach(function(y){var E=dn.bind(null,o,y);p.has(y)||(p.add(y),y.then(E,E))})}function Ss(o,c){var p=c.deletions;if(p!==null)for(var y=0;y<p.length;y++){var E=p[y],w=o,G=c,K=G;e:for(;K!==null;){switch(K.tag){case 27:if(mf(K.type)){an=K.stateNode,Xn=!1;break e}break;case 5:an=K.stateNode,Xn=!1;break e;case 3:case 4:an=K.stateNode.containerInfo,Xn=!0;break e}K=K.return}if(an===null)throw Error(n(160));Jc(w,G,E),an=null,Xn=!1,w=E.alternate,w!==null&&(w.return=null),E.return=null}if(c.subtreeFlags&13878)for(c=c.child;c!==null;)dm(c,o),c=c.sibling}var Wa=null;function dm(o,c){var p=o.alternate,y=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:Ss(c,o),Fi(o),y&4&&(Yr(3,o,o.return),qc(3,o),Yr(5,o,o.return));break;case 1:Ss(c,o),Fi(o),y&512&&(Mi||p===null||Eo(p,p.return)),y&64&&To&&(o=o.updateQueue,o!==null&&(y=o.callbacks,y!==null&&(p=o.shared.hiddenCallbacks,o.shared.hiddenCallbacks=p===null?y:p.concat(y))));break;case 26:var E=Wa;if(Ss(c,o),Fi(o),y&512&&(Mi||p===null||Eo(p,p.return)),y&4){var w=p!==null?p.memoizedState:null;if(y=o.memoizedState,p===null)if(y===null)if(o.stateNode===null){e:{y=o.type,p=o.memoizedProps,E=E.ownerDocument||E;t:switch(y){case"title":w=E.getElementsByTagName("title")[0],(!w||w[ei]||w[pt]||w.namespaceURI==="http://www.w3.org/2000/svg"||w.hasAttribute("itemprop"))&&(w=E.createElement(y),E.head.insertBefore(w,E.querySelector("head > title"))),or(w,y,p),w[pt]=o,Be(w),y=w;break e;case"link":var G=RR("link","href",E).get(y+(p.href||""));if(G){for(var K=0;K<G.length;K++)if(w=G[K],w.getAttribute("href")===(p.href==null||p.href===""?null:p.href)&&w.getAttribute("rel")===(p.rel==null?null:p.rel)&&w.getAttribute("title")===(p.title==null?null:p.title)&&w.getAttribute("crossorigin")===(p.crossOrigin==null?null:p.crossOrigin)){G.splice(K,1);break t}}w=E.createElement(y),or(w,y,p),E.head.appendChild(w);break;case"meta":if(G=RR("meta","content",E).get(y+(p.content||""))){for(K=0;K<G.length;K++)if(w=G[K],w.getAttribute("content")===(p.content==null?null:""+p.content)&&w.getAttribute("name")===(p.name==null?null:p.name)&&w.getAttribute("property")===(p.property==null?null:p.property)&&w.getAttribute("http-equiv")===(p.httpEquiv==null?null:p.httpEquiv)&&w.getAttribute("charset")===(p.charSet==null?null:p.charSet)){G.splice(K,1);break t}}w=E.createElement(y),or(w,y,p),E.head.appendChild(w);break;default:throw Error(n(468,y))}w[pt]=o,Be(w),y=w}o.stateNode=y}else BR(E,o.type,o.stateNode);else o.stateNode=wR(E,y,o.memoizedProps);else w!==y?(w===null?p.stateNode!==null&&(p=p.stateNode,p.parentNode.removeChild(p)):w.count--,y===null?BR(E,o.type,o.stateNode):wR(E,y,o.memoizedProps)):y===null&&o.stateNode!==null&&$h(o,o.memoizedProps,p.memoizedProps)}break;case 27:Ss(c,o),Fi(o),y&512&&(Mi||p===null||Eo(p,p.return)),p!==null&&y&4&&$h(o,o.memoizedProps,p.memoizedProps);break;case 5:if(Ss(c,o),Fi(o),y&512&&(Mi||p===null||Eo(p,p.return)),o.flags&32){E=o.stateNode;try{Qs(E,"")}catch(je){Se(o,o.return,je)}}y&4&&o.stateNode!=null&&(E=o.memoizedProps,$h(o,E,p!==null?p.memoizedProps:E)),y&1024&&(cf=!0);break;case 6:if(Ss(c,o),Fi(o),y&4){if(o.stateNode===null)throw Error(n(162));y=o.memoizedProps,p=o.stateNode;try{p.nodeValue=y}catch(je){Se(o,o.return,je)}}break;case 3:if(k1=null,E=Wa,Wa=G1(c.containerInfo),Ss(c,o),Wa=E,Fi(o),y&4&&p!==null&&p.memoizedState.isDehydrated)try{fv(c.containerInfo)}catch(je){Se(o,o.return,je)}cf&&(cf=!1,oc(o));break;case 4:y=Wa,Wa=G1(o.stateNode.containerInfo),Ss(c,o),Fi(o),Wa=y;break;case 12:Ss(c,o),Fi(o);break;case 13:Ss(c,o),Fi(o),o.child.flags&8192&&o.memoizedState!==null!=(p!==null&&p.memoizedState!==null)&&(hi=le()),y&4&&(y=o.updateQueue,y!==null&&(o.updateQueue=null,Zc(o,y)));break;case 22:E=o.memoizedState!==null;var me=p!==null&&p.memoizedState!==null,Oe=To,$e=Mi;if(To=Oe||E,Mi=$e||me,Ss(c,o),Mi=$e,To=Oe,Fi(o),y&8192)e:for(c=o.stateNode,c._visibility=E?c._visibility&-2:c._visibility|1,E&&(p===null||me||To||Mi||Wr(o)),p=null,c=o;;){if(c.tag===5||c.tag===26){if(p===null){me=p=c;try{if(w=me.stateNode,E)G=w.style,typeof G.setProperty=="function"?G.setProperty("display","none","important"):G.display="none";else{K=me.stateNode;var it=me.memoizedProps.style,ze=it!=null&&it.hasOwnProperty("display")?it.display:null;K.style.display=ze==null||typeof ze=="boolean"?"":(""+ze).trim()}}catch(je){Se(me,me.return,je)}}}else if(c.tag===6){if(p===null){me=c;try{me.stateNode.nodeValue=E?"":me.memoizedProps}catch(je){Se(me,me.return,je)}}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===o)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break e;for(;c.sibling===null;){if(c.return===null||c.return===o)break e;p===c&&(p=null),c=c.return}p===c&&(p=null),c.sibling.return=c.return,c=c.sibling}y&4&&(y=o.updateQueue,y!==null&&(p=y.retryQueue,p!==null&&(y.retryQueue=null,Zc(o,p))));break;case 19:Ss(c,o),Fi(o),y&4&&(y=o.updateQueue,y!==null&&(o.updateQueue=null,Zc(o,y)));break;case 30:break;case 21:break;default:Ss(c,o),Fi(o)}}function Fi(o){var c=o.flags;if(c&2){try{for(var p,y=o.return;y!==null;){if(ed(y)){p=y;break}y=y.return}if(p==null)throw Error(n(160));switch(p.tag){case 27:var E=p.stateNode,w=nc(o);sc(o,w,E);break;case 5:var G=p.stateNode;p.flags&32&&(Qs(G,""),p.flags&=-33);var K=nc(o);sc(o,K,G);break;case 3:case 4:var me=p.stateNode.containerInfo,Oe=nc(o);ic(o,Oe,me);break;default:throw Error(n(161))}}catch($e){Se(o,o.return,$e)}o.flags&=-3}c&4096&&(o.flags&=-4097)}function oc(o){if(o.subtreeFlags&1024)for(o=o.child;o!==null;){var c=o;oc(c),c.tag===5&&c.flags&1024&&c.stateNode.reset(),o=o.sibling}}function rr(o,c){if(c.subtreeFlags&8772)for(c=c.child;c!==null;)ml(o,c.alternate,c),c=c.sibling}function Wr(o){for(o=o.child;o!==null;){var c=o;switch(c.tag){case 0:case 11:case 14:case 15:Yr(4,c,c.return),Wr(c);break;case 1:Eo(c,c.return);var p=c.stateNode;typeof p.componentWillUnmount=="function"&&pl(c,c.return,p),Wr(c);break;case 27:iv(c.stateNode);case 26:case 5:Eo(c,c.return),Wr(c);break;case 22:c.memoizedState===null&&Wr(c);break;case 30:Wr(c);break;default:Wr(c)}o=o.sibling}}function Co(o,c,p){for(p=p&&(c.subtreeFlags&8772)!==0,c=c.child;c!==null;){var y=c.alternate,E=o,w=c,G=w.flags;switch(w.tag){case 0:case 11:case 15:Co(E,w,p),qc(4,w);break;case 1:if(Co(E,w,p),y=w,E=y.stateNode,typeof E.componentDidMount=="function")try{E.componentDidMount()}catch(Oe){Se(y,y.return,Oe)}if(y=w,E=y.updateQueue,E!==null){var K=y.stateNode;try{var me=E.shared.hiddenCallbacks;if(me!==null)for(E.shared.hiddenCallbacks=null,E=0;E<me.length;E++)Zu(me[E],K)}catch(Oe){Se(y,y.return,Oe)}}p&&G&64&&Wc(w),Kc(w,w.return);break;case 27:rc(w);case 26:case 5:Co(E,w,p),p&&y===null&&G&4&&lf(w),Kc(w,w.return);break;case 12:Co(E,w,p);break;case 13:Co(E,w,p),p&&G&4&&ac(E,w);break;case 22:w.memoizedState===null&&Co(E,w,p),Kc(w,w.return);break;case 30:break;default:Co(E,w,p)}c=c.sibling}}function pm(o,c){var p=null;o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(p=o.memoizedState.cachePool.pool),o=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(o=c.memoizedState.cachePool.pool),o!==p&&(o!=null&&o.refCount++,p!=null&&Xu(p))}function mm(o,c){o=null,c.alternate!==null&&(o=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==o&&(c.refCount++,o!=null&&Xu(o))}function _i(o,c,p,y){if(c.subtreeFlags&10256)for(c=c.child;c!==null;)gm(o,c,p,y),c=c.sibling}function gm(o,c,p,y){var E=c.flags;switch(c.tag){case 0:case 11:case 15:_i(o,c,p,y),E&2048&&qc(9,c);break;case 1:_i(o,c,p,y);break;case 3:_i(o,c,p,y),E&2048&&(o=null,c.alternate!==null&&(o=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==o&&(c.refCount++,o!=null&&Xu(o)));break;case 12:if(E&2048){_i(o,c,p,y),o=c.stateNode;try{var w=c.memoizedProps,G=w.id,K=w.onPostCommit;typeof K=="function"&&K(G,c.alternate===null?"mount":"update",o.passiveEffectDuration,-0)}catch(me){Se(c,c.return,me)}}else _i(o,c,p,y);break;case 13:_i(o,c,p,y);break;case 23:break;case 22:w=c.stateNode,G=c.alternate,c.memoizedState!==null?w._visibility&2?_i(o,c,p,y):Ka(o,c):w._visibility&2?_i(o,c,p,y):(w._visibility|=2,gl(o,c,p,y,(c.subtreeFlags&10256)!==0)),E&2048&&pm(G,c);break;case 24:_i(o,c,p,y),E&2048&&mm(c.alternate,c);break;default:_i(o,c,p,y)}}function gl(o,c,p,y,E){for(E=E&&(c.subtreeFlags&10256)!==0,c=c.child;c!==null;){var w=o,G=c,K=p,me=y,Oe=G.flags;switch(G.tag){case 0:case 11:case 15:gl(w,G,K,me,E),qc(8,G);break;case 23:break;case 22:var $e=G.stateNode;G.memoizedState!==null?$e._visibility&2?gl(w,G,K,me,E):Ka(w,G):($e._visibility|=2,gl(w,G,K,me,E)),E&&Oe&2048&&pm(G.alternate,G);break;case 24:gl(w,G,K,me,E),E&&Oe&2048&&mm(G.alternate,G);break;default:gl(w,G,K,me,E)}c=c.sibling}}function Ka(o,c){if(c.subtreeFlags&10256)for(c=c.child;c!==null;){var p=o,y=c,E=y.flags;switch(y.tag){case 22:Ka(p,y),E&2048&&pm(y.alternate,y);break;case 24:Ka(p,y),E&2048&&mm(y.alternate,y);break;default:Ka(p,y)}c=c.sibling}}var Kr=8192;function uf(o){if(o.subtreeFlags&Kr)for(o=o.child;o!==null;)U1(o),o=o.sibling}function U1(o){switch(o.tag){case 26:uf(o),o.flags&Kr&&o.memoizedState!==null&&MP(Wa,o.memoizedState,o.memoizedProps);break;case 5:uf(o);break;case 3:case 4:var c=Wa;Wa=G1(o.stateNode.containerInfo),uf(o),Wa=c;break;case 22:o.memoizedState===null&&(c=o.alternate,c!==null&&c.memoizedState!==null?(c=Kr,Kr=16777216,uf(o),Kr=c):uf(o));break;default:uf(o)}}function P1(o){var c=o.alternate;if(c!==null&&(o=c.child,o!==null)){c.child=null;do c=o.sibling,o.sibling=null,o=c;while(o!==null)}}function bi(o){var c=o.deletions;if((o.flags&16)!==0){if(c!==null)for(var p=0;p<c.length;p++){var y=c[p];yi=y,Ro(y,o)}P1(o)}if(o.subtreeFlags&10256)for(o=o.child;o!==null;)Q0(o),o=o.sibling}function Q0(o){switch(o.tag){case 0:case 11:case 15:bi(o),o.flags&2048&&Yr(9,o,o.return);break;case 3:bi(o);break;case 12:bi(o);break;case 22:var c=o.stateNode;o.memoizedState!==null&&c._visibility&2&&(o.return===null||o.return.tag!==13)?(c._visibility&=-3,wo(o)):bi(o);break;default:bi(o)}}function wo(o){var c=o.deletions;if((o.flags&16)!==0){if(c!==null)for(var p=0;p<c.length;p++){var y=c[p];yi=y,Ro(y,o)}P1(o)}for(o=o.child;o!==null;){switch(c=o,c.tag){case 0:case 11:case 15:Yr(8,c,c.return),wo(c);break;case 22:p=c.stateNode,p._visibility&2&&(p._visibility&=-3,wo(c));break;default:wo(c)}o=o.sibling}}function Ro(o,c){for(;yi!==null;){var p=yi;switch(p.tag){case 0:case 11:case 15:Yr(8,p,c);break;case 23:case 22:if(p.memoizedState!==null&&p.memoizedState.cachePool!==null){var y=p.memoizedState.cachePool.pool;y!=null&&y.refCount++}break;case 24:Xu(p.memoizedState.cache)}if(y=p.child,y!==null)y.return=p,yi=y;else e:for(p=o;yi!==null;){y=yi;var E=y.sibling,w=y.return;if(Cn(y),y===p){yi=null;break e}if(E!==null){E.return=w,yi=E;break e}yi=w}}}var zi={getCacheForType:function(o){var c=Ii(es),p=c.data.get(o);return p===void 0&&(p=o(),c.data.set(o,p)),p}},$0=typeof WeakMap=="function"?WeakMap:Map,ri=0,gn=null,Nn=null,nn=0,Mn=0,Li=null,Jr=!1,ff=!1,hf=!1,Ea=0,wi=0,Ja=0,Bo=0,Qc=0,Ta=0,Yn=0,ai=null,on=null,Pn=!1,hi=0,ks=1/0,Ca=null,Zr=null,cs=0,js=null,xi=null,Qr=0,vl=0,td=null,$r=null,Do=0,$c=null;function Hi(){if((ri&2)!==0&&nn!==0)return nn&-nn;if(H.T!==null){var o=yn;return o!==0?o:sb()}return Et()}function vm(){Ta===0&&(Ta=(nn&536870912)===0||Zn?he():536870912);var o=vi.current;return o!==null&&(o.flags|=32),Ta}function ar(o,c,p){(o===gn&&(Mn===2||Mn===9)||o.cancelPendingCommit!==null)&&(cc(o,0),Za(o,nn,Ta,!1)),We(o,p),((ri&2)===0||o!==gn)&&(o===gn&&((ri&2)===0&&(Bo|=p),wi===4&&Za(o,nn,Ta,!1)),hc(o))}function df(o,c,p){if((ri&6)!==0)throw Error(n(327));var y=!p&&(c&124)===0&&(c&o.expiredLanes)===0||wt(o,c),E=y?T(o,c):d(o,c,!0),w=y;do{if(E===0){ff&&!y&&Za(o,c,0,!1);break}else{if(p=o.current.alternate,w&&!lc(p)){E=d(o,c,!1),w=!1;continue}if(E===2){if(w=c,o.errorRecoveryDisabledLanes&w)var G=0;else G=o.pendingLanes&-536870913,G=G!==0?G:G&536870912?536870912:0;if(G!==0){c=G;e:{var K=o;E=ai;var me=K.current.memoizedState.isDehydrated;if(me&&(cc(K,G).flags|=256),G=d(K,G,!1),G!==2){if(hf&&!me){K.errorRecoveryDisabledLanes|=w,Bo|=w,E=4;break e}w=on,on=E,w!==null&&(on===null?on=w:on.push.apply(on,w))}E=G}if(w=!1,E!==2)continue}}if(E===1){cc(o,0),Za(o,c,0,!0);break}e:{switch(y=o,w=E,w){case 0:case 1:throw Error(n(345));case 4:if((c&4194048)!==c)break;case 6:Za(y,c,Ta,!Jr);break e;case 2:on=null;break;case 3:case 5:break;default:throw Error(n(329))}if((c&62914560)===c&&(E=hi+300-le(),10<E)){if(Za(y,c,Ta,!Jr),Wt(y,0,!0)!==0)break e;y.timeoutHandle=_R(nd.bind(null,y,p,on,Ca,Pn,c,Ta,Bo,Yn,Jr,w,2,-0,0),E);break e}nd(y,p,on,Ca,Pn,c,Ta,Bo,Yn,Jr,w,0,-0,0)}}break}while(!0);hc(o)}function nd(o,c,p,y,E,w,G,K,me,Oe,$e,it,ze,je){if(o.timeoutHandle=-1,it=c.subtreeFlags,(it&8192||(it&16785408)===16785408)&&(av={stylesheets:null,count:0,unsuspend:AP},U1(c),it=bP(),it!==null)){o.cancelPendingCommit=it(yt.bind(null,o,c,w,p,y,E,G,K,me,$e,1,ze,je)),Za(o,w,G,!Oe);return}yt(o,c,w,p,y,E,G,K,me)}function lc(o){for(var c=o;;){var p=c.tag;if((p===0||p===11||p===15)&&c.flags&16384&&(p=c.updateQueue,p!==null&&(p=p.stores,p!==null)))for(var y=0;y<p.length;y++){var E=p[y],w=E.getSnapshot;E=E.value;try{if(!yr(w(),E))return!1}catch{return!1}}if(p=c.child,c.subtreeFlags&16384&&p!==null)p.return=c,c=p;else{if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function Za(o,c,p,y){c&=~Qc,c&=~Bo,o.suspendedLanes|=c,o.pingedLanes&=~c,y&&(o.warmLanes|=c),y=o.expirationTimes;for(var E=c;0<E;){var w=31-ut(E),G=1<<w;y[w]=-1,E&=~G}p!==0&&Mt(o,p,c)}function No(){return(ri&6)===0?(ev(0),!1):!0}function eu(){if(Nn!==null){if(Mn===0)var o=Nn.return;else o=Nn,rl=Yl=null,U0(o),Fc=null,Wh=0,o=Nn;for(;o!==null;)of(o.alternate,o),o=o.return;Nn=null}}function cc(o,c){var p=o.timeoutHandle;p!==-1&&(o.timeoutHandle=-1,rP(p)),p=o.cancelPendingCommit,p!==null&&(o.cancelPendingCommit=null,p()),eu(),gn=o,Nn=p=ji(o.current,null),nn=c,Mn=0,Li=null,Jr=!1,ff=wt(o,c),hf=!1,Yn=Ta=Qc=Bo=Ja=wi=0,on=ai=null,Pn=!1,(c&8)!==0&&(c|=c&32);var y=o.entangledLanes;if(y!==0)for(o=o.entanglements,y&=c;0<y;){var E=31-ut(y),w=1<<E;c|=o[E],y&=~w}return Ea=c,Dh(),p}function ym(o,c){_n=null,H.H=qh,c===Gh||c===Va?(c=B0(),Mn=3):c===R0?(c=B0(),Mn=4):Mn=c===L1?8:c!==null&&typeof c=="object"&&typeof c.then=="function"?6:1,Li=c,Nn===null&&(wi=1,cm(o,Bs(c,o.current)))}function pf(){var o=H.H;return H.H=qh,o===null?qh:o}function _m(){var o=H.A;return H.A=zi,o}function f(){wi=4,Jr||(nn&4194048)!==nn&&vi.current!==null||(ff=!0),(Ja&134217727)===0&&(Bo&134217727)===0||gn===null||Za(gn,nn,Ta,!1)}function d(o,c,p){var y=ri;ri|=2;var E=pf(),w=_m();(gn!==o||nn!==c)&&(Ca=null,cc(o,c)),c=!1;var G=wi;e:do try{if(Mn!==0&&Nn!==null){var K=Nn,me=Li;switch(Mn){case 8:eu(),G=6;break e;case 3:case 2:case 9:case 6:vi.current===null&&(c=!0);var Oe=Mn;if(Mn=0,Li=null,ve(o,K,me,Oe),p&&ff){G=0;break e}break;default:Oe=Mn,Mn=0,Li=null,ve(o,K,me,Oe)}}x(),G=wi;break}catch($e){ym(o,$e)}while(!0);return c&&o.shellSuspendCounter++,rl=Yl=null,ri=y,H.H=E,H.A=w,Nn===null&&(gn=null,nn=0,Dh()),G}function x(){for(;Nn!==null;)L(Nn)}function T(o,c){var p=ri;ri|=2;var y=pf(),E=_m();gn!==o||nn!==c?(Ca=null,ks=le()+500,cc(o,c)):ff=wt(o,c);e:do try{if(Mn!==0&&Nn!==null){c=Nn;var w=Li;t:switch(Mn){case 1:Mn=0,Li=null,ve(o,c,w,1);break;case 2:case 9:if(Wp(w)){Mn=0,Li=null,$(c);break}c=function(){Mn!==2&&Mn!==9||gn!==o||(Mn=7),hc(o)},w.then(c,c);break e;case 3:Mn=7;break e;case 4:Mn=5;break e;case 7:Wp(w)?(Mn=0,Li=null,$(c)):(Mn=0,Li=null,ve(o,c,w,7));break;case 5:var G=null;switch(Nn.tag){case 26:G=Nn.memoizedState;case 5:case 27:var K=Nn;if(!G||DR(G)){Mn=0,Li=null;var me=K.sibling;if(me!==null)Nn=me;else{var Oe=K.return;Oe!==null?(Nn=Oe,we(Oe)):Nn=null}break t}}Mn=0,Li=null,ve(o,c,w,5);break;case 6:Mn=0,Li=null,ve(o,c,w,6);break;case 8:eu(),wi=6;break e;default:throw Error(n(462))}}R();break}catch($e){ym(o,$e)}while(!0);return rl=Yl=null,H.H=y,H.A=E,ri=p,Nn!==null?0:(gn=null,nn=0,Dh(),wi)}function R(){for(;Nn!==null&&!Ht();)L(Nn)}function L(o){var c=Xc(o.alternate,o,Ea);o.memoizedProps=o.pendingProps,c===null?we(o):Nn=c}function $(o){var c=o,p=c.alternate;switch(c.tag){case 15:case 0:c=jr(p,c,c.pendingProps,c.type,void 0,nn);break;case 11:c=jr(p,c,c.pendingProps,c.type.render,c.ref,nn);break;case 5:U0(c);default:of(p,c),c=Nn=A0(c,Ea),c=Xc(p,c,Ea)}o.memoizedProps=o.pendingProps,c===null?we(o):Nn=c}function ve(o,c,p,y){rl=Yl=null,U0(c),Fc=null,Wh=0;var E=c.return;try{if(nb(o,E,c,p,nn)){wi=1,cm(o,Bs(p,o.current)),Nn=null;return}}catch(w){if(E!==null)throw Nn=E,w;wi=1,cm(o,Bs(p,o.current)),Nn=null;return}c.flags&32768?(Zn||y===1?o=!0:ff||(nn&536870912)!==0?o=!1:(Jr=o=!0,(y===2||y===9||y===3||y===6)&&(y=vi.current,y!==null&&y.tag===13&&(y.flags|=16384))),Qe(c,o)):we(c)}function we(o){var c=o;do{if((c.flags&32768)!==0){Qe(c,Jr);return}o=c.return;var p=Z0(c.alternate,c,Ea);if(p!==null){Nn=p;return}if(c=c.sibling,c!==null){Nn=c;return}Nn=c=o}while(c!==null);wi===0&&(wi=5)}function Qe(o,c){do{var p=af(o.alternate,o);if(p!==null){p.flags&=32767,Nn=p;return}if(p=o.return,p!==null&&(p.flags|=32768,p.subtreeFlags=0,p.deletions=null),!c&&(o=o.sibling,o!==null)){Nn=o;return}Nn=o=p}while(o!==null);wi=6,Nn=null}function yt(o,c,p,y,E,w,G,K,me){o.cancelPendingCommit=null;do uc();while(cs!==0);if((ri&6)!==0)throw Error(n(327));if(c!==null){if(c===o.current)throw Error(n(177));if(w=c.lanes|c.childLanes,w|=zp,xt(o,p,w,G,K,me),o===gn&&(Nn=gn=null,nn=0),xi=c,js=o,Qr=p,vl=w,td=E,$r=y,(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?(o.callbackNode=null,o.callbackPriority=0,Qn(Q,function(){return fc(),null})):(o.callbackNode=null,o.callbackPriority=0),y=(c.flags&13878)!==0,(c.subtreeFlags&13878)!==0||y){y=H.T,H.T=null,E=Y.p,Y.p=2,G=ri,ri|=4;try{ls(o,c,p)}finally{ri=G,Y.p=E,H.T=y}}cs=1,Bt(),Ot(),vn()}}function Bt(){if(cs===1){cs=0;var o=js,c=xi,p=(c.flags&13878)!==0;if((c.subtreeFlags&13878)!==0||p){p=H.T,H.T=null;var y=Y.p;Y.p=2;var E=ri;ri|=4;try{dm(c,o);var w=hb,G=m0(o.containerInfo),K=w.focusedElem,me=w.selectionRange;if(G!==K&&K&&K.ownerDocument&&p0(K.ownerDocument.documentElement,K)){if(me!==null&&wh(K)){var Oe=me.start,$e=me.end;if($e===void 0&&($e=Oe),"selectionStart"in K)K.selectionStart=Oe,K.selectionEnd=Math.min($e,K.value.length);else{var it=K.ownerDocument||document,ze=it&&it.defaultView||window;if(ze.getSelection){var je=ze.getSelection(),pn=K.textContent.length,ln=Math.min(me.start,pn),Ti=me.end===void 0?ln:Math.min(me.end,pn);!je.extend&&ln>Ti&&(G=Ti,Ti=ln,ln=G);var Ce=d0(K,ln),Me=d0(K,Ti);if(Ce&&Me&&(je.rangeCount!==1||je.anchorNode!==Ce.node||je.anchorOffset!==Ce.offset||je.focusNode!==Me.node||je.focusOffset!==Me.offset)){var De=it.createRange();De.setStart(Ce.node,Ce.offset),je.removeAllRanges(),ln>Ti?(je.addRange(De),je.extend(Me.node,Me.offset)):(De.setEnd(Me.node,Me.offset),je.addRange(De))}}}}for(it=[],je=K;je=je.parentNode;)je.nodeType===1&&it.push({element:je,left:je.scrollLeft,top:je.scrollTop});for(typeof K.focus=="function"&&K.focus(),K=0;K<it.length;K++){var et=it[K];et.element.scrollLeft=et.left,et.element.scrollTop=et.top}}Y1=!!fb,hb=fb=null}finally{ri=E,Y.p=y,H.T=p}}o.current=c,cs=2}}function Ot(){if(cs===2){cs=0;var o=js,c=xi,p=(c.flags&8772)!==0;if((c.subtreeFlags&8772)!==0||p){p=H.T,H.T=null;var y=Y.p;Y.p=2;var E=ri;ri|=4;try{ml(o,c.alternate,c)}finally{ri=E,Y.p=y,H.T=p}}cs=3}}function vn(){if(cs===4||cs===3){cs=0,Ye();var o=js,c=xi,p=Qr,y=$r;(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?cs=5:(cs=0,xi=js=null,ea(o,o.pendingLanes));var E=o.pendingLanes;if(E===0&&(Zr=null),Jn(p),c=c.stateNode,lt&&typeof lt.onCommitFiberRoot=="function")try{lt.onCommitFiberRoot(Ve,c,void 0,(c.current.flags&128)===128)}catch{}if(y!==null){c=H.T,E=Y.p,Y.p=2,H.T=null;try{for(var w=o.onRecoverableError,G=0;G<y.length;G++){var K=y[G];w(K.value,{componentStack:K.stack})}}finally{H.T=c,Y.p=E}}(Qr&3)!==0&&uc(),hc(o),E=o.pendingLanes,(p&4194090)!==0&&(E&42)!==0?o===$c?Do++:(Do=0,$c=o):Do=0,ev(0)}}function ea(o,c){(o.pooledCacheLanes&=c)===0&&(c=o.pooledCache,c!=null&&(o.pooledCache=null,Xu(c)))}function uc(o){return Bt(),Ot(),vn(),fc()}function fc(){if(cs!==5)return!1;var o=js,c=vl;vl=0;var p=Jn(Qr),y=H.T,E=Y.p;try{Y.p=32>p?32:p,H.T=null,p=td,td=null;var w=js,G=Qr;if(cs=0,xi=js=null,Qr=0,(ri&6)!==0)throw Error(n(331));var K=ri;if(ri|=4,Q0(w.current),gm(w,w.current,G,p),ri=K,ev(0,!1),lt&&typeof lt.onPostCommitFiberRoot=="function")try{lt.onPostCommitFiberRoot(Ve,w)}catch{}return!0}finally{Y.p=E,H.T=y,ea(o,c)}}function Ue(o,c,p){c=Bs(p,c),c=um(o.stateNode,c,2),o=ll(o,c,2),o!==null&&(We(o,2),hc(o))}function Se(o,c,p){if(o.tag===3)Ue(o,o,p);else for(;c!==null;){if(c.tag===3){Ue(c,o,p);break}else if(c.tag===1){var y=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof y.componentDidCatch=="function"&&(Zr===null||!Zr.has(y))){o=Bs(p,o),p=O1(2),y=ll(c,p,2),y!==null&&(fm(p,y,c,o),We(y,2),hc(y));break}}c=c.return}}function Xe(o,c,p){var y=o.pingCache;if(y===null){y=o.pingCache=new $0;var E=new Set;y.set(c,E)}else E=y.get(c),E===void 0&&(E=new Set,y.set(c,E));E.has(p)||(hf=!0,E.add(p),o=mt.bind(null,o,c,p),c.then(o,o))}function mt(o,c,p){var y=o.pingCache;y!==null&&y.delete(c),o.pingedLanes|=o.suspendedLanes&p,o.warmLanes&=~p,gn===o&&(nn&p)===p&&(wi===4||wi===3&&(nn&62914560)===nn&&300>le()-hi?(ri&2)===0&&cc(o,0):Qc|=p,Yn===nn&&(Yn=0)),hc(o)}function Kt(o,c){c===0&&(c=Fe()),o=il(o,c),o!==null&&(We(o,c),hc(o))}function Ri(o){var c=o.memoizedState,p=0;c!==null&&(p=c.retryLane),Kt(o,p)}function dn(o,c){var p=0;switch(o.tag){case 13:var y=o.stateNode,E=o.memoizedState;E!==null&&(p=E.retryLane);break;case 19:y=o.stateNode;break;case 22:y=o.stateNode._retryCache;break;default:throw Error(n(314))}y!==null&&y.delete(c),Kt(o,p)}function Qn(o,c){return dt(o,c)}var Wi=null,Ln=null,Oo=!1,xm=!1,ib=!1,id=0;function hc(o){o!==Ln&&o.next===null&&(Ln===null?Wi=Ln=o:Ln=Ln.next=o),xm=!0,Oo||(Oo=!0,J6())}function ev(o,c){if(!ib&&xm){ib=!0;do for(var p=!1,y=Wi;y!==null;){if(o!==0){var E=y.pendingLanes;if(E===0)var w=0;else{var G=y.suspendedLanes,K=y.pingedLanes;w=(1<<31-ut(42|o)+1)-1,w&=E&~(G&~K),w=w&201326741?w&201326741|1:w?w|2:0}w!==0&&(p=!0,cR(y,w))}else w=nn,w=Wt(y,y===gn?w:0,y.cancelPendingCommit!==null||y.timeoutHandle!==-1),(w&3)===0||wt(y,w)||(p=!0,cR(y,w));y=y.next}while(p);ib=!1}}function K6(){aR()}function aR(){xm=Oo=!1;var o=0;id!==0&&(sP()&&(o=id),id=0);for(var c=le(),p=null,y=Wi;y!==null;){var E=y.next,w=oR(y,c);w===0?(y.next=null,p===null?Wi=E:p.next=E,E===null&&(Ln=p)):(p=y,(o!==0||(w&3)!==0)&&(xm=!0)),y=E}ev(o)}function oR(o,c){for(var p=o.suspendedLanes,y=o.pingedLanes,E=o.expirationTimes,w=o.pendingLanes&-62914561;0<w;){var G=31-ut(w),K=1<<G,me=E[G];me===-1?((K&p)===0||(K&y)!==0)&&(E[G]=Yt(K,c)):me<=c&&(o.expiredLanes|=K),w&=~K}if(c=gn,p=nn,p=Wt(o,o===c?p:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),y=o.callbackNode,p===0||o===c&&(Mn===2||Mn===9)||o.cancelPendingCommit!==null)return y!==null&&y!==null&&ce(y),o.callbackNode=null,o.callbackPriority=0;if((p&3)===0||wt(o,p)){if(c=p&-p,c===o.callbackPriority)return c;switch(y!==null&&ce(y),Jn(p)){case 2:case 8:p=Ge;break;case 32:p=Q;break;case 268435456:p=be;break;default:p=Q}return y=lR.bind(null,o),p=dt(p,y),o.callbackPriority=c,o.callbackNode=p,c}return y!==null&&y!==null&&ce(y),o.callbackPriority=2,o.callbackNode=null,2}function lR(o,c){if(cs!==0&&cs!==5)return o.callbackNode=null,o.callbackPriority=0,null;var p=o.callbackNode;if(uc()&&o.callbackNode!==p)return null;var y=nn;return y=Wt(o,o===gn?y:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),y===0?null:(df(o,y,c),oR(o,le()),o.callbackNode!=null&&o.callbackNode===p?lR.bind(null,o):null)}function cR(o,c){if(uc())return null;df(o,c,!0)}function J6(){aP(function(){(ri&6)!==0?dt(rt,K6):aR()})}function sb(){return id===0&&(id=he()),id}function uR(o){return o==null||typeof o=="symbol"||typeof o=="boolean"?null:typeof o=="function"?o:mh(""+o)}function fR(o,c){var p=c.ownerDocument.createElement("input");return p.name=c.name,p.value=c.value,o.id&&p.setAttribute("form",o.id),c.parentNode.insertBefore(p,c),o=new FormData(o),p.parentNode.removeChild(p),o}function Z6(o,c,p,y,E){if(c==="submit"&&p&&p.stateNode===E){var w=uR((E[Ut]||null).action),G=y.submitter;G&&(c=(c=G[Ut]||null)?uR(c.formAction):G.getAttribute("formAction"),c!==null&&(w=c,G=null));var K=new Nu("action","action",null,y,E);o.push({event:K,listeners:[{instance:null,listener:function(){if(y.defaultPrevented){if(id!==0){var me=G?fR(E,G):new FormData(E);q0(p,{pending:!0,data:me,method:E.method,action:w},null,me)}}else typeof w=="function"&&(K.preventDefault(),me=G?fR(E,G):new FormData(E),q0(p,{pending:!0,data:me,method:E.method,action:w},w,me))},currentTarget:E}]})}}for(var rb=0;rb<Bh.length;rb++){var ab=Bh[rb],Q6=ab.toLowerCase(),$6=ab[0].toUpperCase()+ab.slice(1);vs(Q6,"on"+$6)}vs(er,"onAnimationEnd"),vs(y0,"onAnimationIteration"),vs(xr,"onAnimationStart"),vs("dblclick","onDoubleClick"),vs("focusin","onFocus"),vs("focusout","onBlur"),vs(X_,"onTransitionRun"),vs(tl,"onTransitionStart"),vs(Hu,"onTransitionCancel"),vs(nl,"onTransitionEnd"),j("onMouseEnter",["mouseout","mouseover"]),j("onMouseLeave",["mouseout","mouseover"]),j("onPointerEnter",["pointerout","pointerover"]),j("onPointerLeave",["pointerout","pointerover"]),Ke("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ke("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ke("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ke("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ke("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ke("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var tv="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),eP=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(tv));function hR(o,c){c=(c&4)!==0;for(var p=0;p<o.length;p++){var y=o[p],E=y.event;y=y.listeners;e:{var w=void 0;if(c)for(var G=y.length-1;0<=G;G--){var K=y[G],me=K.instance,Oe=K.currentTarget;if(K=K.listener,me!==w&&E.isPropagationStopped())break e;w=K,E.currentTarget=Oe;try{w(E)}catch($e){Hc($e)}E.currentTarget=null,w=me}else for(G=0;G<y.length;G++){if(K=y[G],me=K.instance,Oe=K.currentTarget,K=K.listener,me!==w&&E.isPropagationStopped())break e;w=K,E.currentTarget=Oe;try{w(E)}catch($e){Hc($e)}E.currentTarget=null,w=me}}}}function Gn(o,c){var p=c[kt];p===void 0&&(p=c[kt]=new Set);var y=o+"__bubble";p.has(y)||(dR(c,o,2,!1),p.add(y))}function ob(o,c,p){var y=0;c&&(y|=4),dR(p,o,y,c)}var I1="_reactListening"+Math.random().toString(36).slice(2);function lb(o){if(!o[I1]){o[I1]=!0,ke.forEach(function(p){p!=="selectionchange"&&(eP.has(p)||ob(p,!1,o),ob(p,!0,o))});var c=o.nodeType===9?o:o.ownerDocument;c===null||c[I1]||(c[I1]=!0,ob("selectionchange",!1,c))}}function dR(o,c,p,y){switch(IR(c)){case 2:var E=CP;break;case 8:E=wP;break;default:E=Ab}p=E.bind(null,c,p,o),E=void 0,!vh||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(E=!0),y?E!==void 0?o.addEventListener(c,p,{capture:!0,passive:E}):o.addEventListener(c,p,!0):E!==void 0?o.addEventListener(c,p,{passive:E}):o.addEventListener(c,p,!1)}function cb(o,c,p,y,E){var w=y;if((c&1)===0&&(c&2)===0&&y!==null)e:for(;;){if(y===null)return;var G=y.tag;if(G===3||G===4){var K=y.stateNode.containerInfo;if(K===E)break;if(G===4)for(G=y.return;G!==null;){var me=G.tag;if((me===3||me===4)&&G.stateNode.containerInfo===E)return;G=G.return}for(;K!==null;){if(G=V(K),G===null)return;if(me=G.tag,me===5||me===6||me===26||me===27){y=w=G;continue e}K=K.parentNode}}y=y.return}t0(function(){var Oe=w,$e=Tp(p),it=[];e:{var ze=Fp.get(o);if(ze!==void 0){var je=Nu,pn=o;switch(o){case"keypress":if(Ll(p)===0)break e;case"keydown":case"keyup":je=a0;break;case"focusin":pn="focus",je=wp;break;case"focusout":pn="blur",je=wp;break;case"beforeblur":case"afterblur":je=wp;break;case"click":if(p.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":je=s0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":je=XM;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":je=l0;break;case er:case y0:case xr:je=B_;break;case nl:je=Zo;break;case"scroll":case"scrollend":je=C_;break;case"wheel":je=YM;break;case"copy":case"cut":case"paste":je=N_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":je=Bp;break;case"toggle":case"beforetoggle":je=Pl}var ln=(c&4)!==0,Ti=!ln&&(o==="scroll"||o==="scrollend"),Ce=ln?ze!==null?ze+"Capture":null:ze;ln=[];for(var Me=Oe,De;Me!==null;){var et=Me;if(De=et.stateNode,et=et.tag,et!==5&&et!==26&&et!==27||De===null||Ce===null||(et=Ru(Me,Ce),et!=null&&ln.push(nv(Me,et,De))),Ti)break;Me=Me.return}0<ln.length&&(ze=new je(ze,pn,null,p,$e),it.push({event:ze,listeners:ln}))}}if((c&7)===0){e:{if(ze=o==="mouseover"||o==="pointerover",je=o==="mouseout"||o==="pointerout",ze&&p!==Ep&&(pn=p.relatedTarget||p.fromElement)&&(V(pn)||pn[Rt]))break e;if((je||ze)&&(ze=$e.window===$e?$e:(ze=$e.ownerDocument)?ze.defaultView||ze.parentWindow:window,je?(pn=p.relatedTarget||p.toElement,je=Oe,pn=pn?V(pn):null,pn!==null&&(Ti=r(pn),ln=pn.tag,pn!==Ti||ln!==5&&ln!==27&&ln!==6)&&(pn=null)):(je=null,pn=Oe),je!==pn)){if(ln=s0,et="onMouseLeave",Ce="onMouseEnter",Me="mouse",(o==="pointerout"||o==="pointerover")&&(ln=Bp,et="onPointerLeave",Ce="onPointerEnter",Me="pointer"),Ti=je==null?ze:ge(je),De=pn==null?ze:ge(pn),ze=new ln(et,Me+"leave",je,p,$e),ze.target=Ti,ze.relatedTarget=De,et=null,V($e)===Oe&&(ln=new ln(Ce,Me+"enter",pn,p,$e),ln.target=De,ln.relatedTarget=Ti,et=ln),Ti=et,je&&pn)t:{for(ln=je,Ce=pn,Me=0,De=ln;De;De=Sm(De))Me++;for(De=0,et=Ce;et;et=Sm(et))De++;for(;0<Me-De;)ln=Sm(ln),Me--;for(;0<De-Me;)Ce=Sm(Ce),De--;for(;Me--;){if(ln===Ce||Ce!==null&&ln===Ce.alternate)break t;ln=Sm(ln),Ce=Sm(Ce)}ln=null}else ln=null;je!==null&&pR(it,ze,je,ln,!1),pn!==null&&Ti!==null&&pR(it,Ti,pn,ln,!0)}}e:{if(ze=Oe?ge(Oe):window,je=ze.nodeName&&ze.nodeName.toLowerCase(),je==="select"||je==="input"&&ze.type==="file")var Gt=Np;else if(h0(ze))if(Op)Gt=zl;else{Gt=V_;var In=qM}else je=ze.nodeName,!je||je.toLowerCase()!=="input"||ze.type!=="checkbox"&&ze.type!=="radio"?Oe&&bp(Oe.elementType)&&(Gt=Np):Gt=Ch;if(Gt&&(Gt=Gt(o,Oe))){vr(it,Gt,p,$e);break e}In&&In(o,ze,Oe),o==="focusout"&&Oe&&ze.type==="number"&&Oe.memoizedProps.value!=null&&Ci(ze,"number",ze.value)}switch(In=Oe?ge(Oe):window,o){case"focusin":(h0(In)||In.contentEditable==="true")&&($o=In,Up=Oe,Rh=null);break;case"focusout":Rh=Up=$o=null;break;case"mousedown":Pp=!0;break;case"contextmenu":case"mouseup":case"dragend":Pp=!1,v0(it,p,$e);break;case"selectionchange":if(g0)break;case"keydown":case"keyup":v0(it,p,$e)}var Zt;if(Sh)e:{switch(o){case"compositionstart":var cn="onCompositionStart";break e;case"compositionend":cn="onCompositionEnd";break e;case"compositionupdate":cn="onCompositionUpdate";break e}cn=void 0}else Fl?bh(o,p)&&(cn="onCompositionEnd"):o==="keydown"&&p.keyCode===229&&(cn="onCompositionStart");cn&&(Mh&&p.locale!=="ko"&&(Fl||cn!=="onCompositionStart"?cn==="onCompositionEnd"&&Fl&&(Zt=i0()):(Ko=$e,n0="value"in Ko?Ko.value:Ko.textContent,Fl=!0)),In=F1(Oe,cn),0<In.length&&(cn=new Rp(cn,o,null,p,$e),it.push({event:cn,listeners:In}),Zt?cn.data=Zt:(Zt=u0(p),Zt!==null&&(cn.data=Zt)))),(Zt=Ah?Eh(o,p):f0(o,p))&&(cn=F1(Oe,"onBeforeInput"),0<cn.length&&(In=new Rp("onBeforeInput","beforeinput",null,p,$e),it.push({event:In,listeners:cn}),In.data=Zt)),Z6(it,o,Oe,p,$e)}hR(it,c)})}function nv(o,c,p){return{instance:o,listener:c,currentTarget:p}}function F1(o,c){for(var p=c+"Capture",y=[];o!==null;){var E=o,w=E.stateNode;if(E=E.tag,E!==5&&E!==26&&E!==27||w===null||(E=Ru(o,p),E!=null&&y.unshift(nv(o,E,w)),E=Ru(o,c),E!=null&&y.push(nv(o,E,w))),o.tag===3)return y;o=o.return}return[]}function Sm(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5&&o.tag!==27);return o||null}function pR(o,c,p,y,E){for(var w=c._reactName,G=[];p!==null&&p!==y;){var K=p,me=K.alternate,Oe=K.stateNode;if(K=K.tag,me!==null&&me===y)break;K!==5&&K!==26&&K!==27||Oe===null||(me=Oe,E?(Oe=Ru(p,w),Oe!=null&&G.unshift(nv(p,Oe,me))):E||(Oe=Ru(p,w),Oe!=null&&G.push(nv(p,Oe,me)))),p=p.return}G.length!==0&&o.push({event:c,listeners:G})}var tP=/\r\n?/g,nP=/\u0000|\uFFFD/g;function mR(o){return(typeof o=="string"?o:""+o).replace(tP,`
`).replace(nP,"")}function gR(o,c){return c=mR(c),mR(o)===c}function z1(){}function Ei(o,c,p,y,E,w){switch(p){case"children":typeof y=="string"?c==="body"||c==="textarea"&&y===""||Qs(o,y):(typeof y=="number"||typeof y=="bigint")&&c!=="body"&&Qs(o,""+y);break;case"className":qe(o,"class",y);break;case"tabIndex":qe(o,"tabindex",y);break;case"dir":case"role":case"viewBox":case"width":case"height":qe(o,p,y);break;case"style":ph(o,y,w);break;case"data":if(c!=="object"){qe(o,"data",y);break}case"src":case"href":if(y===""&&(c!=="a"||p!=="href")){o.removeAttribute(p);break}if(y==null||typeof y=="function"||typeof y=="symbol"||typeof y=="boolean"){o.removeAttribute(p);break}y=mh(""+y),o.setAttribute(p,y);break;case"action":case"formAction":if(typeof y=="function"){o.setAttribute(p,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof w=="function"&&(p==="formAction"?(c!=="input"&&Ei(o,c,"name",E.name,E,null),Ei(o,c,"formEncType",E.formEncType,E,null),Ei(o,c,"formMethod",E.formMethod,E,null),Ei(o,c,"formTarget",E.formTarget,E,null)):(Ei(o,c,"encType",E.encType,E,null),Ei(o,c,"method",E.method,E,null),Ei(o,c,"target",E.target,E,null)));if(y==null||typeof y=="symbol"||typeof y=="boolean"){o.removeAttribute(p);break}y=mh(""+y),o.setAttribute(p,y);break;case"onClick":y!=null&&(o.onclick=z1);break;case"onScroll":y!=null&&Gn("scroll",o);break;case"onScrollEnd":y!=null&&Gn("scrollend",o);break;case"dangerouslySetInnerHTML":if(y!=null){if(typeof y!="object"||!("__html"in y))throw Error(n(61));if(p=y.__html,p!=null){if(E.children!=null)throw Error(n(60));o.innerHTML=p}}break;case"multiple":o.multiple=y&&typeof y!="function"&&typeof y!="symbol";break;case"muted":o.muted=y&&typeof y!="function"&&typeof y!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(y==null||typeof y=="function"||typeof y=="boolean"||typeof y=="symbol"){o.removeAttribute("xlink:href");break}p=mh(""+y),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",p);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":y!=null&&typeof y!="function"&&typeof y!="symbol"?o.setAttribute(p,""+y):o.removeAttribute(p);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":y&&typeof y!="function"&&typeof y!="symbol"?o.setAttribute(p,""):o.removeAttribute(p);break;case"capture":case"download":y===!0?o.setAttribute(p,""):y!==!1&&y!=null&&typeof y!="function"&&typeof y!="symbol"?o.setAttribute(p,y):o.removeAttribute(p);break;case"cols":case"rows":case"size":case"span":y!=null&&typeof y!="function"&&typeof y!="symbol"&&!isNaN(y)&&1<=y?o.setAttribute(p,y):o.removeAttribute(p);break;case"rowSpan":case"start":y==null||typeof y=="function"||typeof y=="symbol"||isNaN(y)?o.removeAttribute(p):o.setAttribute(p,y);break;case"popover":Gn("beforetoggle",o),Gn("toggle",o),Re(o,"popover",y);break;case"xlinkActuate":Ze(o,"http://www.w3.org/1999/xlink","xlink:actuate",y);break;case"xlinkArcrole":Ze(o,"http://www.w3.org/1999/xlink","xlink:arcrole",y);break;case"xlinkRole":Ze(o,"http://www.w3.org/1999/xlink","xlink:role",y);break;case"xlinkShow":Ze(o,"http://www.w3.org/1999/xlink","xlink:show",y);break;case"xlinkTitle":Ze(o,"http://www.w3.org/1999/xlink","xlink:title",y);break;case"xlinkType":Ze(o,"http://www.w3.org/1999/xlink","xlink:type",y);break;case"xmlBase":Ze(o,"http://www.w3.org/XML/1998/namespace","xml:base",y);break;case"xmlLang":Ze(o,"http://www.w3.org/XML/1998/namespace","xml:lang",y);break;case"xmlSpace":Ze(o,"http://www.w3.org/XML/1998/namespace","xml:space",y);break;case"is":Re(o,"is",y);break;case"innerText":case"textContent":break;default:(!(2<p.length)||p[0]!=="o"&&p[0]!=="O"||p[1]!=="n"&&p[1]!=="N")&&(p=$g.get(p)||p,Re(o,p,y))}}function ub(o,c,p,y,E,w){switch(p){case"style":ph(o,y,w);break;case"dangerouslySetInnerHTML":if(y!=null){if(typeof y!="object"||!("__html"in y))throw Error(n(61));if(p=y.__html,p!=null){if(E.children!=null)throw Error(n(60));o.innerHTML=p}}break;case"children":typeof y=="string"?Qs(o,y):(typeof y=="number"||typeof y=="bigint")&&Qs(o,""+y);break;case"onScroll":y!=null&&Gn("scroll",o);break;case"onScrollEnd":y!=null&&Gn("scrollend",o);break;case"onClick":y!=null&&(o.onclick=z1);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!nt.hasOwnProperty(p))e:{if(p[0]==="o"&&p[1]==="n"&&(E=p.endsWith("Capture"),c=p.slice(2,E?p.length-7:void 0),w=o[Ut]||null,w=w!=null?w[p]:null,typeof w=="function"&&o.removeEventListener(c,w,E),typeof y=="function")){typeof w!="function"&&w!==null&&(p in o?o[p]=null:o.hasAttribute(p)&&o.removeAttribute(p)),o.addEventListener(c,y,E);break e}p in o?o[p]=y:y===!0?o.setAttribute(p,""):Re(o,p,y)}}}function or(o,c,p){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Gn("error",o),Gn("load",o);var y=!1,E=!1,w;for(w in p)if(p.hasOwnProperty(w)){var G=p[w];if(G!=null)switch(w){case"src":y=!0;break;case"srcSet":E=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,c));default:Ei(o,c,w,G,p,null)}}E&&Ei(o,c,"srcSet",p.srcSet,p,null),y&&Ei(o,c,"src",p.src,p,null);return;case"input":Gn("invalid",o);var K=w=G=E=null,me=null,Oe=null;for(y in p)if(p.hasOwnProperty(y)){var $e=p[y];if($e!=null)switch(y){case"name":E=$e;break;case"type":G=$e;break;case"checked":me=$e;break;case"defaultChecked":Oe=$e;break;case"value":w=$e;break;case"defaultValue":K=$e;break;case"children":case"dangerouslySetInnerHTML":if($e!=null)throw Error(n(137,c));break;default:Ei(o,c,y,$e,p,null)}}An(o,w,K,me,Oe,G,E,!1),ci(o);return;case"select":Gn("invalid",o),y=G=w=null;for(E in p)if(p.hasOwnProperty(E)&&(K=p[E],K!=null))switch(E){case"value":w=K;break;case"defaultValue":G=K;break;case"multiple":y=K;default:Ei(o,c,E,K,p,null)}c=w,p=G,o.multiple=!!y,c!=null?kn(o,!!y,c,!1):p!=null&&kn(o,!!y,p,!0);return;case"textarea":Gn("invalid",o),w=E=y=null;for(G in p)if(p.hasOwnProperty(G)&&(K=p[G],K!=null))switch(G){case"value":y=K;break;case"defaultValue":E=K;break;case"children":w=K;break;case"dangerouslySetInnerHTML":if(K!=null)throw Error(n(91));break;default:Ei(o,c,G,K,p,null)}gs(o,y,E,w),ci(o);return;case"option":for(me in p)if(p.hasOwnProperty(me)&&(y=p[me],y!=null))switch(me){case"selected":o.selected=y&&typeof y!="function"&&typeof y!="symbol";break;default:Ei(o,c,me,y,p,null)}return;case"dialog":Gn("beforetoggle",o),Gn("toggle",o),Gn("cancel",o),Gn("close",o);break;case"iframe":case"object":Gn("load",o);break;case"video":case"audio":for(y=0;y<tv.length;y++)Gn(tv[y],o);break;case"image":Gn("error",o),Gn("load",o);break;case"details":Gn("toggle",o);break;case"embed":case"source":case"link":Gn("error",o),Gn("load",o);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Oe in p)if(p.hasOwnProperty(Oe)&&(y=p[Oe],y!=null))switch(Oe){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,c));default:Ei(o,c,Oe,y,p,null)}return;default:if(bp(c)){for($e in p)p.hasOwnProperty($e)&&(y=p[$e],y!==void 0&&ub(o,c,$e,y,p,void 0));return}}for(K in p)p.hasOwnProperty(K)&&(y=p[K],y!=null&&Ei(o,c,K,y,p,null))}function iP(o,c,p,y){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var E=null,w=null,G=null,K=null,me=null,Oe=null,$e=null;for(je in p){var it=p[je];if(p.hasOwnProperty(je)&&it!=null)switch(je){case"checked":break;case"value":break;case"defaultValue":me=it;default:y.hasOwnProperty(je)||Ei(o,c,je,null,y,it)}}for(var ze in y){var je=y[ze];if(it=p[ze],y.hasOwnProperty(ze)&&(je!=null||it!=null))switch(ze){case"type":w=je;break;case"name":E=je;break;case"checked":Oe=je;break;case"defaultChecked":$e=je;break;case"value":G=je;break;case"defaultValue":K=je;break;case"children":case"dangerouslySetInnerHTML":if(je!=null)throw Error(n(137,c));break;default:je!==it&&Ei(o,c,ze,je,y,it)}}Tn(o,G,K,me,Oe,$e,w,E);return;case"select":je=G=K=ze=null;for(w in p)if(me=p[w],p.hasOwnProperty(w)&&me!=null)switch(w){case"value":break;case"multiple":je=me;default:y.hasOwnProperty(w)||Ei(o,c,w,null,y,me)}for(E in y)if(w=y[E],me=p[E],y.hasOwnProperty(E)&&(w!=null||me!=null))switch(E){case"value":ze=w;break;case"defaultValue":K=w;break;case"multiple":G=w;default:w!==me&&Ei(o,c,E,w,y,me)}c=K,p=G,y=je,ze!=null?kn(o,!!p,ze,!1):!!y!=!!p&&(c!=null?kn(o,!!p,c,!0):kn(o,!!p,p?[]:"",!1));return;case"textarea":je=ze=null;for(K in p)if(E=p[K],p.hasOwnProperty(K)&&E!=null&&!y.hasOwnProperty(K))switch(K){case"value":break;case"children":break;default:Ei(o,c,K,null,y,E)}for(G in y)if(E=y[G],w=p[G],y.hasOwnProperty(G)&&(E!=null||w!=null))switch(G){case"value":ze=E;break;case"defaultValue":je=E;break;case"children":break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(n(91));break;default:E!==w&&Ei(o,c,G,E,y,w)}gi(o,ze,je);return;case"option":for(var pn in p)if(ze=p[pn],p.hasOwnProperty(pn)&&ze!=null&&!y.hasOwnProperty(pn))switch(pn){case"selected":o.selected=!1;break;default:Ei(o,c,pn,null,y,ze)}for(me in y)if(ze=y[me],je=p[me],y.hasOwnProperty(me)&&ze!==je&&(ze!=null||je!=null))switch(me){case"selected":o.selected=ze&&typeof ze!="function"&&typeof ze!="symbol";break;default:Ei(o,c,me,ze,y,je)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ln in p)ze=p[ln],p.hasOwnProperty(ln)&&ze!=null&&!y.hasOwnProperty(ln)&&Ei(o,c,ln,null,y,ze);for(Oe in y)if(ze=y[Oe],je=p[Oe],y.hasOwnProperty(Oe)&&ze!==je&&(ze!=null||je!=null))switch(Oe){case"children":case"dangerouslySetInnerHTML":if(ze!=null)throw Error(n(137,c));break;default:Ei(o,c,Oe,ze,y,je)}return;default:if(bp(c)){for(var Ti in p)ze=p[Ti],p.hasOwnProperty(Ti)&&ze!==void 0&&!y.hasOwnProperty(Ti)&&ub(o,c,Ti,void 0,y,ze);for($e in y)ze=y[$e],je=p[$e],!y.hasOwnProperty($e)||ze===je||ze===void 0&&je===void 0||ub(o,c,$e,ze,y,je);return}}for(var Ce in p)ze=p[Ce],p.hasOwnProperty(Ce)&&ze!=null&&!y.hasOwnProperty(Ce)&&Ei(o,c,Ce,null,y,ze);for(it in y)ze=y[it],je=p[it],!y.hasOwnProperty(it)||ze===je||ze==null&&je==null||Ei(o,c,it,ze,y,je)}var fb=null,hb=null;function H1(o){return o.nodeType===9?o:o.ownerDocument}function vR(o){switch(o){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function yR(o,c){if(o===0)switch(c){case"svg":return 1;case"math":return 2;default:return 0}return o===1&&c==="foreignObject"?0:o}function db(o,c){return o==="textarea"||o==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.children=="bigint"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var pb=null;function sP(){var o=window.event;return o&&o.type==="popstate"?o===pb?!1:(pb=o,!0):(pb=null,!1)}var _R=typeof setTimeout=="function"?setTimeout:void 0,rP=typeof clearTimeout=="function"?clearTimeout:void 0,xR=typeof Promise=="function"?Promise:void 0,aP=typeof queueMicrotask=="function"?queueMicrotask:typeof xR<"u"?function(o){return xR.resolve(null).then(o).catch(oP)}:_R;function oP(o){setTimeout(function(){throw o})}function mf(o){return o==="head"}function SR(o,c){var p=c,y=0,E=0;do{var w=p.nextSibling;if(o.removeChild(p),w&&w.nodeType===8)if(p=w.data,p==="/$"){if(0<y&&8>y){p=y;var G=o.ownerDocument;if(p&1&&iv(G.documentElement),p&2&&iv(G.body),p&4)for(p=G.head,iv(p),G=p.firstChild;G;){var K=G.nextSibling,me=G.nodeName;G[ei]||me==="SCRIPT"||me==="STYLE"||me==="LINK"&&G.rel.toLowerCase()==="stylesheet"||p.removeChild(G),G=K}}if(E===0){o.removeChild(w),fv(c);return}E--}else p==="$"||p==="$?"||p==="$!"?E++:y=p.charCodeAt(0)-48;else y=0;p=w}while(p);fv(c)}function mb(o){var c=o.firstChild;for(c&&c.nodeType===10&&(c=c.nextSibling);c;){var p=c;switch(c=c.nextSibling,p.nodeName){case"HTML":case"HEAD":case"BODY":mb(p),tn(p);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(p.rel.toLowerCase()==="stylesheet")continue}o.removeChild(p)}}function lP(o,c,p,y){for(;o.nodeType===1;){var E=p;if(o.nodeName.toLowerCase()!==c.toLowerCase()){if(!y&&(o.nodeName!=="INPUT"||o.type!=="hidden"))break}else if(y){if(!o[ei])switch(c){case"meta":if(!o.hasAttribute("itemprop"))break;return o;case"link":if(w=o.getAttribute("rel"),w==="stylesheet"&&o.hasAttribute("data-precedence"))break;if(w!==E.rel||o.getAttribute("href")!==(E.href==null||E.href===""?null:E.href)||o.getAttribute("crossorigin")!==(E.crossOrigin==null?null:E.crossOrigin)||o.getAttribute("title")!==(E.title==null?null:E.title))break;return o;case"style":if(o.hasAttribute("data-precedence"))break;return o;case"script":if(w=o.getAttribute("src"),(w!==(E.src==null?null:E.src)||o.getAttribute("type")!==(E.type==null?null:E.type)||o.getAttribute("crossorigin")!==(E.crossOrigin==null?null:E.crossOrigin))&&w&&o.hasAttribute("async")&&!o.hasAttribute("itemprop"))break;return o;default:return o}}else if(c==="input"&&o.type==="hidden"){var w=E.name==null?null:""+E.name;if(E.type==="hidden"&&o.getAttribute("name")===w)return o}else return o;if(o=yl(o.nextSibling),o===null)break}return null}function cP(o,c,p){if(c==="")return null;for(;o.nodeType!==3;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!p||(o=yl(o.nextSibling),o===null))return null;return o}function gb(o){return o.data==="$!"||o.data==="$?"&&o.ownerDocument.readyState==="complete"}function uP(o,c){var p=o.ownerDocument;if(o.data!=="$?"||p.readyState==="complete")c();else{var y=function(){c(),p.removeEventListener("DOMContentLoaded",y)};p.addEventListener("DOMContentLoaded",y),o._reactRetry=y}}function yl(o){for(;o!=null;o=o.nextSibling){var c=o.nodeType;if(c===1||c===3)break;if(c===8){if(c=o.data,c==="$"||c==="$!"||c==="$?"||c==="F!"||c==="F")break;if(c==="/$")return null}}return o}var vb=null;function AR(o){o=o.previousSibling;for(var c=0;o;){if(o.nodeType===8){var p=o.data;if(p==="$"||p==="$!"||p==="$?"){if(c===0)return o;c--}else p==="/$"&&c++}o=o.previousSibling}return null}function MR(o,c,p){switch(c=H1(p),o){case"html":if(o=c.documentElement,!o)throw Error(n(452));return o;case"head":if(o=c.head,!o)throw Error(n(453));return o;case"body":if(o=c.body,!o)throw Error(n(454));return o;default:throw Error(n(451))}}function iv(o){for(var c=o.attributes;c.length;)o.removeAttributeNode(c[0]);tn(o)}var Lo=new Map,bR=new Set;function G1(o){return typeof o.getRootNode=="function"?o.getRootNode():o.nodeType===9?o:o.ownerDocument}var tu=Y.d;Y.d={f:fP,r:hP,D:dP,C:pP,L:mP,m:gP,X:yP,S:vP,M:_P};function fP(){var o=tu.f(),c=No();return o||c}function hP(o){var c=W(o);c!==null&&c.tag===5&&c.type==="form"?x1(c):tu.r(o)}var Am=typeof document>"u"?null:document;function ER(o,c,p){var y=Am;if(y&&typeof c=="string"&&c){var E=rn(c);E='link[rel="'+o+'"][href="'+E+'"]',typeof p=="string"&&(E+='[crossorigin="'+p+'"]'),bR.has(E)||(bR.add(E),o={rel:o,crossOrigin:p,href:c},y.querySelector(E)===null&&(c=y.createElement("link"),or(c,"link",o),Be(c),y.head.appendChild(c)))}}function dP(o){tu.D(o),ER("dns-prefetch",o,null)}function pP(o,c){tu.C(o,c),ER("preconnect",o,c)}function mP(o,c,p){tu.L(o,c,p);var y=Am;if(y&&o&&c){var E='link[rel="preload"][as="'+rn(c)+'"]';c==="image"&&p&&p.imageSrcSet?(E+='[imagesrcset="'+rn(p.imageSrcSet)+'"]',typeof p.imageSizes=="string"&&(E+='[imagesizes="'+rn(p.imageSizes)+'"]')):E+='[href="'+rn(o)+'"]';var w=E;switch(c){case"style":w=Mm(o);break;case"script":w=bm(o)}Lo.has(w)||(o=m({rel:"preload",href:c==="image"&&p&&p.imageSrcSet?void 0:o,as:c},p),Lo.set(w,o),y.querySelector(E)!==null||c==="style"&&y.querySelector(sv(w))||c==="script"&&y.querySelector(rv(w))||(c=y.createElement("link"),or(c,"link",o),Be(c),y.head.appendChild(c)))}}function gP(o,c){tu.m(o,c);var p=Am;if(p&&o){var y=c&&typeof c.as=="string"?c.as:"script",E='link[rel="modulepreload"][as="'+rn(y)+'"][href="'+rn(o)+'"]',w=E;switch(y){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":w=bm(o)}if(!Lo.has(w)&&(o=m({rel:"modulepreload",href:o},c),Lo.set(w,o),p.querySelector(E)===null)){switch(y){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(p.querySelector(rv(w)))return}y=p.createElement("link"),or(y,"link",o),Be(y),p.head.appendChild(y)}}}function vP(o,c,p){tu.S(o,c,p);var y=Am;if(y&&o){var E=Te(y).hoistableStyles,w=Mm(o);c=c||"default";var G=E.get(w);if(!G){var K={loading:0,preload:null};if(G=y.querySelector(sv(w)))K.loading=5;else{o=m({rel:"stylesheet",href:o,"data-precedence":c},p),(p=Lo.get(w))&&yb(o,p);var me=G=y.createElement("link");Be(me),or(me,"link",o),me._p=new Promise(function(Oe,$e){me.onload=Oe,me.onerror=$e}),me.addEventListener("load",function(){K.loading|=1}),me.addEventListener("error",function(){K.loading|=2}),K.loading|=4,V1(G,c,y)}G={type:"stylesheet",instance:G,count:1,state:K},E.set(w,G)}}}function yP(o,c){tu.X(o,c);var p=Am;if(p&&o){var y=Te(p).hoistableScripts,E=bm(o),w=y.get(E);w||(w=p.querySelector(rv(E)),w||(o=m({src:o,async:!0},c),(c=Lo.get(E))&&_b(o,c),w=p.createElement("script"),Be(w),or(w,"link",o),p.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},y.set(E,w))}}function _P(o,c){tu.M(o,c);var p=Am;if(p&&o){var y=Te(p).hoistableScripts,E=bm(o),w=y.get(E);w||(w=p.querySelector(rv(E)),w||(o=m({src:o,async:!0,type:"module"},c),(c=Lo.get(E))&&_b(o,c),w=p.createElement("script"),Be(w),or(w,"link",o),p.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},y.set(E,w))}}function TR(o,c,p,y){var E=(E=Ae.current)?G1(E):null;if(!E)throw Error(n(446));switch(o){case"meta":case"title":return null;case"style":return typeof p.precedence=="string"&&typeof p.href=="string"?(c=Mm(p.href),p=Te(E).hoistableStyles,y=p.get(c),y||(y={type:"style",instance:null,count:0,state:null},p.set(c,y)),y):{type:"void",instance:null,count:0,state:null};case"link":if(p.rel==="stylesheet"&&typeof p.href=="string"&&typeof p.precedence=="string"){o=Mm(p.href);var w=Te(E).hoistableStyles,G=w.get(o);if(G||(E=E.ownerDocument||E,G={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},w.set(o,G),(w=E.querySelector(sv(o)))&&!w._p&&(G.instance=w,G.state.loading=5),Lo.has(o)||(p={rel:"preload",as:"style",href:p.href,crossOrigin:p.crossOrigin,integrity:p.integrity,media:p.media,hrefLang:p.hrefLang,referrerPolicy:p.referrerPolicy},Lo.set(o,p),w||xP(E,o,p,G.state))),c&&y===null)throw Error(n(528,""));return G}if(c&&y!==null)throw Error(n(529,""));return null;case"script":return c=p.async,p=p.src,typeof p=="string"&&c&&typeof c!="function"&&typeof c!="symbol"?(c=bm(p),p=Te(E).hoistableScripts,y=p.get(c),y||(y={type:"script",instance:null,count:0,state:null},p.set(c,y)),y):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,o))}}function Mm(o){return'href="'+rn(o)+'"'}function sv(o){return'link[rel="stylesheet"]['+o+"]"}function CR(o){return m({},o,{"data-precedence":o.precedence,precedence:null})}function xP(o,c,p,y){o.querySelector('link[rel="preload"][as="style"]['+c+"]")?y.loading=1:(c=o.createElement("link"),y.preload=c,c.addEventListener("load",function(){return y.loading|=1}),c.addEventListener("error",function(){return y.loading|=2}),or(c,"link",p),Be(c),o.head.appendChild(c))}function bm(o){return'[src="'+rn(o)+'"]'}function rv(o){return"script[async]"+o}function wR(o,c,p){if(c.count++,c.instance===null)switch(c.type){case"style":var y=o.querySelector('style[data-href~="'+rn(p.href)+'"]');if(y)return c.instance=y,Be(y),y;var E=m({},p,{"data-href":p.href,"data-precedence":p.precedence,href:null,precedence:null});return y=(o.ownerDocument||o).createElement("style"),Be(y),or(y,"style",E),V1(y,p.precedence,o),c.instance=y;case"stylesheet":E=Mm(p.href);var w=o.querySelector(sv(E));if(w)return c.state.loading|=4,c.instance=w,Be(w),w;y=CR(p),(E=Lo.get(E))&&yb(y,E),w=(o.ownerDocument||o).createElement("link"),Be(w);var G=w;return G._p=new Promise(function(K,me){G.onload=K,G.onerror=me}),or(w,"link",y),c.state.loading|=4,V1(w,p.precedence,o),c.instance=w;case"script":return w=bm(p.src),(E=o.querySelector(rv(w)))?(c.instance=E,Be(E),E):(y=p,(E=Lo.get(w))&&(y=m({},p),_b(y,E)),o=o.ownerDocument||o,E=o.createElement("script"),Be(E),or(E,"link",y),o.head.appendChild(E),c.instance=E);case"void":return null;default:throw Error(n(443,c.type))}else c.type==="stylesheet"&&(c.state.loading&4)===0&&(y=c.instance,c.state.loading|=4,V1(y,p.precedence,o));return c.instance}function V1(o,c,p){for(var y=p.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),E=y.length?y[y.length-1]:null,w=E,G=0;G<y.length;G++){var K=y[G];if(K.dataset.precedence===c)w=K;else if(w!==E)break}w?w.parentNode.insertBefore(o,w.nextSibling):(c=p.nodeType===9?p.head:p,c.insertBefore(o,c.firstChild))}function yb(o,c){o.crossOrigin==null&&(o.crossOrigin=c.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=c.referrerPolicy),o.title==null&&(o.title=c.title)}function _b(o,c){o.crossOrigin==null&&(o.crossOrigin=c.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=c.referrerPolicy),o.integrity==null&&(o.integrity=c.integrity)}var k1=null;function RR(o,c,p){if(k1===null){var y=new Map,E=k1=new Map;E.set(p,y)}else E=k1,y=E.get(p),y||(y=new Map,E.set(p,y));if(y.has(o))return y;for(y.set(o,null),p=p.getElementsByTagName(o),E=0;E<p.length;E++){var w=p[E];if(!(w[ei]||w[pt]||o==="link"&&w.getAttribute("rel")==="stylesheet")&&w.namespaceURI!=="http://www.w3.org/2000/svg"){var G=w.getAttribute(c)||"";G=o+G;var K=y.get(G);K?K.push(w):y.set(G,[w])}}return y}function BR(o,c,p){o=o.ownerDocument||o,o.head.insertBefore(p,c==="title"?o.querySelector("head > title"):null)}function SP(o,c,p){if(p===1||c.itemProp!=null)return!1;switch(o){case"meta":case"title":return!0;case"style":if(typeof c.precedence!="string"||typeof c.href!="string"||c.href==="")break;return!0;case"link":if(typeof c.rel!="string"||typeof c.href!="string"||c.href===""||c.onLoad||c.onError)break;switch(c.rel){case"stylesheet":return o=c.disabled,typeof c.precedence=="string"&&o==null;default:return!0}case"script":if(c.async&&typeof c.async!="function"&&typeof c.async!="symbol"&&!c.onLoad&&!c.onError&&c.src&&typeof c.src=="string")return!0}return!1}function DR(o){return!(o.type==="stylesheet"&&(o.state.loading&3)===0)}var av=null;function AP(){}function MP(o,c,p){if(av===null)throw Error(n(475));var y=av;if(c.type==="stylesheet"&&(typeof p.media!="string"||matchMedia(p.media).matches!==!1)&&(c.state.loading&4)===0){if(c.instance===null){var E=Mm(p.href),w=o.querySelector(sv(E));if(w){o=w._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(y.count++,y=j1.bind(y),o.then(y,y)),c.state.loading|=4,c.instance=w,Be(w);return}w=o.ownerDocument||o,p=CR(p),(E=Lo.get(E))&&yb(p,E),w=w.createElement("link"),Be(w);var G=w;G._p=new Promise(function(K,me){G.onload=K,G.onerror=me}),or(w,"link",p),c.instance=w}y.stylesheets===null&&(y.stylesheets=new Map),y.stylesheets.set(c,o),(o=c.state.preload)&&(c.state.loading&3)===0&&(y.count++,c=j1.bind(y),o.addEventListener("load",c),o.addEventListener("error",c))}}function bP(){if(av===null)throw Error(n(475));var o=av;return o.stylesheets&&o.count===0&&xb(o,o.stylesheets),0<o.count?function(c){var p=setTimeout(function(){if(o.stylesheets&&xb(o,o.stylesheets),o.unsuspend){var y=o.unsuspend;o.unsuspend=null,y()}},6e4);return o.unsuspend=c,function(){o.unsuspend=null,clearTimeout(p)}}:null}function j1(){if(this.count--,this.count===0){if(this.stylesheets)xb(this,this.stylesheets);else if(this.unsuspend){var o=this.unsuspend;this.unsuspend=null,o()}}}var X1=null;function xb(o,c){o.stylesheets=null,o.unsuspend!==null&&(o.count++,X1=new Map,c.forEach(EP,o),X1=null,j1.call(o))}function EP(o,c){if(!(c.state.loading&4)){var p=X1.get(o);if(p)var y=p.get(null);else{p=new Map,X1.set(o,p);for(var E=o.querySelectorAll("link[data-precedence],style[data-precedence]"),w=0;w<E.length;w++){var G=E[w];(G.nodeName==="LINK"||G.getAttribute("media")!=="not all")&&(p.set(G.dataset.precedence,G),y=G)}y&&p.set(null,y)}E=c.instance,G=E.getAttribute("data-precedence"),w=p.get(G)||y,w===y&&p.set(null,E),p.set(G,E),this.count++,y=j1.bind(this),E.addEventListener("load",y),E.addEventListener("error",y),w?w.parentNode.insertBefore(E,w.nextSibling):(o=o.nodeType===9?o.head:o,o.insertBefore(E,o.firstChild)),c.state.loading|=4}}var ov={$$typeof:B,Provider:null,Consumer:null,_currentValue:Z,_currentValue2:Z,_threadCount:0};function TP(o,c,p,y,E,w,G,K){this.tag=1,this.containerInfo=o,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ie(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ie(0),this.hiddenUpdates=Ie(null),this.identifierPrefix=y,this.onUncaughtError=E,this.onCaughtError=w,this.onRecoverableError=G,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=K,this.incompleteTransitions=new Map}function NR(o,c,p,y,E,w,G,K,me,Oe,$e,it){return o=new TP(o,c,p,G,K,me,Oe,it),c=1,w===!0&&(c|=24),w=Sr(3,null,null,c),o.current=w,w.stateNode=o,c=Xp(),c.refCount++,o.pooledCache=c,c.refCount++,w.memoizedState={element:y,isDehydrated:p,cache:c},D0(w),o}function OR(o){return o?(o=Vl,o):Vl}function LR(o,c,p,y,E,w){E=OR(E),y.context===null?y.context=E:y.pendingContext=E,y=So(c),y.payload={element:p},w=w===void 0?null:w,w!==null&&(y.callback=w),p=ll(o,y,c),p!==null&&(ar(p,o,c),Ic(p,o,c))}function UR(o,c){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var p=o.retryLane;o.retryLane=p!==0&&p<c?p:c}}function Sb(o,c){UR(o,c),(o=o.alternate)&&UR(o,c)}function PR(o){if(o.tag===13){var c=il(o,67108864);c!==null&&ar(c,o,67108864),Sb(o,67108864)}}var Y1=!0;function CP(o,c,p,y){var E=H.T;H.T=null;var w=Y.p;try{Y.p=2,Ab(o,c,p,y)}finally{Y.p=w,H.T=E}}function wP(o,c,p,y){var E=H.T;H.T=null;var w=Y.p;try{Y.p=8,Ab(o,c,p,y)}finally{Y.p=w,H.T=E}}function Ab(o,c,p,y){if(Y1){var E=Mb(y);if(E===null)cb(o,c,y,q1,p),FR(o,y);else if(BP(E,o,c,p,y))y.stopPropagation();else if(FR(o,y),c&4&&-1<RP.indexOf(o)){for(;E!==null;){var w=W(E);if(w!==null)switch(w.tag){case 3:if(w=w.stateNode,w.current.memoizedState.isDehydrated){var G=vt(w.pendingLanes);if(G!==0){var K=w;for(K.pendingLanes|=2,K.entangledLanes|=2;G;){var me=1<<31-ut(G);K.entanglements[1]|=me,G&=~me}hc(w),(ri&6)===0&&(ks=le()+500,ev(0))}}break;case 13:K=il(w,2),K!==null&&ar(K,w,2),No(),Sb(w,2)}if(w=Mb(y),w===null&&cb(o,c,y,q1,p),w===E)break;E=w}E!==null&&y.stopPropagation()}else cb(o,c,y,null,p)}}function Mb(o){return o=Tp(o),bb(o)}var q1=null;function bb(o){if(q1=null,o=V(o),o!==null){var c=r(o);if(c===null)o=null;else{var p=c.tag;if(p===13){if(o=a(c),o!==null)return o;o=null}else if(p===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;o=null}else c!==o&&(o=null)}}return q1=o,null}function IR(o){switch(o){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(He()){case rt:return 2;case Ge:return 8;case Q:case X:return 32;case be:return 268435456;default:return 32}default:return 32}}var Eb=!1,gf=null,vf=null,yf=null,lv=new Map,cv=new Map,_f=[],RP="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function FR(o,c){switch(o){case"focusin":case"focusout":gf=null;break;case"dragenter":case"dragleave":vf=null;break;case"mouseover":case"mouseout":yf=null;break;case"pointerover":case"pointerout":lv.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":cv.delete(c.pointerId)}}function uv(o,c,p,y,E,w){return o===null||o.nativeEvent!==w?(o={blockedOn:c,domEventName:p,eventSystemFlags:y,nativeEvent:w,targetContainers:[E]},c!==null&&(c=W(c),c!==null&&PR(c)),o):(o.eventSystemFlags|=y,c=o.targetContainers,E!==null&&c.indexOf(E)===-1&&c.push(E),o)}function BP(o,c,p,y,E){switch(c){case"focusin":return gf=uv(gf,o,c,p,y,E),!0;case"dragenter":return vf=uv(vf,o,c,p,y,E),!0;case"mouseover":return yf=uv(yf,o,c,p,y,E),!0;case"pointerover":var w=E.pointerId;return lv.set(w,uv(lv.get(w)||null,o,c,p,y,E)),!0;case"gotpointercapture":return w=E.pointerId,cv.set(w,uv(cv.get(w)||null,o,c,p,y,E)),!0}return!1}function zR(o){var c=V(o.target);if(c!==null){var p=r(c);if(p!==null){if(c=p.tag,c===13){if(c=a(p),c!==null){o.blockedOn=c,Lt(o.priority,function(){if(p.tag===13){var y=Hi();y=Sn(y);var E=il(p,y);E!==null&&ar(E,p,y),Sb(p,y)}});return}}else if(c===3&&p.stateNode.current.memoizedState.isDehydrated){o.blockedOn=p.tag===3?p.stateNode.containerInfo:null;return}}}o.blockedOn=null}function W1(o){if(o.blockedOn!==null)return!1;for(var c=o.targetContainers;0<c.length;){var p=Mb(o.nativeEvent);if(p===null){p=o.nativeEvent;var y=new p.constructor(p.type,p);Ep=y,p.target.dispatchEvent(y),Ep=null}else return c=W(p),c!==null&&PR(c),o.blockedOn=p,!1;c.shift()}return!0}function HR(o,c,p){W1(o)&&p.delete(c)}function DP(){Eb=!1,gf!==null&&W1(gf)&&(gf=null),vf!==null&&W1(vf)&&(vf=null),yf!==null&&W1(yf)&&(yf=null),lv.forEach(HR),cv.forEach(HR)}function K1(o,c){o.blockedOn===c&&(o.blockedOn=null,Eb||(Eb=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,DP)))}var J1=null;function GR(o){J1!==o&&(J1=o,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){J1===o&&(J1=null);for(var c=0;c<o.length;c+=3){var p=o[c],y=o[c+1],E=o[c+2];if(typeof y!="function"){if(bb(y||p)===null)continue;break}var w=W(p);w!==null&&(o.splice(c,3),c-=3,q0(w,{pending:!0,data:E,method:p.method,action:y},y,E))}}))}function fv(o){function c(me){return K1(me,o)}gf!==null&&K1(gf,o),vf!==null&&K1(vf,o),yf!==null&&K1(yf,o),lv.forEach(c),cv.forEach(c);for(var p=0;p<_f.length;p++){var y=_f[p];y.blockedOn===o&&(y.blockedOn=null)}for(;0<_f.length&&(p=_f[0],p.blockedOn===null);)zR(p),p.blockedOn===null&&_f.shift();if(p=(o.ownerDocument||o).$$reactFormReplay,p!=null)for(y=0;y<p.length;y+=3){var E=p[y],w=p[y+1],G=E[Ut]||null;if(typeof w=="function")G||GR(p);else if(G){var K=null;if(w&&w.hasAttribute("formAction")){if(E=w,G=w[Ut]||null)K=G.formAction;else if(bb(E)!==null)continue}else K=G.action;typeof K=="function"?p[y+1]=K:(p.splice(y,3),y-=3),GR(p)}}}function Tb(o){this._internalRoot=o}Z1.prototype.render=Tb.prototype.render=function(o){var c=this._internalRoot;if(c===null)throw Error(n(409));var p=c.current,y=Hi();LR(p,y,o,c,null,null)},Z1.prototype.unmount=Tb.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var c=o.containerInfo;LR(o.current,2,null,o,null,null),No(),c[Rt]=null}};function Z1(o){this._internalRoot=o}Z1.prototype.unstable_scheduleHydration=function(o){if(o){var c=Et();o={blockedOn:null,target:o,priority:c};for(var p=0;p<_f.length&&c!==0&&c<_f[p].priority;p++);_f.splice(p,0,o),p===0&&zR(o)}};var VR=e.version;if(VR!=="19.1.0")throw Error(n(527,VR,"19.1.0"));Y.findDOMNode=function(o){var c=o._reactInternals;if(c===void 0)throw typeof o.render=="function"?Error(n(188)):(o=Object.keys(o).join(","),Error(n(268,o)));return o=u(c),o=o!==null?h(o):null,o=o===null?null:o.stateNode,o};var NP={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Q1=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Q1.isDisabled&&Q1.supportsFiber)try{Ve=Q1.inject(NP),lt=Q1}catch{}}return dv.createRoot=function(o,c){if(!i(o))throw Error(n(299));var p=!1,y="",E=Jh,w=lm,G=N1,K=null;return c!=null&&(c.unstable_strictMode===!0&&(p=!0),c.identifierPrefix!==void 0&&(y=c.identifierPrefix),c.onUncaughtError!==void 0&&(E=c.onUncaughtError),c.onCaughtError!==void 0&&(w=c.onCaughtError),c.onRecoverableError!==void 0&&(G=c.onRecoverableError),c.unstable_transitionCallbacks!==void 0&&(K=c.unstable_transitionCallbacks)),c=NR(o,1,!1,null,null,p,y,E,w,G,K,null),o[Rt]=c.current,lb(o),new Tb(c)},dv.hydrateRoot=function(o,c,p){if(!i(o))throw Error(n(299));var y=!1,E="",w=Jh,G=lm,K=N1,me=null,Oe=null;return p!=null&&(p.unstable_strictMode===!0&&(y=!0),p.identifierPrefix!==void 0&&(E=p.identifierPrefix),p.onUncaughtError!==void 0&&(w=p.onUncaughtError),p.onCaughtError!==void 0&&(G=p.onCaughtError),p.onRecoverableError!==void 0&&(K=p.onRecoverableError),p.unstable_transitionCallbacks!==void 0&&(me=p.unstable_transitionCallbacks),p.formState!==void 0&&(Oe=p.formState)),c=NR(o,1,!0,c,p??null,y,E,w,G,K,me,Oe),c.context=OR(null),p=c.current,y=Hi(),y=Sn(y),E=So(y),E.callback=null,ll(p,E,y),p=y,c.current.lanes=p,We(c,p),hc(c),o[Rt]=c.current,lb(o),new Z1(c)},dv.version="19.1.0",dv}var QR;function XP(){if(QR)return Rb.exports;QR=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Rb.exports=jP(),Rb.exports}var YP=XP();C4();/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function My(){return My=Object.assign?Object.assign.bind():function(s){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(s[n]=t[n])}return s},My.apply(this,arguments)}var If;(function(s){s.Pop="POP",s.Push="PUSH",s.Replace="REPLACE"})(If||(If={}));const $R="popstate";function qP(s){s===void 0&&(s={});function e(n,i){let{pathname:r,search:a,hash:l}=n.location;return _T("",{pathname:r,search:a,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(n,i){return typeof i=="string"?i:IS(i)}return KP(e,t,null,s)}function Ts(s,e){if(s===!1||s===null||typeof s>"u")throw new Error(e)}function w4(s,e){if(!s){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function WP(){return Math.random().toString(36).substr(2,8)}function e3(s,e){return{usr:s.state,key:s.key,idx:e}}function _T(s,e,t,n){return t===void 0&&(t=null),My({pathname:typeof s=="string"?s:s.pathname,search:"",hash:""},typeof e=="string"?kg(e):e,{state:t,key:e&&e.key||n||WP()})}function IS(s){let{pathname:e="/",search:t="",hash:n=""}=s;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function kg(s){let e={};if(s){let t=s.indexOf("#");t>=0&&(e.hash=s.substr(t),s=s.substr(0,t));let n=s.indexOf("?");n>=0&&(e.search=s.substr(n),s=s.substr(0,n)),s&&(e.pathname=s)}return e}function KP(s,e,t,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:r=!1}=n,a=i.history,l=If.Pop,u=null,h=m();h==null&&(h=0,a.replaceState(My({},a.state,{idx:h}),""));function m(){return(a.state||{idx:null}).idx}function g(){l=If.Pop;let M=m(),A=M==null?null:M-h;h=M,u&&u({action:l,location:b.location,delta:A})}function v(M,A){l=If.Push;let C=_T(b.location,M,A);h=m()+1;let B=e3(C,h),D=b.createHref(C);try{a.pushState(B,"",D)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;i.location.assign(D)}r&&u&&u({action:l,location:b.location,delta:1})}function _(M,A){l=If.Replace;let C=_T(b.location,M,A);h=m();let B=e3(C,h),D=b.createHref(C);a.replaceState(B,"",D),r&&u&&u({action:l,location:b.location,delta:0})}function S(M){let A=i.location.origin!=="null"?i.location.origin:i.location.href,C=typeof M=="string"?M:IS(M);return C=C.replace(/ $/,"%20"),Ts(A,"No window.location.(origin|href) available to create URL for href: "+C),new URL(C,A)}let b={get action(){return l},get location(){return s(i,a)},listen(M){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener($R,g),u=M,()=>{i.removeEventListener($R,g),u=null}},createHref(M){return e(i,M)},createURL:S,encodeLocation(M){let A=S(M);return{pathname:A.pathname,search:A.search,hash:A.hash}},push:v,replace:_,go(M){return a.go(M)}};return b}var t3;(function(s){s.data="data",s.deferred="deferred",s.redirect="redirect",s.error="error"})(t3||(t3={}));function JP(s,e,t){return t===void 0&&(t="/"),ZP(s,e,t)}function ZP(s,e,t,n){let i=typeof e=="string"?kg(e):e,r=F2(i.pathname||"/",t);if(r==null)return null;let a=R4(s);QP(a);let l=null;for(let u=0;l==null&&u<a.length;++u){let h=uI(r);l=oI(a[u],h)}return l}function R4(s,e,t,n){e===void 0&&(e=[]),t===void 0&&(t=[]),n===void 0&&(n="");let i=(r,a,l)=>{let u={relativePath:l===void 0?r.path||"":l,caseSensitive:r.caseSensitive===!0,childrenIndex:a,route:r};u.relativePath.startsWith("/")&&(Ts(u.relativePath.startsWith(n),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(n.length));let h=Xf([n,u.relativePath]),m=t.concat(u);r.children&&r.children.length>0&&(Ts(r.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+h+'".')),R4(r.children,e,m,h)),!(r.path==null&&!r.index)&&e.push({path:h,score:rI(h,r.index),routesMeta:m})};return s.forEach((r,a)=>{var l;if(r.path===""||!((l=r.path)!=null&&l.includes("?")))i(r,a);else for(let u of B4(r.path))i(r,a,u)}),e}function B4(s){let e=s.split("/");if(e.length===0)return[];let[t,...n]=e,i=t.endsWith("?"),r=t.replace(/\?$/,"");if(n.length===0)return i?[r,""]:[r];let a=B4(n.join("/")),l=[];return l.push(...a.map(u=>u===""?r:[r,u].join("/"))),i&&l.push(...a),l.map(u=>s.startsWith("/")&&u===""?"/":u)}function QP(s){s.sort((e,t)=>e.score!==t.score?t.score-e.score:aI(e.routesMeta.map(n=>n.childrenIndex),t.routesMeta.map(n=>n.childrenIndex)))}const $P=/^:[\w-]+$/,eI=3,tI=2,nI=1,iI=10,sI=-2,n3=s=>s==="*";function rI(s,e){let t=s.split("/"),n=t.length;return t.some(n3)&&(n+=sI),e&&(n+=tI),t.filter(i=>!n3(i)).reduce((i,r)=>i+($P.test(r)?eI:r===""?nI:iI),n)}function aI(s,e){return s.length===e.length&&s.slice(0,-1).every((n,i)=>n===e[i])?s[s.length-1]-e[e.length-1]:0}function oI(s,e,t){let{routesMeta:n}=s,i={},r="/",a=[];for(let l=0;l<n.length;++l){let u=n[l],h=l===n.length-1,m=r==="/"?e:e.slice(r.length)||"/",g=lI({path:u.relativePath,caseSensitive:u.caseSensitive,end:h},m),v=u.route;if(!g)return null;Object.assign(i,g.params),a.push({params:i,pathname:Xf([r,g.pathname]),pathnameBase:pI(Xf([r,g.pathnameBase])),route:v}),g.pathnameBase!=="/"&&(r=Xf([r,g.pathnameBase]))}return a}function lI(s,e){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[t,n]=cI(s.path,s.caseSensitive,s.end),i=e.match(t);if(!i)return null;let r=i[0],a=r.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:n.reduce((h,m,g)=>{let{paramName:v,isOptional:_}=m;if(v==="*"){let b=l[g]||"";a=r.slice(0,r.length-b.length).replace(/(.)\/+$/,"$1")}const S=l[g];return _&&!S?h[v]=void 0:h[v]=(S||"").replace(/%2F/g,"/"),h},{}),pathname:r,pathnameBase:a,pattern:s}}function cI(s,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),w4(s==="*"||!s.endsWith("*")||s.endsWith("/*"),'Route path "'+s+'" will be treated as if it were '+('"'+s.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+s.replace(/\*$/,"/*")+'".'));let n=[],i="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,l,u)=>(n.push({paramName:l,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return s.endsWith("*")?(n.push({paramName:"*"}),i+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":s!==""&&s!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function uI(s){try{return s.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return w4(!1,'The URL path "'+s+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),s}}function F2(s,e){if(e==="/")return s;if(!s.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,n=s.charAt(t);return n&&n!=="/"?null:s.slice(t)||"/"}function fI(s,e){e===void 0&&(e="/");let{pathname:t,search:n="",hash:i=""}=typeof s=="string"?kg(s):s;return{pathname:t?t.startsWith("/")?t:hI(t,e):e,search:mI(n),hash:gI(i)}}function hI(s,e){let t=e.replace(/\/+$/,"").split("/");return s.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function Ob(s,e,t,n){return"Cannot include a '"+s+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function dI(s){return s.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function D4(s,e){let t=dI(s);return e?t.map((n,i)=>i===t.length-1?n.pathname:n.pathnameBase):t.map(n=>n.pathnameBase)}function N4(s,e,t,n){n===void 0&&(n=!1);let i;typeof s=="string"?i=kg(s):(i=My({},s),Ts(!i.pathname||!i.pathname.includes("?"),Ob("?","pathname","search",i)),Ts(!i.pathname||!i.pathname.includes("#"),Ob("#","pathname","hash",i)),Ts(!i.search||!i.search.includes("#"),Ob("#","search","hash",i)));let r=s===""||i.pathname==="",a=r?"/":i.pathname,l;if(a==null)l=t;else{let g=e.length-1;if(!n&&a.startsWith("..")){let v=a.split("/");for(;v[0]==="..";)v.shift(),g-=1;i.pathname=v.join("/")}l=g>=0?e[g]:"/"}let u=fI(i,l),h=a&&a!=="/"&&a.endsWith("/"),m=(r||a===".")&&t.endsWith("/");return!u.pathname.endsWith("/")&&(h||m)&&(u.pathname+="/"),u}const Xf=s=>s.join("/").replace(/\/\/+/g,"/"),pI=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),mI=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,gI=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s;function vI(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}const O4=["post","put","patch","delete"];new Set(O4);const yI=["get",...O4];new Set(yI);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function by(){return by=Object.assign?Object.assign.bind():function(s){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(s[n]=t[n])}return s},by.apply(this,arguments)}const z2=J.createContext(null),_I=J.createContext(null),pp=J.createContext(null),ZA=J.createContext(null),mp=J.createContext({outlet:null,matches:[],isDataRoute:!1}),L4=J.createContext(null);function xI(s,e){let{relative:t}=e===void 0?{}:e;Qy()||Ts(!1);let{basename:n,navigator:i}=J.useContext(pp),{hash:r,pathname:a,search:l}=P4(s,{relative:t}),u=a;return n!=="/"&&(u=a==="/"?n:Xf([n,a])),i.createHref({pathname:u,search:l,hash:r})}function Qy(){return J.useContext(ZA)!=null}function ah(){return Qy()||Ts(!1),J.useContext(ZA).location}function U4(s){J.useContext(pp).static||J.useLayoutEffect(s)}function QA(){let{isDataRoute:s}=J.useContext(mp);return s?OI():SI()}function SI(){Qy()||Ts(!1);let s=J.useContext(z2),{basename:e,future:t,navigator:n}=J.useContext(pp),{matches:i}=J.useContext(mp),{pathname:r}=ah(),a=JSON.stringify(D4(i,t.v7_relativeSplatPath)),l=J.useRef(!1);return U4(()=>{l.current=!0}),J.useCallback(function(h,m){if(m===void 0&&(m={}),!l.current)return;if(typeof h=="number"){n.go(h);return}let g=N4(h,JSON.parse(a),r,m.relative==="path");s==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:Xf([e,g.pathname])),(m.replace?n.replace:n.push)(g,m.state,m)},[e,n,a,r,s])}function P4(s,e){let{relative:t}=e===void 0?{}:e,{future:n}=J.useContext(pp),{matches:i}=J.useContext(mp),{pathname:r}=ah(),a=JSON.stringify(D4(i,n.v7_relativeSplatPath));return J.useMemo(()=>N4(s,JSON.parse(a),r,t==="path"),[s,a,r,t])}function AI(s,e){return MI(s,e)}function MI(s,e,t,n){Qy()||Ts(!1);let{navigator:i,static:r}=J.useContext(pp),{matches:a}=J.useContext(mp),l=a[a.length-1],u=l?l.params:{};l&&l.pathname;let h=l?l.pathnameBase:"/";l&&l.route;let m=ah(),g;if(e){var v;let A=typeof e=="string"?kg(e):e;h==="/"||(v=A.pathname)!=null&&v.startsWith(h)||Ts(!1),g=A}else g=m;let _=g.pathname||"/",S=_;if(h!=="/"){let A=h.replace(/^\//,"").split("/");S="/"+_.replace(/^\//,"").split("/").slice(A.length).join("/")}let b=JP(s,{pathname:S}),M=wI(b&&b.map(A=>Object.assign({},A,{params:Object.assign({},u,A.params),pathname:Xf([h,i.encodeLocation?i.encodeLocation(A.pathname).pathname:A.pathname]),pathnameBase:A.pathnameBase==="/"?h:Xf([h,i.encodeLocation?i.encodeLocation(A.pathnameBase).pathname:A.pathnameBase])})),a,t,n);return e&&M?J.createElement(ZA.Provider,{value:{location:by({pathname:"/",search:"",hash:"",state:null,key:"default"},g),navigationType:If.Pop}},M):M}function bI(){let s=NI(),e=vI(s)?s.status+" "+s.statusText:s instanceof Error?s.message:JSON.stringify(s),t=s instanceof Error?s.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return J.createElement(J.Fragment,null,J.createElement("h2",null,"Unexpected Application Error!"),J.createElement("h3",{style:{fontStyle:"italic"}},e),t?J.createElement("pre",{style:i},t):null,null)}const EI=J.createElement(bI,null);class TI extends J.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?J.createElement(mp.Provider,{value:this.props.routeContext},J.createElement(L4.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function CI(s){let{routeContext:e,match:t,children:n}=s,i=J.useContext(z2);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),J.createElement(mp.Provider,{value:e},n)}function wI(s,e,t,n){var i;if(e===void 0&&(e=[]),t===void 0&&(t=null),n===void 0&&(n=null),s==null){var r;if(!t)return null;if(t.errors)s=t.matches;else if((r=n)!=null&&r.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)s=t.matches;else return null}let a=s,l=(i=t)==null?void 0:i.errors;if(l!=null){let m=a.findIndex(g=>g.route.id&&(l==null?void 0:l[g.route.id])!==void 0);m>=0||Ts(!1),a=a.slice(0,Math.min(a.length,m+1))}let u=!1,h=-1;if(t&&n&&n.v7_partialHydration)for(let m=0;m<a.length;m++){let g=a[m];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(h=m),g.route.id){let{loaderData:v,errors:_}=t,S=g.route.loader&&v[g.route.id]===void 0&&(!_||_[g.route.id]===void 0);if(g.route.lazy||S){u=!0,h>=0?a=a.slice(0,h+1):a=[a[0]];break}}}return a.reduceRight((m,g,v)=>{let _,S=!1,b=null,M=null;t&&(_=l&&g.route.id?l[g.route.id]:void 0,b=g.route.errorElement||EI,u&&(h<0&&v===0?(LI("route-fallback"),S=!0,M=null):h===v&&(S=!0,M=g.route.hydrateFallbackElement||null)));let A=e.concat(a.slice(0,v+1)),C=()=>{let B;return _?B=b:S?B=M:g.route.Component?B=J.createElement(g.route.Component,null):g.route.element?B=g.route.element:B=m,J.createElement(CI,{match:g,routeContext:{outlet:m,matches:A,isDataRoute:t!=null},children:B})};return t&&(g.route.ErrorBoundary||g.route.errorElement||v===0)?J.createElement(TI,{location:t.location,revalidation:t.revalidation,component:b,error:_,children:C(),routeContext:{outlet:null,matches:A,isDataRoute:!0}}):C()},null)}var I4=function(s){return s.UseBlocker="useBlocker",s.UseRevalidator="useRevalidator",s.UseNavigateStable="useNavigate",s}(I4||{}),F4=function(s){return s.UseBlocker="useBlocker",s.UseLoaderData="useLoaderData",s.UseActionData="useActionData",s.UseRouteError="useRouteError",s.UseNavigation="useNavigation",s.UseRouteLoaderData="useRouteLoaderData",s.UseMatches="useMatches",s.UseRevalidator="useRevalidator",s.UseNavigateStable="useNavigate",s.UseRouteId="useRouteId",s}(F4||{});function RI(s){let e=J.useContext(z2);return e||Ts(!1),e}function BI(s){let e=J.useContext(_I);return e||Ts(!1),e}function DI(s){let e=J.useContext(mp);return e||Ts(!1),e}function z4(s){let e=DI(),t=e.matches[e.matches.length-1];return t.route.id||Ts(!1),t.route.id}function NI(){var s;let e=J.useContext(L4),t=BI(),n=z4();return e!==void 0?e:(s=t.errors)==null?void 0:s[n]}function OI(){let{router:s}=RI(I4.UseNavigateStable),e=z4(F4.UseNavigateStable),t=J.useRef(!1);return U4(()=>{t.current=!0}),J.useCallback(function(i,r){r===void 0&&(r={}),t.current&&(typeof i=="number"?s.navigate(i):s.navigate(i,by({fromRouteId:e},r)))},[s,e])}const i3={};function LI(s,e,t){i3[s]||(i3[s]=!0)}function UI(s,e){s==null||s.v7_startTransition,s==null||s.v7_relativeSplatPath}function Nf(s){Ts(!1)}function PI(s){let{basename:e="/",children:t=null,location:n,navigationType:i=If.Pop,navigator:r,static:a=!1,future:l}=s;Qy()&&Ts(!1);let u=e.replace(/^\/*/,"/"),h=J.useMemo(()=>({basename:u,navigator:r,static:a,future:by({v7_relativeSplatPath:!1},l)}),[u,l,r,a]);typeof n=="string"&&(n=kg(n));let{pathname:m="/",search:g="",hash:v="",state:_=null,key:S="default"}=n,b=J.useMemo(()=>{let M=F2(m,u);return M==null?null:{location:{pathname:M,search:g,hash:v,state:_,key:S},navigationType:i}},[u,m,g,v,_,S,i]);return b==null?null:J.createElement(pp.Provider,{value:h},J.createElement(ZA.Provider,{children:t,value:b}))}function II(s){let{children:e,location:t}=s;return AI(xT(e),t)}new Promise(()=>{});function xT(s,e){e===void 0&&(e=[]);let t=[];return J.Children.forEach(s,(n,i)=>{if(!J.isValidElement(n))return;let r=[...e,i];if(n.type===J.Fragment){t.push.apply(t,xT(n.props.children,r));return}n.type!==Nf&&Ts(!1),!n.props.index||!n.props.children||Ts(!1);let a={id:n.props.id||r.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(a.children=xT(n.props.children,r)),t.push(a)}),t}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ST(){return ST=Object.assign?Object.assign.bind():function(s){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(s[n]=t[n])}return s},ST.apply(this,arguments)}function FI(s,e){if(s==null)return{};var t={},n=Object.keys(s),i,r;for(r=0;r<n.length;r++)i=n[r],!(e.indexOf(i)>=0)&&(t[i]=s[i]);return t}function zI(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function HI(s,e){return s.button===0&&(!e||e==="_self")&&!zI(s)}const GI=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],VI="6";try{window.__reactRouterVersion=VI}catch{}const kI="startTransition",s3=HP[kI];function jI(s){let{basename:e,children:t,future:n,window:i}=s,r=J.useRef();r.current==null&&(r.current=qP({window:i,v5Compat:!0}));let a=r.current,[l,u]=J.useState({action:a.action,location:a.location}),{v7_startTransition:h}=n||{},m=J.useCallback(g=>{h&&s3?s3(()=>u(g)):u(g)},[u,h]);return J.useLayoutEffect(()=>a.listen(m),[a,m]),J.useEffect(()=>UI(n),[n]),J.createElement(PI,{basename:e,children:t,location:l.location,navigationType:l.action,navigator:a,future:n})}const XI=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",YI=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,cr=J.forwardRef(function(e,t){let{onClick:n,relative:i,reloadDocument:r,replace:a,state:l,target:u,to:h,preventScrollReset:m,viewTransition:g}=e,v=FI(e,GI),{basename:_}=J.useContext(pp),S,b=!1;if(typeof h=="string"&&YI.test(h)&&(S=h,XI))try{let B=new URL(window.location.href),D=h.startsWith("//")?new URL(B.protocol+h):new URL(h),N=F2(D.pathname,_);D.origin===B.origin&&N!=null?h=N+D.search+D.hash:b=!0}catch{}let M=xI(h,{relative:i}),A=qI(h,{replace:a,state:l,target:u,preventScrollReset:m,relative:i,viewTransition:g});function C(B){n&&n(B),B.defaultPrevented||A(B)}return J.createElement("a",ST({},v,{href:S||M,onClick:b||r?n:C,ref:t,target:u}))});var r3;(function(s){s.UseScrollRestoration="useScrollRestoration",s.UseSubmit="useSubmit",s.UseSubmitFetcher="useSubmitFetcher",s.UseFetcher="useFetcher",s.useViewTransitionState="useViewTransitionState"})(r3||(r3={}));var a3;(function(s){s.UseFetcher="useFetcher",s.UseFetchers="useFetchers",s.UseScrollRestoration="useScrollRestoration"})(a3||(a3={}));function qI(s,e){let{target:t,replace:n,state:i,preventScrollReset:r,relative:a,viewTransition:l}=e===void 0?{}:e,u=QA(),h=ah(),m=P4(s,{relative:a});return J.useCallback(g=>{if(HI(g,t)){g.preventDefault();let v=n!==void 0?n:IS(h)===IS(m);u(s,{replace:v,state:i,preventScrollReset:r,relative:a,viewTransition:l})}},[h,u,m,n,i,t,s,r,a,l])}function cu(s){if(s===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s}function H4(s,e){s.prototype=Object.create(e.prototype),s.prototype.constructor=s,s.__proto__=e}/*!
 * GSAP 3.12.7
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var oo={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},yg={duration:.5,overwrite:!1,delay:0},H2,dr,Vi,xc=1e8,Lr=1/xc,AT=Math.PI*2,WI=AT/4,KI=0,G4=Math.sqrt,JI=Math.cos,ZI=Math.sin,Zs=function(e){return typeof e=="string"},rs=function(e){return typeof e=="function"},Mu=function(e){return typeof e=="number"},G2=function(e){return typeof e>"u"},wc=function(e){return typeof e=="object"},La=function(e){return e!==!1},V2=function(){return typeof window<"u"},$1=function(e){return rs(e)||Zs(e)},V4=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},Pr=Array.isArray,MT=/(?:-?\.?\d|\.)+/gi,k4=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,Qm=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,Lb=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,j4=/[+-]=-?[.\d]+/,X4=/[^,'"\[\]\s]+/gi,QI=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,Ki,dc,bT,k2,uo={},FS={},Y4,q4=function(e){return(FS=_g(e,uo))&&Fa},j2=function(e,t){return console.warn("Invalid property",e,"set to",t,"Missing plugin? gsap.registerPlugin()")},Ey=function(e,t){return!t&&console.warn(e)},W4=function(e,t){return e&&(uo[e]=t)&&FS&&(FS[e]=t)||uo},Ty=function(){return 0},$I={suppressEvents:!0,isStart:!0,kill:!1},_S={suppressEvents:!0,kill:!1},e7={suppressEvents:!0},X2={},Yf=[],ET={},K4,no={},Ub={},o3=30,xS=[],Y2="",q2=function(e){var t=e[0],n,i;if(wc(t)||rs(t)||(e=[e]),!(n=(t._gsap||{}).harness)){for(i=xS.length;i--&&!xS[i].targetTest(t););n=xS[i]}for(i=e.length;i--;)e[i]&&(e[i]._gsap||(e[i]._gsap=new _N(e[i],n)))||e.splice(i,1);return e},jd=function(e){return e._gsap||q2(jo(e))[0]._gsap},J4=function(e,t,n){return(n=e[t])&&rs(n)?e[t]():G2(n)&&e.getAttribute&&e.getAttribute(t)||n},Ua=function(e,t){return(e=e.split(",")).forEach(t)||e},hs=function(e){return Math.round(e*1e5)/1e5||0},Es=function(e){return Math.round(e*1e7)/1e7||0},lg=function(e,t){var n=t.charAt(0),i=parseFloat(t.substr(2));return e=parseFloat(e),n==="+"?e+i:n==="-"?e-i:n==="*"?e*i:e/i},t7=function(e,t){for(var n=t.length,i=0;e.indexOf(t[i])<0&&++i<n;);return i<n},zS=function(){var e=Yf.length,t=Yf.slice(0),n,i;for(ET={},Yf.length=0,n=0;n<e;n++)i=t[n],i&&i._lazy&&(i.render(i._lazy[0],i._lazy[1],!0)._lazy=0)},Z4=function(e,t,n,i){Yf.length&&!dr&&zS(),e.render(t,n,dr&&t<0&&(e._initted||e._startAt)),Yf.length&&!dr&&zS()},Q4=function(e){var t=parseFloat(e);return(t||t===0)&&(e+"").match(X4).length<2?t:Zs(e)?e.trim():e},$4=function(e){return e},fo=function(e,t){for(var n in t)n in e||(e[n]=t[n]);return e},n7=function(e){return function(t,n){for(var i in n)i in t||i==="duration"&&e||i==="ease"||(t[i]=n[i])}},_g=function(e,t){for(var n in t)e[n]=t[n];return e},l3=function s(e,t){for(var n in t)n!=="__proto__"&&n!=="constructor"&&n!=="prototype"&&(e[n]=wc(t[n])?s(e[n]||(e[n]={}),t[n]):t[n]);return e},HS=function(e,t){var n={},i;for(i in e)i in t||(n[i]=e[i]);return n},Kv=function(e){var t=e.parent||Ki,n=e.keyframes?n7(Pr(e.keyframes)):fo;if(La(e.inherit))for(;t;)n(e,t.vars.defaults),t=t.parent||t._dp;return e},i7=function(e,t){for(var n=e.length,i=n===t.length;i&&n--&&e[n]===t[n];);return n<0},eN=function(e,t,n,i,r){var a=e[i],l;if(r)for(l=t[r];a&&a[r]>l;)a=a._prev;return a?(t._next=a._next,a._next=t):(t._next=e[n],e[n]=t),t._next?t._next._prev=t:e[i]=t,t._prev=a,t.parent=t._dp=e,t},$A=function(e,t,n,i){n===void 0&&(n="_first"),i===void 0&&(i="_last");var r=t._prev,a=t._next;r?r._next=a:e[n]===t&&(e[n]=a),a?a._prev=r:e[i]===t&&(e[i]=r),t._next=t._prev=t.parent=null},Zf=function(e,t){e.parent&&(!t||e.parent.autoRemoveChildren)&&e.parent.remove&&e.parent.remove(e),e._act=0},Xd=function(e,t){if(e&&(!t||t._end>e._dur||t._start<0))for(var n=e;n;)n._dirty=1,n=n.parent;return e},s7=function(e){for(var t=e.parent;t&&t.parent;)t._dirty=1,t.totalDuration(),t=t.parent;return e},TT=function(e,t,n,i){return e._startAt&&(dr?e._startAt.revert(_S):e.vars.immediateRender&&!e.vars.autoRevert||e._startAt.render(t,!0,i))},r7=function s(e){return!e||e._ts&&s(e.parent)},c3=function(e){return e._repeat?xg(e._tTime,e=e.duration()+e._rDelay)*e:0},xg=function(e,t){var n=Math.floor(e=Es(e/t));return e&&n===e?n-1:n},GS=function(e,t){return(e-t._start)*t._ts+(t._ts>=0?0:t._dirty?t.totalDuration():t._tDur)},eM=function(e){return e._end=Es(e._start+(e._tDur/Math.abs(e._ts||e._rts||Lr)||0))},tM=function(e,t){var n=e._dp;return n&&n.smoothChildTiming&&e._ts&&(e._start=Es(n._time-(e._ts>0?t/e._ts:((e._dirty?e.totalDuration():e._tDur)-t)/-e._ts)),eM(e),n._dirty||Xd(n,e)),e},tN=function(e,t){var n;if((t._time||!t._dur&&t._initted||t._start<e._time&&(t._dur||!t.add))&&(n=GS(e.rawTime(),t),(!t._dur||$y(0,t.totalDuration(),n)-t._tTime>Lr)&&t.render(n,!0)),Xd(e,t)._dp&&e._initted&&e._time>=e._dur&&e._ts){if(e._dur<e.duration())for(n=e;n._dp;)n.rawTime()>=0&&n.totalTime(n._tTime),n=n._dp;e._zTime=-1e-8}},mc=function(e,t,n,i){return t.parent&&Zf(t),t._start=Es((Mu(n)?n:n||e!==Ki?Io(e,n,t):e._time)+t._delay),t._end=Es(t._start+(t.totalDuration()/Math.abs(t.timeScale())||0)),eN(e,t,"_first","_last",e._sort?"_start":0),CT(t)||(e._recent=t),i||tN(e,t),e._ts<0&&tM(e,e._tTime),e},nN=function(e,t){return(uo.ScrollTrigger||j2("scrollTrigger",t))&&uo.ScrollTrigger.create(t,e)},iN=function(e,t,n,i,r){if(K2(e,t,r),!e._initted)return 1;if(!n&&e._pt&&!dr&&(e._dur&&e.vars.lazy!==!1||!e._dur&&e.vars.lazy)&&K4!==so.frame)return Yf.push(e),e._lazy=[r,i],1},a7=function s(e){var t=e.parent;return t&&t._ts&&t._initted&&!t._lock&&(t.rawTime()<0||s(t))},CT=function(e){var t=e.data;return t==="isFromStart"||t==="isStart"},o7=function(e,t,n,i){var r=e.ratio,a=t<0||!t&&(!e._start&&a7(e)&&!(!e._initted&&CT(e))||(e._ts<0||e._dp._ts<0)&&!CT(e))?0:1,l=e._rDelay,u=0,h,m,g;if(l&&e._repeat&&(u=$y(0,e._tDur,t),m=xg(u,l),e._yoyo&&m&1&&(a=1-a),m!==xg(e._tTime,l)&&(r=1-a,e.vars.repeatRefresh&&e._initted&&e.invalidate())),a!==r||dr||i||e._zTime===Lr||!t&&e._zTime){if(!e._initted&&iN(e,t,i,n,u))return;for(g=e._zTime,e._zTime=t||(n?Lr:0),n||(n=t&&!g),e.ratio=a,e._from&&(a=1-a),e._time=0,e._tTime=u,h=e._pt;h;)h.r(a,h.d),h=h._next;t<0&&TT(e,t,n,!0),e._onUpdate&&!n&&ao(e,"onUpdate"),u&&e._repeat&&!n&&e.parent&&ao(e,"onRepeat"),(t>=e._tDur||t<0)&&e.ratio===a&&(a&&Zf(e,1),!n&&!dr&&(ao(e,a?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}else e._zTime||(e._zTime=t)},l7=function(e,t,n){var i;if(n>t)for(i=e._first;i&&i._start<=n;){if(i.data==="isPause"&&i._start>t)return i;i=i._next}else for(i=e._last;i&&i._start>=n;){if(i.data==="isPause"&&i._start<t)return i;i=i._prev}},Sg=function(e,t,n,i){var r=e._repeat,a=Es(t)||0,l=e._tTime/e._tDur;return l&&!i&&(e._time*=a/e._dur),e._dur=a,e._tDur=r?r<0?1e10:Es(a*(r+1)+e._rDelay*r):a,l>0&&!i&&tM(e,e._tTime=e._tDur*l),e.parent&&eM(e),n||Xd(e.parent,e),e},u3=function(e){return e instanceof ua?Xd(e):Sg(e,e._dur)},c7={_start:0,endTime:Ty,totalDuration:Ty},Io=function s(e,t,n){var i=e.labels,r=e._recent||c7,a=e.duration()>=xc?r.endTime(!1):e._dur,l,u,h;return Zs(t)&&(isNaN(t)||t in i)?(u=t.charAt(0),h=t.substr(-1)==="%",l=t.indexOf("="),u==="<"||u===">"?(l>=0&&(t=t.replace(/=/,"")),(u==="<"?r._start:r.endTime(r._repeat>=0))+(parseFloat(t.substr(1))||0)*(h?(l<0?r:n).totalDuration()/100:1)):l<0?(t in i||(i[t]=a),i[t]):(u=parseFloat(t.charAt(l-1)+t.substr(l+1)),h&&n&&(u=u/100*(Pr(n)?n[0]:n).totalDuration()),l>1?s(e,t.substr(0,l-1),n)+u:a+u)):t==null?a:+t},Jv=function(e,t,n){var i=Mu(t[1]),r=(i?2:1)+(e<2?0:1),a=t[r],l,u;if(i&&(a.duration=t[1]),a.parent=n,e){for(l=a,u=n;u&&!("immediateRender"in l);)l=u.vars.defaults||{},u=La(u.vars.inherit)&&u.parent;a.immediateRender=La(l.immediateRender),e<2?a.runBackwards=1:a.startAt=t[r-1]}return new bs(t[0],a,t[r+1])},oh=function(e,t){return e||e===0?t(e):t},$y=function(e,t,n){return n<e?e:n>t?t:n},Nr=function(e,t){return!Zs(e)||!(t=QI.exec(e))?"":t[1]},u7=function(e,t,n){return oh(n,function(i){return $y(e,t,i)})},wT=[].slice,sN=function(e,t){return e&&wc(e)&&"length"in e&&(!t&&!e.length||e.length-1 in e&&wc(e[0]))&&!e.nodeType&&e!==dc},f7=function(e,t,n){return n===void 0&&(n=[]),e.forEach(function(i){var r;return Zs(i)&&!t||sN(i,1)?(r=n).push.apply(r,jo(i)):n.push(i)})||n},jo=function(e,t,n){return Vi&&!t&&Vi.selector?Vi.selector(e):Zs(e)&&!n&&(bT||!Ag())?wT.call((t||k2).querySelectorAll(e),0):Pr(e)?f7(e,n):sN(e)?wT.call(e,0):e?[e]:[]},RT=function(e){return e=jo(e)[0]||Ey("Invalid scope")||{},function(t){var n=e.current||e.nativeElement||e;return jo(t,n.querySelectorAll?n:n===e?Ey("Invalid scope")||k2.createElement("div"):e)}},rN=function(e){return e.sort(function(){return .5-Math.random()})},aN=function(e){if(rs(e))return e;var t=wc(e)?e:{each:e},n=Yd(t.ease),i=t.from||0,r=parseFloat(t.base)||0,a={},l=i>0&&i<1,u=isNaN(i)||l,h=t.axis,m=i,g=i;return Zs(i)?m=g={center:.5,edges:.5,end:1}[i]||0:!l&&u&&(m=i[0],g=i[1]),function(v,_,S){var b=(S||t).length,M=a[b],A,C,B,D,N,U,F,z,O;if(!M){if(O=t.grid==="auto"?0:(t.grid||[1,xc])[1],!O){for(F=-1e8;F<(F=S[O++].getBoundingClientRect().left)&&O<b;);O<b&&O--}for(M=a[b]=[],A=u?Math.min(O,b)*m-.5:i%O,C=O===xc?0:u?b*g/O-.5:i/O|0,F=0,z=xc,U=0;U<b;U++)B=U%O-A,D=C-(U/O|0),M[U]=N=h?Math.abs(h==="y"?D:B):G4(B*B+D*D),N>F&&(F=N),N<z&&(z=N);i==="random"&&rN(M),M.max=F-z,M.min=z,M.v=b=(parseFloat(t.amount)||parseFloat(t.each)*(O>b?b-1:h?h==="y"?b/O:O:Math.max(O,b/O))||0)*(i==="edges"?-1:1),M.b=b<0?r-b:r,M.u=Nr(t.amount||t.each)||0,n=n&&b<0?gN(n):n}return b=(M[v]-M.min)/M.max||0,Es(M.b+(n?n(b):b)*M.v)+M.u}},BT=function(e){var t=Math.pow(10,((e+"").split(".")[1]||"").length);return function(n){var i=Es(Math.round(parseFloat(n)/e)*e*t);return(i-i%1)/t+(Mu(n)?0:Nr(n))}},oN=function(e,t){var n=Pr(e),i,r;return!n&&wc(e)&&(i=n=e.radius||xc,e.values?(e=jo(e.values),(r=!Mu(e[0]))&&(i*=i)):e=BT(e.increment)),oh(t,n?rs(e)?function(a){return r=e(a),Math.abs(r-a)<=i?r:a}:function(a){for(var l=parseFloat(r?a.x:a),u=parseFloat(r?a.y:0),h=xc,m=0,g=e.length,v,_;g--;)r?(v=e[g].x-l,_=e[g].y-u,v=v*v+_*_):v=Math.abs(e[g]-l),v<h&&(h=v,m=g);return m=!i||h<=i?e[m]:a,r||m===a||Mu(a)?m:m+Nr(a)}:BT(e))},lN=function(e,t,n,i){return oh(Pr(e)?!t:n===!0?!!(n=0):!i,function(){return Pr(e)?e[~~(Math.random()*e.length)]:(n=n||1e-5)&&(i=n<1?Math.pow(10,(n+"").length-2):1)&&Math.floor(Math.round((e-n/2+Math.random()*(t-e+n*.99))/n)*n*i)/i})},h7=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(i){return t.reduce(function(r,a){return a(r)},i)}},d7=function(e,t){return function(n){return e(parseFloat(n))+(t||Nr(n))}},p7=function(e,t,n){return uN(e,t,0,1,n)},cN=function(e,t,n){return oh(n,function(i){return e[~~t(i)]})},m7=function s(e,t,n){var i=t-e;return Pr(e)?cN(e,s(0,e.length),t):oh(n,function(r){return(i+(r-e)%i)%i+e})},g7=function s(e,t,n){var i=t-e,r=i*2;return Pr(e)?cN(e,s(0,e.length-1),t):oh(n,function(a){return a=(r+(a-e)%r)%r||0,e+(a>i?r-a:a)})},Cy=function(e){for(var t=0,n="",i,r,a,l;~(i=e.indexOf("random(",t));)a=e.indexOf(")",i),l=e.charAt(i+7)==="[",r=e.substr(i+7,a-i-7).match(l?X4:MT),n+=e.substr(t,i-t)+lN(l?r:+r[0],l?0:+r[1],+r[2]||1e-5),t=a+1;return n+e.substr(t,e.length-t)},uN=function(e,t,n,i,r){var a=t-e,l=i-n;return oh(r,function(u){return n+((u-e)/a*l||0)})},v7=function s(e,t,n,i){var r=isNaN(e+t)?0:function(_){return(1-_)*e+_*t};if(!r){var a=Zs(e),l={},u,h,m,g,v;if(n===!0&&(i=1)&&(n=null),a)e={p:e},t={p:t};else if(Pr(e)&&!Pr(t)){for(m=[],g=e.length,v=g-2,h=1;h<g;h++)m.push(s(e[h-1],e[h]));g--,r=function(S){S*=g;var b=Math.min(v,~~S);return m[b](S-b)},n=t}else i||(e=_g(Pr(e)?[]:{},e));if(!m){for(u in t)W2.call(l,e,u,"get",t[u]);r=function(S){return Q2(S,l)||(a?e.p:e)}}}return oh(n,r)},f3=function(e,t,n){var i=e.labels,r=xc,a,l,u;for(a in i)l=i[a]-t,l<0==!!n&&l&&r>(l=Math.abs(l))&&(u=a,r=l);return u},ao=function(e,t,n){var i=e.vars,r=i[t],a=Vi,l=e._ctx,u,h,m;if(r)return u=i[t+"Params"],h=i.callbackScope||e,n&&Yf.length&&zS(),l&&(Vi=l),m=u?r.apply(h,u):r.call(h),Vi=a,m},Uv=function(e){return Zf(e),e.scrollTrigger&&e.scrollTrigger.kill(!!dr),e.progress()<1&&ao(e,"onInterrupt"),e},$m,fN=[],hN=function(e){if(e)if(e=!e.name&&e.default||e,V2()||e.headless){var t=e.name,n=rs(e),i=t&&!n&&e.init?function(){this._props=[]}:e,r={init:Ty,render:Q2,add:W2,kill:O7,modifier:N7,rawVars:0},a={targetTest:0,get:0,getSetter:Z2,aliases:{},register:0};if(Ag(),e!==i){if(no[t])return;fo(i,fo(HS(e,r),a)),_g(i.prototype,_g(r,HS(e,a))),no[i.prop=t]=i,e.targetTest&&(xS.push(i),X2[t]=1),t=(t==="css"?"CSS":t.charAt(0).toUpperCase()+t.substr(1))+"Plugin"}W4(t,i),e.register&&e.register(Fa,i,Pa)}else fN.push(e)},Bi=255,Pv={aqua:[0,Bi,Bi],lime:[0,Bi,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,Bi],navy:[0,0,128],white:[Bi,Bi,Bi],olive:[128,128,0],yellow:[Bi,Bi,0],orange:[Bi,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[Bi,0,0],pink:[Bi,192,203],cyan:[0,Bi,Bi],transparent:[Bi,Bi,Bi,0]},Pb=function(e,t,n){return e+=e<0?1:e>1?-1:0,(e*6<1?t+(n-t)*e*6:e<.5?n:e*3<2?t+(n-t)*(2/3-e)*6:t)*Bi+.5|0},dN=function(e,t,n){var i=e?Mu(e)?[e>>16,e>>8&Bi,e&Bi]:0:Pv.black,r,a,l,u,h,m,g,v,_,S;if(!i){if(e.substr(-1)===","&&(e=e.substr(0,e.length-1)),Pv[e])i=Pv[e];else if(e.charAt(0)==="#"){if(e.length<6&&(r=e.charAt(1),a=e.charAt(2),l=e.charAt(3),e="#"+r+r+a+a+l+l+(e.length===5?e.charAt(4)+e.charAt(4):"")),e.length===9)return i=parseInt(e.substr(1,6),16),[i>>16,i>>8&Bi,i&Bi,parseInt(e.substr(7),16)/255];e=parseInt(e.substr(1),16),i=[e>>16,e>>8&Bi,e&Bi]}else if(e.substr(0,3)==="hsl"){if(i=S=e.match(MT),!t)u=+i[0]%360/360,h=+i[1]/100,m=+i[2]/100,a=m<=.5?m*(h+1):m+h-m*h,r=m*2-a,i.length>3&&(i[3]*=1),i[0]=Pb(u+1/3,r,a),i[1]=Pb(u,r,a),i[2]=Pb(u-1/3,r,a);else if(~e.indexOf("="))return i=e.match(k4),n&&i.length<4&&(i[3]=1),i}else i=e.match(MT)||Pv.transparent;i=i.map(Number)}return t&&!S&&(r=i[0]/Bi,a=i[1]/Bi,l=i[2]/Bi,g=Math.max(r,a,l),v=Math.min(r,a,l),m=(g+v)/2,g===v?u=h=0:(_=g-v,h=m>.5?_/(2-g-v):_/(g+v),u=g===r?(a-l)/_+(a<l?6:0):g===a?(l-r)/_+2:(r-a)/_+4,u*=60),i[0]=~~(u+.5),i[1]=~~(h*100+.5),i[2]=~~(m*100+.5)),n&&i.length<4&&(i[3]=1),i},pN=function(e){var t=[],n=[],i=-1;return e.split(qf).forEach(function(r){var a=r.match(Qm)||[];t.push.apply(t,a),n.push(i+=a.length+1)}),t.c=n,t},h3=function(e,t,n){var i="",r=(e+i).match(qf),a=t?"hsla(":"rgba(",l=0,u,h,m,g;if(!r)return e;if(r=r.map(function(v){return(v=dN(v,t,1))&&a+(t?v[0]+","+v[1]+"%,"+v[2]+"%,"+v[3]:v.join(","))+")"}),n&&(m=pN(e),u=n.c,u.join(i)!==m.c.join(i)))for(h=e.replace(qf,"1").split(Qm),g=h.length-1;l<g;l++)i+=h[l]+(~u.indexOf(l)?r.shift()||a+"0,0,0,0)":(m.length?m:r.length?r:n).shift());if(!h)for(h=e.split(qf),g=h.length-1;l<g;l++)i+=h[l]+r[l];return i+h[g]},qf=function(){var s="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",e;for(e in Pv)s+="|"+e+"\\b";return new RegExp(s+")","gi")}(),y7=/hsl[a]?\(/,mN=function(e){var t=e.join(" "),n;if(qf.lastIndex=0,qf.test(t))return n=y7.test(t),e[1]=h3(e[1],n),e[0]=h3(e[0],n,pN(e[1])),!0},wy,so=function(){var s=Date.now,e=500,t=33,n=s(),i=n,r=1e3/240,a=r,l=[],u,h,m,g,v,_,S=function b(M){var A=s()-i,C=M===!0,B,D,N,U;if((A>e||A<0)&&(n+=A-t),i+=A,N=i-n,B=N-a,(B>0||C)&&(U=++g.frame,v=N-g.time*1e3,g.time=N=N/1e3,a+=B+(B>=r?4:r-B),D=1),C||(u=h(b)),D)for(_=0;_<l.length;_++)l[_](N,v,U,M)};return g={time:0,frame:0,tick:function(){S(!0)},deltaRatio:function(M){return v/(1e3/(M||60))},wake:function(){Y4&&(!bT&&V2()&&(dc=bT=window,k2=dc.document||{},uo.gsap=Fa,(dc.gsapVersions||(dc.gsapVersions=[])).push(Fa.version),q4(FS||dc.GreenSockGlobals||!dc.gsap&&dc||{}),fN.forEach(hN)),m=typeof requestAnimationFrame<"u"&&requestAnimationFrame,u&&g.sleep(),h=m||function(M){return setTimeout(M,a-g.time*1e3+1|0)},wy=1,S(2))},sleep:function(){(m?cancelAnimationFrame:clearTimeout)(u),wy=0,h=Ty},lagSmoothing:function(M,A){e=M||1/0,t=Math.min(A||33,e)},fps:function(M){r=1e3/(M||240),a=g.time*1e3+r},add:function(M,A,C){var B=A?function(D,N,U,F){M(D,N,U,F),g.remove(B)}:M;return g.remove(M),l[C?"unshift":"push"](B),Ag(),B},remove:function(M,A){~(A=l.indexOf(M))&&l.splice(A,1)&&_>=A&&_--},_listeners:l},g}(),Ag=function(){return!wy&&so.wake()},Wn={},_7=/^[\d.\-M][\d.\-,\s]/,x7=/["']/g,S7=function(e){for(var t={},n=e.substr(1,e.length-3).split(":"),i=n[0],r=1,a=n.length,l,u,h;r<a;r++)u=n[r],l=r!==a-1?u.lastIndexOf(","):u.length,h=u.substr(0,l),t[i]=isNaN(h)?h.replace(x7,"").trim():+h,i=u.substr(l+1).trim();return t},A7=function(e){var t=e.indexOf("(")+1,n=e.indexOf(")"),i=e.indexOf("(",t);return e.substring(t,~i&&i<n?e.indexOf(")",n+1):n)},M7=function(e){var t=(e+"").split("("),n=Wn[t[0]];return n&&t.length>1&&n.config?n.config.apply(null,~e.indexOf("{")?[S7(t[1])]:A7(e).split(",").map(Q4)):Wn._CE&&_7.test(e)?Wn._CE("",e):n},gN=function(e){return function(t){return 1-e(1-t)}},vN=function s(e,t){for(var n=e._first,i;n;)n instanceof ua?s(n,t):n.vars.yoyoEase&&(!n._yoyo||!n._repeat)&&n._yoyo!==t&&(n.timeline?s(n.timeline,t):(i=n._ease,n._ease=n._yEase,n._yEase=i,n._yoyo=t)),n=n._next},Yd=function(e,t){return e&&(rs(e)?e:Wn[e]||M7(e))||t},gp=function(e,t,n,i){n===void 0&&(n=function(u){return 1-t(1-u)}),i===void 0&&(i=function(u){return u<.5?t(u*2)/2:1-t((1-u)*2)/2});var r={easeIn:t,easeOut:n,easeInOut:i},a;return Ua(e,function(l){Wn[l]=uo[l]=r,Wn[a=l.toLowerCase()]=n;for(var u in r)Wn[a+(u==="easeIn"?".in":u==="easeOut"?".out":".inOut")]=Wn[l+"."+u]=r[u]}),r},yN=function(e){return function(t){return t<.5?(1-e(1-t*2))/2:.5+e((t-.5)*2)/2}},Ib=function s(e,t,n){var i=t>=1?t:1,r=(n||(e?.3:.45))/(t<1?t:1),a=r/AT*(Math.asin(1/i)||0),l=function(m){return m===1?1:i*Math.pow(2,-10*m)*ZI((m-a)*r)+1},u=e==="out"?l:e==="in"?function(h){return 1-l(1-h)}:yN(l);return r=AT/r,u.config=function(h,m){return s(e,h,m)},u},Fb=function s(e,t){t===void 0&&(t=1.70158);var n=function(a){return a?--a*a*((t+1)*a+t)+1:0},i=e==="out"?n:e==="in"?function(r){return 1-n(1-r)}:yN(n);return i.config=function(r){return s(e,r)},i};Ua("Linear,Quad,Cubic,Quart,Quint,Strong",function(s,e){var t=e<5?e+1:e;gp(s+",Power"+(t-1),e?function(n){return Math.pow(n,t)}:function(n){return n},function(n){return 1-Math.pow(1-n,t)},function(n){return n<.5?Math.pow(n*2,t)/2:1-Math.pow((1-n)*2,t)/2})});Wn.Linear.easeNone=Wn.none=Wn.Linear.easeIn;gp("Elastic",Ib("in"),Ib("out"),Ib());(function(s,e){var t=1/e,n=2*t,i=2.5*t,r=function(l){return l<t?s*l*l:l<n?s*Math.pow(l-1.5/e,2)+.75:l<i?s*(l-=2.25/e)*l+.9375:s*Math.pow(l-2.625/e,2)+.984375};gp("Bounce",function(a){return 1-r(1-a)},r)})(7.5625,2.75);gp("Expo",function(s){return Math.pow(2,10*(s-1))*s+s*s*s*s*s*s*(1-s)});gp("Circ",function(s){return-(G4(1-s*s)-1)});gp("Sine",function(s){return s===1?1:-JI(s*WI)+1});gp("Back",Fb("in"),Fb("out"),Fb());Wn.SteppedEase=Wn.steps=uo.SteppedEase={config:function(e,t){e===void 0&&(e=1);var n=1/e,i=e+(t?0:1),r=t?1:0,a=1-Lr;return function(l){return((i*$y(0,a,l)|0)+r)*n}}};yg.ease=Wn["quad.out"];Ua("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(s){return Y2+=s+","+s+"Params,"});var _N=function(e,t){this.id=KI++,e._gsap=this,this.target=e,this.harness=t,this.get=t?t.get:J4,this.set=t?t.getSetter:Z2},Ry=function(){function s(t){this.vars=t,this._delay=+t.delay||0,(this._repeat=t.repeat===1/0?-2:t.repeat||0)&&(this._rDelay=t.repeatDelay||0,this._yoyo=!!t.yoyo||!!t.yoyoEase),this._ts=1,Sg(this,+t.duration,1,1),this.data=t.data,Vi&&(this._ctx=Vi,Vi.data.push(this)),wy||so.wake()}var e=s.prototype;return e.delay=function(n){return n||n===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+n-this._delay),this._delay=n,this):this._delay},e.duration=function(n){return arguments.length?this.totalDuration(this._repeat>0?n+(n+this._rDelay)*this._repeat:n):this.totalDuration()&&this._dur},e.totalDuration=function(n){return arguments.length?(this._dirty=0,Sg(this,this._repeat<0?n:(n-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},e.totalTime=function(n,i){if(Ag(),!arguments.length)return this._tTime;var r=this._dp;if(r&&r.smoothChildTiming&&this._ts){for(tM(this,n),!r._dp||r.parent||tN(r,this);r&&r.parent;)r.parent._time!==r._start+(r._ts>=0?r._tTime/r._ts:(r.totalDuration()-r._tTime)/-r._ts)&&r.totalTime(r._tTime,!0),r=r.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&n<this._tDur||this._ts<0&&n>0||!this._tDur&&!n)&&mc(this._dp,this,this._start-this._delay)}return(this._tTime!==n||!this._dur&&!i||this._initted&&Math.abs(this._zTime)===Lr||!n&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=n),Z4(this,n,i)),this},e.time=function(n,i){return arguments.length?this.totalTime(Math.min(this.totalDuration(),n+c3(this))%(this._dur+this._rDelay)||(n?this._dur:0),i):this._time},e.totalProgress=function(n,i){return arguments.length?this.totalTime(this.totalDuration()*n,i):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.rawTime()>=0&&this._initted?1:0},e.progress=function(n,i){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-n:n)+c3(this),i):this.duration()?Math.min(1,this._time/this._dur):this.rawTime()>0?1:0},e.iteration=function(n,i){var r=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(n-1)*r,i):this._repeat?xg(this._tTime,r)+1:1},e.timeScale=function(n,i){if(!arguments.length)return this._rts===-1e-8?0:this._rts;if(this._rts===n)return this;var r=this.parent&&this._ts?GS(this.parent._time,this):this._tTime;return this._rts=+n||0,this._ts=this._ps||n===-1e-8?0:this._rts,this.totalTime($y(-Math.abs(this._delay),this._tDur,r),i!==!1),eM(this),s7(this)},e.paused=function(n){return arguments.length?(this._ps!==n&&(this._ps=n,n?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(Ag(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==Lr&&(this._tTime-=Lr)))),this):this._ps},e.startTime=function(n){if(arguments.length){this._start=n;var i=this.parent||this._dp;return i&&(i._sort||!this.parent)&&mc(i,this,n-this._delay),this}return this._start},e.endTime=function(n){return this._start+(La(n)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},e.rawTime=function(n){var i=this.parent||this._dp;return i?n&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?GS(i.rawTime(n),this):this._tTime:this._tTime},e.revert=function(n){n===void 0&&(n=e7);var i=dr;return dr=n,(this._initted||this._startAt)&&(this.timeline&&this.timeline.revert(n),this.totalTime(-.01,n.suppressEvents)),this.data!=="nested"&&n.kill!==!1&&this.kill(),dr=i,this},e.globalTime=function(n){for(var i=this,r=arguments.length?n:i.rawTime();i;)r=i._start+r/(Math.abs(i._ts)||1),i=i._dp;return!this.parent&&this._sat?this._sat.globalTime(n):r},e.repeat=function(n){return arguments.length?(this._repeat=n===1/0?-2:n,u3(this)):this._repeat===-2?1/0:this._repeat},e.repeatDelay=function(n){if(arguments.length){var i=this._time;return this._rDelay=n,u3(this),i?this.time(i):this}return this._rDelay},e.yoyo=function(n){return arguments.length?(this._yoyo=n,this):this._yoyo},e.seek=function(n,i){return this.totalTime(Io(this,n),La(i))},e.restart=function(n,i){return this.play().totalTime(n?-this._delay:0,La(i)),this._dur||(this._zTime=-1e-8),this},e.play=function(n,i){return n!=null&&this.seek(n,i),this.reversed(!1).paused(!1)},e.reverse=function(n,i){return n!=null&&this.seek(n||this.totalDuration(),i),this.reversed(!0).paused(!1)},e.pause=function(n,i){return n!=null&&this.seek(n,i),this.paused(!0)},e.resume=function(){return this.paused(!1)},e.reversed=function(n){return arguments.length?(!!n!==this.reversed()&&this.timeScale(-this._rts||(n?-1e-8:0)),this):this._rts<0},e.invalidate=function(){return this._initted=this._act=0,this._zTime=-1e-8,this},e.isActive=function(){var n=this.parent||this._dp,i=this._start,r;return!!(!n||this._ts&&this._initted&&n.isActive()&&(r=n.rawTime(!0))>=i&&r<this.endTime(!0)-Lr)},e.eventCallback=function(n,i,r){var a=this.vars;return arguments.length>1?(i?(a[n]=i,r&&(a[n+"Params"]=r),n==="onUpdate"&&(this._onUpdate=i)):delete a[n],this):a[n]},e.then=function(n){var i=this;return new Promise(function(r){var a=rs(n)?n:$4,l=function(){var h=i.then;i.then=null,rs(a)&&(a=a(i))&&(a.then||a===i)&&(i.then=h),r(a),i.then=h};i._initted&&i.totalProgress()===1&&i._ts>=0||!i._tTime&&i._ts<0?l():i._prom=l})},e.kill=function(){Uv(this)},s}();fo(Ry.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-1e-8,_prom:0,_ps:!1,_rts:1});var ua=function(s){H4(e,s);function e(n,i){var r;return n===void 0&&(n={}),r=s.call(this,n)||this,r.labels={},r.smoothChildTiming=!!n.smoothChildTiming,r.autoRemoveChildren=!!n.autoRemoveChildren,r._sort=La(n.sortChildren),Ki&&mc(n.parent||Ki,cu(r),i),n.reversed&&r.reverse(),n.paused&&r.paused(!0),n.scrollTrigger&&nN(cu(r),n.scrollTrigger),r}var t=e.prototype;return t.to=function(i,r,a){return Jv(0,arguments,this),this},t.from=function(i,r,a){return Jv(1,arguments,this),this},t.fromTo=function(i,r,a,l){return Jv(2,arguments,this),this},t.set=function(i,r,a){return r.duration=0,r.parent=this,Kv(r).repeatDelay||(r.repeat=0),r.immediateRender=!!r.immediateRender,new bs(i,r,Io(this,a),1),this},t.call=function(i,r,a){return mc(this,bs.delayedCall(0,i,r),a)},t.staggerTo=function(i,r,a,l,u,h,m){return a.duration=r,a.stagger=a.stagger||l,a.onComplete=h,a.onCompleteParams=m,a.parent=this,new bs(i,a,Io(this,u)),this},t.staggerFrom=function(i,r,a,l,u,h,m){return a.runBackwards=1,Kv(a).immediateRender=La(a.immediateRender),this.staggerTo(i,r,a,l,u,h,m)},t.staggerFromTo=function(i,r,a,l,u,h,m,g){return l.startAt=a,Kv(l).immediateRender=La(l.immediateRender),this.staggerTo(i,r,l,u,h,m,g)},t.render=function(i,r,a){var l=this._time,u=this._dirty?this.totalDuration():this._tDur,h=this._dur,m=i<=0?0:Es(i),g=this._zTime<0!=i<0&&(this._initted||!h),v,_,S,b,M,A,C,B,D,N,U,F;if(this!==Ki&&m>u&&i>=0&&(m=u),m!==this._tTime||a||g){if(l!==this._time&&h&&(m+=this._time-l,i+=this._time-l),v=m,D=this._start,B=this._ts,A=!B,g&&(h||(l=this._zTime),(i||!r)&&(this._zTime=i)),this._repeat){if(U=this._yoyo,M=h+this._rDelay,this._repeat<-1&&i<0)return this.totalTime(M*100+i,r,a);if(v=Es(m%M),m===u?(b=this._repeat,v=h):(N=Es(m/M),b=~~N,b&&b===N&&(v=h,b--),v>h&&(v=h)),N=xg(this._tTime,M),!l&&this._tTime&&N!==b&&this._tTime-N*M-this._dur<=0&&(N=b),U&&b&1&&(v=h-v,F=1),b!==N&&!this._lock){var z=U&&N&1,O=z===(U&&b&1);if(b<N&&(z=!z),l=z?0:m%h?h:m,this._lock=1,this.render(l||(F?0:Es(b*M)),r,!h)._lock=0,this._tTime=m,!r&&this.parent&&ao(this,"onRepeat"),this.vars.repeatRefresh&&!F&&(this.invalidate()._lock=1),l&&l!==this._time||A!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(h=this._dur,u=this._tDur,O&&(this._lock=2,l=z?h:-1e-4,this.render(l,!0),this.vars.repeatRefresh&&!F&&this.invalidate()),this._lock=0,!this._ts&&!A)return this;vN(this,F)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(C=l7(this,Es(l),Es(v)),C&&(m-=v-(v=C._start))),this._tTime=m,this._time=v,this._act=!B,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=i,l=0),!l&&v&&!r&&!b&&(ao(this,"onStart"),this._tTime!==m))return this;if(v>=l&&i>=0)for(_=this._first;_;){if(S=_._next,(_._act||v>=_._start)&&_._ts&&C!==_){if(_.parent!==this)return this.render(i,r,a);if(_.render(_._ts>0?(v-_._start)*_._ts:(_._dirty?_.totalDuration():_._tDur)+(v-_._start)*_._ts,r,a),v!==this._time||!this._ts&&!A){C=0,S&&(m+=this._zTime=-1e-8);break}}_=S}else{_=this._last;for(var P=i<0?i:v;_;){if(S=_._prev,(_._act||P<=_._end)&&_._ts&&C!==_){if(_.parent!==this)return this.render(i,r,a);if(_.render(_._ts>0?(P-_._start)*_._ts:(_._dirty?_.totalDuration():_._tDur)+(P-_._start)*_._ts,r,a||dr&&(_._initted||_._startAt)),v!==this._time||!this._ts&&!A){C=0,S&&(m+=this._zTime=P?-1e-8:Lr);break}}_=S}}if(C&&!r&&(this.pause(),C.render(v>=l?0:-1e-8)._zTime=v>=l?1:-1,this._ts))return this._start=D,eM(this),this.render(i,r,a);this._onUpdate&&!r&&ao(this,"onUpdate",!0),(m===u&&this._tTime>=this.totalDuration()||!m&&l)&&(D===this._start||Math.abs(B)!==Math.abs(this._ts))&&(this._lock||((i||!h)&&(m===u&&this._ts>0||!m&&this._ts<0)&&Zf(this,1),!r&&!(i<0&&!l)&&(m||l||!u)&&(ao(this,m===u&&i>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(m<u&&this.timeScale()>0)&&this._prom())))}return this},t.add=function(i,r){var a=this;if(Mu(r)||(r=Io(this,r,i)),!(i instanceof Ry)){if(Pr(i))return i.forEach(function(l){return a.add(l,r)}),this;if(Zs(i))return this.addLabel(i,r);if(rs(i))i=bs.delayedCall(0,i);else return this}return this!==i?mc(this,i,r):this},t.getChildren=function(i,r,a,l){i===void 0&&(i=!0),r===void 0&&(r=!0),a===void 0&&(a=!0),l===void 0&&(l=-1e8);for(var u=[],h=this._first;h;)h._start>=l&&(h instanceof bs?r&&u.push(h):(a&&u.push(h),i&&u.push.apply(u,h.getChildren(!0,r,a)))),h=h._next;return u},t.getById=function(i){for(var r=this.getChildren(1,1,1),a=r.length;a--;)if(r[a].vars.id===i)return r[a]},t.remove=function(i){return Zs(i)?this.removeLabel(i):rs(i)?this.killTweensOf(i):(i.parent===this&&$A(this,i),i===this._recent&&(this._recent=this._last),Xd(this))},t.totalTime=function(i,r){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=Es(so.time-(this._ts>0?i/this._ts:(this.totalDuration()-i)/-this._ts))),s.prototype.totalTime.call(this,i,r),this._forcing=0,this):this._tTime},t.addLabel=function(i,r){return this.labels[i]=Io(this,r),this},t.removeLabel=function(i){return delete this.labels[i],this},t.addPause=function(i,r,a){var l=bs.delayedCall(0,r||Ty,a);return l.data="isPause",this._hasPause=1,mc(this,l,Io(this,i))},t.removePause=function(i){var r=this._first;for(i=Io(this,i);r;)r._start===i&&r.data==="isPause"&&Zf(r),r=r._next},t.killTweensOf=function(i,r,a){for(var l=this.getTweensOf(i,a),u=l.length;u--;)Ff!==l[u]&&l[u].kill(i,r);return this},t.getTweensOf=function(i,r){for(var a=[],l=jo(i),u=this._first,h=Mu(r),m;u;)u instanceof bs?t7(u._targets,l)&&(h?(!Ff||u._initted&&u._ts)&&u.globalTime(0)<=r&&u.globalTime(u.totalDuration())>r:!r||u.isActive())&&a.push(u):(m=u.getTweensOf(l,r)).length&&a.push.apply(a,m),u=u._next;return a},t.tweenTo=function(i,r){r=r||{};var a=this,l=Io(a,i),u=r,h=u.startAt,m=u.onStart,g=u.onStartParams,v=u.immediateRender,_,S=bs.to(a,fo({ease:r.ease||"none",lazy:!1,immediateRender:!1,time:l,overwrite:"auto",duration:r.duration||Math.abs((l-(h&&"time"in h?h.time:a._time))/a.timeScale())||Lr,onStart:function(){if(a.pause(),!_){var M=r.duration||Math.abs((l-(h&&"time"in h?h.time:a._time))/a.timeScale());S._dur!==M&&Sg(S,M,0,1).render(S._time,!0,!0),_=1}m&&m.apply(S,g||[])}},r));return v?S.render(0):S},t.tweenFromTo=function(i,r,a){return this.tweenTo(r,fo({startAt:{time:Io(this,i)}},a))},t.recent=function(){return this._recent},t.nextLabel=function(i){return i===void 0&&(i=this._time),f3(this,Io(this,i))},t.previousLabel=function(i){return i===void 0&&(i=this._time),f3(this,Io(this,i),1)},t.currentLabel=function(i){return arguments.length?this.seek(i,!0):this.previousLabel(this._time+Lr)},t.shiftChildren=function(i,r,a){a===void 0&&(a=0);for(var l=this._first,u=this.labels,h;l;)l._start>=a&&(l._start+=i,l._end+=i),l=l._next;if(r)for(h in u)u[h]>=a&&(u[h]+=i);return Xd(this)},t.invalidate=function(i){var r=this._first;for(this._lock=0;r;)r.invalidate(i),r=r._next;return s.prototype.invalidate.call(this,i)},t.clear=function(i){i===void 0&&(i=!0);for(var r=this._first,a;r;)a=r._next,this.remove(r),r=a;return this._dp&&(this._time=this._tTime=this._pTime=0),i&&(this.labels={}),Xd(this)},t.totalDuration=function(i){var r=0,a=this,l=a._last,u=xc,h,m,g;if(arguments.length)return a.timeScale((a._repeat<0?a.duration():a.totalDuration())/(a.reversed()?-i:i));if(a._dirty){for(g=a.parent;l;)h=l._prev,l._dirty&&l.totalDuration(),m=l._start,m>u&&a._sort&&l._ts&&!a._lock?(a._lock=1,mc(a,l,m-l._delay,1)._lock=0):u=m,m<0&&l._ts&&(r-=m,(!g&&!a._dp||g&&g.smoothChildTiming)&&(a._start+=m/a._ts,a._time-=m,a._tTime-=m),a.shiftChildren(-m,!1,-1/0),u=0),l._end>r&&l._ts&&(r=l._end),l=h;Sg(a,a===Ki&&a._time>r?a._time:r,1,1),a._dirty=0}return a._tDur},e.updateRoot=function(i){if(Ki._ts&&(Z4(Ki,GS(i,Ki)),K4=so.frame),so.frame>=o3){o3+=oo.autoSleep||120;var r=Ki._first;if((!r||!r._ts)&&oo.autoSleep&&so._listeners.length<2){for(;r&&!r._ts;)r=r._next;r||so.sleep()}}},e}(Ry);fo(ua.prototype,{_lock:0,_hasPause:0,_forcing:0});var b7=function(e,t,n,i,r,a,l){var u=new Pa(this._pt,e,t,0,1,EN,null,r),h=0,m=0,g,v,_,S,b,M,A,C;for(u.b=n,u.e=i,n+="",i+="",(A=~i.indexOf("random("))&&(i=Cy(i)),a&&(C=[n,i],a(C,e,t),n=C[0],i=C[1]),v=n.match(Lb)||[];g=Lb.exec(i);)S=g[0],b=i.substring(h,g.index),_?_=(_+1)%5:b.substr(-5)==="rgba("&&(_=1),S!==v[m++]&&(M=parseFloat(v[m-1])||0,u._pt={_next:u._pt,p:b||m===1?b:",",s:M,c:S.charAt(1)==="="?lg(M,S)-M:parseFloat(S)-M,m:_&&_<4?Math.round:0},h=Lb.lastIndex);return u.c=h<i.length?i.substring(h,i.length):"",u.fp=l,(j4.test(i)||A)&&(u.e=0),this._pt=u,u},W2=function(e,t,n,i,r,a,l,u,h,m){rs(i)&&(i=i(r||0,e,a));var g=e[t],v=n!=="get"?n:rs(g)?h?e[t.indexOf("set")||!rs(e["get"+t.substr(3)])?t:"get"+t.substr(3)](h):e[t]():g,_=rs(g)?h?R7:MN:J2,S;if(Zs(i)&&(~i.indexOf("random(")&&(i=Cy(i)),i.charAt(1)==="="&&(S=lg(v,i)+(Nr(v)||0),(S||S===0)&&(i=S))),!m||v!==i||DT)return!isNaN(v*i)&&i!==""?(S=new Pa(this._pt,e,t,+v||0,i-(v||0),typeof g=="boolean"?D7:bN,0,_),h&&(S.fp=h),l&&S.modifier(l,this,e),this._pt=S):(!g&&!(t in e)&&j2(t,i),b7.call(this,e,t,v,i,_,u||oo.stringFilter,h))},E7=function(e,t,n,i,r){if(rs(e)&&(e=Zv(e,r,t,n,i)),!wc(e)||e.style&&e.nodeType||Pr(e)||V4(e))return Zs(e)?Zv(e,r,t,n,i):e;var a={},l;for(l in e)a[l]=Zv(e[l],r,t,n,i);return a},xN=function(e,t,n,i,r,a){var l,u,h,m;if(no[e]&&(l=new no[e]).init(r,l.rawVars?t[e]:E7(t[e],i,r,a,n),n,i,a)!==!1&&(n._pt=u=new Pa(n._pt,r,e,0,1,l.render,l,0,l.priority),n!==$m))for(h=n._ptLookup[n._targets.indexOf(r)],m=l._props.length;m--;)h[l._props[m]]=u;return l},Ff,DT,K2=function s(e,t,n){var i=e.vars,r=i.ease,a=i.startAt,l=i.immediateRender,u=i.lazy,h=i.onUpdate,m=i.runBackwards,g=i.yoyoEase,v=i.keyframes,_=i.autoRevert,S=e._dur,b=e._startAt,M=e._targets,A=e.parent,C=A&&A.data==="nested"?A.vars.targets:M,B=e._overwrite==="auto"&&!H2,D=e.timeline,N,U,F,z,O,P,q,ne,te,ee,oe,H,Y;if(D&&(!v||!r)&&(r="none"),e._ease=Yd(r,yg.ease),e._yEase=g?gN(Yd(g===!0?r:g,yg.ease)):0,g&&e._yoyo&&!e._repeat&&(g=e._yEase,e._yEase=e._ease,e._ease=g),e._from=!D&&!!i.runBackwards,!D||v&&!i.stagger){if(ne=M[0]?jd(M[0]).harness:0,H=ne&&i[ne.prop],N=HS(i,X2),b&&(b._zTime<0&&b.progress(1),t<0&&m&&l&&!_?b.render(-1,!0):b.revert(m&&S?_S:$I),b._lazy=0),a){if(Zf(e._startAt=bs.set(M,fo({data:"isStart",overwrite:!1,parent:A,immediateRender:!0,lazy:!b&&La(u),startAt:null,delay:0,onUpdate:h&&function(){return ao(e,"onUpdate")},stagger:0},a))),e._startAt._dp=0,e._startAt._sat=e,t<0&&(dr||!l&&!_)&&e._startAt.revert(_S),l&&S&&t<=0&&n<=0){t&&(e._zTime=t);return}}else if(m&&S&&!b){if(t&&(l=!1),F=fo({overwrite:!1,data:"isFromStart",lazy:l&&!b&&La(u),immediateRender:l,stagger:0,parent:A},N),H&&(F[ne.prop]=H),Zf(e._startAt=bs.set(M,F)),e._startAt._dp=0,e._startAt._sat=e,t<0&&(dr?e._startAt.revert(_S):e._startAt.render(-1,!0)),e._zTime=t,!l)s(e._startAt,Lr,Lr);else if(!t)return}for(e._pt=e._ptCache=0,u=S&&La(u)||u&&!S,U=0;U<M.length;U++){if(O=M[U],q=O._gsap||q2(M)[U]._gsap,e._ptLookup[U]=ee={},ET[q.id]&&Yf.length&&zS(),oe=C===M?U:C.indexOf(O),ne&&(te=new ne).init(O,H||N,e,oe,C)!==!1&&(e._pt=z=new Pa(e._pt,O,te.name,0,1,te.render,te,0,te.priority),te._props.forEach(function(Z){ee[Z]=z}),te.priority&&(P=1)),!ne||H)for(F in N)no[F]&&(te=xN(F,N,e,oe,O,C))?te.priority&&(P=1):ee[F]=z=W2.call(e,O,F,"get",N[F],oe,C,0,i.stringFilter);e._op&&e._op[U]&&e.kill(O,e._op[U]),B&&e._pt&&(Ff=e,Ki.killTweensOf(O,ee,e.globalTime(t)),Y=!e.parent,Ff=0),e._pt&&u&&(ET[q.id]=1)}P&&TN(e),e._onInit&&e._onInit(e)}e._onUpdate=h,e._initted=(!e._op||e._pt)&&!Y,v&&t<=0&&D.render(xc,!0,!0)},T7=function(e,t,n,i,r,a,l,u){var h=(e._pt&&e._ptCache||(e._ptCache={}))[t],m,g,v,_;if(!h)for(h=e._ptCache[t]=[],v=e._ptLookup,_=e._targets.length;_--;){if(m=v[_][t],m&&m.d&&m.d._pt)for(m=m.d._pt;m&&m.p!==t&&m.fp!==t;)m=m._next;if(!m)return DT=1,e.vars[t]="+=0",K2(e,l),DT=0,u?Ey(t+" not eligible for reset"):1;h.push(m)}for(_=h.length;_--;)g=h[_],m=g._pt||g,m.s=(i||i===0)&&!r?i:m.s+(i||0)+a*m.c,m.c=n-m.s,g.e&&(g.e=hs(n)+Nr(g.e)),g.b&&(g.b=m.s+Nr(g.b))},C7=function(e,t){var n=e[0]?jd(e[0]).harness:0,i=n&&n.aliases,r,a,l,u;if(!i)return t;r=_g({},t);for(a in i)if(a in r)for(u=i[a].split(","),l=u.length;l--;)r[u[l]]=r[a];return r},w7=function(e,t,n,i){var r=t.ease||i||"power1.inOut",a,l;if(Pr(t))l=n[e]||(n[e]=[]),t.forEach(function(u,h){return l.push({t:h/(t.length-1)*100,v:u,e:r})});else for(a in t)l=n[a]||(n[a]=[]),a==="ease"||l.push({t:parseFloat(e),v:t[a],e:r})},Zv=function(e,t,n,i,r){return rs(e)?e.call(t,n,i,r):Zs(e)&&~e.indexOf("random(")?Cy(e):e},SN=Y2+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",AN={};Ua(SN+",id,stagger,delay,duration,paused,scrollTrigger",function(s){return AN[s]=1});var bs=function(s){H4(e,s);function e(n,i,r,a){var l;typeof i=="number"&&(r.duration=i,i=r,r=null),l=s.call(this,a?i:Kv(i))||this;var u=l.vars,h=u.duration,m=u.delay,g=u.immediateRender,v=u.stagger,_=u.overwrite,S=u.keyframes,b=u.defaults,M=u.scrollTrigger,A=u.yoyoEase,C=i.parent||Ki,B=(Pr(n)||V4(n)?Mu(n[0]):"length"in i)?[n]:jo(n),D,N,U,F,z,O,P,q;if(l._targets=B.length?q2(B):Ey("GSAP target "+n+" not found. https://gsap.com",!oo.nullTargetWarn)||[],l._ptLookup=[],l._overwrite=_,S||v||$1(h)||$1(m)){if(i=l.vars,D=l.timeline=new ua({data:"nested",defaults:b||{},targets:C&&C.data==="nested"?C.vars.targets:B}),D.kill(),D.parent=D._dp=cu(l),D._start=0,v||$1(h)||$1(m)){if(F=B.length,P=v&&aN(v),wc(v))for(z in v)~SN.indexOf(z)&&(q||(q={}),q[z]=v[z]);for(N=0;N<F;N++)U=HS(i,AN),U.stagger=0,A&&(U.yoyoEase=A),q&&_g(U,q),O=B[N],U.duration=+Zv(h,cu(l),N,O,B),U.delay=(+Zv(m,cu(l),N,O,B)||0)-l._delay,!v&&F===1&&U.delay&&(l._delay=m=U.delay,l._start+=m,U.delay=0),D.to(O,U,P?P(N,O,B):0),D._ease=Wn.none;D.duration()?h=m=0:l.timeline=0}else if(S){Kv(fo(D.vars.defaults,{ease:"none"})),D._ease=Yd(S.ease||i.ease||"none");var ne=0,te,ee,oe;if(Pr(S))S.forEach(function(H){return D.to(B,H,">")}),D.duration();else{U={};for(z in S)z==="ease"||z==="easeEach"||w7(z,S[z],U,S.easeEach);for(z in U)for(te=U[z].sort(function(H,Y){return H.t-Y.t}),ne=0,N=0;N<te.length;N++)ee=te[N],oe={ease:ee.e,duration:(ee.t-(N?te[N-1].t:0))/100*h},oe[z]=ee.v,D.to(B,oe,ne),ne+=oe.duration;D.duration()<h&&D.to({},{duration:h-D.duration()})}}h||l.duration(h=D.duration())}else l.timeline=0;return _===!0&&!H2&&(Ff=cu(l),Ki.killTweensOf(B),Ff=0),mc(C,cu(l),r),i.reversed&&l.reverse(),i.paused&&l.paused(!0),(g||!h&&!S&&l._start===Es(C._time)&&La(g)&&r7(cu(l))&&C.data!=="nested")&&(l._tTime=-1e-8,l.render(Math.max(0,-m)||0)),M&&nN(cu(l),M),l}var t=e.prototype;return t.render=function(i,r,a){var l=this._time,u=this._tDur,h=this._dur,m=i<0,g=i>u-Lr&&!m?u:i<Lr?0:i,v,_,S,b,M,A,C,B,D;if(!h)o7(this,i,r,a);else if(g!==this._tTime||!i||a||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==m||this._lazy){if(v=g,B=this.timeline,this._repeat){if(b=h+this._rDelay,this._repeat<-1&&m)return this.totalTime(b*100+i,r,a);if(v=Es(g%b),g===u?(S=this._repeat,v=h):(M=Es(g/b),S=~~M,S&&S===M?(v=h,S--):v>h&&(v=h)),A=this._yoyo&&S&1,A&&(D=this._yEase,v=h-v),M=xg(this._tTime,b),v===l&&!a&&this._initted&&S===M)return this._tTime=g,this;S!==M&&(B&&this._yEase&&vN(B,A),this.vars.repeatRefresh&&!A&&!this._lock&&v!==b&&this._initted&&(this._lock=a=1,this.render(Es(b*S),!0).invalidate()._lock=0))}if(!this._initted){if(iN(this,m?i:v,a,r,g))return this._tTime=0,this;if(l!==this._time&&!(a&&this.vars.repeatRefresh&&S!==M))return this;if(h!==this._dur)return this.render(i,r,a)}if(this._tTime=g,this._time=v,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=C=(D||this._ease)(v/h),this._from&&(this.ratio=C=1-C),v&&!l&&!r&&!S&&(ao(this,"onStart"),this._tTime!==g))return this;for(_=this._pt;_;)_.r(C,_.d),_=_._next;B&&B.render(i<0?i:B._dur*B._ease(v/this._dur),r,a)||this._startAt&&(this._zTime=i),this._onUpdate&&!r&&(m&&TT(this,i,r,a),ao(this,"onUpdate")),this._repeat&&S!==M&&this.vars.onRepeat&&!r&&this.parent&&ao(this,"onRepeat"),(g===this._tDur||!g)&&this._tTime===g&&(m&&!this._onUpdate&&TT(this,i,!0,!0),(i||!h)&&(g===this._tDur&&this._ts>0||!g&&this._ts<0)&&Zf(this,1),!r&&!(m&&!l)&&(g||l||A)&&(ao(this,g===u?"onComplete":"onReverseComplete",!0),this._prom&&!(g<u&&this.timeScale()>0)&&this._prom()))}return this},t.targets=function(){return this._targets},t.invalidate=function(i){return(!i||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(i),s.prototype.invalidate.call(this,i)},t.resetTo=function(i,r,a,l,u){wy||so.wake(),this._ts||this.play();var h=Math.min(this._dur,(this._dp._time-this._start)*this._ts),m;return this._initted||K2(this,h),m=this._ease(h/this._dur),T7(this,i,r,a,l,m,h,u)?this.resetTo(i,r,a,l,1):(tM(this,0),this.parent||eN(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},t.kill=function(i,r){if(r===void 0&&(r="all"),!i&&(!r||r==="all"))return this._lazy=this._pt=0,this.parent?Uv(this):this.scrollTrigger&&this.scrollTrigger.kill(!!dr),this;if(this.timeline){var a=this.timeline.totalDuration();return this.timeline.killTweensOf(i,r,Ff&&Ff.vars.overwrite!==!0)._first||Uv(this),this.parent&&a!==this.timeline.totalDuration()&&Sg(this,this._dur*this.timeline._tDur/a,0,1),this}var l=this._targets,u=i?jo(i):l,h=this._ptLookup,m=this._pt,g,v,_,S,b,M,A;if((!r||r==="all")&&i7(l,u))return r==="all"&&(this._pt=0),Uv(this);for(g=this._op=this._op||[],r!=="all"&&(Zs(r)&&(b={},Ua(r,function(C){return b[C]=1}),r=b),r=C7(l,r)),A=l.length;A--;)if(~u.indexOf(l[A])){v=h[A],r==="all"?(g[A]=r,S=v,_={}):(_=g[A]=g[A]||{},S=r);for(b in S)M=v&&v[b],M&&((!("kill"in M.d)||M.d.kill(b)===!0)&&$A(this,M,"_pt"),delete v[b]),_!=="all"&&(_[b]=1)}return this._initted&&!this._pt&&m&&Uv(this),this},e.to=function(i,r){return new e(i,r,arguments[2])},e.from=function(i,r){return Jv(1,arguments)},e.delayedCall=function(i,r,a,l){return new e(r,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:i,onComplete:r,onReverseComplete:r,onCompleteParams:a,onReverseCompleteParams:a,callbackScope:l})},e.fromTo=function(i,r,a){return Jv(2,arguments)},e.set=function(i,r){return r.duration=0,r.repeatDelay||(r.repeat=0),new e(i,r)},e.killTweensOf=function(i,r,a){return Ki.killTweensOf(i,r,a)},e}(Ry);fo(bs.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0});Ua("staggerTo,staggerFrom,staggerFromTo",function(s){bs[s]=function(){var e=new ua,t=wT.call(arguments,0);return t.splice(s==="staggerFromTo"?5:4,0,0),e[s].apply(e,t)}});var J2=function(e,t,n){return e[t]=n},MN=function(e,t,n){return e[t](n)},R7=function(e,t,n,i){return e[t](i.fp,n)},B7=function(e,t,n){return e.setAttribute(t,n)},Z2=function(e,t){return rs(e[t])?MN:G2(e[t])&&e.setAttribute?B7:J2},bN=function(e,t){return t.set(t.t,t.p,Math.round((t.s+t.c*e)*1e6)/1e6,t)},D7=function(e,t){return t.set(t.t,t.p,!!(t.s+t.c*e),t)},EN=function(e,t){var n=t._pt,i="";if(!e&&t.b)i=t.b;else if(e===1&&t.e)i=t.e;else{for(;n;)i=n.p+(n.m?n.m(n.s+n.c*e):Math.round((n.s+n.c*e)*1e4)/1e4)+i,n=n._next;i+=t.c}t.set(t.t,t.p,i,t)},Q2=function(e,t){for(var n=t._pt;n;)n.r(e,n.d),n=n._next},N7=function(e,t,n,i){for(var r=this._pt,a;r;)a=r._next,r.p===i&&r.modifier(e,t,n),r=a},O7=function(e){for(var t=this._pt,n,i;t;)i=t._next,t.p===e&&!t.op||t.op===e?$A(this,t,"_pt"):t.dep||(n=1),t=i;return!n},L7=function(e,t,n,i){i.mSet(e,t,i.m.call(i.tween,n,i.mt),i)},TN=function(e){for(var t=e._pt,n,i,r,a;t;){for(n=t._next,i=r;i&&i.pr>t.pr;)i=i._next;(t._prev=i?i._prev:a)?t._prev._next=t:r=t,(t._next=i)?i._prev=t:a=t,t=n}e._pt=r},Pa=function(){function s(t,n,i,r,a,l,u,h,m){this.t=n,this.s=r,this.c=a,this.p=i,this.r=l||bN,this.d=u||this,this.set=h||J2,this.pr=m||0,this._next=t,t&&(t._prev=this)}var e=s.prototype;return e.modifier=function(n,i,r){this.mSet=this.mSet||this.set,this.set=L7,this.m=n,this.mt=r,this.tween=i},s}();Ua(Y2+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(s){return X2[s]=1});uo.TweenMax=uo.TweenLite=bs;uo.TimelineLite=uo.TimelineMax=ua;Ki=new ua({sortChildren:!1,defaults:yg,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0});oo.stringFilter=mN;var qd=[],SS={},U7=[],d3=0,P7=0,zb=function(e){return(SS[e]||U7).map(function(t){return t()})},NT=function(){var e=Date.now(),t=[];e-d3>2&&(zb("matchMediaInit"),qd.forEach(function(n){var i=n.queries,r=n.conditions,a,l,u,h;for(l in i)a=dc.matchMedia(i[l]).matches,a&&(u=1),a!==r[l]&&(r[l]=a,h=1);h&&(n.revert(),u&&t.push(n))}),zb("matchMediaRevert"),t.forEach(function(n){return n.onMatch(n,function(i){return n.add(null,i)})}),d3=e,zb("matchMedia"))},CN=function(){function s(t,n){this.selector=n&&RT(n),this.data=[],this._r=[],this.isReverted=!1,this.id=P7++,t&&this.add(t)}var e=s.prototype;return e.add=function(n,i,r){rs(n)&&(r=i,i=n,n=rs);var a=this,l=function(){var h=Vi,m=a.selector,g;return h&&h!==a&&h.data.push(a),r&&(a.selector=RT(r)),Vi=a,g=i.apply(a,arguments),rs(g)&&a._r.push(g),Vi=h,a.selector=m,a.isReverted=!1,g};return a.last=l,n===rs?l(a,function(u){return a.add(null,u)}):n?a[n]=l:l},e.ignore=function(n){var i=Vi;Vi=null,n(this),Vi=i},e.getTweens=function(){var n=[];return this.data.forEach(function(i){return i instanceof s?n.push.apply(n,i.getTweens()):i instanceof bs&&!(i.parent&&i.parent.data==="nested")&&n.push(i)}),n},e.clear=function(){this._r.length=this.data.length=0},e.kill=function(n,i){var r=this;if(n?function(){for(var l=r.getTweens(),u=r.data.length,h;u--;)h=r.data[u],h.data==="isFlip"&&(h.revert(),h.getChildren(!0,!0,!1).forEach(function(m){return l.splice(l.indexOf(m),1)}));for(l.map(function(m){return{g:m._dur||m._delay||m._sat&&!m._sat.vars.immediateRender?m.globalTime(0):-1/0,t:m}}).sort(function(m,g){return g.g-m.g||-1/0}).forEach(function(m){return m.t.revert(n)}),u=r.data.length;u--;)h=r.data[u],h instanceof ua?h.data!=="nested"&&(h.scrollTrigger&&h.scrollTrigger.revert(),h.kill()):!(h instanceof bs)&&h.revert&&h.revert(n);r._r.forEach(function(m){return m(n,r)}),r.isReverted=!0}():this.data.forEach(function(l){return l.kill&&l.kill()}),this.clear(),i)for(var a=qd.length;a--;)qd[a].id===this.id&&qd.splice(a,1)},e.revert=function(n){this.kill(n||{})},s}(),I7=function(){function s(t){this.contexts=[],this.scope=t,Vi&&Vi.data.push(this)}var e=s.prototype;return e.add=function(n,i,r){wc(n)||(n={matches:n});var a=new CN(0,r||this.scope),l=a.conditions={},u,h,m;Vi&&!a.selector&&(a.selector=Vi.selector),this.contexts.push(a),i=a.add("onMatch",i),a.queries=n;for(h in n)h==="all"?m=1:(u=dc.matchMedia(n[h]),u&&(qd.indexOf(a)<0&&qd.push(a),(l[h]=u.matches)&&(m=1),u.addListener?u.addListener(NT):u.addEventListener("change",NT)));return m&&i(a,function(g){return a.add(null,g)}),this},e.revert=function(n){this.kill(n||{})},e.kill=function(n){this.contexts.forEach(function(i){return i.kill(n,!0)})},s}(),VS={registerPlugin:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t.forEach(function(i){return hN(i)})},timeline:function(e){return new ua(e)},getTweensOf:function(e,t){return Ki.getTweensOf(e,t)},getProperty:function(e,t,n,i){Zs(e)&&(e=jo(e)[0]);var r=jd(e||{}).get,a=n?$4:Q4;return n==="native"&&(n=""),e&&(t?a((no[t]&&no[t].get||r)(e,t,n,i)):function(l,u,h){return a((no[l]&&no[l].get||r)(e,l,u,h))})},quickSetter:function(e,t,n){if(e=jo(e),e.length>1){var i=e.map(function(m){return Fa.quickSetter(m,t,n)}),r=i.length;return function(m){for(var g=r;g--;)i[g](m)}}e=e[0]||{};var a=no[t],l=jd(e),u=l.harness&&(l.harness.aliases||{})[t]||t,h=a?function(m){var g=new a;$m._pt=0,g.init(e,n?m+n:m,$m,0,[e]),g.render(1,g),$m._pt&&Q2(1,$m)}:l.set(e,u);return a?h:function(m){return h(e,u,n?m+n:m,l,1)}},quickTo:function(e,t,n){var i,r=Fa.to(e,fo((i={},i[t]="+=0.1",i.paused=!0,i.stagger=0,i),n||{})),a=function(u,h,m){return r.resetTo(t,u,h,m)};return a.tween=r,a},isTweening:function(e){return Ki.getTweensOf(e,!0).length>0},defaults:function(e){return e&&e.ease&&(e.ease=Yd(e.ease,yg.ease)),l3(yg,e||{})},config:function(e){return l3(oo,e||{})},registerEffect:function(e){var t=e.name,n=e.effect,i=e.plugins,r=e.defaults,a=e.extendTimeline;(i||"").split(",").forEach(function(l){return l&&!no[l]&&!uo[l]&&Ey(t+" effect requires "+l+" plugin.")}),Ub[t]=function(l,u,h){return n(jo(l),fo(u||{},r),h)},a&&(ua.prototype[t]=function(l,u,h){return this.add(Ub[t](l,wc(u)?u:(h=u)&&{},this),h)})},registerEase:function(e,t){Wn[e]=Yd(t)},parseEase:function(e,t){return arguments.length?Yd(e,t):Wn},getById:function(e){return Ki.getById(e)},exportRoot:function(e,t){e===void 0&&(e={});var n=new ua(e),i,r;for(n.smoothChildTiming=La(e.smoothChildTiming),Ki.remove(n),n._dp=0,n._time=n._tTime=Ki._time,i=Ki._first;i;)r=i._next,(t||!(!i._dur&&i instanceof bs&&i.vars.onComplete===i._targets[0]))&&mc(n,i,i._start-i._delay),i=r;return mc(Ki,n,0),n},context:function(e,t){return e?new CN(e,t):Vi},matchMedia:function(e){return new I7(e)},matchMediaRefresh:function(){return qd.forEach(function(e){var t=e.conditions,n,i;for(i in t)t[i]&&(t[i]=!1,n=1);n&&e.revert()})||NT()},addEventListener:function(e,t){var n=SS[e]||(SS[e]=[]);~n.indexOf(t)||n.push(t)},removeEventListener:function(e,t){var n=SS[e],i=n&&n.indexOf(t);i>=0&&n.splice(i,1)},utils:{wrap:m7,wrapYoyo:g7,distribute:aN,random:lN,snap:oN,normalize:p7,getUnit:Nr,clamp:u7,splitColor:dN,toArray:jo,selector:RT,mapRange:uN,pipe:h7,unitize:d7,interpolate:v7,shuffle:rN},install:q4,effects:Ub,ticker:so,updateRoot:ua.updateRoot,plugins:no,globalTimeline:Ki,core:{PropTween:Pa,globals:W4,Tween:bs,Timeline:ua,Animation:Ry,getCache:jd,_removeLinkedListItem:$A,reverting:function(){return dr},context:function(e){return e&&Vi&&(Vi.data.push(e),e._ctx=Vi),Vi},suppressOverwrites:function(e){return H2=e}}};Ua("to,from,fromTo,delayedCall,set,killTweensOf",function(s){return VS[s]=bs[s]});so.add(ua.updateRoot);$m=VS.to({},{duration:0});var F7=function(e,t){for(var n=e._pt;n&&n.p!==t&&n.op!==t&&n.fp!==t;)n=n._next;return n},z7=function(e,t){var n=e._targets,i,r,a;for(i in t)for(r=n.length;r--;)a=e._ptLookup[r][i],a&&(a=a.d)&&(a._pt&&(a=F7(a,i)),a&&a.modifier&&a.modifier(t[i],e,n[r],i))},Hb=function(e,t){return{name:e,rawVars:1,init:function(i,r,a){a._onInit=function(l){var u,h;if(Zs(r)&&(u={},Ua(r,function(m){return u[m]=1}),r=u),t){u={};for(h in r)u[h]=t(r[h]);r=u}z7(l,r)}}}},Fa=VS.registerPlugin({name:"attr",init:function(e,t,n,i,r){var a,l,u;this.tween=n;for(a in t)u=e.getAttribute(a)||"",l=this.add(e,"setAttribute",(u||0)+"",t[a],i,r,0,0,a),l.op=a,l.b=u,this._props.push(a)},render:function(e,t){for(var n=t._pt;n;)dr?n.set(n.t,n.p,n.b,n):n.r(e,n.d),n=n._next}},{name:"endArray",init:function(e,t){for(var n=t.length;n--;)this.add(e,n,e[n]||0,t[n],0,0,0,0,0,1)}},Hb("roundProps",BT),Hb("modifiers"),Hb("snap",oN))||VS;bs.version=ua.version=Fa.version="3.12.7";Y4=1;V2()&&Ag();Wn.Power0;Wn.Power1;Wn.Power2;Wn.Power3;Wn.Power4;Wn.Linear;Wn.Quad;Wn.Cubic;Wn.Quart;Wn.Quint;Wn.Strong;Wn.Elastic;Wn.Back;Wn.SteppedEase;Wn.Bounce;Wn.Sine;Wn.Expo;Wn.Circ;/*!
 * CSSPlugin 3.12.7
 * https://gsap.com
 *
 * Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var p3,zf,cg,$2,Nd,m3,eC,H7=function(){return typeof window<"u"},bu={},bd=180/Math.PI,ug=Math.PI/180,Em=Math.atan2,g3=1e8,tC=/([A-Z])/g,G7=/(left|right|width|margin|padding|x)/i,V7=/[\s,\(]\S/,vc={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},OT=function(e,t){return t.set(t.t,t.p,Math.round((t.s+t.c*e)*1e4)/1e4+t.u,t)},k7=function(e,t){return t.set(t.t,t.p,e===1?t.e:Math.round((t.s+t.c*e)*1e4)/1e4+t.u,t)},j7=function(e,t){return t.set(t.t,t.p,e?Math.round((t.s+t.c*e)*1e4)/1e4+t.u:t.b,t)},X7=function(e,t){var n=t.s+t.c*e;t.set(t.t,t.p,~~(n+(n<0?-.5:.5))+t.u,t)},wN=function(e,t){return t.set(t.t,t.p,e?t.e:t.b,t)},RN=function(e,t){return t.set(t.t,t.p,e!==1?t.b:t.e,t)},Y7=function(e,t,n){return e.style[t]=n},q7=function(e,t,n){return e.style.setProperty(t,n)},W7=function(e,t,n){return e._gsap[t]=n},K7=function(e,t,n){return e._gsap.scaleX=e._gsap.scaleY=n},J7=function(e,t,n,i,r){var a=e._gsap;a.scaleX=a.scaleY=n,a.renderTransform(r,a)},Z7=function(e,t,n,i,r){var a=e._gsap;a[t]=n,a.renderTransform(r,a)},Ji="transform",Ia=Ji+"Origin",Q7=function s(e,t){var n=this,i=this.target,r=i.style,a=i._gsap;if(e in bu&&r){if(this.tfm=this.tfm||{},e!=="transform")e=vc[e]||e,~e.indexOf(",")?e.split(",").forEach(function(l){return n.tfm[l]=fu(i,l)}):this.tfm[e]=a.x?a[e]:fu(i,e),e===Ia&&(this.tfm.zOrigin=a.zOrigin);else return vc.transform.split(",").forEach(function(l){return s.call(n,l,t)});if(this.props.indexOf(Ji)>=0)return;a.svg&&(this.svgo=i.getAttribute("data-svg-origin"),this.props.push(Ia,t,"")),e=Ji}(r||t)&&this.props.push(e,t,r[e])},BN=function(e){e.translate&&(e.removeProperty("translate"),e.removeProperty("scale"),e.removeProperty("rotate"))},$7=function(){var e=this.props,t=this.target,n=t.style,i=t._gsap,r,a;for(r=0;r<e.length;r+=3)e[r+1]?e[r+1]===2?t[e[r]](e[r+2]):t[e[r]]=e[r+2]:e[r+2]?n[e[r]]=e[r+2]:n.removeProperty(e[r].substr(0,2)==="--"?e[r]:e[r].replace(tC,"-$1").toLowerCase());if(this.tfm){for(a in this.tfm)i[a]=this.tfm[a];i.svg&&(i.renderTransform(),t.setAttribute("data-svg-origin",this.svgo||"")),r=eC(),(!r||!r.isStart)&&!n[Ji]&&(BN(n),i.zOrigin&&n[Ia]&&(n[Ia]+=" "+i.zOrigin+"px",i.zOrigin=0,i.renderTransform()),i.uncache=1)}},DN=function(e,t){var n={target:e,props:[],revert:$7,save:Q7};return e._gsap||Fa.core.getCache(e),t&&e.style&&e.nodeType&&t.split(",").forEach(function(i){return n.save(i)}),n},NN,LT=function(e,t){var n=zf.createElementNS?zf.createElementNS((t||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):zf.createElement(e);return n&&n.style?n:zf.createElement(e)},Sc=function s(e,t,n){var i=getComputedStyle(e);return i[t]||i.getPropertyValue(t.replace(tC,"-$1").toLowerCase())||i.getPropertyValue(t)||!n&&s(e,Mg(t)||t,1)||""},v3="O,Moz,ms,Ms,Webkit".split(","),Mg=function(e,t,n){var i=t||Nd,r=i.style,a=5;if(e in r&&!n)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);a--&&!(v3[a]+e in r););return a<0?null:(a===3?"ms":a>=0?v3[a]:"")+e},UT=function(){H7()&&window.document&&(p3=window,zf=p3.document,cg=zf.documentElement,Nd=LT("div")||{style:{}},LT("div"),Ji=Mg(Ji),Ia=Ji+"Origin",Nd.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",NN=!!Mg("perspective"),eC=Fa.core.reverting,$2=1)},y3=function(e){var t=e.ownerSVGElement,n=LT("svg",t&&t.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),i=e.cloneNode(!0),r;i.style.display="block",n.appendChild(i),cg.appendChild(n);try{r=i.getBBox()}catch{}return n.removeChild(i),cg.removeChild(n),r},_3=function(e,t){for(var n=t.length;n--;)if(e.hasAttribute(t[n]))return e.getAttribute(t[n])},ON=function(e){var t,n;try{t=e.getBBox()}catch{t=y3(e),n=1}return t&&(t.width||t.height)||n||(t=y3(e)),t&&!t.width&&!t.x&&!t.y?{x:+_3(e,["x","cx","x1"])||0,y:+_3(e,["y","cy","y1"])||0,width:0,height:0}:t},LN=function(e){return!!(e.getCTM&&(!e.parentNode||e.ownerSVGElement)&&ON(e))},np=function(e,t){if(t){var n=e.style,i;t in bu&&t!==Ia&&(t=Ji),n.removeProperty?(i=t.substr(0,2),(i==="ms"||t.substr(0,6)==="webkit")&&(t="-"+t),n.removeProperty(i==="--"?t:t.replace(tC,"-$1").toLowerCase())):n.removeAttribute(t)}},Hf=function(e,t,n,i,r,a){var l=new Pa(e._pt,t,n,0,1,a?RN:wN);return e._pt=l,l.b=i,l.e=r,e._props.push(n),l},x3={deg:1,rad:1,turn:1},eF={grid:1,flex:1},Qf=function s(e,t,n,i){var r=parseFloat(n)||0,a=(n+"").trim().substr((r+"").length)||"px",l=Nd.style,u=G7.test(t),h=e.tagName.toLowerCase()==="svg",m=(h?"client":"offset")+(u?"Width":"Height"),g=100,v=i==="px",_=i==="%",S,b,M,A;if(i===a||!r||x3[i]||x3[a])return r;if(a!=="px"&&!v&&(r=s(e,t,n,"px")),A=e.getCTM&&LN(e),(_||a==="%")&&(bu[t]||~t.indexOf("adius")))return S=A?e.getBBox()[u?"width":"height"]:e[m],hs(_?r/S*g:r/100*S);if(l[u?"width":"height"]=g+(v?a:i),b=i!=="rem"&&~t.indexOf("adius")||i==="em"&&e.appendChild&&!h?e:e.parentNode,A&&(b=(e.ownerSVGElement||{}).parentNode),(!b||b===zf||!b.appendChild)&&(b=zf.body),M=b._gsap,M&&_&&M.width&&u&&M.time===so.time&&!M.uncache)return hs(r/M.width*g);if(_&&(t==="height"||t==="width")){var C=e.style[t];e.style[t]=g+i,S=e[m],C?e.style[t]=C:np(e,t)}else(_||a==="%")&&!eF[Sc(b,"display")]&&(l.position=Sc(e,"position")),b===e&&(l.position="static"),b.appendChild(Nd),S=Nd[m],b.removeChild(Nd),l.position="absolute";return u&&_&&(M=jd(b),M.time=so.time,M.width=b[m]),hs(v?S*r/g:S&&r?g/S*r:0)},fu=function(e,t,n,i){var r;return $2||UT(),t in vc&&t!=="transform"&&(t=vc[t],~t.indexOf(",")&&(t=t.split(",")[0])),bu[t]&&t!=="transform"?(r=Dy(e,i),r=t!=="transformOrigin"?r[t]:r.svg?r.origin:jS(Sc(e,Ia))+" "+r.zOrigin+"px"):(r=e.style[t],(!r||r==="auto"||i||~(r+"").indexOf("calc("))&&(r=kS[t]&&kS[t](e,t,n)||Sc(e,t)||J4(e,t)||(t==="opacity"?1:0))),n&&!~(r+"").trim().indexOf(" ")?Qf(e,t,r,n)+n:r},tF=function(e,t,n,i){if(!n||n==="none"){var r=Mg(t,e,1),a=r&&Sc(e,r,1);a&&a!==n?(t=r,n=a):t==="borderColor"&&(n=Sc(e,"borderTopColor"))}var l=new Pa(this._pt,e.style,t,0,1,EN),u=0,h=0,m,g,v,_,S,b,M,A,C,B,D,N;if(l.b=n,l.e=i,n+="",i+="",i==="auto"&&(b=e.style[t],e.style[t]=i,i=Sc(e,t)||i,b?e.style[t]=b:np(e,t)),m=[n,i],mN(m),n=m[0],i=m[1],v=n.match(Qm)||[],N=i.match(Qm)||[],N.length){for(;g=Qm.exec(i);)M=g[0],C=i.substring(u,g.index),S?S=(S+1)%5:(C.substr(-5)==="rgba("||C.substr(-5)==="hsla(")&&(S=1),M!==(b=v[h++]||"")&&(_=parseFloat(b)||0,D=b.substr((_+"").length),M.charAt(1)==="="&&(M=lg(_,M)+D),A=parseFloat(M),B=M.substr((A+"").length),u=Qm.lastIndex-B.length,B||(B=B||oo.units[t]||D,u===i.length&&(i+=B,l.e+=B)),D!==B&&(_=Qf(e,t,b,B)||0),l._pt={_next:l._pt,p:C||h===1?C:",",s:_,c:A-_,m:S&&S<4||t==="zIndex"?Math.round:0});l.c=u<i.length?i.substring(u,i.length):""}else l.r=t==="display"&&i==="none"?RN:wN;return j4.test(i)&&(l.e=0),this._pt=l,l},S3={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},nF=function(e){var t=e.split(" "),n=t[0],i=t[1]||"50%";return(n==="top"||n==="bottom"||i==="left"||i==="right")&&(e=n,n=i,i=e),t[0]=S3[n]||n,t[1]=S3[i]||i,t.join(" ")},iF=function(e,t){if(t.tween&&t.tween._time===t.tween._dur){var n=t.t,i=n.style,r=t.u,a=n._gsap,l,u,h;if(r==="all"||r===!0)i.cssText="",u=1;else for(r=r.split(","),h=r.length;--h>-1;)l=r[h],bu[l]&&(u=1,l=l==="transformOrigin"?Ia:Ji),np(n,l);u&&(np(n,Ji),a&&(a.svg&&n.removeAttribute("transform"),i.scale=i.rotate=i.translate="none",Dy(n,1),a.uncache=1,BN(i)))}},kS={clearProps:function(e,t,n,i,r){if(r.data!=="isFromStart"){var a=e._pt=new Pa(e._pt,t,n,0,0,iF);return a.u=i,a.pr=-10,a.tween=r,e._props.push(n),1}}},By=[1,0,0,1,0,0],UN={},PN=function(e){return e==="matrix(1, 0, 0, 1, 0, 0)"||e==="none"||!e},A3=function(e){var t=Sc(e,Ji);return PN(t)?By:t.substr(7).match(k4).map(hs)},nC=function(e,t){var n=e._gsap||jd(e),i=e.style,r=A3(e),a,l,u,h;return n.svg&&e.getAttribute("transform")?(u=e.transform.baseVal.consolidate().matrix,r=[u.a,u.b,u.c,u.d,u.e,u.f],r.join(",")==="1,0,0,1,0,0"?By:r):(r===By&&!e.offsetParent&&e!==cg&&!n.svg&&(u=i.display,i.display="block",a=e.parentNode,(!a||!e.offsetParent&&!e.getBoundingClientRect().width)&&(h=1,l=e.nextElementSibling,cg.appendChild(e)),r=A3(e),u?i.display=u:np(e,"display"),h&&(l?a.insertBefore(e,l):a?a.appendChild(e):cg.removeChild(e))),t&&r.length>6?[r[0],r[1],r[4],r[5],r[12],r[13]]:r)},PT=function(e,t,n,i,r,a){var l=e._gsap,u=r||nC(e,!0),h=l.xOrigin||0,m=l.yOrigin||0,g=l.xOffset||0,v=l.yOffset||0,_=u[0],S=u[1],b=u[2],M=u[3],A=u[4],C=u[5],B=t.split(" "),D=parseFloat(B[0])||0,N=parseFloat(B[1])||0,U,F,z,O;n?u!==By&&(F=_*M-S*b)&&(z=D*(M/F)+N*(-b/F)+(b*C-M*A)/F,O=D*(-S/F)+N*(_/F)-(_*C-S*A)/F,D=z,N=O):(U=ON(e),D=U.x+(~B[0].indexOf("%")?D/100*U.width:D),N=U.y+(~(B[1]||B[0]).indexOf("%")?N/100*U.height:N)),i||i!==!1&&l.smooth?(A=D-h,C=N-m,l.xOffset=g+(A*_+C*b)-A,l.yOffset=v+(A*S+C*M)-C):l.xOffset=l.yOffset=0,l.xOrigin=D,l.yOrigin=N,l.smooth=!!i,l.origin=t,l.originIsAbsolute=!!n,e.style[Ia]="0px 0px",a&&(Hf(a,l,"xOrigin",h,D),Hf(a,l,"yOrigin",m,N),Hf(a,l,"xOffset",g,l.xOffset),Hf(a,l,"yOffset",v,l.yOffset)),e.setAttribute("data-svg-origin",D+" "+N)},Dy=function(e,t){var n=e._gsap||new _N(e);if("x"in n&&!t&&!n.uncache)return n;var i=e.style,r=n.scaleX<0,a="px",l="deg",u=getComputedStyle(e),h=Sc(e,Ia)||"0",m,g,v,_,S,b,M,A,C,B,D,N,U,F,z,O,P,q,ne,te,ee,oe,H,Y,Z,de,I,ie,ue,_e,se,xe;return m=g=v=b=M=A=C=B=D=0,_=S=1,n.svg=!!(e.getCTM&&LN(e)),u.translate&&((u.translate!=="none"||u.scale!=="none"||u.rotate!=="none")&&(i[Ji]=(u.translate!=="none"?"translate3d("+(u.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+(u.rotate!=="none"?"rotate("+u.rotate+") ":"")+(u.scale!=="none"?"scale("+u.scale.split(" ").join(",")+") ":"")+(u[Ji]!=="none"?u[Ji]:"")),i.scale=i.rotate=i.translate="none"),F=nC(e,n.svg),n.svg&&(n.uncache?(Z=e.getBBox(),h=n.xOrigin-Z.x+"px "+(n.yOrigin-Z.y)+"px",Y=""):Y=!t&&e.getAttribute("data-svg-origin"),PT(e,Y||h,!!Y||n.originIsAbsolute,n.smooth!==!1,F)),N=n.xOrigin||0,U=n.yOrigin||0,F!==By&&(q=F[0],ne=F[1],te=F[2],ee=F[3],m=oe=F[4],g=H=F[5],F.length===6?(_=Math.sqrt(q*q+ne*ne),S=Math.sqrt(ee*ee+te*te),b=q||ne?Em(ne,q)*bd:0,C=te||ee?Em(te,ee)*bd+b:0,C&&(S*=Math.abs(Math.cos(C*ug))),n.svg&&(m-=N-(N*q+U*te),g-=U-(N*ne+U*ee))):(xe=F[6],_e=F[7],I=F[8],ie=F[9],ue=F[10],se=F[11],m=F[12],g=F[13],v=F[14],z=Em(xe,ue),M=z*bd,z&&(O=Math.cos(-z),P=Math.sin(-z),Y=oe*O+I*P,Z=H*O+ie*P,de=xe*O+ue*P,I=oe*-P+I*O,ie=H*-P+ie*O,ue=xe*-P+ue*O,se=_e*-P+se*O,oe=Y,H=Z,xe=de),z=Em(-te,ue),A=z*bd,z&&(O=Math.cos(-z),P=Math.sin(-z),Y=q*O-I*P,Z=ne*O-ie*P,de=te*O-ue*P,se=ee*P+se*O,q=Y,ne=Z,te=de),z=Em(ne,q),b=z*bd,z&&(O=Math.cos(z),P=Math.sin(z),Y=q*O+ne*P,Z=oe*O+H*P,ne=ne*O-q*P,H=H*O-oe*P,q=Y,oe=Z),M&&Math.abs(M)+Math.abs(b)>359.9&&(M=b=0,A=180-A),_=hs(Math.sqrt(q*q+ne*ne+te*te)),S=hs(Math.sqrt(H*H+xe*xe)),z=Em(oe,H),C=Math.abs(z)>2e-4?z*bd:0,D=se?1/(se<0?-se:se):0),n.svg&&(Y=e.getAttribute("transform"),n.forceCSS=e.setAttribute("transform","")||!PN(Sc(e,Ji)),Y&&e.setAttribute("transform",Y))),Math.abs(C)>90&&Math.abs(C)<270&&(r?(_*=-1,C+=b<=0?180:-180,b+=b<=0?180:-180):(S*=-1,C+=C<=0?180:-180)),t=t||n.uncache,n.x=m-((n.xPercent=m&&(!t&&n.xPercent||(Math.round(e.offsetWidth/2)===Math.round(-m)?-50:0)))?e.offsetWidth*n.xPercent/100:0)+a,n.y=g-((n.yPercent=g&&(!t&&n.yPercent||(Math.round(e.offsetHeight/2)===Math.round(-g)?-50:0)))?e.offsetHeight*n.yPercent/100:0)+a,n.z=v+a,n.scaleX=hs(_),n.scaleY=hs(S),n.rotation=hs(b)+l,n.rotationX=hs(M)+l,n.rotationY=hs(A)+l,n.skewX=C+l,n.skewY=B+l,n.transformPerspective=D+a,(n.zOrigin=parseFloat(h.split(" ")[2])||!t&&n.zOrigin||0)&&(i[Ia]=jS(h)),n.xOffset=n.yOffset=0,n.force3D=oo.force3D,n.renderTransform=n.svg?rF:NN?IN:sF,n.uncache=0,n},jS=function(e){return(e=e.split(" "))[0]+" "+e[1]},Gb=function(e,t,n){var i=Nr(t);return hs(parseFloat(t)+parseFloat(Qf(e,"x",n+"px",i)))+i},sF=function(e,t){t.z="0px",t.rotationY=t.rotationX="0deg",t.force3D=0,IN(e,t)},sd="0deg",pv="0px",rd=") ",IN=function(e,t){var n=t||this,i=n.xPercent,r=n.yPercent,a=n.x,l=n.y,u=n.z,h=n.rotation,m=n.rotationY,g=n.rotationX,v=n.skewX,_=n.skewY,S=n.scaleX,b=n.scaleY,M=n.transformPerspective,A=n.force3D,C=n.target,B=n.zOrigin,D="",N=A==="auto"&&e&&e!==1||A===!0;if(B&&(g!==sd||m!==sd)){var U=parseFloat(m)*ug,F=Math.sin(U),z=Math.cos(U),O;U=parseFloat(g)*ug,O=Math.cos(U),a=Gb(C,a,F*O*-B),l=Gb(C,l,-Math.sin(U)*-B),u=Gb(C,u,z*O*-B+B)}M!==pv&&(D+="perspective("+M+rd),(i||r)&&(D+="translate("+i+"%, "+r+"%) "),(N||a!==pv||l!==pv||u!==pv)&&(D+=u!==pv||N?"translate3d("+a+", "+l+", "+u+") ":"translate("+a+", "+l+rd),h!==sd&&(D+="rotate("+h+rd),m!==sd&&(D+="rotateY("+m+rd),g!==sd&&(D+="rotateX("+g+rd),(v!==sd||_!==sd)&&(D+="skew("+v+", "+_+rd),(S!==1||b!==1)&&(D+="scale("+S+", "+b+rd),C.style[Ji]=D||"translate(0, 0)"},rF=function(e,t){var n=t||this,i=n.xPercent,r=n.yPercent,a=n.x,l=n.y,u=n.rotation,h=n.skewX,m=n.skewY,g=n.scaleX,v=n.scaleY,_=n.target,S=n.xOrigin,b=n.yOrigin,M=n.xOffset,A=n.yOffset,C=n.forceCSS,B=parseFloat(a),D=parseFloat(l),N,U,F,z,O;u=parseFloat(u),h=parseFloat(h),m=parseFloat(m),m&&(m=parseFloat(m),h+=m,u+=m),u||h?(u*=ug,h*=ug,N=Math.cos(u)*g,U=Math.sin(u)*g,F=Math.sin(u-h)*-v,z=Math.cos(u-h)*v,h&&(m*=ug,O=Math.tan(h-m),O=Math.sqrt(1+O*O),F*=O,z*=O,m&&(O=Math.tan(m),O=Math.sqrt(1+O*O),N*=O,U*=O)),N=hs(N),U=hs(U),F=hs(F),z=hs(z)):(N=g,z=v,U=F=0),(B&&!~(a+"").indexOf("px")||D&&!~(l+"").indexOf("px"))&&(B=Qf(_,"x",a,"px"),D=Qf(_,"y",l,"px")),(S||b||M||A)&&(B=hs(B+S-(S*N+b*F)+M),D=hs(D+b-(S*U+b*z)+A)),(i||r)&&(O=_.getBBox(),B=hs(B+i/100*O.width),D=hs(D+r/100*O.height)),O="matrix("+N+","+U+","+F+","+z+","+B+","+D+")",_.setAttribute("transform",O),C&&(_.style[Ji]=O)},aF=function(e,t,n,i,r){var a=360,l=Zs(r),u=parseFloat(r)*(l&&~r.indexOf("rad")?bd:1),h=u-i,m=i+h+"deg",g,v;return l&&(g=r.split("_")[1],g==="short"&&(h%=a,h!==h%(a/2)&&(h+=h<0?a:-360)),g==="cw"&&h<0?h=(h+a*g3)%a-~~(h/a)*a:g==="ccw"&&h>0&&(h=(h-a*g3)%a-~~(h/a)*a)),e._pt=v=new Pa(e._pt,t,n,i,h,k7),v.e=m,v.u="deg",e._props.push(n),v},M3=function(e,t){for(var n in t)e[n]=t[n];return e},oF=function(e,t,n){var i=M3({},n._gsap),r="perspective,force3D,transformOrigin,svgOrigin",a=n.style,l,u,h,m,g,v,_,S;i.svg?(h=n.getAttribute("transform"),n.setAttribute("transform",""),a[Ji]=t,l=Dy(n,1),np(n,Ji),n.setAttribute("transform",h)):(h=getComputedStyle(n)[Ji],a[Ji]=t,l=Dy(n,1),a[Ji]=h);for(u in bu)h=i[u],m=l[u],h!==m&&r.indexOf(u)<0&&(_=Nr(h),S=Nr(m),g=_!==S?Qf(n,u,h,S):parseFloat(h),v=parseFloat(m),e._pt=new Pa(e._pt,l,u,g,v-g,OT),e._pt.u=S||0,e._props.push(u));M3(l,i)};Ua("padding,margin,Width,Radius",function(s,e){var t="Top",n="Right",i="Bottom",r="Left",a=(e<3?[t,n,i,r]:[t+r,t+n,i+n,i+r]).map(function(l){return e<2?s+l:"border"+l+s});kS[e>1?"border"+s:s]=function(l,u,h,m,g){var v,_;if(arguments.length<4)return v=a.map(function(S){return fu(l,S,h)}),_=v.join(" "),_.split(v[0]).length===5?v[0]:_;v=(m+"").split(" "),_={},a.forEach(function(S,b){return _[S]=v[b]=v[b]||v[(b-1)/2|0]}),l.init(u,_,g)}});var FN={name:"css",register:UT,targetTest:function(e){return e.style&&e.nodeType},init:function(e,t,n,i,r){var a=this._props,l=e.style,u=n.vars.startAt,h,m,g,v,_,S,b,M,A,C,B,D,N,U,F,z;$2||UT(),this.styles=this.styles||DN(e),z=this.styles.props,this.tween=n;for(b in t)if(b!=="autoRound"&&(m=t[b],!(no[b]&&xN(b,t,n,i,e,r)))){if(_=typeof m,S=kS[b],_==="function"&&(m=m.call(n,i,e,r),_=typeof m),_==="string"&&~m.indexOf("random(")&&(m=Cy(m)),S)S(this,e,b,m,n)&&(F=1);else if(b.substr(0,2)==="--")h=(getComputedStyle(e).getPropertyValue(b)+"").trim(),m+="",qf.lastIndex=0,qf.test(h)||(M=Nr(h),A=Nr(m)),A?M!==A&&(h=Qf(e,b,h,A)+A):M&&(m+=M),this.add(l,"setProperty",h,m,i,r,0,0,b),a.push(b),z.push(b,0,l[b]);else if(_!=="undefined"){if(u&&b in u?(h=typeof u[b]=="function"?u[b].call(n,i,e,r):u[b],Zs(h)&&~h.indexOf("random(")&&(h=Cy(h)),Nr(h+"")||h==="auto"||(h+=oo.units[b]||Nr(fu(e,b))||""),(h+"").charAt(1)==="="&&(h=fu(e,b))):h=fu(e,b),v=parseFloat(h),C=_==="string"&&m.charAt(1)==="="&&m.substr(0,2),C&&(m=m.substr(2)),g=parseFloat(m),b in vc&&(b==="autoAlpha"&&(v===1&&fu(e,"visibility")==="hidden"&&g&&(v=0),z.push("visibility",0,l.visibility),Hf(this,l,"visibility",v?"inherit":"hidden",g?"inherit":"hidden",!g)),b!=="scale"&&b!=="transform"&&(b=vc[b],~b.indexOf(",")&&(b=b.split(",")[0]))),B=b in bu,B){if(this.styles.save(b),D||(N=e._gsap,N.renderTransform&&!t.parseTransform||Dy(e,t.parseTransform),U=t.smoothOrigin!==!1&&N.smooth,D=this._pt=new Pa(this._pt,l,Ji,0,1,N.renderTransform,N,0,-1),D.dep=1),b==="scale")this._pt=new Pa(this._pt,N,"scaleY",N.scaleY,(C?lg(N.scaleY,C+g):g)-N.scaleY||0,OT),this._pt.u=0,a.push("scaleY",b),b+="X";else if(b==="transformOrigin"){z.push(Ia,0,l[Ia]),m=nF(m),N.svg?PT(e,m,0,U,0,this):(A=parseFloat(m.split(" ")[2])||0,A!==N.zOrigin&&Hf(this,N,"zOrigin",N.zOrigin,A),Hf(this,l,b,jS(h),jS(m)));continue}else if(b==="svgOrigin"){PT(e,m,1,U,0,this);continue}else if(b in UN){aF(this,N,b,v,C?lg(v,C+m):m);continue}else if(b==="smoothOrigin"){Hf(this,N,"smooth",N.smooth,m);continue}else if(b==="force3D"){N[b]=m;continue}else if(b==="transform"){oF(this,m,e);continue}}else b in l||(b=Mg(b)||b);if(B||(g||g===0)&&(v||v===0)&&!V7.test(m)&&b in l)M=(h+"").substr((v+"").length),g||(g=0),A=Nr(m)||(b in oo.units?oo.units[b]:M),M!==A&&(v=Qf(e,b,h,A)),this._pt=new Pa(this._pt,B?N:l,b,v,(C?lg(v,C+g):g)-v,!B&&(A==="px"||b==="zIndex")&&t.autoRound!==!1?X7:OT),this._pt.u=A||0,M!==A&&A!=="%"&&(this._pt.b=h,this._pt.r=j7);else if(b in l)tF.call(this,e,b,h,C?C+m:m);else if(b in e)this.add(e,b,h||e[b],C?C+m:m,i,r);else if(b!=="parseTransform"){j2(b,m);continue}B||(b in l?z.push(b,0,l[b]):typeof e[b]=="function"?z.push(b,2,e[b]()):z.push(b,1,h||e[b])),a.push(b)}}F&&TN(this)},render:function(e,t){if(t.tween._time||!eC())for(var n=t._pt;n;)n.r(e,n.d),n=n._next;else t.styles.revert()},get:fu,aliases:vc,getSetter:function(e,t,n){var i=vc[t];return i&&i.indexOf(",")<0&&(t=i),t in bu&&t!==Ia&&(e._gsap.x||fu(e,"x"))?n&&m3===n?t==="scale"?K7:W7:(m3=n||{})&&(t==="scale"?J7:Z7):e.style&&!G2(e.style[t])?Y7:~t.indexOf("-")?q7:Z2(e,t)},core:{_removeProperty:np,_getMatrix:nC}};Fa.utils.checkPrefix=Mg;Fa.core.getStyleSaver=DN;(function(s,e,t,n){var i=Ua(s+","+e+","+t,function(r){bu[r]=1});Ua(e,function(r){oo.units[r]="deg",UN[r]=1}),vc[i[13]]=s+","+e,Ua(n,function(r){var a=r.split(":");vc[a[1]]=i[a[0]]})})("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY");Ua("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(s){oo.units[s]="px"});Fa.registerPlugin(FN);var On=Fa.registerPlugin(FN)||Fa;On.core.Tween;var Iv={exports:{}},lF=Iv.exports,b3;function cF(){return b3||(b3=1,function(s,e){(function(t,n){n(e)})(lF,function(t){var n=/[achlmqstvz]|(-?\d*\.?\d*(?:e[\-+]?\d+)?)[0-9]/ig,i=/[\+\-]?\d*\.?\d+e[\+\-]?\d+/ig,r=Math.PI/180,a=Math.sin,l=Math.cos,u=Math.abs,h=Math.sqrt,m=function(ee){return typeof ee=="number"},g=1e5,v=function(ee){return Math.round(ee*g)/g||0};function _(te,ee,oe,H,Y,Z,de){for(var I=te.length,ie,ue,_e,se,xe;--I>-1;)for(ie=te[I],ue=ie.length,_e=0;_e<ue;_e+=2)se=ie[_e],xe=ie[_e+1],ie[_e]=se*ee+xe*H+Z,ie[_e+1]=se*oe+xe*Y+de;return te._dirty=1,te}function S(te,ee,oe,H,Y,Z,de,I,ie){if(!(te===I&&ee===ie)){oe=u(oe),H=u(H);var ue=Y%360*r,_e=l(ue),se=a(ue),xe=Math.PI,Ae=xe*2,Ee=(te-I)/2,Ne=(ee-ie)/2,ht=_e*Ee+se*Ne,Je=-se*Ee+_e*Ne,st=ht*ht,_t=Je*Je,dt=st/(oe*oe)+_t/(H*H);dt>1&&(oe=h(dt)*oe,H=h(dt)*H);var ce=oe*oe,Ht=H*H,Ye=(ce*Ht-ce*_t-Ht*st)/(ce*_t+Ht*st);Ye<0&&(Ye=0);var le=(Z===de?-1:1)*h(Ye),He=le*(oe*Je/H),rt=le*-(H*ht/oe),Ge=(te+I)/2,Q=(ee+ie)/2,X=Ge+(_e*He-se*rt),be=Q+(se*He+_e*rt),Pe=(ht-He)/oe,Le=(Je-rt)/H,Ve=(-ht-He)/oe,lt=(-Je-rt)/H,ot=Pe*Pe+Le*Le,ut=(Le<0?-1:1)*Math.acos(Pe/h(ot)),Vt=(Pe*lt-Le*Ve<0?-1:1)*Math.acos((Pe*Ve+Le*lt)/h(ot*(Ve*Ve+lt*lt)));isNaN(Vt)&&(Vt=xe),!de&&Vt>0?Vt-=Ae:de&&Vt<0&&(Vt+=Ae),ut%=Ae,Vt%=Ae;var ct=Math.ceil(u(Vt)/(Ae/4)),ft=[],Tt=Vt/ct,gt=4/3*a(Tt/2)/(1+l(Tt/2)),vt=_e*oe,Wt=se*oe,wt=se*-H,Yt=_e*H,he;for(he=0;he<ct;he++)Y=ut+he*Tt,ht=l(Y),Je=a(Y),Pe=l(Y+=Tt),Le=a(Y),ft.push(ht-gt*Je,Je+gt*ht,Pe+gt*Le,Le-gt*Pe,Pe,Le);for(he=0;he<ft.length;he+=2)ht=ft[he],Je=ft[he+1],ft[he]=ht*vt+Je*wt+X,ft[he+1]=ht*Wt+Je*Yt+be;return ft[he-2]=I,ft[he-1]=ie,ft}}function b(te){var ee=(te+"").replace(i,function(He){var rt=+He;return rt<1e-4&&rt>-1e-4?0:rt}).match(n)||[],oe=[],H=0,Y=0,Z=2/3,de=ee.length,I=0,ie="ERROR: malformed path: "+te,ue,_e,se,xe,Ae,Ee,Ne,ht,Je,st,_t,dt,ce,Ht,Ye,le=function(rt,Ge,Q,X){st=(Q-rt)/3,_t=(X-Ge)/3,Ne.push(rt+st,Ge+_t,Q-st,X-_t,Q,X)};if(!te||!isNaN(ee[0])||isNaN(ee[1]))return console.log(ie),oe;for(ue=0;ue<de;ue++)if(ce=Ae,isNaN(ee[ue])?(Ae=ee[ue].toUpperCase(),Ee=Ae!==ee[ue]):ue--,se=+ee[ue+1],xe=+ee[ue+2],Ee&&(se+=H,xe+=Y),ue||(ht=se,Je=xe),Ae==="M")Ne&&(Ne.length<8?oe.length-=1:I+=Ne.length),H=ht=se,Y=Je=xe,Ne=[se,xe],oe.push(Ne),ue+=2,Ae="L";else if(Ae==="C")Ne||(Ne=[0,0]),Ee||(H=Y=0),Ne.push(se,xe,H+ee[ue+3]*1,Y+ee[ue+4]*1,H+=ee[ue+5]*1,Y+=ee[ue+6]*1),ue+=6;else if(Ae==="S")st=H,_t=Y,(ce==="C"||ce==="S")&&(st+=H-Ne[Ne.length-4],_t+=Y-Ne[Ne.length-3]),Ee||(H=Y=0),Ne.push(st,_t,se,xe,H+=ee[ue+3]*1,Y+=ee[ue+4]*1),ue+=4;else if(Ae==="Q")st=H+(se-H)*Z,_t=Y+(xe-Y)*Z,Ee||(H=Y=0),H+=ee[ue+3]*1,Y+=ee[ue+4]*1,Ne.push(st,_t,H+(se-H)*Z,Y+(xe-Y)*Z,H,Y),ue+=4;else if(Ae==="T")st=H-Ne[Ne.length-4],_t=Y-Ne[Ne.length-3],Ne.push(H+st,Y+_t,se+(H+st*1.5-se)*Z,xe+(Y+_t*1.5-xe)*Z,H=se,Y=xe),ue+=2;else if(Ae==="H")le(H,Y,H=se,Y),ue+=1;else if(Ae==="V")le(H,Y,H,Y=se+(Ee?Y-H:0)),ue+=1;else if(Ae==="L"||Ae==="Z")Ae==="Z"&&(se=ht,xe=Je,Ne.closed=!0),(Ae==="L"||u(H-se)>.5||u(Y-xe)>.5)&&(le(H,Y,se,xe),Ae==="L"&&(ue+=2)),H=se,Y=xe;else if(Ae==="A"){if(Ht=ee[ue+4],Ye=ee[ue+5],st=ee[ue+6],_t=ee[ue+7],_e=7,Ht.length>1&&(Ht.length<3?(_t=st,st=Ye,_e--):(_t=Ye,st=Ht.substr(2),_e-=2),Ye=Ht.charAt(1),Ht=Ht.charAt(0)),dt=S(H,Y,+ee[ue+1],+ee[ue+2],+ee[ue+3],+Ht,+Ye,(Ee?H:0)+st*1,(Ee?Y:0)+_t*1),ue+=_e,dt)for(_e=0;_e<dt.length;_e++)Ne.push(dt[_e]);H=Ne[Ne.length-2],Y=Ne[Ne.length-1]}else console.log(ie);return ue=Ne.length,ue<6?(oe.pop(),ue=0):Ne[0]===Ne[ue-2]&&Ne[1]===Ne[ue-1]&&(Ne.closed=!0),oe.totalPoints=I+ue,oe}function M(te){m(te[0])&&(te=[te]);var ee="",oe=te.length,H,Y,Z,de;for(Y=0;Y<oe;Y++){for(de=te[Y],ee+="M"+v(de[0])+","+v(de[1])+" C",H=de.length,Z=2;Z<H;Z++)ee+=v(de[Z++])+","+v(de[Z++])+" "+v(de[Z++])+","+v(de[Z++])+" "+v(de[Z++])+","+v(de[Z])+" ";de.closed&&(ee+="z")}return ee}/*!
 * CustomEase 3.12.7
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var A,C,B=function(){return A||typeof window<"u"&&(A=window.gsap)&&A.registerPlugin&&A},D=function(){A=B(),A?(A.registerEase("_CE",ne.create),C=1):console.warn("Please gsap.registerPlugin(CustomEase)")},N=1e20,U=function(ee){return~~(ee*1e3+(ee<0?-.5:.5))/1e3},F=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/gi,z=/[cLlsSaAhHvVtTqQ]/g,O=function(ee){var oe=ee.length,H=N,Y;for(Y=1;Y<oe;Y+=6)+ee[Y]<H&&(H=+ee[Y]);return H},P=function(ee,oe,H){!H&&H!==0&&(H=Math.max(+ee[ee.length-1],+ee[1]));var Y=+ee[0]*-1,Z=-H,de=ee.length,I=1/(+ee[de-2]+Y),ie=-oe||(Math.abs(+ee[de-1]-+ee[1])<.01*(+ee[de-2]-+ee[0])?O(ee)+Z:+ee[de-1]+Z),ue;for(ie?ie=1/ie:ie=-I,ue=0;ue<de;ue+=2)ee[ue]=(+ee[ue]+Y)*I,ee[ue+1]=(+ee[ue+1]+Z)*ie},q=function te(ee,oe,H,Y,Z,de,I,ie,ue,_e,se){var xe=(ee+H)/2,Ae=(oe+Y)/2,Ee=(H+Z)/2,Ne=(Y+de)/2,ht=(Z+I)/2,Je=(de+ie)/2,st=(xe+Ee)/2,_t=(Ae+Ne)/2,dt=(Ee+ht)/2,ce=(Ne+Je)/2,Ht=(st+dt)/2,Ye=(_t+ce)/2,le=I-ee,He=ie-oe,rt=Math.abs((H-I)*He-(Y-ie)*le),Ge=Math.abs((Z-I)*He-(de-ie)*le),Q;return _e||(_e=[{x:ee,y:oe},{x:I,y:ie}],se=1),_e.splice(se||_e.length-1,0,{x:Ht,y:Ye}),(rt+Ge)*(rt+Ge)>ue*(le*le+He*He)&&(Q=_e.length,te(ee,oe,xe,Ae,st,_t,Ht,Ye,ue,_e,se),te(Ht,Ye,dt,ce,ht,Je,I,ie,ue,_e,se+1+(_e.length-Q))),_e},ne=function(){function te(oe,H,Y){C||D(),this.id=oe,this.setData(H,Y)}var ee=te.prototype;return ee.setData=function(H,Y){Y=Y||{},H=H||"0,0,1,1";var Z=H.match(F),de=1,I=[],ie=[],ue=Y.precision||1,_e=ue<=1,se,xe,Ae,Ee,Ne,ht,Je,st,_t;if(this.data=H,(z.test(H)||~H.indexOf("M")&&H.indexOf("C")<0)&&(Z=b(H)[0]),se=Z.length,se===4)Z.unshift(0,0),Z.push(1,1),se=8;else if((se-2)%6)throw"Invalid CustomEase";for((+Z[0]!=0||+Z[se-2]!=1)&&P(Z,Y.height,Y.originY),this.segment=Z,Ee=2;Ee<se;Ee+=6)xe={x:+Z[Ee-2],y:+Z[Ee-1]},Ae={x:+Z[Ee+4],y:+Z[Ee+5]},I.push(xe,Ae),q(xe.x,xe.y,+Z[Ee],+Z[Ee+1],+Z[Ee+2],+Z[Ee+3],Ae.x,Ae.y,1/(ue*2e5),I,I.length-1);for(se=I.length,Ee=0;Ee<se;Ee++)Je=I[Ee],st=I[Ee-1]||Je,(Je.x>st.x||st.y!==Je.y&&st.x===Je.x||Je===st)&&Je.x<=1?(st.cx=Je.x-st.x,st.cy=Je.y-st.y,st.n=Je,st.nx=Je.x,_e&&Ee>1&&Math.abs(st.cy/st.cx-I[Ee-2].cy/I[Ee-2].cx)>2&&(_e=0),st.cx<de&&(st.cx?de=st.cx:(st.cx=.001,Ee===se-1&&(st.x-=.001,de=Math.min(de,.001),_e=0)))):(I.splice(Ee--,1),se--);if(se=1/de+1|0,Ne=1/se,ht=0,Je=I[0],_e){for(Ee=0;Ee<se;Ee++)_t=Ee*Ne,Je.nx<_t&&(Je=I[++ht]),xe=Je.y+(_t-Je.x)/Je.cx*Je.cy,ie[Ee]={x:_t,cx:Ne,y:xe,cy:0,nx:9},Ee&&(ie[Ee-1].cy=xe-ie[Ee-1].y);ht=I[I.length-1],ie[se-1].cy=ht.y-xe,ie[se-1].cx=ht.x-ie[ie.length-1].x}else{for(Ee=0;Ee<se;Ee++)Je.nx<Ee*Ne&&(Je=I[++ht]),ie[Ee]=Je;ht<I.length-1&&(ie[Ee-1]=I[I.length-2])}return this.ease=function(dt){var ce=ie[dt*se|0]||ie[se-1];return ce.nx<dt&&(ce=ce.n),ce.y+(dt-ce.x)/ce.cx*ce.cy},this.ease.custom=this,this.id&&A&&A.registerEase(this.id,this.ease),this},ee.getSVGData=function(H){return te.getSVGData(this,H)},te.create=function(H,Y,Z){return new te(H,Y,Z).ease},te.register=function(H){A=H,D()},te.get=function(H){return A.parseEase(H)},te.getSVGData=function(H,Y){Y=Y||{};var Z=Y.width||100,de=Y.height||100,I=Y.x||0,ie=(Y.y||0)+de,ue=A.utils.toArray(Y.path)[0],_e,se,xe,Ae,Ee,Ne,ht,Je,st,_t;if(Y.invert&&(de=-de,ie=0),typeof H=="string"&&(H=A.parseEase(H)),H.custom&&(H=H.custom),H instanceof te)_e=M(_([H.segment],Z,0,0,-de,I,ie));else{for(_e=[I,ie],ht=Math.max(5,(Y.precision||1)*200),Ae=1/ht,ht+=2,Je=5/ht,st=U(I+Ae*Z),_t=U(ie+H(Ae)*-de),se=(_t-ie)/(st-I),xe=2;xe<ht;xe++)Ee=U(I+xe*Ae*Z),Ne=U(ie+H(xe*Ae)*-de),(Math.abs((Ne-_t)/(Ee-st)-se)>Je||xe===ht-1)&&(_e.push(st,_t),se=(Ne-_t)/(Ee-st)),st=Ee,_t=Ne;_e="M"+_e.join(",")}return ue&&ue.setAttribute("d",_e),_e},te}();ne.version="3.12.7",ne.headless=!0,B()&&A.registerPlugin(ne),t.CustomEase=ne,t.default=ne,Object.defineProperty(t,"__esModule",{value:!0})})}(Iv,Iv.exports)),Iv.exports}var uF=cF();const ad=JA(uF),fF=()=>{const s=QA(),t=ah().pathname,n=J.useRef(null),i=J.useRef(null),r=J.useRef(null),a=J.useRef(null),l=J.useRef(null);function u(){document.documentElement.animate([{opacity:1,transform:"scale(1)"},{opacity:.4,transform:"scale(0.5)"}],{duration:1500,easing:"cubic-bezier(0.87, 0, 0.13, 1)",fill:"forwards",pseudoElement:"::view-transition-old(root)"}),document.documentElement.animate([{clipPath:"polygon(0% 100%, 100% 100%, 100% 100%, 0% 100%)"},{clipPath:"polygon(0% 100%, 100% 100%, 100% 0%, 0% 0%)"}],{duration:1500,easing:"cubic-bezier(0.87, 0, 0.13, 1)",fill:"forwards",pseudoElement:"::view-transition-new(root)"})}const h=()=>{if(!r.current||!l.current||!n.current||!a.current||!i.current){console.log("Some refs are missing");return}const v=r.current.querySelector("a"),_=l.current.querySelector("svg"),S=[];v&&S.push(v),_&&S.push(_),S.length>0&&On.to(S,{y:-40,duration:1.2,stagger:.1,ease:ad.create("",".76,0,.2,1")});const b=document.querySelectorAll(".menu-link a");b.length>0&&On.to(b,{y:"-100%",duration:.75,stagger:.05,ease:"power4.in",onComplete:()=>{b.forEach(B=>{On.set(B,{y:"100%"})})}}),On.to(i.current,{clipPath:"polygon(0% 0%, 100% 0%, 100% 0%, 0% 0%)",duration:1,delay:.5,ease:ad.create("",".76,0,.2,1"),onComplete:()=>{n.current&&On.set(n.current,{pointerEvents:"all"}),i.current&&On.set(i.current,{pointerEvents:"none",clipPath:"polygon(0% 100%, 100% 100%, 100% 100%, 0% 100%)"})}});const M=n.current.querySelector("a"),A=a.current.querySelector("svg"),C=[];M&&C.push(M),A&&C.push(A),C.length>0&&On.to(C,{y:0,duration:1,stagger:.1,delay:.5,ease:ad.create("",".76,0,.2,1")})},m=()=>{if(!n.current||!a.current||!i.current||!r.current||!l.current){console.log("Some refs are missing");return}const v=n.current.querySelector("a"),_=a.current.querySelector("svg");v&&_&&On.to([v,_],{y:-20,duration:1,stagger:.1,ease:ad.create("",".76,0,.2,1"),onComplete:()=>{v&&On.set(v,{y:20}),_&&On.set(_,{y:20})}}),On.to(i.current,{clipPath:"polygon(0% 0%, 100% 0%, 100% 100%, 0% 100%)",duration:1,ease:ad.create("",".76,0,.2,1"),onComplete:()=>{n.current&&On.set(n.current,{pointerEvents:"none"}),i.current&&On.set(i.current,{pointerEvents:"all"})}});const S=document.querySelectorAll(".menu-link a");S.length>0&&On.to(S,{y:"5%",duration:1,stagger:.1,delay:.5,ease:"power3.out"});const b=r.current.querySelector("a"),M=l.current.querySelector("svg"),A=[];b&&A.push(b),M&&A.push(M),A.length>0&&On.to(A,{y:0,duration:1,stagger:.1,delay:.5,ease:ad.create("",".76,0,.2,1")})};J.useEffect(()=>{On.registerPlugin(ad),a.current&&a.current.addEventListener("click",m),l.current&&l.current.addEventListener("click",h);const v=()=>{h()};return window.addEventListener("popstate",v),()=>{a.current&&a.current.removeEventListener("click",m),l.current&&l.current.removeEventListener("click",h),window.removeEventListener("popstate",v)}},[]);const g=(v,_)=>{if(v.preventDefault(),t===_){h();return}h(),s(_),u()};return k.jsxs(k.Fragment,{children:[k.jsx("nav",{ref:n,children:k.jsx("div",{className:"menu-toggle-open",ref:a,onClick:m,children:k.jsxs("svg",{className:"open-btn",width:"24",height:"24",viewBox:"0 0 24 24",fill:"#FFFFFF",xmlns:"http://www.w3.org/2000/svg",children:[k.jsx("path",{d:"M3 7H21",stroke:"#FFFFFF","stroke-width":"1.5","stroke-linecap":"round"}),k.jsx("path",{d:"M9.49023 12H21.0002",stroke:"#FFFFFF","stroke-width":"1.5","stroke-linecap":"round"}),k.jsx("path",{d:"M3 12H5.99",stroke:"#FFFFFF","stroke-width":"1.5","stroke-linecap":"round"}),k.jsx("path",{d:"M3 17H21",stroke:"#FFFFFF","stroke-width":"1.5","stroke-linecap":"round"})]})})}),k.jsxs("div",{className:"menu-overlay",ref:i,children:[k.jsxs("div",{className:"menu-overlay-bar",ref:r,children:[k.jsx("div",{className:"logo"}),k.jsx("div",{className:"menu-toggle-close",ref:l,onClick:h,children:k.jsxs("svg",{className:"close-btn",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[k.jsx("path",{d:"M13.9902 10.0099L14.8302 9.16992",stroke:"#FFFFFF","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),k.jsx("path",{d:"M9.16992 14.8301L11.9199 12.0801",stroke:"#FFFFFF","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),k.jsx("path",{d:"M14.8299 14.8299L9.16992 9.16992",stroke:"#FFFFFF","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),k.jsx("path",{d:"M4 6C2.75 7.67 2 9.75 2 12C2 17.52 6.48 22 12 22C17.52 22 22 17.52 22 12C22 6.48 17.52 2 12 2C10.57 2 9.2 2.3 7.97 2.85",stroke:"#FFFFFF","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})]})})]}),k.jsxs("div",{className:"menu-links",children:[k.jsx("div",{className:"menu-link",children:k.jsx(cr,{to:"/",onClick:v=>g(v,"/"),children:k.jsx("h1",{children:"Index"})})}),k.jsx("div",{className:"menu-link",children:k.jsx(cr,{to:"/about",onClick:v=>g(v,"/about"),children:k.jsx("h1",{children:"About Us"})})}),k.jsx("div",{className:"menu-link",children:k.jsx(cr,{href:"/services",onClick:v=>g(v,"/services"),children:k.jsx("h1",{children:"Services"})})}),k.jsx("div",{className:"menu-link",children:k.jsx(cr,{href:"/work",onClick:v=>g(v,"/work"),children:k.jsx("h1",{children:"Work"})})}),k.jsx("div",{className:"menu-link",children:k.jsx(cr,{to:"/contact",onClick:v=>g(v,"/contact"),children:k.jsx("h1",{children:"Contact"})})})]})]})]})},hF=()=>{const s=J.useRef([]),[e,t]=J.useState(!1);return J.useEffect(()=>{const n=()=>{t(window.innerWidth<=768)};return n(),window.addEventListener("resize",n),()=>window.removeEventListener("resize",n)},[]),k.jsxs("div",{className:"hero-container",children:[k.jsx("div",{className:"overlay"}),k.jsxs("nav",{className:"navbar",children:[k.jsx("div",{className:"logo",children:k.jsx(cr,{to:"/",className:"logo-link",children:k.jsxs("svg",{className:"img-logo",width:"92",height:"32",viewBox:"0 0 92 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[k.jsxs("g",{"clip-path":"url(#clip0_19_256)",children:[k.jsx("path",{d:"M86.1351 23.1726C86.0751 23.4426 86.0001 23.6976 85.9401 23.9676C84.9651 27.6726 82.6101 30.0726 78.5901 30.6726C77.0001 30.9126 74.8701 30.8226 73.2351 30.8676C73.1001 30.8676 72.9801 30.8526 72.7851 30.8376C72.9051 30.6426 72.9801 30.5076 73.0851 30.3726C73.9251 29.1576 74.7801 27.9576 75.5901 26.7276C75.7251 26.5176 75.8301 26.2326 75.8301 25.9926C75.8301 19.4226 75.8301 12.8676 75.8301 6.2976C75.8301 6.0576 75.7251 5.7726 75.5901 5.5626C74.7651 4.3476 73.9101 3.1326 73.0701 1.9176C72.9801 1.7826 72.8901 1.6476 72.7401 1.3926H76.6401C76.6401 1.3926 76.6401 1.3176 76.6401 1.2876H62.8851C63.0651 1.3926 63.2601 1.4076 63.4401 1.4226C64.0551 1.4376 64.6701 1.4226 65.2701 1.4826C66.7101 1.6026 66.3201 2.3526 66.5601 3.7026C66.6651 4.2726 66.6951 4.8576 66.6951 5.4426C66.6951 12.5826 66.6951 19.7376 66.6951 26.8926C66.6951 27.2826 66.6951 27.6576 66.6651 28.0476C66.5151 29.7576 65.6451 30.6576 63.9501 30.8226C63.3651 30.8826 62.7651 30.8526 62.1651 30.8676H62.1051C61.9251 30.8676 61.7451 30.8826 61.5801 30.8976V31.0176C61.7301 31.0176 61.8651 31.0476 62.0001 31.0476C69.4701 31.0476 77.4201 31.0476 84.8751 31.0476C85.1301 31.0476 85.2801 31.0026 85.3551 30.8526C85.3851 30.7926 85.4151 30.7026 85.4301 30.5826C85.6701 28.3926 85.9551 26.2026 86.2101 24.0126C86.2401 23.7276 86.2401 23.4426 86.2551 23.1726C86.2101 23.1726 86.1651 23.1726 86.1201 23.1576M72.5151 30.8526H70.4901V1.4676H72.5151V30.8376V30.8526Z",fill:"white"}),k.jsx("path",{d:"M6.425 1.25757H0.875C0.875 1.25757 0.875 1.31757 0.875 1.36257C0.92 1.37757 0.98 1.42257 1.025 1.42257C2.18 1.51257 3.065 2.17257 3.665 3.20757C4.28 4.25757 4.835 5.36757 5.255 6.52257C8.135 14.4276 11.405 22.6476 14.255 30.5676L14.435 31.0776H17.675L15.575 24.7776C13.7 19.5126 9.395 8.90757 6.425 1.25757Z",fill:"white"}),k.jsx("path",{d:"M37.9997 1.07744L33.3497 1.01744H32.2997L30.7847 3.37244C27.1997 9.25244 23.5697 14.6374 19.5047 21.1924C17.1647 14.6974 15.4547 10.5874 13.0997 4.09244C12.8747 3.47744 12.7847 2.87744 13.0547 2.24744C13.3097 1.67744 13.7147 1.31744 14.2997 1.21244C14.5247 1.18244 14.7347 1.16744 14.9597 1.16744H15.2147L15.5897 1.00244H7.96973C9.25973 4.15244 10.5647 7.42244 10.7447 7.88744L18.9647 28.3024C19.4747 27.4474 20.0297 26.4874 20.6147 25.5424C25.5497 17.5024 30.8747 9.91244 35.0297 2.98244C35.5547 2.09744 36.2447 1.57244 37.1897 1.42244C37.3397 1.39244 37.4747 1.37744 37.6247 1.34744C37.7447 1.34744 37.8647 1.34744 37.9847 1.34744V1.07744H37.9997Z",fill:"white"}),k.jsx("path",{d:"M62.1501 17.2625C60.9651 16.5275 59.6601 16.0475 58.2801 15.7925C57.4851 15.6425 56.6751 15.5375 55.8651 15.4175C55.9401 15.3275 56.0151 15.2975 56.0901 15.2975C57.8451 14.9975 59.5101 14.4875 60.9651 13.4675C63.1701 11.9075 64.1301 9.83748 63.6201 7.24248C63.2001 5.09748 61.7451 3.68748 59.7801 2.71248C57.4701 1.58748 54.9801 1.19748 52.4301 1.19748C49.0551 1.19748 45.6951 1.19748 42.3201 1.19748L39.9951 1.16748V1.46748C40.3851 1.46748 40.7751 1.46748 41.1651 1.51248C42.5451 1.60248 43.6401 2.65248 43.8201 3.97248C43.8801 4.42248 43.9101 4.87248 43.9101 5.33748C43.9101 12.4775 43.9101 19.6175 43.9101 26.7575C43.9101 27.2375 43.8801 27.7175 43.8051 28.1975C43.6251 29.5325 42.8751 30.2975 41.4951 30.5075C40.8051 30.6125 41.6001 30.5825 40.8951 30.6125C40.8951 30.6125 40.8651 30.6125 40.8501 30.6125L40.8051 31.0325H40.8801C43.5501 31.0325 44.6901 31.0325 47.3601 31.0325C50.3151 31.0325 53.2701 30.8075 56.2251 30.6875C56.4951 30.6875 56.7501 30.6575 57.0201 30.6275C58.6401 30.4775 60.1851 30.0125 61.6101 29.2325C66.3351 26.6375 66.7251 20.1425 62.1501 17.2925M50.0151 1.46748C51.5451 1.51248 53.1051 1.42248 54.6051 1.63248C56.3901 1.88748 57.7701 2.90748 58.5651 4.46748C59.9601 7.22748 59.9601 10.0325 58.3251 12.7175C57.2151 14.5325 55.4151 15.3275 53.2551 15.3875C53.1651 15.3875 53.0901 15.3725 52.9401 15.3425V14.7575C52.9401 11.9525 52.9401 9.14748 52.9401 6.32748C52.9401 6.05748 52.8351 5.74248 52.6851 5.50248C51.7851 4.16748 50.8701 2.86248 49.9551 1.54248C50.0001 1.49748 50.0151 1.45248 50.0301 1.45248M49.6251 30.5375H47.6001V1.48248H49.6251V30.5375ZM59.9751 27.4925C59.0001 29.3075 57.3351 30.3425 55.2201 30.5075C53.4951 30.6425 51.7401 30.5375 49.8951 30.5375C50.8251 29.1875 51.7101 27.8975 52.6101 26.6375C52.8651 26.2775 52.9701 25.9175 52.9701 25.4825C52.9551 22.4075 52.9701 19.3325 52.9701 16.2575V15.6125C54.5451 15.5075 56.0601 15.5825 57.4851 16.2725C58.6701 16.8425 59.5701 17.7125 60.1251 18.8525C61.5201 21.7325 61.5351 24.6425 60.0051 27.4925",fill:"white"}),k.jsx("path",{d:"M36.395 9.65751C36.5 9.47751 36.59 9.14751 36.59 8.93751C36.605 7.39251 36.59 5.86251 36.59 4.31751C36.59 4.19751 36.56 4.09251 36.53 3.82251C36.365 4.07751 36.26 4.21251 36.17 4.36251C32.285 10.8275 25.205 21.2975 21.29 27.7325C20.72 28.6625 20.06 29.8475 19.355 31.0475H23.6L23.915 30.5225C23.915 30.5225 23.9 30.5225 23.885 30.5225C24.005 30.2975 24.11 30.1325 24.215 29.9525C28.265 23.1875 32.33 16.4375 36.38 9.67251",fill:"white"}),k.jsx("path",{d:"M34.2647 1.55755L32.5697 0.987549H25.8647L21.1847 1.00255H18.4697V8.95255H19.0997L19.5947 6.64255C19.9997 4.79755 20.7047 3.41755 22.3697 2.51755C24.3497 1.45255 27.1847 1.45255 29.3297 1.51255C30.1697 1.54255 31.0247 1.54255 31.8647 1.54255C32.5397 1.54255 33.6347 1.31755 34.2647 1.54255",fill:"white"}),k.jsx("path",{d:"M37.9853 26.5776C37.9853 26.5776 37.9253 26.6676 37.9103 26.7126C36.5903 28.7976 34.6703 29.8776 32.4053 30.2376V30.8676H38.0003V26.5776H37.9853Z",fill:"white"}),k.jsx("path",{d:"M31.1448 30.3577C30.4398 30.3877 29.7348 30.4027 29.0298 30.4027L28.7148 30.8527H32.4048V30.2227C31.9998 30.2827 31.5798 30.3277 31.1448 30.3427",fill:"white"}),k.jsx("path",{d:"M85.895 5.2776C85.895 3.7026 87.17 2.4126 88.745 2.4126C90.335 2.4126 91.61 3.6876 91.625 5.2626C91.625 6.8376 90.32 8.1576 88.73 8.1426C87.185 8.1426 85.895 6.8526 85.895 5.2776ZM88.76 7.7676C90.14 7.7676 91.25 6.6576 91.265 5.2776C91.265 3.8976 90.155 2.7876 88.775 2.7876C87.395 2.7876 86.285 3.8976 86.285 5.2776C86.285 6.6576 87.395 7.7676 88.775 7.7676",fill:"white"}),k.jsx("path",{d:"M88.2198 6.64258H87.6948V3.80758C87.6948 3.80758 87.7098 3.80758 87.7248 3.80758C88.2198 3.80758 88.7298 3.79258 89.2248 3.83758C90.0348 3.91258 90.2448 4.70758 89.9598 5.24758C89.8698 5.42758 89.7048 5.54758 89.5248 5.60758C89.4798 5.62258 89.4348 5.63758 89.3748 5.66758C89.6598 5.99758 89.9448 6.31258 90.2298 6.64258C90.2298 6.64258 90.2298 6.65758 90.2148 6.67258C90.0198 6.67258 89.8248 6.67258 89.6298 6.67258C89.5998 6.67258 89.5698 6.64258 89.5398 6.61258C89.2998 6.34258 89.0748 6.07258 88.8348 5.80258C88.8048 5.75758 88.7298 5.72758 88.6848 5.72758C88.5498 5.72758 88.4148 5.72758 88.2648 5.72758V6.67258L88.2198 6.64258ZM88.2198 4.31758C88.2198 4.60258 88.2198 4.88758 88.2198 5.15758C88.2198 5.17258 88.2648 5.21758 88.2798 5.21758C88.5648 5.21758 88.8648 5.21758 89.1498 5.20258C89.3748 5.18758 89.5098 4.99258 89.5248 4.76758C89.5248 4.54258 89.3898 4.33258 89.1648 4.31758C88.8498 4.30258 88.5498 4.31758 88.2198 4.31758Z",fill:"white"})]}),k.jsx("defs",{children:k.jsx("clipPath",{id:"clip0_19_256",children:k.jsx("rect",{width:"90.75",height:"30.075",fill:"white",transform:"translate(0.875 0.987549)"})})})]})})}),e?k.jsx(fF,{}):k.jsxs("div",{className:"nav-links",children:[k.jsx(cr,{to:"/",ref:n=>s.current[0]=n,"data-text":"About Us",children:k.jsx("span",{children:"About Us"})}),k.jsx(cr,{to:"/services",ref:n=>s.current[1]=n,"data-text":"Services",children:k.jsx("span",{children:"Services"})}),k.jsx(cr,{to:"/projects",ref:n=>s.current[2]=n,"data-text":"Projects",children:k.jsx("span",{children:"Projects"})}),k.jsx(cr,{to:"/clients",ref:n=>s.current[3]=n,"data-text":"Clients",children:k.jsx("span",{children:"Clients"})}),k.jsx(cr,{to:"/join-us",ref:n=>s.current[4]=n,"data-text":"Join Us",children:k.jsx("span",{children:"Join Us"})}),k.jsx("span",{className:"line",children:"|"}),k.jsx(cr,{to:"/contact",children:k.jsx("button",{className:"contact-button",children:"Get in Touch"})})]})]})]})};class e_{constructor(e=0,t="Network Error"){this.status=e,this.text=t}}const dF=()=>{if(!(typeof localStorage>"u"))return{get:s=>Promise.resolve(localStorage.getItem(s)),set:(s,e)=>Promise.resolve(localStorage.setItem(s,e)),remove:s=>Promise.resolve(localStorage.removeItem(s))}},fr={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:dF()},iC=s=>s?typeof s=="string"?{publicKey:s}:s.toString()==="[object Object]"?s:{}:{},pF=(s,e="https://api.emailjs.com")=>{if(!s)return;const t=iC(s);fr.publicKey=t.publicKey,fr.blockHeadless=t.blockHeadless,fr.storageProvider=t.storageProvider,fr.blockList=t.blockList,fr.limitRate=t.limitRate,fr.origin=t.origin||e},zN=async(s,e,t={})=>{const n=await fetch(fr.origin+s,{method:"POST",headers:t,body:e}),i=await n.text(),r=new e_(n.status,i);if(n.ok)return r;throw r},HN=(s,e,t)=>{if(!s||typeof s!="string")throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!e||typeof e!="string")throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!t||typeof t!="string")throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},mF=s=>{if(s&&s.toString()!=="[object Object]")throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"},GN=s=>s.webdriver||!s.languages||s.languages.length===0,VN=()=>new e_(451,"Unavailable For Headless Browser"),gF=(s,e)=>{if(!Array.isArray(s))throw"The BlockList list has to be an array";if(typeof e!="string")throw"The BlockList watchVariable has to be a string"},vF=s=>{var e;return!((e=s.list)!=null&&e.length)||!s.watchVariable},yF=(s,e)=>s instanceof FormData?s.get(e):s[e],kN=(s,e)=>{if(vF(s))return!1;gF(s.list,s.watchVariable);const t=yF(e,s.watchVariable);return typeof t!="string"?!1:s.list.includes(t)},jN=()=>new e_(403,"Forbidden"),_F=(s,e)=>{if(typeof s!="number"||s<0)throw"The LimitRate throttle has to be a positive number";if(e&&typeof e!="string")throw"The LimitRate ID has to be a non-empty string"},xF=async(s,e,t)=>{const n=Number(await t.get(s)||0);return e-Date.now()+n},XN=async(s,e,t)=>{if(!e.throttle||!t)return!1;_F(e.throttle,e.id);const n=e.id||s;return await xF(n,e.throttle,t)>0?!0:(await t.set(n,Date.now().toString()),!1)},YN=()=>new e_(429,"Too Many Requests"),SF=async(s,e,t,n)=>{const i=iC(n),r=i.publicKey||fr.publicKey,a=i.blockHeadless||fr.blockHeadless,l=i.storageProvider||fr.storageProvider,u={...fr.blockList,...i.blockList},h={...fr.limitRate,...i.limitRate};return a&&GN(navigator)?Promise.reject(VN()):(HN(r,s,e),mF(t),t&&kN(u,t)?Promise.reject(jN()):await XN(location.pathname,h,l)?Promise.reject(YN()):zN("/api/v1.0/email/send",JSON.stringify({lib_version:"4.4.1",user_id:r,service_id:s,template_id:e,template_params:t}),{"Content-type":"application/json"}))},AF=s=>{if(!s||s.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"},MF=s=>typeof s=="string"?document.querySelector(s):s,bF=async(s,e,t,n)=>{const i=iC(n),r=i.publicKey||fr.publicKey,a=i.blockHeadless||fr.blockHeadless,l=fr.storageProvider||i.storageProvider,u={...fr.blockList,...i.blockList},h={...fr.limitRate,...i.limitRate};if(a&&GN(navigator))return Promise.reject(VN());const m=MF(t);HN(r,s,e),AF(m);const g=new FormData(m);return kN(u,g)?Promise.reject(jN()):await XN(location.pathname,h,l)?Promise.reject(YN()):(g.append("lib_version","4.4.1"),g.append("service_id",s),g.append("template_id",e),g.append("user_id",r),zN("/api/v1.0/email/send-form",g))},EF={init:pF,send:SF,sendForm:bF,EmailJSResponseStatus:e_},Vb={serviceId:"service_to23tip",templateId:"template_95x0513",publicKey:"-qlzxe_r_ORnXTn9Z"},TF=({message:s,type:e,onClose:t})=>(J.useEffect(()=>{const n=setTimeout(()=>{t()},3e3);return()=>clearTimeout(n)},[t]),k.jsx("div",{className:`popup ${e}`,children:k.jsxs("div",{className:"popup-content",children:[k.jsx("p",{children:s}),k.jsx("button",{className:"popup-close",onClick:t,children:"×"})]})})),sC=()=>{const s=J.useRef(),[e,t]=J.useState({name:"",email:"",message:""}),[n,i]=J.useState(!1),[r,a]=J.useState({show:!1,message:"",type:""}),l=h=>{const{name:m,value:g}=h.target;t({...e,[m]:g})},u=h=>{h.preventDefault(),i(!0),{...e},EF.sendForm(Vb.serviceId,Vb.templateId,s.current,Vb.publicKey).then(m=>{console.log("Email sent successfully:",m.text),a({show:!0,message:"Your message has been sent successfully!",type:"success"}),t({name:"",email:"",message:""})},m=>{console.error("Failed to send email:",m.text),a({show:!0,message:"Failed to send message. Please try again later.",type:"error"})}).finally(()=>{i(!1)})};return k.jsxs("div",{className:"contact-form",children:[r.show&&k.jsx(TF,{message:r.message,type:r.type,onClose:()=>a({...r,show:!1})}),k.jsxs("div",{className:"contact-form-row",children:[k.jsx("div",{className:"contact-form-row-copy-item",children:k.jsx("p",{className:"primary sm",children:"Let's create together"})}),k.jsx("div",{className:"contact-form-row-copy-item",children:k.jsx("p",{className:"primary sm",children:"(Scene — 07)"})}),k.jsx("div",{className:"contact-form-row-copy-item",children:k.jsx("p",{className:"primary sm",children:"© 2025"})})]}),k.jsxs("form",{ref:s,onSubmit:u,className:"contact-form-row",children:[k.jsxs("div",{className:"contact-form-col",children:[k.jsxs("div",{className:"contact-form-header",children:[k.jsx("h3",{children:"Start a Conversation"}),k.jsx("p",{children:"Have a story in mind? Let's bring it to life. I'd love to hear what you're working on and explore how we can collaborate."})]}),k.jsxs("div",{className:"contact-form-availability",children:[k.jsx("p",{className:"primary sm",children:"Available for Freelance"}),k.jsx("p",{className:"primary sm",children:"Clients worldwide"})]})]}),k.jsxs("div",{className:"contact-form-col",children:[k.jsx("div",{className:"form-item",children:k.jsx("input",{type:"text",name:"name",value:e.name,onChange:l,placeholder:"Name",required:!0})}),k.jsx("div",{className:"form-item",children:k.jsx("input",{type:"email",name:"email",value:e.email,onChange:l,placeholder:"Email",required:!0})}),k.jsx("div",{className:"form-item",children:k.jsx("textarea",{name:"message",value:e.message,onChange:l,rows:6,placeholder:"Message",required:!0})}),k.jsx("div",{className:"form-item",children:k.jsx("button",{className:"btn",type:"submit",disabled:n,children:n?"Sending...":"Send Message"})})]})]})]})},rC=()=>k.jsxs("footer",{className:"footer",children:[k.jsxs("div",{className:"footer-content",children:[k.jsxs("div",{className:"footer-left",children:[k.jsx("p",{className:"footer-text",children:"LOREM IPSUM DOLOR SIT AMET, CONSECTETUER ADIPISCING ELIT, SED DIAM NONUMMY NIBH EUISMOD TINCIDUNT UT LAOREET DOLORE MAGNA ALIQUAM ERAT VOLUTPAT. UT WISI ENIM AD MINIM VENIAM."}),k.jsxs("div",{className:"social-links",children:[k.jsx("a",{href:"https://instagram.com",target:"_blank",rel:"noopener noreferrer",children:k.jsx("i",{className:"fab fa-instagram"})}),k.jsx("a",{href:"https://facebook.com",target:"_blank",rel:"noopener noreferrer",children:k.jsx("i",{className:"fab fa-facebook-f"})}),k.jsx("a",{href:"https://linkedin.com",target:"_blank",rel:"noopener noreferrer",children:k.jsx("i",{className:"fab fa-linkedin-in"})}),k.jsx("a",{href:"https://twitter.com",target:"_blank",rel:"noopener noreferrer",children:k.jsx("i",{className:"fab fa-twitter"})}),k.jsx("a",{href:"https://tiktok.com",target:"_blank",rel:"noopener noreferrer",children:k.jsx("i",{className:"fab fa-tiktok"})})]})]}),k.jsx("div",{className:"footer-right",children:k.jsxs("nav",{className:"footer-nav",children:[k.jsx(cr,{to:"/about",children:"About"}),k.jsx(cr,{to:"/projects",children:"Projects"}),k.jsx(cr,{to:"/services",children:"Services"}),k.jsx(cr,{to:"/join-us",children:"join us"})]})})]}),k.jsx("div",{className:"footer-logo",children:k.jsxs("svg",{className:"img-logo",width:"92",height:"32",viewBox:"0 0 92 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[k.jsxs("g",{"clip-path":"url(#clip0_19_256)",children:[k.jsx("path",{d:"M86.1351 23.1726C86.0751 23.4426 86.0001 23.6976 85.9401 23.9676C84.9651 27.6726 82.6101 30.0726 78.5901 30.6726C77.0001 30.9126 74.8701 30.8226 73.2351 30.8676C73.1001 30.8676 72.9801 30.8526 72.7851 30.8376C72.9051 30.6426 72.9801 30.5076 73.0851 30.3726C73.9251 29.1576 74.7801 27.9576 75.5901 26.7276C75.7251 26.5176 75.8301 26.2326 75.8301 25.9926C75.8301 19.4226 75.8301 12.8676 75.8301 6.2976C75.8301 6.0576 75.7251 5.7726 75.5901 5.5626C74.7651 4.3476 73.9101 3.1326 73.0701 1.9176C72.9801 1.7826 72.8901 1.6476 72.7401 1.3926H76.6401C76.6401 1.3926 76.6401 1.3176 76.6401 1.2876H62.8851C63.0651 1.3926 63.2601 1.4076 63.4401 1.4226C64.0551 1.4376 64.6701 1.4226 65.2701 1.4826C66.7101 1.6026 66.3201 2.3526 66.5601 3.7026C66.6651 4.2726 66.6951 4.8576 66.6951 5.4426C66.6951 12.5826 66.6951 19.7376 66.6951 26.8926C66.6951 27.2826 66.6951 27.6576 66.6651 28.0476C66.5151 29.7576 65.6451 30.6576 63.9501 30.8226C63.3651 30.8826 62.7651 30.8526 62.1651 30.8676H62.1051C61.9251 30.8676 61.7451 30.8826 61.5801 30.8976V31.0176C61.7301 31.0176 61.8651 31.0476 62.0001 31.0476C69.4701 31.0476 77.4201 31.0476 84.8751 31.0476C85.1301 31.0476 85.2801 31.0026 85.3551 30.8526C85.3851 30.7926 85.4151 30.7026 85.4301 30.5826C85.6701 28.3926 85.9551 26.2026 86.2101 24.0126C86.2401 23.7276 86.2401 23.4426 86.2551 23.1726C86.2101 23.1726 86.1651 23.1726 86.1201 23.1576M72.5151 30.8526H70.4901V1.4676H72.5151V30.8376V30.8526Z",fill:"white"}),k.jsx("path",{d:"M6.425 1.25757H0.875C0.875 1.25757 0.875 1.31757 0.875 1.36257C0.92 1.37757 0.98 1.42257 1.025 1.42257C2.18 1.51257 3.065 2.17257 3.665 3.20757C4.28 4.25757 4.835 5.36757 5.255 6.52257C8.135 14.4276 11.405 22.6476 14.255 30.5676L14.435 31.0776H17.675L15.575 24.7776C13.7 19.5126 9.395 8.90757 6.425 1.25757Z",fill:"white"}),k.jsx("path",{d:"M37.9997 1.07744L33.3497 1.01744H32.2997L30.7847 3.37244C27.1997 9.25244 23.5697 14.6374 19.5047 21.1924C17.1647 14.6974 15.4547 10.5874 13.0997 4.09244C12.8747 3.47744 12.7847 2.87744 13.0547 2.24744C13.3097 1.67744 13.7147 1.31744 14.2997 1.21244C14.5247 1.18244 14.7347 1.16744 14.9597 1.16744H15.2147L15.5897 1.00244H7.96973C9.25973 4.15244 10.5647 7.42244 10.7447 7.88744L18.9647 28.3024C19.4747 27.4474 20.0297 26.4874 20.6147 25.5424C25.5497 17.5024 30.8747 9.91244 35.0297 2.98244C35.5547 2.09744 36.2447 1.57244 37.1897 1.42244C37.3397 1.39244 37.4747 1.37744 37.6247 1.34744C37.7447 1.34744 37.8647 1.34744 37.9847 1.34744V1.07744H37.9997Z",fill:"white"}),k.jsx("path",{d:"M62.1501 17.2625C60.9651 16.5275 59.6601 16.0475 58.2801 15.7925C57.4851 15.6425 56.6751 15.5375 55.8651 15.4175C55.9401 15.3275 56.0151 15.2975 56.0901 15.2975C57.8451 14.9975 59.5101 14.4875 60.9651 13.4675C63.1701 11.9075 64.1301 9.83748 63.6201 7.24248C63.2001 5.09748 61.7451 3.68748 59.7801 2.71248C57.4701 1.58748 54.9801 1.19748 52.4301 1.19748C49.0551 1.19748 45.6951 1.19748 42.3201 1.19748L39.9951 1.16748V1.46748C40.3851 1.46748 40.7751 1.46748 41.1651 1.51248C42.5451 1.60248 43.6401 2.65248 43.8201 3.97248C43.8801 4.42248 43.9101 4.87248 43.9101 5.33748C43.9101 12.4775 43.9101 19.6175 43.9101 26.7575C43.9101 27.2375 43.8801 27.7175 43.8051 28.1975C43.6251 29.5325 42.8751 30.2975 41.4951 30.5075C40.8051 30.6125 41.6001 30.5825 40.8951 30.6125C40.8951 30.6125 40.8651 30.6125 40.8501 30.6125L40.8051 31.0325H40.8801C43.5501 31.0325 44.6901 31.0325 47.3601 31.0325C50.3151 31.0325 53.2701 30.8075 56.2251 30.6875C56.4951 30.6875 56.7501 30.6575 57.0201 30.6275C58.6401 30.4775 60.1851 30.0125 61.6101 29.2325C66.3351 26.6375 66.7251 20.1425 62.1501 17.2925M50.0151 1.46748C51.5451 1.51248 53.1051 1.42248 54.6051 1.63248C56.3901 1.88748 57.7701 2.90748 58.5651 4.46748C59.9601 7.22748 59.9601 10.0325 58.3251 12.7175C57.2151 14.5325 55.4151 15.3275 53.2551 15.3875C53.1651 15.3875 53.0901 15.3725 52.9401 15.3425V14.7575C52.9401 11.9525 52.9401 9.14748 52.9401 6.32748C52.9401 6.05748 52.8351 5.74248 52.6851 5.50248C51.7851 4.16748 50.8701 2.86248 49.9551 1.54248C50.0001 1.49748 50.0151 1.45248 50.0301 1.45248M49.6251 30.5375H47.6001V1.48248H49.6251V30.5375ZM59.9751 27.4925C59.0001 29.3075 57.3351 30.3425 55.2201 30.5075C53.4951 30.6425 51.7401 30.5375 49.8951 30.5375C50.8251 29.1875 51.7101 27.8975 52.6101 26.6375C52.8651 26.2775 52.9701 25.9175 52.9701 25.4825C52.9551 22.4075 52.9701 19.3325 52.9701 16.2575V15.6125C54.5451 15.5075 56.0601 15.5825 57.4851 16.2725C58.6701 16.8425 59.5701 17.7125 60.1251 18.8525C61.5201 21.7325 61.5351 24.6425 60.0051 27.4925",fill:"white"}),k.jsx("path",{d:"M36.395 9.65751C36.5 9.47751 36.59 9.14751 36.59 8.93751C36.605 7.39251 36.59 5.86251 36.59 4.31751C36.59 4.19751 36.56 4.09251 36.53 3.82251C36.365 4.07751 36.26 4.21251 36.17 4.36251C32.285 10.8275 25.205 21.2975 21.29 27.7325C20.72 28.6625 20.06 29.8475 19.355 31.0475H23.6L23.915 30.5225C23.915 30.5225 23.9 30.5225 23.885 30.5225C24.005 30.2975 24.11 30.1325 24.215 29.9525C28.265 23.1875 32.33 16.4375 36.38 9.67251",fill:"white"}),k.jsx("path",{d:"M34.2647 1.55755L32.5697 0.987549H25.8647L21.1847 1.00255H18.4697V8.95255H19.0997L19.5947 6.64255C19.9997 4.79755 20.7047 3.41755 22.3697 2.51755C24.3497 1.45255 27.1847 1.45255 29.3297 1.51255C30.1697 1.54255 31.0247 1.54255 31.8647 1.54255C32.5397 1.54255 33.6347 1.31755 34.2647 1.54255",fill:"white"}),k.jsx("path",{d:"M37.9853 26.5776C37.9853 26.5776 37.9253 26.6676 37.9103 26.7126C36.5903 28.7976 34.6703 29.8776 32.4053 30.2376V30.8676H38.0003V26.5776H37.9853Z",fill:"white"}),k.jsx("path",{d:"M31.1448 30.3577C30.4398 30.3877 29.7348 30.4027 29.0298 30.4027L28.7148 30.8527H32.4048V30.2227C31.9998 30.2827 31.5798 30.3277 31.1448 30.3427",fill:"white"}),k.jsx("path",{d:"M85.895 5.2776C85.895 3.7026 87.17 2.4126 88.745 2.4126C90.335 2.4126 91.61 3.6876 91.625 5.2626C91.625 6.8376 90.32 8.1576 88.73 8.1426C87.185 8.1426 85.895 6.8526 85.895 5.2776ZM88.76 7.7676C90.14 7.7676 91.25 6.6576 91.265 5.2776C91.265 3.8976 90.155 2.7876 88.775 2.7876C87.395 2.7876 86.285 3.8976 86.285 5.2776C86.285 6.6576 87.395 7.7676 88.775 7.7676",fill:"white"}),k.jsx("path",{d:"M88.2198 6.64258H87.6948V3.80758C87.6948 3.80758 87.7098 3.80758 87.7248 3.80758C88.2198 3.80758 88.7298 3.79258 89.2248 3.83758C90.0348 3.91258 90.2448 4.70758 89.9598 5.24758C89.8698 5.42758 89.7048 5.54758 89.5248 5.60758C89.4798 5.62258 89.4348 5.63758 89.3748 5.66758C89.6598 5.99758 89.9448 6.31258 90.2298 6.64258C90.2298 6.64258 90.2298 6.65758 90.2148 6.67258C90.0198 6.67258 89.8248 6.67258 89.6298 6.67258C89.5998 6.67258 89.5698 6.64258 89.5398 6.61258C89.2998 6.34258 89.0748 6.07258 88.8348 5.80258C88.8048 5.75758 88.7298 5.72758 88.6848 5.72758C88.5498 5.72758 88.4148 5.72758 88.2648 5.72758V6.67258L88.2198 6.64258ZM88.2198 4.31758C88.2198 4.60258 88.2198 4.88758 88.2198 5.15758C88.2198 5.17258 88.2648 5.21758 88.2798 5.21758C88.5648 5.21758 88.8648 5.21758 89.1498 5.20258C89.3748 5.18758 89.5098 4.99258 89.5248 4.76758C89.5248 4.54258 89.3898 4.33258 89.1648 4.31758C88.8498 4.30258 88.5498 4.31758 88.2198 4.31758Z",fill:"white"})]}),k.jsx("defs",{children:k.jsx("clipPath",{id:"clip0_19_256",children:k.jsx("rect",{width:"90.75",height:"30.075",fill:"white",transform:"translate(0.875 0.987549)"})})})]})}),k.jsx("div",{className:"footer-bottom",children:k.jsx("p",{children:"© 2024 VZBL All rights reserved"})})]});/*!
 * paths 3.12.7
 * https://gsap.com
 *
 * Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var CF=/[achlmqstvz]|(-?\d*\.?\d*(?:e[\-+]?\d+)?)[0-9]/ig,wF=/[\+\-]?\d*\.?\d+e[\+\-]?\d+/ig,RF=Math.PI/180,ex=Math.sin,tx=Math.cos,Qv=Math.abs,mv=Math.sqrt,BF=function(e){return typeof e=="number"},E3=1e5,Sf=function(e){return Math.round(e*E3)/E3||0};function DF(s,e,t,n,i,r,a){for(var l=s.length,u,h,m,g,v;--l>-1;)for(u=s[l],h=u.length,m=0;m<h;m+=2)g=u[m],v=u[m+1],u[m]=g*e+v*n+r,u[m+1]=g*t+v*i+a;return s._dirty=1,s}function NF(s,e,t,n,i,r,a,l,u){if(!(s===l&&e===u)){t=Qv(t),n=Qv(n);var h=i%360*RF,m=tx(h),g=ex(h),v=Math.PI,_=v*2,S=(s-l)/2,b=(e-u)/2,M=m*S+g*b,A=-g*S+m*b,C=M*M,B=A*A,D=C/(t*t)+B/(n*n);D>1&&(t=mv(D)*t,n=mv(D)*n);var N=t*t,U=n*n,F=(N*U-N*B-U*C)/(N*B+U*C);F<0&&(F=0);var z=(r===a?-1:1)*mv(F),O=z*(t*A/n),P=z*-(n*M/t),q=(s+l)/2,ne=(e+u)/2,te=q+(m*O-g*P),ee=ne+(g*O+m*P),oe=(M-O)/t,H=(A-P)/n,Y=(-M-O)/t,Z=(-A-P)/n,de=oe*oe+H*H,I=(H<0?-1:1)*Math.acos(oe/mv(de)),ie=(oe*Z-H*Y<0?-1:1)*Math.acos((oe*Y+H*Z)/mv(de*(Y*Y+Z*Z)));isNaN(ie)&&(ie=v),!a&&ie>0?ie-=_:a&&ie<0&&(ie+=_),I%=_,ie%=_;var ue=Math.ceil(Qv(ie)/(_/4)),_e=[],se=ie/ue,xe=4/3*ex(se/2)/(1+tx(se/2)),Ae=m*t,Ee=g*t,Ne=g*-n,ht=m*n,Je;for(Je=0;Je<ue;Je++)i=I+Je*se,M=tx(i),A=ex(i),oe=tx(i+=se),H=ex(i),_e.push(M-xe*A,A+xe*M,oe+xe*H,H-xe*oe,oe,H);for(Je=0;Je<_e.length;Je+=2)M=_e[Je],A=_e[Je+1],_e[Je]=M*Ae+A*Ne+te,_e[Je+1]=M*Ee+A*ht+ee;return _e[Je-2]=l,_e[Je-1]=u,_e}}function OF(s){var e=(s+"").replace(wF,function(O){var P=+O;return P<1e-4&&P>-1e-4?0:P}).match(CF)||[],t=[],n=0,i=0,r=2/3,a=e.length,l=0,u="ERROR: malformed path: "+s,h,m,g,v,_,S,b,M,A,C,B,D,N,U,F,z=function(P,q,ne,te){C=(ne-P)/3,B=(te-q)/3,b.push(P+C,q+B,ne-C,te-B,ne,te)};if(!s||!isNaN(e[0])||isNaN(e[1]))return console.log(u),t;for(h=0;h<a;h++)if(N=_,isNaN(e[h])?(_=e[h].toUpperCase(),S=_!==e[h]):h--,g=+e[h+1],v=+e[h+2],S&&(g+=n,v+=i),h||(M=g,A=v),_==="M")b&&(b.length<8?t.length-=1:l+=b.length),n=M=g,i=A=v,b=[g,v],t.push(b),h+=2,_="L";else if(_==="C")b||(b=[0,0]),S||(n=i=0),b.push(g,v,n+e[h+3]*1,i+e[h+4]*1,n+=e[h+5]*1,i+=e[h+6]*1),h+=6;else if(_==="S")C=n,B=i,(N==="C"||N==="S")&&(C+=n-b[b.length-4],B+=i-b[b.length-3]),S||(n=i=0),b.push(C,B,g,v,n+=e[h+3]*1,i+=e[h+4]*1),h+=4;else if(_==="Q")C=n+(g-n)*r,B=i+(v-i)*r,S||(n=i=0),n+=e[h+3]*1,i+=e[h+4]*1,b.push(C,B,n+(g-n)*r,i+(v-i)*r,n,i),h+=4;else if(_==="T")C=n-b[b.length-4],B=i-b[b.length-3],b.push(n+C,i+B,g+(n+C*1.5-g)*r,v+(i+B*1.5-v)*r,n=g,i=v),h+=2;else if(_==="H")z(n,i,n=g,i),h+=1;else if(_==="V")z(n,i,n,i=g+(S?i-n:0)),h+=1;else if(_==="L"||_==="Z")_==="Z"&&(g=M,v=A,b.closed=!0),(_==="L"||Qv(n-g)>.5||Qv(i-v)>.5)&&(z(n,i,g,v),_==="L"&&(h+=2)),n=g,i=v;else if(_==="A"){if(U=e[h+4],F=e[h+5],C=e[h+6],B=e[h+7],m=7,U.length>1&&(U.length<3?(B=C,C=F,m--):(B=F,C=U.substr(2),m-=2),F=U.charAt(1),U=U.charAt(0)),D=NF(n,i,+e[h+1],+e[h+2],+e[h+3],+U,+F,(S?n:0)+C*1,(S?i:0)+B*1),h+=m,D)for(m=0;m<D.length;m++)b.push(D[m]);n=b[b.length-2],i=b[b.length-1]}else console.log(u);return h=b.length,h<6?(t.pop(),h=0):b[0]===b[h-2]&&b[1]===b[h-1]&&(b.closed=!0),t.totalPoints=l+h,t}function LF(s){BF(s[0])&&(s=[s]);var e="",t=s.length,n,i,r,a;for(i=0;i<t;i++){for(a=s[i],e+="M"+Sf(a[0])+","+Sf(a[1])+" C",n=a.length,r=2;r<n;r++)e+=Sf(a[r++])+","+Sf(a[r++])+" "+Sf(a[r++])+","+Sf(a[r++])+" "+Sf(a[r++])+","+Sf(a[r])+" ";a.closed&&(e+="z")}return e}/*!
 * CustomEase 3.12.7
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var Da,qN,WN=function(){return Da||typeof window<"u"&&(Da=window.gsap)&&Da.registerPlugin&&Da},T3=function(){Da=WN(),Da?(Da.registerEase("_CE",jg.create),qN=1):console.warn("Please gsap.registerPlugin(CustomEase)")},UF=1e20,nx=function(e){return~~(e*1e3+(e<0?-.5:.5))/1e3},PF=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/gi,IF=/[cLlsSaAhHvVtTqQ]/g,FF=function(e){var t=e.length,n=UF,i;for(i=1;i<t;i+=6)+e[i]<n&&(n=+e[i]);return n},zF=function(e,t,n){!n&&n!==0&&(n=Math.max(+e[e.length-1],+e[1]));var i=+e[0]*-1,r=-n,a=e.length,l=1/(+e[a-2]+i),u=-t||(Math.abs(+e[a-1]-+e[1])<.01*(+e[a-2]-+e[0])?FF(e)+r:+e[a-1]+r),h;for(u?u=1/u:u=-l,h=0;h<a;h+=2)e[h]=(+e[h]+i)*l,e[h+1]=(+e[h+1]+r)*u},HF=function s(e,t,n,i,r,a,l,u,h,m,g){var v=(e+n)/2,_=(t+i)/2,S=(n+r)/2,b=(i+a)/2,M=(r+l)/2,A=(a+u)/2,C=(v+S)/2,B=(_+b)/2,D=(S+M)/2,N=(b+A)/2,U=(C+D)/2,F=(B+N)/2,z=l-e,O=u-t,P=Math.abs((n-l)*O-(i-u)*z),q=Math.abs((r-l)*O-(a-u)*z),ne;return m||(m=[{x:e,y:t},{x:l,y:u}],g=1),m.splice(g||m.length-1,0,{x:U,y:F}),(P+q)*(P+q)>h*(z*z+O*O)&&(ne=m.length,s(e,t,v,_,C,B,U,F,h,m,g),s(U,F,D,N,M,A,l,u,h,m,g+1+(m.length-ne))),m},jg=function(){function s(t,n,i){qN||T3(),this.id=t,this.setData(n,i)}var e=s.prototype;return e.setData=function(n,i){i=i||{},n=n||"0,0,1,1";var r=n.match(PF),a=1,l=[],u=[],h=i.precision||1,m=h<=1,g,v,_,S,b,M,A,C,B;if(this.data=n,(IF.test(n)||~n.indexOf("M")&&n.indexOf("C")<0)&&(r=OF(n)[0]),g=r.length,g===4)r.unshift(0,0),r.push(1,1),g=8;else if((g-2)%6)throw"Invalid CustomEase";for((+r[0]!=0||+r[g-2]!=1)&&zF(r,i.height,i.originY),this.segment=r,S=2;S<g;S+=6)v={x:+r[S-2],y:+r[S-1]},_={x:+r[S+4],y:+r[S+5]},l.push(v,_),HF(v.x,v.y,+r[S],+r[S+1],+r[S+2],+r[S+3],_.x,_.y,1/(h*2e5),l,l.length-1);for(g=l.length,S=0;S<g;S++)A=l[S],C=l[S-1]||A,(A.x>C.x||C.y!==A.y&&C.x===A.x||A===C)&&A.x<=1?(C.cx=A.x-C.x,C.cy=A.y-C.y,C.n=A,C.nx=A.x,m&&S>1&&Math.abs(C.cy/C.cx-l[S-2].cy/l[S-2].cx)>2&&(m=0),C.cx<a&&(C.cx?a=C.cx:(C.cx=.001,S===g-1&&(C.x-=.001,a=Math.min(a,.001),m=0)))):(l.splice(S--,1),g--);if(g=1/a+1|0,b=1/g,M=0,A=l[0],m){for(S=0;S<g;S++)B=S*b,A.nx<B&&(A=l[++M]),v=A.y+(B-A.x)/A.cx*A.cy,u[S]={x:B,cx:b,y:v,cy:0,nx:9},S&&(u[S-1].cy=v-u[S-1].y);M=l[l.length-1],u[g-1].cy=M.y-v,u[g-1].cx=M.x-u[u.length-1].x}else{for(S=0;S<g;S++)A.nx<S*b&&(A=l[++M]),u[S]=A;M<l.length-1&&(u[S-1]=l[l.length-2])}return this.ease=function(D){var N=u[D*g|0]||u[g-1];return N.nx<D&&(N=N.n),N.y+(D-N.x)/N.cx*N.cy},this.ease.custom=this,this.id&&Da&&Da.registerEase(this.id,this.ease),this},e.getSVGData=function(n){return s.getSVGData(this,n)},s.create=function(n,i,r){return new s(n,i,r).ease},s.register=function(n){Da=n,T3()},s.get=function(n){return Da.parseEase(n)},s.getSVGData=function(n,i){i=i||{};var r=i.width||100,a=i.height||100,l=i.x||0,u=(i.y||0)+a,h=Da.utils.toArray(i.path)[0],m,g,v,_,S,b,M,A,C,B;if(i.invert&&(a=-a,u=0),typeof n=="string"&&(n=Da.parseEase(n)),n.custom&&(n=n.custom),n instanceof s)m=LF(DF([n.segment],r,0,0,-a,l,u));else{for(m=[l,u],M=Math.max(5,(i.precision||1)*200),_=1/M,M+=2,A=5/M,C=nx(l+_*r),B=nx(u+n(_)*-a),g=(B-u)/(C-l),v=2;v<M;v++)S=nx(l+v*_*r),b=nx(u+n(v*_)*-a),(Math.abs((b-B)/(S-C)-g)>A||v===M-1)&&(m.push(C,B),g=(b-B)/(S-C)),C=S,B=b;m="M"+m.join(",")}return h&&h.setAttribute("d",m),m},s}();jg.version="3.12.7";jg.headless=!0;WN()&&Da.registerPlugin(jg);On.registerPlugin(jg);jg.create("hop","0.9, 0, 0.1, 1");function GF(){return J.useEffect(()=>{function s(){On.timeline().to(".overlay",{yPercent:-100,duration:1.2,delay:1,ease:"power3.inOut"})}s()},[]),k.jsx(k.Fragment,{children:k.jsx("div",{className:"overlay",children:k.jsx("div",{className:"loader",children:k.jsxs("svg",{className:"logo-svg",width:"92",height:"32",viewBox:"0 0 92 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[k.jsx("defs",{children:k.jsxs("mask",{id:"logoMask",children:[k.jsx("rect",{width:"92",height:"32",fill:"white"}),k.jsx("rect",{className:"mask-rect",width:"92",height:"32",fill:"black"})]})}),k.jsxs("g",{clipPath:"url(#clip0_19_256)",mask:"url(#logoMask)",children:[k.jsx("path",{d:"M86.1351 23.1726C86.0751 23.4426 86.0001 23.6976 85.9401 23.9676C84.9651 27.6726 82.6101 30.0726 78.5901 30.6726C77.0001 30.9126 74.8701 30.8226 73.2351 30.8676C73.1001 30.8676 72.9801 30.8526 72.7851 30.8376C72.9051 30.6426 72.9801 30.5076 73.0851 30.3726C73.9251 29.1576 74.7801 27.9576 75.5901 26.7276C75.7251 26.5176 75.8301 26.2326 75.8301 25.9926C75.8301 19.4226 75.8301 12.8676 75.8301 6.2976C75.8301 6.0576 75.7251 5.7726 75.5901 5.5626C74.7651 4.3476 73.9101 3.1326 73.0701 1.9176C72.9801 1.7826 72.8901 1.6476 72.7401 1.3926H76.6401C76.6401 1.3926 76.6401 1.3176 76.6401 1.2876H62.8851C63.0651 1.3926 63.2601 1.4076 63.4401 1.4226C64.0551 1.4376 64.6701 1.4226 65.2701 1.4826C66.7101 1.6026 66.3201 2.3526 66.5601 3.7026C66.6651 4.2726 66.6951 4.8576 66.6951 5.4426C66.6951 12.5826 66.6951 19.7376 66.6951 26.8926C66.6951 27.2826 66.6951 27.6576 66.6651 28.0476C66.5151 29.7576 65.6451 30.6576 63.9501 30.8226C63.3651 30.8826 62.7651 30.8526 62.1651 30.8676H62.1051C61.9251 30.8676 61.7451 30.8826 61.5801 30.8976V31.0176C61.7301 31.0176 61.8651 31.0476 62.0001 31.0476C69.4701 31.0476 77.4201 31.0476 84.8751 31.0476C85.1301 31.0476 85.2801 31.0026 85.3551 30.8526C85.3851 30.7926 85.4151 30.7026 85.4301 30.5826C85.6701 28.3926 85.9551 26.2026 86.2101 24.0126C86.2401 23.7276 86.2401 23.4426 86.2551 23.1726C86.2101 23.1726 86.1651 23.1726 86.1201 23.1576M72.5151 30.8526H70.4901V1.4676H72.5151V30.8376V30.8526Z",fill:"white"}),k.jsx("path",{d:"M6.425 1.25757H0.875C0.875 1.25757 0.875 1.31757 0.875 1.36257C0.92 1.37757 0.98 1.42257 1.025 1.42257C2.18 1.51257 3.065 2.17257 3.665 3.20757C4.28 4.25757 4.835 5.36757 5.255 6.52257C8.135 14.4276 11.405 22.6476 14.255 30.5676L14.435 31.0776H17.675L15.575 24.7776C13.7 19.5126 9.395 8.90757 6.425 1.25757Z",fill:"white"}),k.jsx("path",{d:"M37.9997 1.07744L33.3497 1.01744H32.2997L30.7847 3.37244C27.1997 9.25244 23.5697 14.6374 19.5047 21.1924C17.1647 14.6974 15.4547 10.5874 13.0997 4.09244C12.8747 3.47744 12.7847 2.87744 13.0547 2.24744C13.3097 1.67744 13.7147 1.31744 14.2997 1.21244C14.5247 1.18244 14.7347 1.16744 14.9597 1.16744H15.2147L15.5897 1.00244H7.96973C9.25973 4.15244 10.5647 7.42244 10.7447 7.88744L18.9647 28.3024C19.4747 27.4474 20.0297 26.4874 20.6147 25.5424C25.5497 17.5024 30.8747 9.91244 35.0297 2.98244C35.5547 2.09744 36.2447 1.57244 37.1897 1.42244C37.3397 1.39244 37.4747 1.37744 37.6247 1.34744C37.7447 1.34744 37.8647 1.34744 37.9847 1.34744V1.07744H37.9997Z",fill:"white"}),k.jsx("path",{d:"M62.1501 17.2625C60.9651 16.5275 59.6601 16.0475 58.2801 15.7925C57.4851 15.6425 56.6751 15.5375 55.8651 15.4175C55.9401 15.3275 56.0151 15.2975 56.0901 15.2975C57.8451 14.9975 59.5101 14.4875 60.9651 13.4675C63.1701 11.9075 64.1301 9.83748 63.6201 7.24248C63.2001 5.09748 61.7451 3.68748 59.7801 2.71248C57.4701 1.58748 54.9801 1.19748 52.4301 1.19748C49.0551 1.19748 45.6951 1.19748 42.3201 1.19748L39.9951 1.16748V1.46748C40.3851 1.46748 40.7751 1.46748 41.1651 1.51248C42.5451 1.60248 43.6401 2.65248 43.8201 3.97248C43.8801 4.42248 43.9101 4.87248 43.9101 5.33748C43.9101 12.4775 43.9101 19.6175 43.9101 26.7575C43.9101 27.2375 43.8801 27.7175 43.8051 28.1975C43.6251 29.5325 42.8751 30.2975 41.4951 30.5075C40.8051 30.6125 41.6001 30.5825 40.8951 30.6125C40.8951 30.6125 40.8651 30.6125 40.8501 30.6125L40.8051 31.0325H40.8801C43.5501 31.0325 44.6901 31.0325 47.3601 31.0325C50.3151 31.0325 53.2701 30.8075 56.2251 30.6875C56.4951 30.6875 56.7501 30.6575 57.0201 30.6275C58.6401 30.4775 60.1851 30.0125 61.6101 29.2325C66.3351 26.6375 66.7251 20.1425 62.1501 17.2925M50.0151 1.46748C51.5451 1.51248 53.1051 1.42248 54.6051 1.63248C56.3901 1.88748 57.7701 2.90748 58.5651 4.46748C59.9601 7.22748 59.9601 10.0325 58.3251 12.7175C57.2151 14.5325 55.4151 15.3275 53.2551 15.3875C53.1651 15.3875 53.0901 15.3725 52.9401 15.3425V14.7575C52.9401 11.9525 52.9401 9.14748 52.9401 6.32748C52.9401 6.05748 52.8351 5.74248 52.6851 5.50248C51.7851 4.16748 50.8701 2.86248 49.9551 1.54248C50.0001 1.49748 50.0151 1.45248 50.0301 1.45248M49.6251 30.5375H47.6001V1.48248H49.6251V30.5375ZM59.9751 27.4925C59.0001 29.3075 57.3351 30.3425 55.2201 30.5075C53.4951 30.6425 51.7401 30.5375 49.8951 30.5375C50.8251 29.1875 51.7101 27.8975 52.6101 26.6375C52.8651 26.2775 52.9701 25.9175 52.9701 25.4825C52.9551 22.4075 52.9701 19.3325 52.9701 16.2575V15.6125C54.5451 15.5075 56.0601 15.5825 57.4851 16.2725C58.6701 16.8425 59.5701 17.7125 60.1251 18.8525C61.5201 21.7325 61.5351 24.6425 60.0051 27.4925",fill:"white"}),k.jsx("path",{d:"M36.395 9.65751C36.5 9.47751 36.59 9.14751 36.59 8.93751C36.605 7.39251 36.59 5.86251 36.59 4.31751C36.59 4.19751 36.56 4.09251 36.53 3.82251C36.365 4.07751 36.26 4.21251 36.17 4.36251C32.285 10.8275 25.205 21.2975 21.29 27.7325C20.72 28.6625 20.06 29.8475 19.355 31.0475H23.6L23.915 30.5225C23.915 30.5225 23.9 30.5225 23.885 30.5225C24.005 30.2975 24.11 30.1325 24.215 29.9525C28.265 23.1875 32.33 16.4375 36.38 9.67251",fill:"white"}),k.jsx("path",{d:"M34.2647 1.55755L32.5697 0.987549H25.8647L21.1847 1.00255H18.4697V8.95255H19.0997L19.5947 6.64255C19.9997 4.79755 20.7047 3.41755 22.3697 2.51755C24.3497 1.45255 27.1847 1.45255 29.3297 1.51255C30.1697 1.54255 31.0247 1.54255 31.8647 1.54255C32.5397 1.54255 33.6347 1.31755 34.2647 1.54255",fill:"white"}),k.jsx("path",{d:"M37.9853 26.5776C37.9853 26.5776 37.9253 26.6676 37.9103 26.7126C36.5903 28.7976 34.6703 29.8776 32.4053 30.2376V30.8676H38.0003V26.5776H37.9853Z",fill:"white"}),k.jsx("path",{d:"M31.1448 30.3577C30.4398 30.3877 29.7348 30.4027 29.0298 30.4027L28.7148 30.8527H32.4048V30.2227C31.9998 30.2827 31.5798 30.3277 31.1448 30.3427",fill:"white"}),k.jsx("path",{d:"M85.895 5.2776C85.895 3.7026 87.17 2.4126 88.745 2.4126C90.335 2.4126 91.61 3.6876 91.625 5.2626C91.625 6.8376 90.32 8.1576 88.73 8.1426C87.185 8.1426 85.895 6.8526 85.895 5.2776ZM88.76 7.7676C90.14 7.7676 91.25 6.6576 91.265 5.2776C91.265 3.8976 90.155 2.7876 88.775 2.7876C87.395 2.7876 86.285 3.8976 86.285 5.2776C86.285 6.6576 87.395 7.7676 88.775 7.7676",fill:"white"}),k.jsx("path",{d:"M88.2198 6.64258H87.6948V3.80758C87.6948 3.80758 87.7098 3.80758 87.7248 3.80758C88.2198 3.80758 88.7298 3.79258 89.2248 3.83758C90.0348 3.91258 90.2448 4.70758 89.9598 5.24758C89.8698 5.42758 89.7048 5.54758 89.5248 5.60758C89.4798 5.62258 89.4348 5.63758 89.3748 5.66758C89.6598 5.99758 89.9448 6.31258 90.2298 6.64258C90.2298 6.64258 90.2298 6.65758 90.2148 6.67258C90.0198 6.67258 89.8248 6.67258 89.6298 6.67258C89.5998 6.67258 89.5698 6.64258 89.5398 6.61258C89.2998 6.34258 89.0748 6.07258 88.8348 5.80258C88.8048 5.75758 88.7298 5.72758 88.6848 5.72758C88.5498 5.72758 88.4148 5.72758 88.2648 5.72758V6.67258L88.2198 6.64258ZM88.2198 4.31758C88.2198 4.60258 88.2198 4.88758 88.2198 5.15758C88.2198 5.17258 88.2648 5.21758 88.2798 5.21758C88.5648 5.21758 88.8648 5.21758 89.1498 5.20258C89.3748 5.18758 89.5098 4.99258 89.5248 4.76758C89.5248 4.54258 89.3898 4.33258 89.1648 4.31758C88.8498 4.30258 88.5498 4.31758 88.2198 4.31758Z",fill:"white"})]}),k.jsx("defs",{children:k.jsx("clipPath",{id:"clip0_19_256",children:k.jsx("rect",{width:"90.75",height:"30.075",fill:"white",transform:"translate(0.875 0.987549)"})})})]})})})})}function VF(s,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(s,n.key,n)}}function kF(s,e,t){return e&&VF(s.prototype,e),s}/*!
 * Observer 3.12.7
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var hr,AS,ro,Gf,Vf,fg,KN,Ed,$v,JN,mu,Ml,ZN,QN=function(){return hr||typeof window<"u"&&(hr=window.gsap)&&hr.registerPlugin&&hr},$N=1,eg=[],zn=[],Ac=[],ey=Date.now,IT=function(e,t){return t},jF=function(){var e=$v.core,t=e.bridge||{},n=e._scrollers,i=e._proxies;n.push.apply(n,zn),i.push.apply(i,Ac),zn=n,Ac=i,IT=function(a,l){return t[a](l)}},Wf=function(e,t){return~Ac.indexOf(e)&&Ac[Ac.indexOf(e)+1][t]},ty=function(e){return!!~JN.indexOf(e)},ia=function(e,t,n,i,r){return e.addEventListener(t,n,{passive:i!==!1,capture:!!r})},ta=function(e,t,n,i){return e.removeEventListener(t,n,!!i)},ix="scrollLeft",sx="scrollTop",FT=function(){return mu&&mu.isPressed||zn.cache++},XS=function(e,t){var n=function i(r){if(r||r===0){$N&&(ro.history.scrollRestoration="manual");var a=mu&&mu.isPressed;r=i.v=Math.round(r)||(mu&&mu.iOS?1:0),e(r),i.cacheID=zn.cache,a&&IT("ss",r)}else(t||zn.cache!==i.cacheID||IT("ref"))&&(i.cacheID=zn.cache,i.v=e());return i.v+i.offset};return n.offset=0,e&&n},fa={s:ix,p:"left",p2:"Left",os:"right",os2:"Right",d:"width",d2:"Width",a:"x",sc:XS(function(s){return arguments.length?ro.scrollTo(s,Ps.sc()):ro.pageXOffset||Gf[ix]||Vf[ix]||fg[ix]||0})},Ps={s:sx,p:"top",p2:"Top",os:"bottom",os2:"Bottom",d:"height",d2:"Height",a:"y",op:fa,sc:XS(function(s){return arguments.length?ro.scrollTo(fa.sc(),s):ro.pageYOffset||Gf[sx]||Vf[sx]||fg[sx]||0})},Ba=function(e,t){return(t&&t._ctx&&t._ctx.selector||hr.utils.toArray)(e)[0]||(typeof e=="string"&&hr.config().nullTargetWarn!==!1?console.warn("Element not found:",e):null)},$f=function(e,t){var n=t.s,i=t.sc;ty(e)&&(e=Gf.scrollingElement||Vf);var r=zn.indexOf(e),a=i===Ps.sc?1:2;!~r&&(r=zn.push(e)-1),zn[r+a]||ia(e,"scroll",FT);var l=zn[r+a],u=l||(zn[r+a]=XS(Wf(e,n),!0)||(ty(e)?i:XS(function(h){return arguments.length?e[n]=h:e[n]})));return u.target=e,l||(u.smooth=hr.getProperty(e,"scrollBehavior")==="smooth"),u},zT=function(e,t,n){var i=e,r=e,a=ey(),l=a,u=t||50,h=Math.max(500,u*3),m=function(S,b){var M=ey();b||M-a>u?(r=i,i=S,l=a,a=M):n?i+=S:i=r+(S-r)/(M-l)*(a-l)},g=function(){r=i=n?0:i,l=a=0},v=function(S){var b=l,M=r,A=ey();return(S||S===0)&&S!==i&&m(S),a===l||A-l>h?0:(i+(n?M:-M))/((n?A:a)-b)*1e3};return{update:m,reset:g,getVelocity:v}},gv=function(e,t){return t&&!e._gsapAllow&&e.preventDefault(),e.changedTouches?e.changedTouches[0]:e},C3=function(e){var t=Math.max.apply(Math,e),n=Math.min.apply(Math,e);return Math.abs(t)>=Math.abs(n)?t:n},eO=function(){$v=hr.core.globals().ScrollTrigger,$v&&$v.core&&jF()},tO=function(e){return hr=e||QN(),!AS&&hr&&typeof document<"u"&&document.body&&(ro=window,Gf=document,Vf=Gf.documentElement,fg=Gf.body,JN=[ro,Gf,Vf,fg],hr.utils.clamp,ZN=hr.core.context||function(){},Ed="onpointerenter"in fg?"pointer":"mouse",KN=ds.isTouch=ro.matchMedia&&ro.matchMedia("(hover: none), (pointer: coarse)").matches?1:"ontouchstart"in ro||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0?2:0,Ml=ds.eventTypes=("ontouchstart"in Vf?"touchstart,touchmove,touchcancel,touchend":"onpointerdown"in Vf?"pointerdown,pointermove,pointercancel,pointerup":"mousedown,mousemove,mouseup,mouseup").split(","),setTimeout(function(){return $N=0},500),eO(),AS=1),AS};fa.op=Ps;zn.cache=0;var ds=function(){function s(t){this.init(t)}var e=s.prototype;return e.init=function(n){AS||tO(hr)||console.warn("Please gsap.registerPlugin(Observer)"),$v||eO();var i=n.tolerance,r=n.dragMinimum,a=n.type,l=n.target,u=n.lineHeight,h=n.debounce,m=n.preventDefault,g=n.onStop,v=n.onStopDelay,_=n.ignore,S=n.wheelSpeed,b=n.event,M=n.onDragStart,A=n.onDragEnd,C=n.onDrag,B=n.onPress,D=n.onRelease,N=n.onRight,U=n.onLeft,F=n.onUp,z=n.onDown,O=n.onChangeX,P=n.onChangeY,q=n.onChange,ne=n.onToggleX,te=n.onToggleY,ee=n.onHover,oe=n.onHoverEnd,H=n.onMove,Y=n.ignoreCheck,Z=n.isNormalizer,de=n.onGestureStart,I=n.onGestureEnd,ie=n.onWheel,ue=n.onEnable,_e=n.onDisable,se=n.onClick,xe=n.scrollSpeed,Ae=n.capture,Ee=n.allowClicks,Ne=n.lockAxis,ht=n.onLockAxis;this.target=l=Ba(l)||Vf,this.vars=n,_&&(_=hr.utils.toArray(_)),i=i||1e-9,r=r||0,S=S||1,xe=xe||1,a=a||"wheel,touch,pointer",h=h!==!1,u||(u=parseFloat(ro.getComputedStyle(fg).lineHeight)||22);var Je,st,_t,dt,ce,Ht,Ye,le=this,He=0,rt=0,Ge=n.passive||!m&&n.passive!==!1,Q=$f(l,fa),X=$f(l,Ps),be=Q(),Pe=X(),Le=~a.indexOf("touch")&&!~a.indexOf("pointer")&&Ml[0]==="pointerdown",Ve=ty(l),lt=l.ownerDocument||Gf,ot=[0,0,0],ut=[0,0,0],Vt=0,ct=function(){return Vt=ey()},ft=function(Lt,$t){return(le.event=Lt)&&_&&~_.indexOf(Lt.target)||$t&&Le&&Lt.pointerType!=="touch"||Y&&Y(Lt,$t)},Tt=function(){le._vx.reset(),le._vy.reset(),st.pause(),g&&g(le)},gt=function(){var Lt=le.deltaX=C3(ot),$t=le.deltaY=C3(ut),pt=Math.abs(Lt)>=i,Ut=Math.abs($t)>=i;q&&(pt||Ut)&&q(le,Lt,$t,ot,ut),pt&&(N&&le.deltaX>0&&N(le),U&&le.deltaX<0&&U(le),O&&O(le),ne&&le.deltaX<0!=He<0&&ne(le),He=le.deltaX,ot[0]=ot[1]=ot[2]=0),Ut&&(z&&le.deltaY>0&&z(le),F&&le.deltaY<0&&F(le),P&&P(le),te&&le.deltaY<0!=rt<0&&te(le),rt=le.deltaY,ut[0]=ut[1]=ut[2]=0),(dt||_t)&&(H&&H(le),_t&&(M&&_t===1&&M(le),C&&C(le),_t=0),dt=!1),Ht&&!(Ht=!1)&&ht&&ht(le),ce&&(ie(le),ce=!1),Je=0},vt=function(Lt,$t,pt){ot[pt]+=Lt,ut[pt]+=$t,le._vx.update(Lt),le._vy.update($t),h?Je||(Je=requestAnimationFrame(gt)):gt()},Wt=function(Lt,$t){Ne&&!Ye&&(le.axis=Ye=Math.abs(Lt)>Math.abs($t)?"x":"y",Ht=!0),Ye!=="y"&&(ot[2]+=Lt,le._vx.update(Lt,!0)),Ye!=="x"&&(ut[2]+=$t,le._vy.update($t,!0)),h?Je||(Je=requestAnimationFrame(gt)):gt()},wt=function(Lt){if(!ft(Lt,1)){Lt=gv(Lt,m);var $t=Lt.clientX,pt=Lt.clientY,Ut=$t-le.x,Rt=pt-le.y,kt=le.isDragging;le.x=$t,le.y=pt,(kt||(Ut||Rt)&&(Math.abs(le.startX-$t)>=r||Math.abs(le.startY-pt)>=r))&&(_t=kt?2:1,kt||(le.isDragging=!0),Wt(Ut,Rt))}},Yt=le.onPress=function(Et){ft(Et,1)||Et&&Et.button||(le.axis=Ye=null,st.pause(),le.isPressed=!0,Et=gv(Et),He=rt=0,le.startX=le.x=Et.clientX,le.startY=le.y=Et.clientY,le._vx.reset(),le._vy.reset(),ia(Z?l:lt,Ml[1],wt,Ge,!0),le.deltaX=le.deltaY=0,B&&B(le))},he=le.onRelease=function(Et){if(!ft(Et,1)){ta(Z?l:lt,Ml[1],wt,!0);var Lt=!isNaN(le.y-le.startY),$t=le.isDragging,pt=$t&&(Math.abs(le.x-le.startX)>3||Math.abs(le.y-le.startY)>3),Ut=gv(Et);!pt&&Lt&&(le._vx.reset(),le._vy.reset(),m&&Ee&&hr.delayedCall(.08,function(){if(ey()-Vt>300&&!Et.defaultPrevented){if(Et.target.click)Et.target.click();else if(lt.createEvent){var Rt=lt.createEvent("MouseEvents");Rt.initMouseEvent("click",!0,!0,ro,1,Ut.screenX,Ut.screenY,Ut.clientX,Ut.clientY,!1,!1,!1,!1,0,null),Et.target.dispatchEvent(Rt)}}})),le.isDragging=le.isGesturing=le.isPressed=!1,g&&$t&&!Z&&st.restart(!0),_t&&gt(),A&&$t&&A(le),D&&D(le,pt)}},Fe=function(Lt){return Lt.touches&&Lt.touches.length>1&&(le.isGesturing=!0)&&de(Lt,le.isDragging)},Ie=function(){return(le.isGesturing=!1)||I(le)},We=function(Lt){if(!ft(Lt)){var $t=Q(),pt=X();vt(($t-be)*xe,(pt-Pe)*xe,1),be=$t,Pe=pt,g&&st.restart(!0)}},xt=function(Lt){if(!ft(Lt)){Lt=gv(Lt,m),ie&&(ce=!0);var $t=(Lt.deltaMode===1?u:Lt.deltaMode===2?ro.innerHeight:1)*S;vt(Lt.deltaX*$t,Lt.deltaY*$t,0),g&&!Z&&st.restart(!0)}},Mt=function(Lt){if(!ft(Lt)){var $t=Lt.clientX,pt=Lt.clientY,Ut=$t-le.x,Rt=pt-le.y;le.x=$t,le.y=pt,dt=!0,g&&st.restart(!0),(Ut||Rt)&&Wt(Ut,Rt)}},Qt=function(Lt){le.event=Lt,ee(le)},Sn=function(Lt){le.event=Lt,oe(le)},Jn=function(Lt){return ft(Lt)||gv(Lt,m)&&se(le)};st=le._dc=hr.delayedCall(v||.25,Tt).pause(),le.deltaX=le.deltaY=0,le._vx=zT(0,50,!0),le._vy=zT(0,50,!0),le.scrollX=Q,le.scrollY=X,le.isDragging=le.isGesturing=le.isPressed=!1,ZN(this),le.enable=function(Et){return le.isEnabled||(ia(Ve?lt:l,"scroll",FT),a.indexOf("scroll")>=0&&ia(Ve?lt:l,"scroll",We,Ge,Ae),a.indexOf("wheel")>=0&&ia(l,"wheel",xt,Ge,Ae),(a.indexOf("touch")>=0&&KN||a.indexOf("pointer")>=0)&&(ia(l,Ml[0],Yt,Ge,Ae),ia(lt,Ml[2],he),ia(lt,Ml[3],he),Ee&&ia(l,"click",ct,!0,!0),se&&ia(l,"click",Jn),de&&ia(lt,"gesturestart",Fe),I&&ia(lt,"gestureend",Ie),ee&&ia(l,Ed+"enter",Qt),oe&&ia(l,Ed+"leave",Sn),H&&ia(l,Ed+"move",Mt)),le.isEnabled=!0,le.isDragging=le.isGesturing=le.isPressed=dt=_t=!1,le._vx.reset(),le._vy.reset(),be=Q(),Pe=X(),Et&&Et.type&&Yt(Et),ue&&ue(le)),le},le.disable=function(){le.isEnabled&&(eg.filter(function(Et){return Et!==le&&ty(Et.target)}).length||ta(Ve?lt:l,"scroll",FT),le.isPressed&&(le._vx.reset(),le._vy.reset(),ta(Z?l:lt,Ml[1],wt,!0)),ta(Ve?lt:l,"scroll",We,Ae),ta(l,"wheel",xt,Ae),ta(l,Ml[0],Yt,Ae),ta(lt,Ml[2],he),ta(lt,Ml[3],he),ta(l,"click",ct,!0),ta(l,"click",Jn),ta(lt,"gesturestart",Fe),ta(lt,"gestureend",Ie),ta(l,Ed+"enter",Qt),ta(l,Ed+"leave",Sn),ta(l,Ed+"move",Mt),le.isEnabled=le.isPressed=le.isDragging=!1,_e&&_e(le))},le.kill=le.revert=function(){le.disable();var Et=eg.indexOf(le);Et>=0&&eg.splice(Et,1),mu===le&&(mu=0)},eg.push(le),Z&&ty(l)&&(mu=le),le.enable(b)},kF(s,[{key:"velocityX",get:function(){return this._vx.getVelocity()}},{key:"velocityY",get:function(){return this._vy.getVelocity()}}]),s}();ds.version="3.12.7";ds.create=function(s){return new ds(s)};ds.register=tO;ds.getAll=function(){return eg.slice()};ds.getById=function(s){return eg.filter(function(e){return e.vars.id===s})[0]};QN()&&hr.registerPlugin(ds);/*!
 * ScrollTrigger 3.12.7
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var zt,Jm,Fn,Ni,io,di,aC,YS,Ny,ny,Fv,rx,Rr,nM,HT,aa,w3,R3,Zm,nO,kb,iO,ra,GT,sO,rO,Of,VT,oC,hg,lC,qS,kT,jb,ax=1,Dr=Date.now,Xb=Dr(),Yo=0,zv=0,B3=function(e,t,n){var i=to(e)&&(e.substr(0,6)==="clamp("||e.indexOf("max")>-1);return n["_"+t+"Clamp"]=i,i?e.substr(6,e.length-7):e},D3=function(e,t){return t&&(!to(e)||e.substr(0,6)!=="clamp(")?"clamp("+e+")":e},XF=function s(){return zv&&requestAnimationFrame(s)},N3=function(){return nM=1},O3=function(){return nM=0},pc=function(e){return e},Hv=function(e){return Math.round(e*1e5)/1e5||0},aO=function(){return typeof window<"u"},oO=function(){return zt||aO()&&(zt=window.gsap)&&zt.registerPlugin&&zt},ip=function(e){return!!~aC.indexOf(e)},lO=function(e){return(e==="Height"?lC:Fn["inner"+e])||io["client"+e]||di["client"+e]},cO=function(e){return Wf(e,"getBoundingClientRect")||(ip(e)?function(){return CS.width=Fn.innerWidth,CS.height=lC,CS}:function(){return hu(e)})},YF=function(e,t,n){var i=n.d,r=n.d2,a=n.a;return(a=Wf(e,"getBoundingClientRect"))?function(){return a()[i]}:function(){return(t?lO(r):e["client"+r])||0}},qF=function(e,t){return!t||~Ac.indexOf(e)?cO(e):function(){return CS}},yc=function(e,t){var n=t.s,i=t.d2,r=t.d,a=t.a;return Math.max(0,(n="scroll"+i)&&(a=Wf(e,n))?a()-cO(e)()[r]:ip(e)?(io[n]||di[n])-lO(i):e[n]-e["offset"+i])},ox=function(e,t){for(var n=0;n<Zm.length;n+=3)(!t||~t.indexOf(Zm[n+1]))&&e(Zm[n],Zm[n+1],Zm[n+2])},to=function(e){return typeof e=="string"},Or=function(e){return typeof e=="function"},Gv=function(e){return typeof e=="number"},Td=function(e){return typeof e=="object"},vv=function(e,t,n){return e&&e.progress(t?0:1)&&n&&e.pause()},Yb=function(e,t){if(e.enabled){var n=e._ctx?e._ctx.add(function(){return t(e)}):t(e);n&&n.totalTime&&(e.callbackAnimation=n)}},Tm=Math.abs,uO="left",fO="top",cC="right",uC="bottom",Wd="width",Kd="height",iy="Right",sy="Left",ry="Top",ay="Bottom",Ms="padding",Ho="margin",bg="Width",fC="Height",Us="px",Go=function(e){return Fn.getComputedStyle(e)},WF=function(e){var t=Go(e).position;e.style.position=t==="absolute"||t==="fixed"?t:"relative"},L3=function(e,t){for(var n in t)n in e||(e[n]=t[n]);return e},hu=function(e,t){var n=t&&Go(e)[HT]!=="matrix(1, 0, 0, 1, 0, 0)"&&zt.to(e,{x:0,y:0,xPercent:0,yPercent:0,rotation:0,rotationX:0,rotationY:0,scale:1,skewX:0,skewY:0}).progress(1),i=e.getBoundingClientRect();return n&&n.progress(0).kill(),i},WS=function(e,t){var n=t.d2;return e["offset"+n]||e["client"+n]||0},hO=function(e){var t=[],n=e.labels,i=e.duration(),r;for(r in n)t.push(n[r]/i);return t},KF=function(e){return function(t){return zt.utils.snap(hO(e),t)}},hC=function(e){var t=zt.utils.snap(e),n=Array.isArray(e)&&e.slice(0).sort(function(i,r){return i-r});return n?function(i,r,a){a===void 0&&(a=.001);var l;if(!r)return t(i);if(r>0){for(i-=a,l=0;l<n.length;l++)if(n[l]>=i)return n[l];return n[l-1]}else for(l=n.length,i+=a;l--;)if(n[l]<=i)return n[l];return n[0]}:function(i,r,a){a===void 0&&(a=.001);var l=t(i);return!r||Math.abs(l-i)<a||l-i<0==r<0?l:t(r<0?i-e:i+e)}},JF=function(e){return function(t,n){return hC(hO(e))(t,n.direction)}},lx=function(e,t,n,i){return n.split(",").forEach(function(r){return e(t,r,i)})},Ws=function(e,t,n,i,r){return e.addEventListener(t,n,{passive:!i,capture:!!r})},qs=function(e,t,n,i){return e.removeEventListener(t,n,!!i)},cx=function(e,t,n){n=n&&n.wheelHandler,n&&(e(t,"wheel",n),e(t,"touchmove",n))},U3={startColor:"green",endColor:"red",indent:0,fontSize:"16px",fontWeight:"normal"},ux={toggleActions:"play",anticipatePin:0},KS={top:0,left:0,center:.5,bottom:1,right:1},MS=function(e,t){if(to(e)){var n=e.indexOf("="),i=~n?+(e.charAt(n-1)+1)*parseFloat(e.substr(n+1)):0;~n&&(e.indexOf("%")>n&&(i*=t/100),e=e.substr(0,n-1)),e=i+(e in KS?KS[e]*t:~e.indexOf("%")?parseFloat(e)*t/100:parseFloat(e)||0)}return e},fx=function(e,t,n,i,r,a,l,u){var h=r.startColor,m=r.endColor,g=r.fontSize,v=r.indent,_=r.fontWeight,S=Ni.createElement("div"),b=ip(n)||Wf(n,"pinType")==="fixed",M=e.indexOf("scroller")!==-1,A=b?di:n,C=e.indexOf("start")!==-1,B=C?h:m,D="border-color:"+B+";font-size:"+g+";color:"+B+";font-weight:"+_+";pointer-events:none;white-space:nowrap;font-family:sans-serif,Arial;z-index:1000;padding:4px 8px;border-width:0;border-style:solid;";return D+="position:"+((M||u)&&b?"fixed;":"absolute;"),(M||u||!b)&&(D+=(i===Ps?cC:uC)+":"+(a+parseFloat(v))+"px;"),l&&(D+="box-sizing:border-box;text-align:left;width:"+l.offsetWidth+"px;"),S._isStart=C,S.setAttribute("class","gsap-marker-"+e+(t?" marker-"+t:"")),S.style.cssText=D,S.innerText=t||t===0?e+"-"+t:e,A.children[0]?A.insertBefore(S,A.children[0]):A.appendChild(S),S._offset=S["offset"+i.op.d2],bS(S,0,i,C),S},bS=function(e,t,n,i){var r={display:"block"},a=n[i?"os2":"p2"],l=n[i?"p2":"os2"];e._isFlipped=i,r[n.a+"Percent"]=i?-100:0,r[n.a]=i?"1px":0,r["border"+a+bg]=1,r["border"+l+bg]=0,r[n.p]=t+"px",zt.set(e,r)},Un=[],jT={},Oy,P3=function(){return Dr()-Yo>34&&(Oy||(Oy=requestAnimationFrame(yu)))},Cm=function(){(!ra||!ra.isPressed||ra.startX>di.clientWidth)&&(zn.cache++,ra?Oy||(Oy=requestAnimationFrame(yu)):yu(),Yo||rp("scrollStart"),Yo=Dr())},qb=function(){rO=Fn.innerWidth,sO=Fn.innerHeight},Vv=function(e){zn.cache++,(e===!0||!Rr&&!iO&&!Ni.fullscreenElement&&!Ni.webkitFullscreenElement&&(!GT||rO!==Fn.innerWidth||Math.abs(Fn.innerHeight-sO)>Fn.innerHeight*.25))&&YS.restart(!0)},sp={},ZF=[],dO=function s(){return qs(Rn,"scrollEnd",s)||Od(!0)},rp=function(e){return sp[e]&&sp[e].map(function(t){return t()})||ZF},eo=[],pO=function(e){for(var t=0;t<eo.length;t+=5)(!e||eo[t+4]&&eo[t+4].query===e)&&(eo[t].style.cssText=eo[t+1],eo[t].getBBox&&eo[t].setAttribute("transform",eo[t+2]||""),eo[t+3].uncache=1)},dC=function(e,t){var n;for(aa=0;aa<Un.length;aa++)n=Un[aa],n&&(!t||n._ctx===t)&&(e?n.kill(1):n.revert(!0,!0));qS=!0,t&&pO(t),t||rp("revert")},mO=function(e,t){zn.cache++,(t||!oa)&&zn.forEach(function(n){return Or(n)&&n.cacheID++&&(n.rec=0)}),to(e)&&(Fn.history.scrollRestoration=oC=e)},oa,Jd=0,I3,QF=function(){if(I3!==Jd){var e=I3=Jd;requestAnimationFrame(function(){return e===Jd&&Od(!0)})}},gO=function(){di.appendChild(hg),lC=!ra&&hg.offsetHeight||Fn.innerHeight,di.removeChild(hg)},F3=function(e){return Ny(".gsap-marker-start, .gsap-marker-end, .gsap-marker-scroller-start, .gsap-marker-scroller-end").forEach(function(t){return t.style.display=e?"none":"block"})},Od=function(e,t){if(io=Ni.documentElement,di=Ni.body,aC=[Fn,Ni,io,di],Yo&&!e&&!qS){Ws(Rn,"scrollEnd",dO);return}gO(),oa=Rn.isRefreshing=!0,zn.forEach(function(i){return Or(i)&&++i.cacheID&&(i.rec=i())});var n=rp("refreshInit");nO&&Rn.sort(),t||dC(),zn.forEach(function(i){Or(i)&&(i.smooth&&(i.target.style.scrollBehavior="auto"),i(0))}),Un.slice(0).forEach(function(i){return i.refresh()}),qS=!1,Un.forEach(function(i){if(i._subPinOffset&&i.pin){var r=i.vars.horizontal?"offsetWidth":"offsetHeight",a=i.pin[r];i.revert(!0,1),i.adjustPinSpacing(i.pin[r]-a),i.refresh()}}),kT=1,F3(!0),Un.forEach(function(i){var r=yc(i.scroller,i._dir),a=i.vars.end==="max"||i._endClamp&&i.end>r,l=i._startClamp&&i.start>=r;(a||l)&&i.setPositions(l?r-1:i.start,a?Math.max(l?r:i.start+1,r):i.end,!0)}),F3(!1),kT=0,n.forEach(function(i){return i&&i.render&&i.render(-1)}),zn.forEach(function(i){Or(i)&&(i.smooth&&requestAnimationFrame(function(){return i.target.style.scrollBehavior="smooth"}),i.rec&&i(i.rec))}),mO(oC,1),YS.pause(),Jd++,oa=2,yu(2),Un.forEach(function(i){return Or(i.vars.onRefresh)&&i.vars.onRefresh(i)}),oa=Rn.isRefreshing=!1,rp("refresh")},XT=0,ES=1,oy,yu=function(e){if(e===2||!oa&&!qS){Rn.isUpdating=!0,oy&&oy.update(0);var t=Un.length,n=Dr(),i=n-Xb>=50,r=t&&Un[0].scroll();if(ES=XT>r?-1:1,oa||(XT=r),i&&(Yo&&!nM&&n-Yo>200&&(Yo=0,rp("scrollEnd")),Fv=Xb,Xb=n),ES<0){for(aa=t;aa-- >0;)Un[aa]&&Un[aa].update(0,i);ES=1}else for(aa=0;aa<t;aa++)Un[aa]&&Un[aa].update(0,i);Rn.isUpdating=!1}Oy=0},YT=[uO,fO,uC,cC,Ho+ay,Ho+iy,Ho+ry,Ho+sy,"display","flexShrink","float","zIndex","gridColumnStart","gridColumnEnd","gridRowStart","gridRowEnd","gridArea","justifySelf","alignSelf","placeSelf","order"],TS=YT.concat([Wd,Kd,"boxSizing","max"+bg,"max"+fC,"position",Ho,Ms,Ms+ry,Ms+iy,Ms+ay,Ms+sy]),$F=function(e,t,n){dg(n);var i=e._gsap;if(i.spacerIsNative)dg(i.spacerState);else if(e._gsap.swappedIn){var r=t.parentNode;r&&(r.insertBefore(e,t),r.removeChild(t))}e._gsap.swappedIn=!1},Wb=function(e,t,n,i){if(!e._gsap.swappedIn){for(var r=YT.length,a=t.style,l=e.style,u;r--;)u=YT[r],a[u]=n[u];a.position=n.position==="absolute"?"absolute":"relative",n.display==="inline"&&(a.display="inline-block"),l[uC]=l[cC]="auto",a.flexBasis=n.flexBasis||"auto",a.overflow="visible",a.boxSizing="border-box",a[Wd]=WS(e,fa)+Us,a[Kd]=WS(e,Ps)+Us,a[Ms]=l[Ho]=l[fO]=l[uO]="0",dg(i),l[Wd]=l["max"+bg]=n[Wd],l[Kd]=l["max"+fC]=n[Kd],l[Ms]=n[Ms],e.parentNode!==t&&(e.parentNode.insertBefore(t,e),t.appendChild(e)),e._gsap.swappedIn=!0}},e9=/([A-Z])/g,dg=function(e){if(e){var t=e.t.style,n=e.length,i=0,r,a;for((e.t._gsap||zt.core.getCache(e.t)).uncache=1;i<n;i+=2)a=e[i+1],r=e[i],a?t[r]=a:t[r]&&t.removeProperty(r.replace(e9,"-$1").toLowerCase())}},hx=function(e){for(var t=TS.length,n=e.style,i=[],r=0;r<t;r++)i.push(TS[r],n[TS[r]]);return i.t=e,i},t9=function(e,t,n){for(var i=[],r=e.length,a=n?8:0,l;a<r;a+=2)l=e[a],i.push(l,l in t?t[l]:e[a+1]);return i.t=e.t,i},CS={left:0,top:0},z3=function(e,t,n,i,r,a,l,u,h,m,g,v,_,S){Or(e)&&(e=e(u)),to(e)&&e.substr(0,3)==="max"&&(e=v+(e.charAt(4)==="="?MS("0"+e.substr(3),n):0));var b=_?_.time():0,M,A,C;if(_&&_.seek(0),isNaN(e)||(e=+e),Gv(e))_&&(e=zt.utils.mapRange(_.scrollTrigger.start,_.scrollTrigger.end,0,v,e)),l&&bS(l,n,i,!0);else{Or(t)&&(t=t(u));var B=(e||"0").split(" "),D,N,U,F;C=Ba(t,u)||di,D=hu(C)||{},(!D||!D.left&&!D.top)&&Go(C).display==="none"&&(F=C.style.display,C.style.display="block",D=hu(C),F?C.style.display=F:C.style.removeProperty("display")),N=MS(B[0],D[i.d]),U=MS(B[1]||"0",n),e=D[i.p]-h[i.p]-m+N+r-U,l&&bS(l,U,i,n-U<20||l._isStart&&U>20),n-=n-U}if(S&&(u[S]=e||-.001,e<0&&(e=0)),a){var z=e+n,O=a._isStart;M="scroll"+i.d2,bS(a,z,i,O&&z>20||!O&&(g?Math.max(di[M],io[M]):a.parentNode[M])<=z+1),g&&(h=hu(l),g&&(a.style[i.op.p]=h[i.op.p]-i.op.m-a._offset+Us))}return _&&C&&(M=hu(C),_.seek(v),A=hu(C),_._caScrollDist=M[i.p]-A[i.p],e=e/_._caScrollDist*v),_&&_.seek(b),_?e:Math.round(e)},n9=/(webkit|moz|length|cssText|inset)/i,H3=function(e,t,n,i){if(e.parentNode!==t){var r=e.style,a,l;if(t===di){e._stOrig=r.cssText,l=Go(e);for(a in l)!+a&&!n9.test(a)&&l[a]&&typeof r[a]=="string"&&a!=="0"&&(r[a]=l[a]);r.top=n,r.left=i}else r.cssText=e._stOrig;zt.core.getCache(e).uncache=1,t.appendChild(e)}},vO=function(e,t,n){var i=t,r=i;return function(a){var l=Math.round(e());return l!==i&&l!==r&&Math.abs(l-i)>3&&Math.abs(l-r)>3&&(a=l,n&&n()),r=i,i=Math.round(a),i}},dx=function(e,t,n){var i={};i[t.p]="+="+n,zt.set(e,i)},G3=function(e,t){var n=$f(e,t),i="_scroll"+t.p2,r=function a(l,u,h,m,g){var v=a.tween,_=u.onComplete,S={};h=h||n();var b=vO(n,h,function(){v.kill(),a.tween=0});return g=m&&g||0,m=m||l-h,v&&v.kill(),u[i]=l,u.inherit=!1,u.modifiers=S,S[i]=function(){return b(h+m*v.ratio+g*v.ratio*v.ratio)},u.onUpdate=function(){zn.cache++,a.tween&&yu()},u.onComplete=function(){a.tween=0,_&&_.call(v)},v=a.tween=zt.to(e,u),v};return e[i]=n,n.wheelHandler=function(){return r.tween&&r.tween.kill()&&(r.tween=0)},Ws(e,"wheel",n.wheelHandler),Rn.isTouch&&Ws(e,"touchmove",n.wheelHandler),r},Rn=function(){function s(t,n){Jm||s.register(zt)||console.warn("Please gsap.registerPlugin(ScrollTrigger)"),VT(this),this.init(t,n)}var e=s.prototype;return e.init=function(n,i){if(this.progress=this.start=0,this.vars&&this.kill(!0,!0),!zv){this.update=this.refresh=this.kill=pc;return}n=L3(to(n)||Gv(n)||n.nodeType?{trigger:n}:n,ux);var r=n,a=r.onUpdate,l=r.toggleClass,u=r.id,h=r.onToggle,m=r.onRefresh,g=r.scrub,v=r.trigger,_=r.pin,S=r.pinSpacing,b=r.invalidateOnRefresh,M=r.anticipatePin,A=r.onScrubComplete,C=r.onSnapComplete,B=r.once,D=r.snap,N=r.pinReparent,U=r.pinSpacer,F=r.containerAnimation,z=r.fastScrollEnd,O=r.preventOverlaps,P=n.horizontal||n.containerAnimation&&n.horizontal!==!1?fa:Ps,q=!g&&g!==0,ne=Ba(n.scroller||Fn),te=zt.core.getCache(ne),ee=ip(ne),oe=("pinType"in n?n.pinType:Wf(ne,"pinType")||ee&&"fixed")==="fixed",H=[n.onEnter,n.onLeave,n.onEnterBack,n.onLeaveBack],Y=q&&n.toggleActions.split(" "),Z="markers"in n?n.markers:ux.markers,de=ee?0:parseFloat(Go(ne)["border"+P.p2+bg])||0,I=this,ie=n.onRefreshInit&&function(){return n.onRefreshInit(I)},ue=YF(ne,ee,P),_e=qF(ne,ee),se=0,xe=0,Ae=0,Ee=$f(ne,P),Ne,ht,Je,st,_t,dt,ce,Ht,Ye,le,He,rt,Ge,Q,X,be,Pe,Le,Ve,lt,ot,ut,Vt,ct,ft,Tt,gt,vt,Wt,wt,Yt,he,Fe,Ie,We,xt,Mt,Qt,Sn;if(I._startClamp=I._endClamp=!1,I._dir=P,M*=45,I.scroller=ne,I.scroll=F?F.time.bind(F):Ee,st=Ee(),I.vars=n,i=i||n.animation,"refreshPriority"in n&&(nO=1,n.refreshPriority===-9999&&(oy=I)),te.tweenScroll=te.tweenScroll||{top:G3(ne,Ps),left:G3(ne,fa)},I.tweenTo=Ne=te.tweenScroll[P.p],I.scrubDuration=function(pt){Fe=Gv(pt)&&pt,Fe?he?he.duration(pt):he=zt.to(i,{ease:"expo",totalProgress:"+=0",inherit:!1,duration:Fe,paused:!0,onComplete:function(){return A&&A(I)}}):(he&&he.progress(1).kill(),he=0)},i&&(i.vars.lazy=!1,i._initted&&!I.isReverted||i.vars.immediateRender!==!1&&n.immediateRender!==!1&&i.duration()&&i.render(0,!0,!0),I.animation=i.pause(),i.scrollTrigger=I,I.scrubDuration(g),wt=0,u||(u=i.vars.id)),D&&((!Td(D)||D.push)&&(D={snapTo:D}),"scrollBehavior"in di.style&&zt.set(ee?[di,io]:ne,{scrollBehavior:"auto"}),zn.forEach(function(pt){return Or(pt)&&pt.target===(ee?Ni.scrollingElement||io:ne)&&(pt.smooth=!1)}),Je=Or(D.snapTo)?D.snapTo:D.snapTo==="labels"?KF(i):D.snapTo==="labelsDirectional"?JF(i):D.directional!==!1?function(pt,Ut){return hC(D.snapTo)(pt,Dr()-xe<500?0:Ut.direction)}:zt.utils.snap(D.snapTo),Ie=D.duration||{min:.1,max:2},Ie=Td(Ie)?ny(Ie.min,Ie.max):ny(Ie,Ie),We=zt.delayedCall(D.delay||Fe/2||.1,function(){var pt=Ee(),Ut=Dr()-xe<500,Rt=Ne.tween;if((Ut||Math.abs(I.getVelocity())<10)&&!Rt&&!nM&&se!==pt){var kt=(pt-dt)/Q,ii=i&&!q?i.totalProgress():kt,en=Ut?0:(ii-Yt)/(Dr()-Fv)*1e3||0,Nt=zt.utils.clamp(-kt,1-kt,Tm(en/2)*en/.185),ei=kt+(D.inertia===!1?0:Nt),tn,V,W=D,ge=W.onStart,Te=W.onInterrupt,Be=W.onComplete;if(tn=Je(ei,I),Gv(tn)||(tn=ei),V=Math.max(0,Math.round(dt+tn*Q)),pt<=ce&&pt>=dt&&V!==pt){if(Rt&&!Rt._initted&&Rt.data<=Tm(V-pt))return;D.inertia===!1&&(Nt=tn-kt),Ne(V,{duration:Ie(Tm(Math.max(Tm(ei-ii),Tm(tn-ii))*.185/en/.05||0)),ease:D.ease||"power3",data:Tm(V-pt),onInterrupt:function(){return We.restart(!0)&&Te&&Te(I)},onComplete:function(){I.update(),se=Ee(),i&&!q&&(he?he.resetTo("totalProgress",tn,i._tTime/i._tDur):i.progress(tn)),wt=Yt=i&&!q?i.totalProgress():I.progress,C&&C(I),Be&&Be(I)}},pt,Nt*Q,V-pt-Nt*Q),ge&&ge(I,Ne.tween)}}else I.isActive&&se!==pt&&We.restart(!0)}).pause()),u&&(jT[u]=I),v=I.trigger=Ba(v||_!==!0&&_),Sn=v&&v._gsap&&v._gsap.stRevert,Sn&&(Sn=Sn(I)),_=_===!0?v:Ba(_),to(l)&&(l={targets:v,className:l}),_&&(S===!1||S===Ho||(S=!S&&_.parentNode&&_.parentNode.style&&Go(_.parentNode).display==="flex"?!1:Ms),I.pin=_,ht=zt.core.getCache(_),ht.spacer?X=ht.pinState:(U&&(U=Ba(U),U&&!U.nodeType&&(U=U.current||U.nativeElement),ht.spacerIsNative=!!U,U&&(ht.spacerState=hx(U))),ht.spacer=Le=U||Ni.createElement("div"),Le.classList.add("pin-spacer"),u&&Le.classList.add("pin-spacer-"+u),ht.pinState=X=hx(_)),n.force3D!==!1&&zt.set(_,{force3D:!0}),I.spacer=Le=ht.spacer,Wt=Go(_),ct=Wt[S+P.os2],lt=zt.getProperty(_),ot=zt.quickSetter(_,P.a,Us),Wb(_,Le,Wt),Pe=hx(_)),Z){rt=Td(Z)?L3(Z,U3):U3,le=fx("scroller-start",u,ne,P,rt,0),He=fx("scroller-end",u,ne,P,rt,0,le),Ve=le["offset"+P.op.d2];var Jn=Ba(Wf(ne,"content")||ne);Ht=this.markerStart=fx("start",u,Jn,P,rt,Ve,0,F),Ye=this.markerEnd=fx("end",u,Jn,P,rt,Ve,0,F),F&&(Qt=zt.quickSetter([Ht,Ye],P.a,Us)),!oe&&!(Ac.length&&Wf(ne,"fixedMarkers")===!0)&&(WF(ee?di:ne),zt.set([le,He],{force3D:!0}),Tt=zt.quickSetter(le,P.a,Us),vt=zt.quickSetter(He,P.a,Us))}if(F){var Et=F.vars.onUpdate,Lt=F.vars.onUpdateParams;F.eventCallback("onUpdate",function(){I.update(0,0,1),Et&&Et.apply(F,Lt||[])})}if(I.previous=function(){return Un[Un.indexOf(I)-1]},I.next=function(){return Un[Un.indexOf(I)+1]},I.revert=function(pt,Ut){if(!Ut)return I.kill(!0);var Rt=pt!==!1||!I.enabled,kt=Rr;Rt!==I.isReverted&&(Rt&&(xt=Math.max(Ee(),I.scroll.rec||0),Ae=I.progress,Mt=i&&i.progress()),Ht&&[Ht,Ye,le,He].forEach(function(ii){return ii.style.display=Rt?"none":"block"}),Rt&&(Rr=I,I.update(Rt)),_&&(!N||!I.isActive)&&(Rt?$F(_,Le,X):Wb(_,Le,Go(_),ft)),Rt||I.update(Rt),Rr=kt,I.isReverted=Rt)},I.refresh=function(pt,Ut,Rt,kt){if(!((Rr||!I.enabled)&&!Ut)){if(_&&pt&&Yo){Ws(s,"scrollEnd",dO);return}!oa&&ie&&ie(I),Rr=I,Ne.tween&&!Rt&&(Ne.tween.kill(),Ne.tween=0),he&&he.pause(),b&&i&&i.revert({kill:!1}).invalidate(),I.isReverted||I.revert(!0,!0),I._subPinOffset=!1;var ii=ue(),en=_e(),Nt=F?F.duration():yc(ne,P),ei=Q<=.01,tn=0,V=kt||0,W=Td(Rt)?Rt.end:n.end,ge=n.endTrigger||v,Te=Td(Rt)?Rt.start:n.start||(n.start===0||!v?0:_?"0 0":"0 100%"),Be=I.pinnedContainer=n.pinnedContainer&&Ba(n.pinnedContainer,I),ke=v&&Math.max(0,Un.indexOf(I))||0,nt=ke,Ke,j,re,pe,fe,ye,Re,qe,Ze,tt,St,At,bt;for(Z&&Td(Rt)&&(At=zt.getProperty(le,P.p),bt=zt.getProperty(He,P.p));nt-- >0;)ye=Un[nt],ye.end||ye.refresh(0,1)||(Rr=I),Re=ye.pin,Re&&(Re===v||Re===_||Re===Be)&&!ye.isReverted&&(tt||(tt=[]),tt.unshift(ye),ye.revert(!0,!0)),ye!==Un[nt]&&(ke--,nt--);for(Or(Te)&&(Te=Te(I)),Te=B3(Te,"start",I),dt=z3(Te,v,ii,P,Ee(),Ht,le,I,en,de,oe,Nt,F,I._startClamp&&"_startClamp")||(_?-.001:0),Or(W)&&(W=W(I)),to(W)&&!W.indexOf("+=")&&(~W.indexOf(" ")?W=(to(Te)?Te.split(" ")[0]:"")+W:(tn=MS(W.substr(2),ii),W=to(Te)?Te:(F?zt.utils.mapRange(0,F.duration(),F.scrollTrigger.start,F.scrollTrigger.end,dt):dt)+tn,ge=v)),W=B3(W,"end",I),ce=Math.max(dt,z3(W||(ge?"100% 0":Nt),ge,ii,P,Ee()+tn,Ye,He,I,en,de,oe,Nt,F,I._endClamp&&"_endClamp"))||-.001,tn=0,nt=ke;nt--;)ye=Un[nt],Re=ye.pin,Re&&ye.start-ye._pinPush<=dt&&!F&&ye.end>0&&(Ke=ye.end-(I._startClamp?Math.max(0,ye.start):ye.start),(Re===v&&ye.start-ye._pinPush<dt||Re===Be)&&isNaN(Te)&&(tn+=Ke*(1-ye.progress)),Re===_&&(V+=Ke));if(dt+=tn,ce+=tn,I._startClamp&&(I._startClamp+=tn),I._endClamp&&!oa&&(I._endClamp=ce||-.001,ce=Math.min(ce,yc(ne,P))),Q=ce-dt||(dt-=.01)&&.001,ei&&(Ae=zt.utils.clamp(0,1,zt.utils.normalize(dt,ce,xt))),I._pinPush=V,Ht&&tn&&(Ke={},Ke[P.a]="+="+tn,Be&&(Ke[P.p]="-="+Ee()),zt.set([Ht,Ye],Ke)),_&&!(kT&&I.end>=yc(ne,P)))Ke=Go(_),pe=P===Ps,re=Ee(),ut=parseFloat(lt(P.a))+V,!Nt&&ce>1&&(St=(ee?Ni.scrollingElement||io:ne).style,St={style:St,value:St["overflow"+P.a.toUpperCase()]},ee&&Go(di)["overflow"+P.a.toUpperCase()]!=="scroll"&&(St.style["overflow"+P.a.toUpperCase()]="scroll")),Wb(_,Le,Ke),Pe=hx(_),j=hu(_,!0),qe=oe&&$f(ne,pe?fa:Ps)(),S?(ft=[S+P.os2,Q+V+Us],ft.t=Le,nt=S===Ms?WS(_,P)+Q+V:0,nt&&(ft.push(P.d,nt+Us),Le.style.flexBasis!=="auto"&&(Le.style.flexBasis=nt+Us)),dg(ft),Be&&Un.forEach(function(jt){jt.pin===Be&&jt.vars.pinSpacing!==!1&&(jt._subPinOffset=!0)}),oe&&Ee(xt)):(nt=WS(_,P),nt&&Le.style.flexBasis!=="auto"&&(Le.style.flexBasis=nt+Us)),oe&&(fe={top:j.top+(pe?re-dt:qe)+Us,left:j.left+(pe?qe:re-dt)+Us,boxSizing:"border-box",position:"fixed"},fe[Wd]=fe["max"+bg]=Math.ceil(j.width)+Us,fe[Kd]=fe["max"+fC]=Math.ceil(j.height)+Us,fe[Ho]=fe[Ho+ry]=fe[Ho+iy]=fe[Ho+ay]=fe[Ho+sy]="0",fe[Ms]=Ke[Ms],fe[Ms+ry]=Ke[Ms+ry],fe[Ms+iy]=Ke[Ms+iy],fe[Ms+ay]=Ke[Ms+ay],fe[Ms+sy]=Ke[Ms+sy],be=t9(X,fe,N),oa&&Ee(0)),i?(Ze=i._initted,kb(1),i.render(i.duration(),!0,!0),Vt=lt(P.a)-ut+Q+V,gt=Math.abs(Q-Vt)>1,oe&&gt&&be.splice(be.length-2,2),i.render(0,!0,!0),Ze||i.invalidate(!0),i.parent||i.totalTime(i.totalTime()),kb(0)):Vt=Q,St&&(St.value?St.style["overflow"+P.a.toUpperCase()]=St.value:St.style.removeProperty("overflow-"+P.a));else if(v&&Ee()&&!F)for(j=v.parentNode;j&&j!==di;)j._pinOffset&&(dt-=j._pinOffset,ce-=j._pinOffset),j=j.parentNode;tt&&tt.forEach(function(jt){return jt.revert(!1,!0)}),I.start=dt,I.end=ce,st=_t=oa?xt:Ee(),!F&&!oa&&(st<xt&&Ee(xt),I.scroll.rec=0),I.revert(!1,!0),xe=Dr(),We&&(se=-1,We.restart(!0)),Rr=0,i&&q&&(i._initted||Mt)&&i.progress()!==Mt&&i.progress(Mt||0,!0).render(i.time(),!0,!0),(ei||Ae!==I.progress||F||b||i&&!i._initted)&&(i&&!q&&i.totalProgress(F&&dt<-.001&&!Ae?zt.utils.normalize(dt,ce,0):Ae,!0),I.progress=ei||(st-dt)/Q===Ae?0:Ae),_&&S&&(Le._pinOffset=Math.round(I.progress*Vt)),he&&he.invalidate(),isNaN(At)||(At-=zt.getProperty(le,P.p),bt-=zt.getProperty(He,P.p),dx(le,P,At),dx(Ht,P,At-(kt||0)),dx(He,P,bt),dx(Ye,P,bt-(kt||0))),ei&&!oa&&I.update(),m&&!oa&&!Ge&&(Ge=!0,m(I),Ge=!1)}},I.getVelocity=function(){return(Ee()-_t)/(Dr()-Fv)*1e3||0},I.endAnimation=function(){vv(I.callbackAnimation),i&&(he?he.progress(1):i.paused()?q||vv(i,I.direction<0,1):vv(i,i.reversed()))},I.labelToScroll=function(pt){return i&&i.labels&&(dt||I.refresh()||dt)+i.labels[pt]/i.duration()*Q||0},I.getTrailing=function(pt){var Ut=Un.indexOf(I),Rt=I.direction>0?Un.slice(0,Ut).reverse():Un.slice(Ut+1);return(to(pt)?Rt.filter(function(kt){return kt.vars.preventOverlaps===pt}):Rt).filter(function(kt){return I.direction>0?kt.end<=dt:kt.start>=ce})},I.update=function(pt,Ut,Rt){if(!(F&&!Rt&&!pt)){var kt=oa===!0?xt:I.scroll(),ii=pt?0:(kt-dt)/Q,en=ii<0?0:ii>1?1:ii||0,Nt=I.progress,ei,tn,V,W,ge,Te,Be,ke;if(Ut&&(_t=st,st=F?Ee():kt,D&&(Yt=wt,wt=i&&!q?i.totalProgress():en)),M&&_&&!Rr&&!ax&&Yo&&(!en&&dt<kt+(kt-_t)/(Dr()-Fv)*M?en=1e-4:en===1&&ce>kt+(kt-_t)/(Dr()-Fv)*M&&(en=.9999)),en!==Nt&&I.enabled){if(ei=I.isActive=!!en&&en<1,tn=!!Nt&&Nt<1,Te=ei!==tn,ge=Te||!!en!=!!Nt,I.direction=en>Nt?1:-1,I.progress=en,ge&&!Rr&&(V=en&&!Nt?0:en===1?1:Nt===1?2:3,q&&(W=!Te&&Y[V+1]!=="none"&&Y[V+1]||Y[V],ke=i&&(W==="complete"||W==="reset"||W in i))),O&&(Te||ke)&&(ke||g||!i)&&(Or(O)?O(I):I.getTrailing(O).forEach(function(re){return re.endAnimation()})),q||(he&&!Rr&&!ax?(he._dp._time-he._start!==he._time&&he.render(he._dp._time-he._start),he.resetTo?he.resetTo("totalProgress",en,i._tTime/i._tDur):(he.vars.totalProgress=en,he.invalidate().restart())):i&&i.totalProgress(en,!!(Rr&&(xe||pt)))),_){if(pt&&S&&(Le.style[S+P.os2]=ct),!oe)ot(Hv(ut+Vt*en));else if(ge){if(Be=!pt&&en>Nt&&ce+1>kt&&kt+1>=yc(ne,P),N)if(!pt&&(ei||Be)){var nt=hu(_,!0),Ke=kt-dt;H3(_,di,nt.top+(P===Ps?Ke:0)+Us,nt.left+(P===Ps?0:Ke)+Us)}else H3(_,Le);dg(ei||Be?be:Pe),gt&&en<1&&ei||ot(ut+(en===1&&!Be?Vt:0))}}D&&!Ne.tween&&!Rr&&!ax&&We.restart(!0),l&&(Te||B&&en&&(en<1||!jb))&&Ny(l.targets).forEach(function(re){return re.classList[ei||B?"add":"remove"](l.className)}),a&&!q&&!pt&&a(I),ge&&!Rr?(q&&(ke&&(W==="complete"?i.pause().totalProgress(1):W==="reset"?i.restart(!0).pause():W==="restart"?i.restart(!0):i[W]()),a&&a(I)),(Te||!jb)&&(h&&Te&&Yb(I,h),H[V]&&Yb(I,H[V]),B&&(en===1?I.kill(!1,1):H[V]=0),Te||(V=en===1?1:3,H[V]&&Yb(I,H[V]))),z&&!ei&&Math.abs(I.getVelocity())>(Gv(z)?z:2500)&&(vv(I.callbackAnimation),he?he.progress(1):vv(i,W==="reverse"?1:!en,1))):q&&a&&!Rr&&a(I)}if(vt){var j=F?kt/F.duration()*(F._caScrollDist||0):kt;Tt(j+(le._isFlipped?1:0)),vt(j)}Qt&&Qt(-kt/F.duration()*(F._caScrollDist||0))}},I.enable=function(pt,Ut){I.enabled||(I.enabled=!0,Ws(ne,"resize",Vv),ee||Ws(ne,"scroll",Cm),ie&&Ws(s,"refreshInit",ie),pt!==!1&&(I.progress=Ae=0,st=_t=se=Ee()),Ut!==!1&&I.refresh())},I.getTween=function(pt){return pt&&Ne?Ne.tween:he},I.setPositions=function(pt,Ut,Rt,kt){if(F){var ii=F.scrollTrigger,en=F.duration(),Nt=ii.end-ii.start;pt=ii.start+Nt*pt/en,Ut=ii.start+Nt*Ut/en}I.refresh(!1,!1,{start:D3(pt,Rt&&!!I._startClamp),end:D3(Ut,Rt&&!!I._endClamp)},kt),I.update()},I.adjustPinSpacing=function(pt){if(ft&&pt){var Ut=ft.indexOf(P.d)+1;ft[Ut]=parseFloat(ft[Ut])+pt+Us,ft[1]=parseFloat(ft[1])+pt+Us,dg(ft)}},I.disable=function(pt,Ut){if(I.enabled&&(pt!==!1&&I.revert(!0,!0),I.enabled=I.isActive=!1,Ut||he&&he.pause(),xt=0,ht&&(ht.uncache=1),ie&&qs(s,"refreshInit",ie),We&&(We.pause(),Ne.tween&&Ne.tween.kill()&&(Ne.tween=0)),!ee)){for(var Rt=Un.length;Rt--;)if(Un[Rt].scroller===ne&&Un[Rt]!==I)return;qs(ne,"resize",Vv),ee||qs(ne,"scroll",Cm)}},I.kill=function(pt,Ut){I.disable(pt,Ut),he&&!Ut&&he.kill(),u&&delete jT[u];var Rt=Un.indexOf(I);Rt>=0&&Un.splice(Rt,1),Rt===aa&&ES>0&&aa--,Rt=0,Un.forEach(function(kt){return kt.scroller===I.scroller&&(Rt=1)}),Rt||oa||(I.scroll.rec=0),i&&(i.scrollTrigger=null,pt&&i.revert({kill:!1}),Ut||i.kill()),Ht&&[Ht,Ye,le,He].forEach(function(kt){return kt.parentNode&&kt.parentNode.removeChild(kt)}),oy===I&&(oy=0),_&&(ht&&(ht.uncache=1),Rt=0,Un.forEach(function(kt){return kt.pin===_&&Rt++}),Rt||(ht.spacer=0)),n.onKill&&n.onKill(I)},Un.push(I),I.enable(!1,!1),Sn&&Sn(I),i&&i.add&&!Q){var $t=I.update;I.update=function(){I.update=$t,zn.cache++,dt||ce||I.refresh()},zt.delayedCall(.01,I.update),Q=.01,dt=ce=0}else I.refresh();_&&QF()},s.register=function(n){return Jm||(zt=n||oO(),aO()&&window.document&&s.enable(),Jm=zv),Jm},s.defaults=function(n){if(n)for(var i in n)ux[i]=n[i];return ux},s.disable=function(n,i){zv=0,Un.forEach(function(a){return a[i?"kill":"disable"](n)}),qs(Fn,"wheel",Cm),qs(Ni,"scroll",Cm),clearInterval(rx),qs(Ni,"touchcancel",pc),qs(di,"touchstart",pc),lx(qs,Ni,"pointerdown,touchstart,mousedown",N3),lx(qs,Ni,"pointerup,touchend,mouseup",O3),YS.kill(),ox(qs);for(var r=0;r<zn.length;r+=3)cx(qs,zn[r],zn[r+1]),cx(qs,zn[r],zn[r+2])},s.enable=function(){if(Fn=window,Ni=document,io=Ni.documentElement,di=Ni.body,zt&&(Ny=zt.utils.toArray,ny=zt.utils.clamp,VT=zt.core.context||pc,kb=zt.core.suppressOverwrites||pc,oC=Fn.history.scrollRestoration||"auto",XT=Fn.pageYOffset||0,zt.core.globals("ScrollTrigger",s),di)){zv=1,hg=document.createElement("div"),hg.style.height="100vh",hg.style.position="absolute",gO(),XF(),ds.register(zt),s.isTouch=ds.isTouch,Of=ds.isTouch&&/(iPad|iPhone|iPod|Mac)/g.test(navigator.userAgent),GT=ds.isTouch===1,Ws(Fn,"wheel",Cm),aC=[Fn,Ni,io,di],zt.matchMedia?(s.matchMedia=function(h){var m=zt.matchMedia(),g;for(g in h)m.add(g,h[g]);return m},zt.addEventListener("matchMediaInit",function(){return dC()}),zt.addEventListener("matchMediaRevert",function(){return pO()}),zt.addEventListener("matchMedia",function(){Od(0,1),rp("matchMedia")}),zt.matchMedia().add("(orientation: portrait)",function(){return qb(),qb})):console.warn("Requires GSAP 3.11.0 or later"),qb(),Ws(Ni,"scroll",Cm);var n=di.hasAttribute("style"),i=di.style,r=i.borderTopStyle,a=zt.core.Animation.prototype,l,u;for(a.revert||Object.defineProperty(a,"revert",{value:function(){return this.time(-.01,!0)}}),i.borderTopStyle="solid",l=hu(di),Ps.m=Math.round(l.top+Ps.sc())||0,fa.m=Math.round(l.left+fa.sc())||0,r?i.borderTopStyle=r:i.removeProperty("border-top-style"),n||(di.setAttribute("style",""),di.removeAttribute("style")),rx=setInterval(P3,250),zt.delayedCall(.5,function(){return ax=0}),Ws(Ni,"touchcancel",pc),Ws(di,"touchstart",pc),lx(Ws,Ni,"pointerdown,touchstart,mousedown",N3),lx(Ws,Ni,"pointerup,touchend,mouseup",O3),HT=zt.utils.checkPrefix("transform"),TS.push(HT),Jm=Dr(),YS=zt.delayedCall(.2,Od).pause(),Zm=[Ni,"visibilitychange",function(){var h=Fn.innerWidth,m=Fn.innerHeight;Ni.hidden?(w3=h,R3=m):(w3!==h||R3!==m)&&Vv()},Ni,"DOMContentLoaded",Od,Fn,"load",Od,Fn,"resize",Vv],ox(Ws),Un.forEach(function(h){return h.enable(0,1)}),u=0;u<zn.length;u+=3)cx(qs,zn[u],zn[u+1]),cx(qs,zn[u],zn[u+2])}},s.config=function(n){"limitCallbacks"in n&&(jb=!!n.limitCallbacks);var i=n.syncInterval;i&&clearInterval(rx)||(rx=i)&&setInterval(P3,i),"ignoreMobileResize"in n&&(GT=s.isTouch===1&&n.ignoreMobileResize),"autoRefreshEvents"in n&&(ox(qs)||ox(Ws,n.autoRefreshEvents||"none"),iO=(n.autoRefreshEvents+"").indexOf("resize")===-1)},s.scrollerProxy=function(n,i){var r=Ba(n),a=zn.indexOf(r),l=ip(r);~a&&zn.splice(a,l?6:2),i&&(l?Ac.unshift(Fn,i,di,i,io,i):Ac.unshift(r,i))},s.clearMatchMedia=function(n){Un.forEach(function(i){return i._ctx&&i._ctx.query===n&&i._ctx.kill(!0,!0)})},s.isInViewport=function(n,i,r){var a=(to(n)?Ba(n):n).getBoundingClientRect(),l=a[r?Wd:Kd]*i||0;return r?a.right-l>0&&a.left+l<Fn.innerWidth:a.bottom-l>0&&a.top+l<Fn.innerHeight},s.positionInViewport=function(n,i,r){to(n)&&(n=Ba(n));var a=n.getBoundingClientRect(),l=a[r?Wd:Kd],u=i==null?l/2:i in KS?KS[i]*l:~i.indexOf("%")?parseFloat(i)*l/100:parseFloat(i)||0;return r?(a.left+u)/Fn.innerWidth:(a.top+u)/Fn.innerHeight},s.killAll=function(n){if(Un.slice(0).forEach(function(r){return r.vars.id!=="ScrollSmoother"&&r.kill()}),n!==!0){var i=sp.killAll||[];sp={},i.forEach(function(r){return r()})}},s}();Rn.version="3.12.7";Rn.saveStyles=function(s){return s?Ny(s).forEach(function(e){if(e&&e.style){var t=eo.indexOf(e);t>=0&&eo.splice(t,5),eo.push(e,e.style.cssText,e.getBBox&&e.getAttribute("transform"),zt.core.getCache(e),VT())}}):eo};Rn.revert=function(s,e){return dC(!s,e)};Rn.create=function(s,e){return new Rn(s,e)};Rn.refresh=function(s){return s?Vv(!0):(Jm||Rn.register())&&Od(!0)};Rn.update=function(s){return++zn.cache&&yu(s===!0?2:0)};Rn.clearScrollMemory=mO;Rn.maxScroll=function(s,e){return yc(s,e?fa:Ps)};Rn.getScrollFunc=function(s,e){return $f(Ba(s),e?fa:Ps)};Rn.getById=function(s){return jT[s]};Rn.getAll=function(){return Un.filter(function(s){return s.vars.id!=="ScrollSmoother"})};Rn.isScrolling=function(){return!!Yo};Rn.snapDirectional=hC;Rn.addEventListener=function(s,e){var t=sp[s]||(sp[s]=[]);~t.indexOf(e)||t.push(e)};Rn.removeEventListener=function(s,e){var t=sp[s],n=t&&t.indexOf(e);n>=0&&t.splice(n,1)};Rn.batch=function(s,e){var t=[],n={},i=e.interval||.016,r=e.batchMax||1e9,a=function(h,m){var g=[],v=[],_=zt.delayedCall(i,function(){m(g,v),g=[],v=[]}).pause();return function(S){g.length||_.restart(!0),g.push(S.trigger),v.push(S),r<=g.length&&_.progress(1)}},l;for(l in e)n[l]=l.substr(0,2)==="on"&&Or(e[l])&&l!=="onRefreshInit"?a(l,e[l]):e[l];return Or(r)&&(r=r(),Ws(Rn,"refresh",function(){return r=e.batchMax()})),Ny(s).forEach(function(u){var h={};for(l in n)h[l]=n[l];h.trigger=u,t.push(Rn.create(h))}),t};var V3=function(e,t,n,i){return t>i?e(i):t<0&&e(0),n>i?(i-t)/(n-t):n<0?t/(t-n):1},Kb=function s(e,t){t===!0?e.style.removeProperty("touch-action"):e.style.touchAction=t===!0?"auto":t?"pan-"+t+(ds.isTouch?" pinch-zoom":""):"none",e===io&&s(di,t)},px={auto:1,scroll:1},i9=function(e){var t=e.event,n=e.target,i=e.axis,r=(t.changedTouches?t.changedTouches[0]:t).target,a=r._gsap||zt.core.getCache(r),l=Dr(),u;if(!a._isScrollT||l-a._isScrollT>2e3){for(;r&&r!==di&&(r.scrollHeight<=r.clientHeight&&r.scrollWidth<=r.clientWidth||!(px[(u=Go(r)).overflowY]||px[u.overflowX]));)r=r.parentNode;a._isScroll=r&&r!==n&&!ip(r)&&(px[(u=Go(r)).overflowY]||px[u.overflowX]),a._isScrollT=l}(a._isScroll||i==="x")&&(t.stopPropagation(),t._gsapAllow=!0)},yO=function(e,t,n,i){return ds.create({target:e,capture:!0,debounce:!1,lockAxis:!0,type:t,onWheel:i=i&&i9,onPress:i,onDrag:i,onScroll:i,onEnable:function(){return n&&Ws(Ni,ds.eventTypes[0],j3,!1,!0)},onDisable:function(){return qs(Ni,ds.eventTypes[0],j3,!0)}})},s9=/(input|label|select|textarea)/i,k3,j3=function(e){var t=s9.test(e.target.tagName);(t||k3)&&(e._gsapAllow=!0,k3=t)},r9=function(e){Td(e)||(e={}),e.preventDefault=e.isNormalizer=e.allowClicks=!0,e.type||(e.type="wheel,touch"),e.debounce=!!e.debounce,e.id=e.id||"normalizer";var t=e,n=t.normalizeScrollX,i=t.momentum,r=t.allowNestedScroll,a=t.onRelease,l,u,h=Ba(e.target)||io,m=zt.core.globals().ScrollSmoother,g=m&&m.get(),v=Of&&(e.content&&Ba(e.content)||g&&e.content!==!1&&!g.smooth()&&g.content()),_=$f(h,Ps),S=$f(h,fa),b=1,M=(ds.isTouch&&Fn.visualViewport?Fn.visualViewport.scale*Fn.visualViewport.width:Fn.outerWidth)/Fn.innerWidth,A=0,C=Or(i)?function(){return i(l)}:function(){return i||2.8},B,D,N=yO(h,e.type,!0,r),U=function(){return D=!1},F=pc,z=pc,O=function(){u=yc(h,Ps),z=ny(Of?1:0,u),n&&(F=ny(0,yc(h,fa))),B=Jd},P=function(){v._gsap.y=Hv(parseFloat(v._gsap.y)+_.offset)+"px",v.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+parseFloat(v._gsap.y)+", 0, 1)",_.offset=_.cacheID=0},q=function(){if(D){requestAnimationFrame(U);var Z=Hv(l.deltaY/2),de=z(_.v-Z);if(v&&de!==_.v+_.offset){_.offset=de-_.v;var I=Hv((parseFloat(v&&v._gsap.y)||0)-_.offset);v.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+I+", 0, 1)",v._gsap.y=I+"px",_.cacheID=zn.cache,yu()}return!0}_.offset&&P(),D=!0},ne,te,ee,oe,H=function(){O(),ne.isActive()&&ne.vars.scrollY>u&&(_()>u?ne.progress(1)&&_(u):ne.resetTo("scrollY",u))};return v&&zt.set(v,{y:"+=0"}),e.ignoreCheck=function(Y){return Of&&Y.type==="touchmove"&&q()||b>1.05&&Y.type!=="touchstart"||l.isGesturing||Y.touches&&Y.touches.length>1},e.onPress=function(){D=!1;var Y=b;b=Hv((Fn.visualViewport&&Fn.visualViewport.scale||1)/M),ne.pause(),Y!==b&&Kb(h,b>1.01?!0:n?!1:"x"),te=S(),ee=_(),O(),B=Jd},e.onRelease=e.onGestureStart=function(Y,Z){if(_.offset&&P(),!Z)oe.restart(!0);else{zn.cache++;var de=C(),I,ie;n&&(I=S(),ie=I+de*.05*-Y.velocityX/.227,de*=V3(S,I,ie,yc(h,fa)),ne.vars.scrollX=F(ie)),I=_(),ie=I+de*.05*-Y.velocityY/.227,de*=V3(_,I,ie,yc(h,Ps)),ne.vars.scrollY=z(ie),ne.invalidate().duration(de).play(.01),(Of&&ne.vars.scrollY>=u||I>=u-1)&&zt.to({},{onUpdate:H,duration:de})}a&&a(Y)},e.onWheel=function(){ne._ts&&ne.pause(),Dr()-A>1e3&&(B=0,A=Dr())},e.onChange=function(Y,Z,de,I,ie){if(Jd!==B&&O(),Z&&n&&S(F(I[2]===Z?te+(Y.startX-Y.x):S()+Z-I[1])),de){_.offset&&P();var ue=ie[2]===de,_e=ue?ee+Y.startY-Y.y:_()+de-ie[1],se=z(_e);ue&&_e!==se&&(ee+=se-_e),_(se)}(de||Z)&&yu()},e.onEnable=function(){Kb(h,n?!1:"x"),Rn.addEventListener("refresh",H),Ws(Fn,"resize",H),_.smooth&&(_.target.style.scrollBehavior="auto",_.smooth=S.smooth=!1),N.enable()},e.onDisable=function(){Kb(h,!0),qs(Fn,"resize",H),Rn.removeEventListener("refresh",H),N.kill()},e.lockAxis=e.lockAxis!==!1,l=new ds(e),l.iOS=Of,Of&&!_()&&_(1),Of&&zt.ticker.add(pc),oe=l._dc,ne=zt.to(l,{ease:"power4",paused:!0,inherit:!1,scrollX:n?"+=0.1":"+=0",scrollY:"+=0.1",modifiers:{scrollY:vO(_,_(),function(){return ne.pause()})},onUpdate:yu,onComplete:oe.vars.onComplete}),l};Rn.sort=function(s){if(Or(s))return Un.sort(s);var e=Fn.pageYOffset||0;return Rn.getAll().forEach(function(t){return t._sortY=t.trigger?e+t.trigger.getBoundingClientRect().top:t.start+Fn.innerHeight}),Un.sort(s||function(t,n){return(t.vars.refreshPriority||0)*-1e6+(t.vars.containerAnimation?1e6:t._sortY)-((n.vars.containerAnimation?1e6:n._sortY)+(n.vars.refreshPriority||0)*-1e6)})};Rn.observe=function(s){return new ds(s)};Rn.normalizeScroll=function(s){if(typeof s>"u")return ra;if(s===!0&&ra)return ra.enable();if(s===!1){ra&&ra.kill(),ra=s;return}var e=s instanceof ds?s:r9(s);return ra&&ra.target===e.target&&ra.kill(),ip(e.target)&&(ra=e),e};Rn.core={_getVelocityProp:zT,_inputObserver:yO,_scrollers:zn,_proxies:Ac,bridge:{ss:function(){Yo||rp("scrollStart"),Yo=Dr()},ref:function(){return Rr}}};oO()&&zt.registerPlugin(Rn);var a9="1.2.3";function _O(s,e,t){return Math.max(s,Math.min(e,t))}function o9(s,e,t){return(1-t)*s+t*e}function l9(s,e,t,n){return o9(s,e,1-Math.exp(-t*n))}function c9(s,e){return(s%e+e)%e}var u9=class{constructor(){Ft(this,"isRunning",!1);Ft(this,"value",0);Ft(this,"from",0);Ft(this,"to",0);Ft(this,"currentTime",0);Ft(this,"lerp");Ft(this,"duration");Ft(this,"easing");Ft(this,"onUpdate")}advance(e){var n;if(!this.isRunning)return;let t=!1;if(this.duration&&this.easing){this.currentTime+=e;const i=_O(0,this.currentTime/this.duration,1);t=i>=1;const r=t?1:this.easing(i);this.value=this.from+(this.to-this.from)*r}else this.lerp?(this.value=l9(this.value,this.to,this.lerp*60,e),Math.round(this.value)===this.to&&(this.value=this.to,t=!0)):(this.value=this.to,t=!0);t&&this.stop(),(n=this.onUpdate)==null||n.call(this,this.value,t)}stop(){this.isRunning=!1}fromTo(e,t,{lerp:n,duration:i,easing:r,onStart:a,onUpdate:l}){this.from=this.value=e,this.to=t,this.lerp=n,this.duration=i,this.easing=r,this.currentTime=0,this.isRunning=!0,a==null||a(),this.onUpdate=l}};function f9(s,e){let t;return function(...n){let i=this;clearTimeout(t),t=setTimeout(()=>{t=void 0,s.apply(i,n)},e)}}var h9=class{constructor(e,t,{autoResize:n=!0,debounce:i=250}={}){Ft(this,"width",0);Ft(this,"height",0);Ft(this,"scrollHeight",0);Ft(this,"scrollWidth",0);Ft(this,"debouncedResize");Ft(this,"wrapperResizeObserver");Ft(this,"contentResizeObserver");Ft(this,"resize",()=>{this.onWrapperResize(),this.onContentResize()});Ft(this,"onWrapperResize",()=>{this.wrapper instanceof Window?(this.width=window.innerWidth,this.height=window.innerHeight):(this.width=this.wrapper.clientWidth,this.height=this.wrapper.clientHeight)});Ft(this,"onContentResize",()=>{this.wrapper instanceof Window?(this.scrollHeight=this.content.scrollHeight,this.scrollWidth=this.content.scrollWidth):(this.scrollHeight=this.wrapper.scrollHeight,this.scrollWidth=this.wrapper.scrollWidth)});this.wrapper=e,this.content=t,n&&(this.debouncedResize=f9(this.resize,i),this.wrapper instanceof Window?window.addEventListener("resize",this.debouncedResize,!1):(this.wrapperResizeObserver=new ResizeObserver(this.debouncedResize),this.wrapperResizeObserver.observe(this.wrapper)),this.contentResizeObserver=new ResizeObserver(this.debouncedResize),this.contentResizeObserver.observe(this.content)),this.resize()}destroy(){var e,t;(e=this.wrapperResizeObserver)==null||e.disconnect(),(t=this.contentResizeObserver)==null||t.disconnect(),this.wrapper===window&&this.debouncedResize&&window.removeEventListener("resize",this.debouncedResize,!1)}get limit(){return{x:this.scrollWidth-this.width,y:this.scrollHeight-this.height}}},xO=class{constructor(){Ft(this,"events",{})}emit(e,...t){var i;let n=this.events[e]||[];for(let r=0,a=n.length;r<a;r++)(i=n[r])==null||i.call(n,...t)}on(e,t){var n;return(n=this.events[e])!=null&&n.push(t)||(this.events[e]=[t]),()=>{var i;this.events[e]=(i=this.events[e])==null?void 0:i.filter(r=>t!==r)}}off(e,t){var n;this.events[e]=(n=this.events[e])==null?void 0:n.filter(i=>t!==i)}destroy(){this.events={}}},X3=100/6,Af={passive:!1},d9=class{constructor(e,t={wheelMultiplier:1,touchMultiplier:1}){Ft(this,"touchStart",{x:0,y:0});Ft(this,"lastDelta",{x:0,y:0});Ft(this,"window",{width:0,height:0});Ft(this,"emitter",new xO);Ft(this,"onTouchStart",e=>{const{clientX:t,clientY:n}=e.targetTouches?e.targetTouches[0]:e;this.touchStart.x=t,this.touchStart.y=n,this.lastDelta={x:0,y:0},this.emitter.emit("scroll",{deltaX:0,deltaY:0,event:e})});Ft(this,"onTouchMove",e=>{const{clientX:t,clientY:n}=e.targetTouches?e.targetTouches[0]:e,i=-(t-this.touchStart.x)*this.options.touchMultiplier,r=-(n-this.touchStart.y)*this.options.touchMultiplier;this.touchStart.x=t,this.touchStart.y=n,this.lastDelta={x:i,y:r},this.emitter.emit("scroll",{deltaX:i,deltaY:r,event:e})});Ft(this,"onTouchEnd",e=>{this.emitter.emit("scroll",{deltaX:this.lastDelta.x,deltaY:this.lastDelta.y,event:e})});Ft(this,"onWheel",e=>{let{deltaX:t,deltaY:n,deltaMode:i}=e;const r=i===1?X3:i===2?this.window.width:1,a=i===1?X3:i===2?this.window.height:1;t*=r,n*=a,t*=this.options.wheelMultiplier,n*=this.options.wheelMultiplier,this.emitter.emit("scroll",{deltaX:t,deltaY:n,event:e})});Ft(this,"onWindowResize",()=>{this.window={width:window.innerWidth,height:window.innerHeight}});this.element=e,this.options=t,window.addEventListener("resize",this.onWindowResize,!1),this.onWindowResize(),this.element.addEventListener("wheel",this.onWheel,Af),this.element.addEventListener("touchstart",this.onTouchStart,Af),this.element.addEventListener("touchmove",this.onTouchMove,Af),this.element.addEventListener("touchend",this.onTouchEnd,Af)}on(e,t){return this.emitter.on(e,t)}destroy(){this.emitter.destroy(),window.removeEventListener("resize",this.onWindowResize,!1),this.element.removeEventListener("wheel",this.onWheel,Af),this.element.removeEventListener("touchstart",this.onTouchStart,Af),this.element.removeEventListener("touchmove",this.onTouchMove,Af),this.element.removeEventListener("touchend",this.onTouchEnd,Af)}},p9=class{constructor({wrapper:e=window,content:t=document.documentElement,eventsTarget:n=e,smoothWheel:i=!0,syncTouch:r=!1,syncTouchLerp:a=.075,touchInertiaMultiplier:l=35,duration:u,easing:h=F=>Math.min(1,1.001-Math.pow(2,-10*F)),lerp:m=.1,infinite:g=!1,orientation:v="vertical",gestureOrientation:_="vertical",touchMultiplier:S=1,wheelMultiplier:b=1,autoResize:M=!0,prevent:A,virtualScroll:C,overscroll:B=!0,autoRaf:D=!1,anchors:N=!1,__experimental__naiveDimensions:U=!1}={}){Ft(this,"_isScrolling",!1);Ft(this,"_isStopped",!1);Ft(this,"_isLocked",!1);Ft(this,"_preventNextNativeScrollEvent",!1);Ft(this,"_resetVelocityTimeout",null);Ft(this,"__rafID",null);Ft(this,"isTouching");Ft(this,"time",0);Ft(this,"userData",{});Ft(this,"lastVelocity",0);Ft(this,"velocity",0);Ft(this,"direction",0);Ft(this,"options");Ft(this,"targetScroll");Ft(this,"animatedScroll");Ft(this,"animate",new u9);Ft(this,"emitter",new xO);Ft(this,"dimensions");Ft(this,"virtualScroll");Ft(this,"onScrollEnd",e=>{e instanceof CustomEvent||(this.isScrolling==="smooth"||this.isScrolling===!1)&&e.stopPropagation()});Ft(this,"dispatchScrollendEvent",()=>{this.options.wrapper.dispatchEvent(new CustomEvent("scrollend",{bubbles:this.options.wrapper===window,detail:{lenisScrollEnd:!0}}))});Ft(this,"onClick",e=>{const n=e.composedPath().find(i=>{var r,a,l;return i instanceof HTMLAnchorElement&&(((r=i.getAttribute("href"))==null?void 0:r.startsWith("#"))||((a=i.getAttribute("href"))==null?void 0:a.startsWith("/#"))||((l=i.getAttribute("href"))==null?void 0:l.startsWith("./#")))});if(n){const i=n.getAttribute("href");if(i){const r=typeof this.options.anchors=="object"&&this.options.anchors?this.options.anchors:void 0;this.scrollTo(`#${i.split("#")[1]}`,r)}}});Ft(this,"onPointerDown",e=>{e.button===1&&this.reset()});Ft(this,"onVirtualScroll",e=>{if(typeof this.options.virtualScroll=="function"&&this.options.virtualScroll(e)===!1)return;const{deltaX:t,deltaY:n,event:i}=e;if(this.emitter.emit("virtual-scroll",{deltaX:t,deltaY:n,event:i}),i.ctrlKey||i.lenisStopPropagation)return;const r=i.type.includes("touch"),a=i.type.includes("wheel");this.isTouching=i.type==="touchstart"||i.type==="touchmove";const l=t===0&&n===0;if(this.options.syncTouch&&r&&i.type==="touchstart"&&l&&!this.isStopped&&!this.isLocked){this.reset();return}const h=this.options.gestureOrientation==="vertical"&&n===0||this.options.gestureOrientation==="horizontal"&&t===0;if(l||h)return;let m=i.composedPath();m=m.slice(0,m.indexOf(this.rootElement));const g=this.options.prevent;if(m.find(A=>{var C,B,D;return A instanceof HTMLElement&&(typeof g=="function"&&(g==null?void 0:g(A))||((C=A.hasAttribute)==null?void 0:C.call(A,"data-lenis-prevent"))||r&&((B=A.hasAttribute)==null?void 0:B.call(A,"data-lenis-prevent-touch"))||a&&((D=A.hasAttribute)==null?void 0:D.call(A,"data-lenis-prevent-wheel")))}))return;if(this.isStopped||this.isLocked){i.preventDefault();return}if(!(this.options.syncTouch&&r||this.options.smoothWheel&&a)){this.isScrolling="native",this.animate.stop(),i.lenisStopPropagation=!0;return}let _=n;this.options.gestureOrientation==="both"?_=Math.abs(n)>Math.abs(t)?n:t:this.options.gestureOrientation==="horizontal"&&(_=t),(!this.options.overscroll||this.options.infinite||this.options.wrapper!==window&&(this.animatedScroll>0&&this.animatedScroll<this.limit||this.animatedScroll===0&&n>0||this.animatedScroll===this.limit&&n<0))&&(i.lenisStopPropagation=!0),i.preventDefault();const S=r&&this.options.syncTouch,M=r&&i.type==="touchend"&&Math.abs(_)>5;M&&(_=this.velocity*this.options.touchInertiaMultiplier),this.scrollTo(this.targetScroll+_,{programmatic:!1,...S?{lerp:M?this.options.syncTouchLerp:1}:{lerp:this.options.lerp,duration:this.options.duration,easing:this.options.easing}})});Ft(this,"onNativeScroll",()=>{if(this._resetVelocityTimeout!==null&&(clearTimeout(this._resetVelocityTimeout),this._resetVelocityTimeout=null),this._preventNextNativeScrollEvent){this._preventNextNativeScrollEvent=!1;return}if(this.isScrolling===!1||this.isScrolling==="native"){const e=this.animatedScroll;this.animatedScroll=this.targetScroll=this.actualScroll,this.lastVelocity=this.velocity,this.velocity=this.animatedScroll-e,this.direction=Math.sign(this.animatedScroll-e),this.isStopped||(this.isScrolling="native"),this.emit(),this.velocity!==0&&(this._resetVelocityTimeout=setTimeout(()=>{this.lastVelocity=this.velocity,this.velocity=0,this.isScrolling=!1,this.emit()},400))}});Ft(this,"raf",e=>{const t=e-(this.time||e);this.time=e,this.animate.advance(t*.001),this.options.autoRaf&&(this.__rafID=requestAnimationFrame(this.raf))});window.lenisVersion=a9,(!e||e===document.documentElement)&&(e=window),this.options={wrapper:e,content:t,eventsTarget:n,smoothWheel:i,syncTouch:r,syncTouchLerp:a,touchInertiaMultiplier:l,duration:u,easing:h,lerp:m,infinite:g,gestureOrientation:_,orientation:v,touchMultiplier:S,wheelMultiplier:b,autoResize:M,prevent:A,virtualScroll:C,overscroll:B,autoRaf:D,anchors:N,__experimental__naiveDimensions:U},this.dimensions=new h9(e,t,{autoResize:M}),this.updateClassName(),this.targetScroll=this.animatedScroll=this.actualScroll,this.options.wrapper.addEventListener("scroll",this.onNativeScroll,!1),this.options.wrapper.addEventListener("scrollend",this.onScrollEnd,{capture:!0}),this.options.anchors&&this.options.wrapper===window&&this.options.wrapper.addEventListener("click",this.onClick,!1),this.options.wrapper.addEventListener("pointerdown",this.onPointerDown,!1),this.virtualScroll=new d9(n,{touchMultiplier:S,wheelMultiplier:b}),this.virtualScroll.on("scroll",this.onVirtualScroll),this.options.autoRaf&&(this.__rafID=requestAnimationFrame(this.raf))}destroy(){this.emitter.destroy(),this.options.wrapper.removeEventListener("scroll",this.onNativeScroll,!1),this.options.wrapper.removeEventListener("scrollend",this.onScrollEnd,{capture:!0}),this.options.wrapper.removeEventListener("pointerdown",this.onPointerDown,!1),this.options.anchors&&this.options.wrapper===window&&this.options.wrapper.removeEventListener("click",this.onClick,!1),this.virtualScroll.destroy(),this.dimensions.destroy(),this.cleanUpClassName(),this.__rafID&&cancelAnimationFrame(this.__rafID)}on(e,t){return this.emitter.on(e,t)}off(e,t){return this.emitter.off(e,t)}setScroll(e){this.isHorizontal?this.options.wrapper.scrollTo({left:e,behavior:"instant"}):this.options.wrapper.scrollTo({top:e,behavior:"instant"})}resize(){this.dimensions.resize(),this.animatedScroll=this.targetScroll=this.actualScroll,this.emit()}emit(){this.emitter.emit("scroll",this)}reset(){this.isLocked=!1,this.isScrolling=!1,this.animatedScroll=this.targetScroll=this.actualScroll,this.lastVelocity=this.velocity=0,this.animate.stop()}start(){this.isStopped&&(this.reset(),this.isStopped=!1)}stop(){this.isStopped||(this.reset(),this.isStopped=!0)}scrollTo(e,{offset:t=0,immediate:n=!1,lock:i=!1,duration:r=this.options.duration,easing:a=this.options.easing,lerp:l=this.options.lerp,onStart:u,onComplete:h,force:m=!1,programmatic:g=!0,userData:v}={}){if(!((this.isStopped||this.isLocked)&&!m)){if(typeof e=="string"&&["top","left","start"].includes(e))e=0;else if(typeof e=="string"&&["bottom","right","end"].includes(e))e=this.limit;else{let _;if(typeof e=="string"?_=document.querySelector(e):e instanceof HTMLElement&&(e!=null&&e.nodeType)&&(_=e),_){if(this.options.wrapper!==window){const b=this.rootElement.getBoundingClientRect();t-=this.isHorizontal?b.left:b.top}const S=_.getBoundingClientRect();e=(this.isHorizontal?S.left:S.top)+this.animatedScroll}}if(typeof e=="number"){if(e+=t,e=Math.round(e),this.options.infinite?g&&(this.targetScroll=this.animatedScroll=this.scroll):e=_O(0,e,this.limit),e===this.targetScroll){u==null||u(this),h==null||h(this);return}if(this.userData=v??{},n){this.animatedScroll=this.targetScroll=e,this.setScroll(this.scroll),this.reset(),this.preventNextNativeScrollEvent(),this.emit(),h==null||h(this),this.userData={},requestAnimationFrame(()=>{this.dispatchScrollendEvent()});return}g||(this.targetScroll=e),this.animate.fromTo(this.animatedScroll,e,{duration:r,easing:a,lerp:l,onStart:()=>{i&&(this.isLocked=!0),this.isScrolling="smooth",u==null||u(this)},onUpdate:(_,S)=>{this.isScrolling="smooth",this.lastVelocity=this.velocity,this.velocity=_-this.animatedScroll,this.direction=Math.sign(this.velocity),this.animatedScroll=_,this.setScroll(this.scroll),g&&(this.targetScroll=_),S||this.emit(),S&&(this.reset(),this.emit(),h==null||h(this),this.userData={},requestAnimationFrame(()=>{this.dispatchScrollendEvent()}),this.preventNextNativeScrollEvent())}})}}}preventNextNativeScrollEvent(){this._preventNextNativeScrollEvent=!0,requestAnimationFrame(()=>{this._preventNextNativeScrollEvent=!1})}get rootElement(){return this.options.wrapper===window?document.documentElement:this.options.wrapper}get limit(){return this.options.__experimental__naiveDimensions?this.isHorizontal?this.rootElement.scrollWidth-this.rootElement.clientWidth:this.rootElement.scrollHeight-this.rootElement.clientHeight:this.dimensions.limit[this.isHorizontal?"x":"y"]}get isHorizontal(){return this.options.orientation==="horizontal"}get actualScroll(){const e=this.options.wrapper;return this.isHorizontal?e.scrollX??e.scrollLeft:e.scrollY??e.scrollTop}get scroll(){return this.options.infinite?c9(this.animatedScroll,this.limit):this.animatedScroll}get progress(){return this.limit===0?1:this.scroll/this.limit}get isScrolling(){return this._isScrolling}set isScrolling(e){this._isScrolling!==e&&(this._isScrolling=e,this.updateClassName())}get isStopped(){return this._isStopped}set isStopped(e){this._isStopped!==e&&(this._isStopped=e,this.updateClassName())}get isLocked(){return this._isLocked}set isLocked(e){this._isLocked!==e&&(this._isLocked=e,this.updateClassName())}get isSmooth(){return this.isScrolling==="smooth"}get className(){let e="lenis";return this.isStopped&&(e+=" lenis-stopped"),this.isLocked&&(e+=" lenis-locked"),this.isScrolling&&(e+=" lenis-scrolling"),this.isScrolling==="smooth"&&(e+=" lenis-smooth"),e}updateClassName(){this.cleanUpClassName(),this.rootElement.className=`${this.rootElement.className} ${this.className}`.trim()}cleanUpClassName(){this.rootElement.className=this.rootElement.className.replace(/lenis(-\w+)?/g,"").trim()}},m9=class{constructor(s){Ft(this,"listeners",[]);this.state=s}set(s){this.state=s;for(let e of this.listeners)e(this.state)}subscribe(s){return this.listeners=[...this.listeners,s],()=>{this.listeners=this.listeners.filter(e=>e!==s)}}get(){return this.state}};function g9(s){const[e,t]=J.useState(s.get());return J.useEffect(()=>s.subscribe(n=>t(n)),[s]),e}var SO=J.createContext(null),qT=new m9(null),t_=J.forwardRef(({children:s,root:e=!1,options:t={},className:n,autoRaf:i=!0,style:r,props:a},l)=>{const u=J.useRef(null),h=J.useRef(null),[m,g]=J.useState(void 0);J.useImperativeHandle(l,()=>({wrapper:u.current,content:h.current,lenis:m}),[m]),J.useEffect(()=>{const b=new p9({...t,...!e&&{wrapper:u.current,content:h.current},autoRaf:(t==null?void 0:t.autoRaf)??i});return g(b),()=>{b.destroy(),g(void 0)}},[e,JSON.stringify(t)]);const v=J.useRef([]),_=J.useCallback((b,M)=>{v.current.push({callback:b,priority:M}),v.current.sort((A,C)=>A.priority-C.priority)},[]),S=J.useCallback(b=>{v.current=v.current.filter(M=>M.callback!==b)},[]);return J.useEffect(()=>{if(e&&m)return qT.set({lenis:m,addCallback:_,removeCallback:S}),()=>qT.set(null)},[e,m,_,S]),J.useEffect(()=>{if(!m)return;const b=M=>{var A;for(let C=0;C<v.current.length;C++)(A=v.current[C])==null||A.callback(M)};return m.on("scroll",b),()=>{m.off("scroll",b)}},[m]),k.jsx(SO.Provider,{value:{lenis:m,addCallback:_,removeCallback:S},children:e?s:k.jsx("div",{ref:u,className:n,style:r,...a,children:k.jsx("div",{ref:h,children:s})})})}),v9={};function y9(s,e=[],t=0){const n=J.useContext(SO),i=g9(qT),r=n??i??v9,{lenis:a,addCallback:l,removeCallback:u}=r;return J.useEffect(()=>{if(!(!s||!l||!u||!a))return l(s,t),s(a),()=>{u(s)}},[a,l,u,t,...e]),a}const pC=J.createContext({});function mC(s){const e=J.useRef(null);return e.current===null&&(e.current=s()),e.current}const iM=J.createContext(null),gC=J.createContext({transformPagePoint:s=>s,isStatic:!1,reducedMotion:"never"});class _9 extends J.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const n=this.props.sizeRef.current;n.height=t.offsetHeight||0,n.width=t.offsetWidth||0,n.top=t.offsetTop,n.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function x9({children:s,isPresent:e}){const t=J.useId(),n=J.useRef(null),i=J.useRef({width:0,height:0,top:0,left:0}),{nonce:r}=J.useContext(gC);return J.useInsertionEffect(()=>{const{width:a,height:l,top:u,left:h}=i.current;if(e||!n.current||!a||!l)return;n.current.dataset.motionPopId=t;const m=document.createElement("style");return r&&(m.nonce=r),document.head.appendChild(m),m.sheet&&m.sheet.insertRule(`
          [data-motion-pop-id="${t}"] {
            position: absolute !important;
            width: ${a}px !important;
            height: ${l}px !important;
            top: ${u}px !important;
            left: ${h}px !important;
          }
        `),()=>{document.head.removeChild(m)}},[e]),k.jsx(_9,{isPresent:e,childRef:n,sizeRef:i,children:J.cloneElement(s,{ref:n})})}const S9=({children:s,initial:e,isPresent:t,onExitComplete:n,custom:i,presenceAffectsLayout:r,mode:a})=>{const l=mC(A9),u=J.useId(),h=J.useCallback(g=>{l.set(g,!0);for(const v of l.values())if(!v)return;n&&n()},[l,n]),m=J.useMemo(()=>({id:u,initial:e,isPresent:t,custom:i,onExitComplete:h,register:g=>(l.set(g,!1),()=>l.delete(g))}),r?[Math.random(),h]:[t,h]);return J.useMemo(()=>{l.forEach((g,v)=>l.set(v,!1))},[t]),J.useEffect(()=>{!t&&!l.size&&n&&n()},[t]),a==="popLayout"&&(s=k.jsx(x9,{isPresent:t,children:s})),k.jsx(iM.Provider,{value:m,children:s})};function A9(){return new Map}function AO(s=!0){const e=J.useContext(iM);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:n,register:i}=e,r=J.useId();J.useEffect(()=>{s&&i(r)},[s]);const a=J.useCallback(()=>s&&n&&n(r),[r,n,s]);return!t&&n?[!1,a]:[!0]}const mx=s=>s.key||"";function Y3(s){const e=[];return J.Children.forEach(s,t=>{J.isValidElement(t)&&e.push(t)}),e}const vC=typeof window<"u",MO=vC?J.useLayoutEffect:J.useEffect,M9=({children:s,custom:e,initial:t=!0,onExitComplete:n,presenceAffectsLayout:i=!0,mode:r="sync",propagate:a=!1})=>{const[l,u]=AO(a),h=J.useMemo(()=>Y3(s),[s]),m=a&&!l?[]:h.map(mx),g=J.useRef(!0),v=J.useRef(h),_=mC(()=>new Map),[S,b]=J.useState(h),[M,A]=J.useState(h);MO(()=>{g.current=!1,v.current=h;for(let D=0;D<M.length;D++){const N=mx(M[D]);m.includes(N)?_.delete(N):_.get(N)!==!0&&_.set(N,!1)}},[M,m.length,m.join("-")]);const C=[];if(h!==S){let D=[...h];for(let N=0;N<M.length;N++){const U=M[N],F=mx(U);m.includes(F)||(D.splice(N,0,U),C.push(U))}r==="wait"&&C.length&&(D=C),A(Y3(D)),b(h);return}const{forceRender:B}=J.useContext(pC);return k.jsx(k.Fragment,{children:M.map(D=>{const N=mx(D),U=a&&!l?!1:h===M||m.includes(N),F=()=>{if(_.has(N))_.set(N,!0);else return;let z=!0;_.forEach(O=>{O||(z=!1)}),z&&(B==null||B(),A(v.current),a&&(u==null||u()),n&&n())};return k.jsx(S9,{isPresent:U,initial:!g.current||t?void 0:!1,custom:U?void 0:e,presenceAffectsLayout:i,mode:r,onExitComplete:U?void 0:F,children:D},N)})})},lo=s=>s;let bO=lo;function yC(s){let e;return()=>(e===void 0&&(e=s()),e)}const Eg=(s,e,t)=>{const n=e-s;return n===0?1:(t-s)/n},_u=s=>s*1e3,xu=s=>s/1e3,b9={useManualTiming:!1};function E9(s){let e=new Set,t=new Set,n=!1,i=!1;const r=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1};function l(h){r.has(h)&&(u.schedule(h),s()),h(a)}const u={schedule:(h,m=!1,g=!1)=>{const _=g&&n?e:t;return m&&r.add(h),_.has(h)||_.add(h),h},cancel:h=>{t.delete(h),r.delete(h)},process:h=>{if(a=h,n){i=!0;return}n=!0,[e,t]=[t,e],e.forEach(l),e.clear(),n=!1,i&&(i=!1,u.process(h))}};return u}const gx=["read","resolveKeyframes","update","preRender","render","postRender"],T9=40;function EO(s,e){let t=!1,n=!0;const i={delta:0,timestamp:0,isProcessing:!1},r=()=>t=!0,a=gx.reduce((A,C)=>(A[C]=E9(r),A),{}),{read:l,resolveKeyframes:u,update:h,preRender:m,render:g,postRender:v}=a,_=()=>{const A=performance.now();t=!1,i.delta=n?1e3/60:Math.max(Math.min(A-i.timestamp,T9),1),i.timestamp=A,i.isProcessing=!0,l.process(i),u.process(i),h.process(i),m.process(i),g.process(i),v.process(i),i.isProcessing=!1,t&&e&&(n=!1,s(_))},S=()=>{t=!0,n=!0,i.isProcessing||s(_)};return{schedule:gx.reduce((A,C)=>{const B=a[C];return A[C]=(D,N=!1,U=!1)=>(t||S(),B.schedule(D,N,U)),A},{}),cancel:A=>{for(let C=0;C<gx.length;C++)a[gx[C]].cancel(A)},state:i,steps:a}}const{schedule:Pi,cancel:eh,state:lr,steps:Jb}=EO(typeof requestAnimationFrame<"u"?requestAnimationFrame:lo,!0),TO=J.createContext({strict:!1}),q3={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Tg={};for(const s in q3)Tg[s]={isEnabled:e=>q3[s].some(t=>!!e[t])};function C9(s){for(const e in s)Tg[e]={...Tg[e],...s[e]}}const w9=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function JS(s){return s.startsWith("while")||s.startsWith("drag")&&s!=="draggable"||s.startsWith("layout")||s.startsWith("onTap")||s.startsWith("onPan")||s.startsWith("onLayout")||w9.has(s)}let CO=s=>!JS(s);function R9(s){s&&(CO=e=>e.startsWith("on")?!JS(e):s(e))}try{R9(require("@emotion/is-prop-valid").default)}catch{}function B9(s,e,t){const n={};for(const i in s)i==="values"&&typeof s.values=="object"||(CO(i)||t===!0&&JS(i)||!e&&!JS(i)||s.draggable&&i.startsWith("onDrag"))&&(n[i]=s[i]);return n}function D9(s){if(typeof Proxy>"u")return s;const e=new Map,t=(...n)=>s(...n);return new Proxy(t,{get:(n,i)=>i==="create"?s:(e.has(i)||e.set(i,s(i)),e.get(i))})}const sM=J.createContext({});function Ly(s){return typeof s=="string"||Array.isArray(s)}function rM(s){return s!==null&&typeof s=="object"&&typeof s.start=="function"}const _C=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],xC=["initial",..._C];function aM(s){return rM(s.animate)||xC.some(e=>Ly(s[e]))}function wO(s){return!!(aM(s)||s.variants)}function N9(s,e){if(aM(s)){const{initial:t,animate:n}=s;return{initial:t===!1||Ly(t)?t:void 0,animate:Ly(n)?n:void 0}}return s.inherit!==!1?e:{}}function O9(s){const{initial:e,animate:t}=N9(s,J.useContext(sM));return J.useMemo(()=>({initial:e,animate:t}),[W3(e),W3(t)])}function W3(s){return Array.isArray(s)?s.join(" "):s}const L9=Symbol.for("motionComponentSymbol");function tg(s){return s&&typeof s=="object"&&Object.prototype.hasOwnProperty.call(s,"current")}function U9(s,e,t){return J.useCallback(n=>{n&&s.onMount&&s.onMount(n),e&&(n?e.mount(n):e.unmount()),t&&(typeof t=="function"?t(n):tg(t)&&(t.current=n))},[e])}const SC=s=>s.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),P9="framerAppearId",RO="data-"+SC(P9),{schedule:AC}=EO(queueMicrotask,!1),BO=J.createContext({});function I9(s,e,t,n,i){var r,a;const{visualElement:l}=J.useContext(sM),u=J.useContext(TO),h=J.useContext(iM),m=J.useContext(gC).reducedMotion,g=J.useRef(null);n=n||u.renderer,!g.current&&n&&(g.current=n(s,{visualState:e,parent:l,props:t,presenceContext:h,blockInitialAnimation:h?h.initial===!1:!1,reducedMotionConfig:m}));const v=g.current,_=J.useContext(BO);v&&!v.projection&&i&&(v.type==="html"||v.type==="svg")&&F9(g.current,t,i,_);const S=J.useRef(!1);J.useInsertionEffect(()=>{v&&S.current&&v.update(t,h)});const b=t[RO],M=J.useRef(!!b&&!(!((r=window.MotionHandoffIsComplete)===null||r===void 0)&&r.call(window,b))&&((a=window.MotionHasOptimisedAnimation)===null||a===void 0?void 0:a.call(window,b)));return MO(()=>{v&&(S.current=!0,window.MotionIsMounted=!0,v.updateFeatures(),AC.render(v.render),M.current&&v.animationState&&v.animationState.animateChanges())}),J.useEffect(()=>{v&&(!M.current&&v.animationState&&v.animationState.animateChanges(),M.current&&(queueMicrotask(()=>{var A;(A=window.MotionHandoffMarkAsComplete)===null||A===void 0||A.call(window,b)}),M.current=!1))}),v}function F9(s,e,t,n){const{layoutId:i,layout:r,drag:a,dragConstraints:l,layoutScroll:u,layoutRoot:h}=e;s.projection=new t(s.latestValues,e["data-framer-portal-id"]?void 0:DO(s.parent)),s.projection.setOptions({layoutId:i,layout:r,alwaysMeasureLayout:!!a||l&&tg(l),visualElement:s,animationType:typeof r=="string"?r:"both",initialPromotionConfig:n,layoutScroll:u,layoutRoot:h})}function DO(s){if(s)return s.options.allowProjection!==!1?s.projection:DO(s.parent)}function z9({preloadedFeatures:s,createVisualElement:e,useRender:t,useVisualState:n,Component:i}){var r,a;s&&C9(s);function l(h,m){let g;const v={...J.useContext(gC),...h,layoutId:H9(h)},{isStatic:_}=v,S=O9(h),b=n(h,_);if(!_&&vC){G9();const M=V9(v);g=M.MeasureLayout,S.visualElement=I9(i,b,v,e,M.ProjectionNode)}return k.jsxs(sM.Provider,{value:S,children:[g&&S.visualElement?k.jsx(g,{visualElement:S.visualElement,...v}):null,t(i,h,U9(b,S.visualElement,m),b,_,S.visualElement)]})}l.displayName=`motion.${typeof i=="string"?i:`create(${(a=(r=i.displayName)!==null&&r!==void 0?r:i.name)!==null&&a!==void 0?a:""})`}`;const u=J.forwardRef(l);return u[L9]=i,u}function H9({layoutId:s}){const e=J.useContext(pC).id;return e&&s!==void 0?e+"-"+s:s}function G9(s,e){J.useContext(TO).strict}function V9(s){const{drag:e,layout:t}=Tg;if(!e&&!t)return{};const n={...e,...t};return{MeasureLayout:e!=null&&e.isEnabled(s)||t!=null&&t.isEnabled(s)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}const k9=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function MC(s){return typeof s!="string"||s.includes("-")?!1:!!(k9.indexOf(s)>-1||/[A-Z]/u.test(s))}function K3(s){const e=[{},{}];return s==null||s.values.forEach((t,n)=>{e[0][n]=t.get(),e[1][n]=t.getVelocity()}),e}function bC(s,e,t,n){if(typeof e=="function"){const[i,r]=K3(n);e=e(t!==void 0?t:s.custom,i,r)}if(typeof e=="string"&&(e=s.variants&&s.variants[e]),typeof e=="function"){const[i,r]=K3(n);e=e(t!==void 0?t:s.custom,i,r)}return e}const WT=s=>Array.isArray(s),j9=s=>!!(s&&typeof s=="object"&&s.mix&&s.toValue),X9=s=>WT(s)?s[s.length-1]||0:s,Ur=s=>!!(s&&s.getVelocity);function wS(s){const e=Ur(s)?s.get():s;return j9(e)?e.toValue():e}function Y9({scrapeMotionValuesFromProps:s,createRenderState:e,onUpdate:t},n,i,r){const a={latestValues:q9(n,i,r,s),renderState:e()};return t&&(a.onMount=l=>t({props:n,current:l,...a}),a.onUpdate=l=>t(l)),a}const NO=s=>(e,t)=>{const n=J.useContext(sM),i=J.useContext(iM),r=()=>Y9(s,e,n,i);return t?r():mC(r)};function q9(s,e,t,n){const i={},r=n(s,{});for(const v in r)i[v]=wS(r[v]);let{initial:a,animate:l}=s;const u=aM(s),h=wO(s);e&&h&&!u&&s.inherit!==!1&&(a===void 0&&(a=e.initial),l===void 0&&(l=e.animate));let m=t?t.initial===!1:!1;m=m||a===!1;const g=m?l:a;if(g&&typeof g!="boolean"&&!rM(g)){const v=Array.isArray(g)?g:[g];for(let _=0;_<v.length;_++){const S=bC(s,v[_]);if(S){const{transitionEnd:b,transition:M,...A}=S;for(const C in A){let B=A[C];if(Array.isArray(B)){const D=m?B.length-1:0;B=B[D]}B!==null&&(i[C]=B)}for(const C in b)i[C]=b[C]}}}return i}const Xg=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],vp=new Set(Xg),OO=s=>e=>typeof e=="string"&&e.startsWith(s),LO=OO("--"),W9=OO("var(--"),EC=s=>W9(s)?K9.test(s.split("/*")[0].trim()):!1,K9=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,UO=(s,e)=>e&&typeof s=="number"?e.transform(s):s,Eu=(s,e,t)=>t>e?e:t<s?s:t,Yg={test:s=>typeof s=="number",parse:parseFloat,transform:s=>s},Uy={...Yg,transform:s=>Eu(0,1,s)},vx={...Yg,default:1},n_=s=>({test:e=>typeof e=="string"&&e.endsWith(s)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${s}`}),Lf=n_("deg"),Mc=n_("%"),un=n_("px"),J9=n_("vh"),Z9=n_("vw"),J3={...Mc,parse:s=>Mc.parse(s)/100,transform:s=>Mc.transform(s*100)},Q9={borderWidth:un,borderTopWidth:un,borderRightWidth:un,borderBottomWidth:un,borderLeftWidth:un,borderRadius:un,radius:un,borderTopLeftRadius:un,borderTopRightRadius:un,borderBottomRightRadius:un,borderBottomLeftRadius:un,width:un,maxWidth:un,height:un,maxHeight:un,top:un,right:un,bottom:un,left:un,padding:un,paddingTop:un,paddingRight:un,paddingBottom:un,paddingLeft:un,margin:un,marginTop:un,marginRight:un,marginBottom:un,marginLeft:un,backgroundPositionX:un,backgroundPositionY:un},$9={rotate:Lf,rotateX:Lf,rotateY:Lf,rotateZ:Lf,scale:vx,scaleX:vx,scaleY:vx,scaleZ:vx,skew:Lf,skewX:Lf,skewY:Lf,distance:un,translateX:un,translateY:un,translateZ:un,x:un,y:un,z:un,perspective:un,transformPerspective:un,opacity:Uy,originX:J3,originY:J3,originZ:un},Z3={...Yg,transform:Math.round},TC={...Q9,...$9,zIndex:Z3,size:un,fillOpacity:Uy,strokeOpacity:Uy,numOctaves:Z3},ez={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},tz=Xg.length;function nz(s,e,t){let n="",i=!0;for(let r=0;r<tz;r++){const a=Xg[r],l=s[a];if(l===void 0)continue;let u=!0;if(typeof l=="number"?u=l===(a.startsWith("scale")?1:0):u=parseFloat(l)===0,!u||t){const h=UO(l,TC[a]);if(!u){i=!1;const m=ez[a]||a;n+=`${m}(${h}) `}t&&(e[a]=h)}}return n=n.trim(),t?n=t(e,i?"":n):i&&(n="none"),n}function CC(s,e,t){const{style:n,vars:i,transformOrigin:r}=s;let a=!1,l=!1;for(const u in e){const h=e[u];if(vp.has(u)){a=!0;continue}else if(LO(u)){i[u]=h;continue}else{const m=UO(h,TC[u]);u.startsWith("origin")?(l=!0,r[u]=m):n[u]=m}}if(e.transform||(a||t?n.transform=nz(e,s.transform,t):n.transform&&(n.transform="none")),l){const{originX:u="50%",originY:h="50%",originZ:m=0}=r;n.transformOrigin=`${u} ${h} ${m}`}}const iz={offset:"stroke-dashoffset",array:"stroke-dasharray"},sz={offset:"strokeDashoffset",array:"strokeDasharray"};function rz(s,e,t=1,n=0,i=!0){s.pathLength=1;const r=i?iz:sz;s[r.offset]=un.transform(-n);const a=un.transform(e),l=un.transform(t);s[r.array]=`${a} ${l}`}function Q3(s,e,t){return typeof s=="string"?s:un.transform(e+t*s)}function az(s,e,t){const n=Q3(e,s.x,s.width),i=Q3(t,s.y,s.height);return`${n} ${i}`}function wC(s,{attrX:e,attrY:t,attrScale:n,originX:i,originY:r,pathLength:a,pathSpacing:l=1,pathOffset:u=0,...h},m,g){if(CC(s,h,g),m){s.style.viewBox&&(s.attrs.viewBox=s.style.viewBox);return}s.attrs=s.style,s.style={};const{attrs:v,style:_,dimensions:S}=s;v.transform&&(S&&(_.transform=v.transform),delete v.transform),S&&(i!==void 0||r!==void 0||_.transform)&&(_.transformOrigin=az(S,i!==void 0?i:.5,r!==void 0?r:.5)),e!==void 0&&(v.x=e),t!==void 0&&(v.y=t),n!==void 0&&(v.scale=n),a!==void 0&&rz(v,a,l,u,!1)}const RC=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),PO=()=>({...RC(),attrs:{}}),BC=s=>typeof s=="string"&&s.toLowerCase()==="svg";function IO(s,{style:e,vars:t},n,i){Object.assign(s.style,e,i&&i.getProjectionStyles(n));for(const r in t)s.style.setProperty(r,t[r])}const FO=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function zO(s,e,t,n){IO(s,e,void 0,n);for(const i in e.attrs)s.setAttribute(FO.has(i)?i:SC(i),e.attrs[i])}const ZS={};function oz(s){Object.assign(ZS,s)}function HO(s,{layout:e,layoutId:t}){return vp.has(s)||s.startsWith("origin")||(e||t!==void 0)&&(!!ZS[s]||s==="opacity")}function DC(s,e,t){var n;const{style:i}=s,r={};for(const a in i)(Ur(i[a])||e.style&&Ur(e.style[a])||HO(a,s)||((n=t==null?void 0:t.getValue(a))===null||n===void 0?void 0:n.liveStyle)!==void 0)&&(r[a]=i[a]);return r}function GO(s,e,t){const n=DC(s,e,t);for(const i in s)if(Ur(s[i])||Ur(e[i])){const r=Xg.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;n[r]=s[i]}return n}function lz(s,e){try{e.dimensions=typeof s.getBBox=="function"?s.getBBox():s.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}const $3=["x","y","width","height","cx","cy","r"],cz={useVisualState:NO({scrapeMotionValuesFromProps:GO,createRenderState:PO,onUpdate:({props:s,prevProps:e,current:t,renderState:n,latestValues:i})=>{if(!t)return;let r=!!s.drag;if(!r){for(const l in i)if(vp.has(l)){r=!0;break}}if(!r)return;let a=!e;if(e)for(let l=0;l<$3.length;l++){const u=$3[l];s[u]!==e[u]&&(a=!0)}a&&Pi.read(()=>{lz(t,n),Pi.render(()=>{wC(n,i,BC(t.tagName),s.transformTemplate),zO(t,n)})})}})},uz={useVisualState:NO({scrapeMotionValuesFromProps:DC,createRenderState:RC})};function VO(s,e,t){for(const n in e)!Ur(e[n])&&!HO(n,t)&&(s[n]=e[n])}function fz({transformTemplate:s},e){return J.useMemo(()=>{const t=RC();return CC(t,e,s),Object.assign({},t.vars,t.style)},[e])}function hz(s,e){const t=s.style||{},n={};return VO(n,t,s),Object.assign(n,fz(s,e)),n}function dz(s,e){const t={},n=hz(s,e);return s.drag&&s.dragListener!==!1&&(t.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=s.drag===!0?"none":`pan-${s.drag==="x"?"y":"x"}`),s.tabIndex===void 0&&(s.onTap||s.onTapStart||s.whileTap)&&(t.tabIndex=0),t.style=n,t}function pz(s,e,t,n){const i=J.useMemo(()=>{const r=PO();return wC(r,e,BC(n),s.transformTemplate),{...r.attrs,style:{...r.style}}},[e]);if(s.style){const r={};VO(r,s.style,s),i.style={...r,...i.style}}return i}function mz(s=!1){return(t,n,i,{latestValues:r},a)=>{const u=(MC(t)?pz:dz)(n,r,a,t),h=B9(n,typeof t=="string",s),m=t!==J.Fragment?{...h,...u,ref:i}:{},{children:g}=n,v=J.useMemo(()=>Ur(g)?g.get():g,[g]);return J.createElement(t,{...m,children:v})}}function gz(s,e){return function(n,{forwardMotionProps:i}={forwardMotionProps:!1}){const a={...MC(n)?cz:uz,preloadedFeatures:s,useRender:mz(i),createVisualElement:e,Component:n};return z9(a)}}function kO(s,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==s.length)return!1;for(let n=0;n<t;n++)if(e[n]!==s[n])return!1;return!0}function oM(s,e,t){const n=s.getProps();return bC(n,e,t!==void 0?t:n.custom,s)}const vz=yC(()=>window.ScrollTimeline!==void 0);class yz{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,t){for(let n=0;n<this.animations.length;n++)this.animations[n][e]=t}attachTimeline(e,t){const n=this.animations.map(i=>{if(vz()&&i.attachTimeline)return i.attachTimeline(e);if(typeof t=="function")return t(i)});return()=>{n.forEach((i,r)=>{i&&i(),this.animations[r].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let t=0;t<this.animations.length;t++)e=Math.max(e,this.animations[t].duration);return e}runAll(e){this.animations.forEach(t=>t[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class _z extends yz{then(e,t){return Promise.all(this.animations).then(e).catch(t)}}function NC(s,e){return s?s[e]||s.default||s:void 0}const KT=2e4;function jO(s){let e=0;const t=50;let n=s.next(e);for(;!n.done&&e<KT;)e+=t,n=s.next(e);return e>=KT?1/0:e}function OC(s){return typeof s=="function"}function eB(s,e){s.timeline=e,s.onfinish=null}const LC=s=>Array.isArray(s)&&typeof s[0]=="number",xz={linearEasing:void 0};function Sz(s,e){const t=yC(s);return()=>{var n;return(n=xz[e])!==null&&n!==void 0?n:t()}}const QS=Sz(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),XO=(s,e,t=10)=>{let n="";const i=Math.max(Math.round(e/t),2);for(let r=0;r<i;r++)n+=s(Eg(0,i-1,r))+", ";return`linear(${n.substring(0,n.length-2)})`};function YO(s){return!!(typeof s=="function"&&QS()||!s||typeof s=="string"&&(s in JT||QS())||LC(s)||Array.isArray(s)&&s.every(YO))}const kv=([s,e,t,n])=>`cubic-bezier(${s}, ${e}, ${t}, ${n})`,JT={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:kv([0,.65,.55,1]),circOut:kv([.55,0,1,.45]),backIn:kv([.31,.01,.66,-.59]),backOut:kv([.33,1.53,.69,.99])};function qO(s,e){if(s)return typeof s=="function"&&QS()?XO(s,e):LC(s)?kv(s):Array.isArray(s)?s.map(t=>qO(t,e)||JT.easeOut):JT[s]}const bl={x:!1,y:!1};function WO(){return bl.x||bl.y}function Az(s,e,t){var n;if(s instanceof Element)return[s];if(typeof s=="string"){let i=document;const r=(n=void 0)!==null&&n!==void 0?n:i.querySelectorAll(s);return r?Array.from(r):[]}return Array.from(s)}function KO(s,e){const t=Az(s),n=new AbortController,i={passive:!0,...e,signal:n.signal};return[t,i,()=>n.abort()]}function tB(s){return e=>{e.pointerType==="touch"||WO()||s(e)}}function Mz(s,e,t={}){const[n,i,r]=KO(s,t),a=tB(l=>{const{target:u}=l,h=e(l);if(typeof h!="function"||!u)return;const m=tB(g=>{h(g),u.removeEventListener("pointerleave",m)});u.addEventListener("pointerleave",m,i)});return n.forEach(l=>{l.addEventListener("pointerenter",a,i)}),r}const JO=(s,e)=>e?s===e?!0:JO(s,e.parentElement):!1,UC=s=>s.pointerType==="mouse"?typeof s.button!="number"||s.button<=0:s.isPrimary!==!1,bz=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Ez(s){return bz.has(s.tagName)||s.tabIndex!==-1}const jv=new WeakSet;function nB(s){return e=>{e.key==="Enter"&&s(e)}}function Zb(s,e){s.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const Tz=(s,e)=>{const t=s.currentTarget;if(!t)return;const n=nB(()=>{if(jv.has(t))return;Zb(t,"down");const i=nB(()=>{Zb(t,"up")}),r=()=>Zb(t,"cancel");t.addEventListener("keyup",i,e),t.addEventListener("blur",r,e)});t.addEventListener("keydown",n,e),t.addEventListener("blur",()=>t.removeEventListener("keydown",n),e)};function iB(s){return UC(s)&&!WO()}function Cz(s,e,t={}){const[n,i,r]=KO(s,t),a=l=>{const u=l.currentTarget;if(!iB(l)||jv.has(u))return;jv.add(u);const h=e(l),m=(_,S)=>{window.removeEventListener("pointerup",g),window.removeEventListener("pointercancel",v),!(!iB(_)||!jv.has(u))&&(jv.delete(u),typeof h=="function"&&h(_,{success:S}))},g=_=>{m(_,t.useGlobalTarget||JO(u,_.target))},v=_=>{m(_,!1)};window.addEventListener("pointerup",g,i),window.addEventListener("pointercancel",v,i)};return n.forEach(l=>{!Ez(l)&&l.getAttribute("tabindex")===null&&(l.tabIndex=0),(t.useGlobalTarget?window:l).addEventListener("pointerdown",a,i),l.addEventListener("focus",h=>Tz(h,i),i)}),r}function wz(s){return s==="x"||s==="y"?bl[s]?null:(bl[s]=!0,()=>{bl[s]=!1}):bl.x||bl.y?null:(bl.x=bl.y=!0,()=>{bl.x=bl.y=!1})}const ZO=new Set(["width","height","top","left","right","bottom",...Xg]);let RS;function Rz(){RS=void 0}const bc={now:()=>(RS===void 0&&bc.set(lr.isProcessing||b9.useManualTiming?lr.timestamp:performance.now()),RS),set:s=>{RS=s,queueMicrotask(Rz)}};function PC(s,e){s.indexOf(e)===-1&&s.push(e)}function IC(s,e){const t=s.indexOf(e);t>-1&&s.splice(t,1)}class FC{constructor(){this.subscriptions=[]}add(e){return PC(this.subscriptions,e),()=>IC(this.subscriptions,e)}notify(e,t,n){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,t,n);else for(let r=0;r<i;r++){const a=this.subscriptions[r];a&&a(e,t,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function QO(s,e){return e?s*(1e3/e):0}const sB=30,Bz=s=>!isNaN(parseFloat(s));class Dz{constructor(e,t={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(n,i=!0)=>{const r=bc.now();this.updatedAt!==r&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=bc.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=Bz(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new FC);const n=this.events[e].add(t);return e==="change"?()=>{n(),Pi.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e,t=!0){!t||!this.passiveEffect?this.updateAndNotify(e,t):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,t,n){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-n}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=bc.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>sB)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,sB);return QO(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Py(s,e){return new Dz(s,e)}function Nz(s,e,t){s.hasValue(e)?s.getValue(e).set(t):s.addValue(e,Py(t))}function Oz(s,e){const t=oM(s,e);let{transitionEnd:n={},transition:i={},...r}=t||{};r={...r,...n};for(const a in r){const l=X9(r[a]);Nz(s,a,l)}}function Lz(s){return!!(Ur(s)&&s.add)}function ZT(s,e){const t=s.getValue("willChange");if(Lz(t))return t.add(e)}function $O(s){return s.props[RO]}const eL=(s,e,t)=>(((1-3*t+3*e)*s+(3*t-6*e))*s+3*e)*s,Uz=1e-7,Pz=12;function Iz(s,e,t,n,i){let r,a,l=0;do a=e+(t-e)/2,r=eL(a,n,i)-s,r>0?t=a:e=a;while(Math.abs(r)>Uz&&++l<Pz);return a}function i_(s,e,t,n){if(s===e&&t===n)return lo;const i=r=>Iz(r,0,1,s,t);return r=>r===0||r===1?r:eL(i(r),e,n)}const tL=s=>e=>e<=.5?s(2*e)/2:(2-s(2*(1-e)))/2,nL=s=>e=>1-s(1-e),iL=i_(.33,1.53,.69,.99),zC=nL(iL),sL=tL(zC),rL=s=>(s*=2)<1?.5*zC(s):.5*(2-Math.pow(2,-10*(s-1))),HC=s=>1-Math.sin(Math.acos(s)),aL=nL(HC),oL=tL(HC),lL=s=>/^0[^.\s]+$/u.test(s);function Fz(s){return typeof s=="number"?s===0:s!==null?s==="none"||s==="0"||lL(s):!0}const ly=s=>Math.round(s*1e5)/1e5,GC=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function zz(s){return s==null}const Hz=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,VC=(s,e)=>t=>!!(typeof t=="string"&&Hz.test(t)&&t.startsWith(s)||e&&!zz(t)&&Object.prototype.hasOwnProperty.call(t,e)),cL=(s,e,t)=>n=>{if(typeof n!="string")return n;const[i,r,a,l]=n.match(GC);return{[s]:parseFloat(i),[e]:parseFloat(r),[t]:parseFloat(a),alpha:l!==void 0?parseFloat(l):1}},Gz=s=>Eu(0,255,s),Qb={...Yg,transform:s=>Math.round(Gz(s))},Ld={test:VC("rgb","red"),parse:cL("red","green","blue"),transform:({red:s,green:e,blue:t,alpha:n=1})=>"rgba("+Qb.transform(s)+", "+Qb.transform(e)+", "+Qb.transform(t)+", "+ly(Uy.transform(n))+")"};function Vz(s){let e="",t="",n="",i="";return s.length>5?(e=s.substring(1,3),t=s.substring(3,5),n=s.substring(5,7),i=s.substring(7,9)):(e=s.substring(1,2),t=s.substring(2,3),n=s.substring(3,4),i=s.substring(4,5),e+=e,t+=t,n+=n,i+=i),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(n,16),alpha:i?parseInt(i,16)/255:1}}const QT={test:VC("#"),parse:Vz,transform:Ld.transform},ng={test:VC("hsl","hue"),parse:cL("hue","saturation","lightness"),transform:({hue:s,saturation:e,lightness:t,alpha:n=1})=>"hsla("+Math.round(s)+", "+Mc.transform(ly(e))+", "+Mc.transform(ly(t))+", "+ly(Uy.transform(n))+")"},Br={test:s=>Ld.test(s)||QT.test(s)||ng.test(s),parse:s=>Ld.test(s)?Ld.parse(s):ng.test(s)?ng.parse(s):QT.parse(s),transform:s=>typeof s=="string"?s:s.hasOwnProperty("red")?Ld.transform(s):ng.transform(s)},kz=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function jz(s){var e,t;return isNaN(s)&&typeof s=="string"&&(((e=s.match(GC))===null||e===void 0?void 0:e.length)||0)+(((t=s.match(kz))===null||t===void 0?void 0:t.length)||0)>0}const uL="number",fL="color",Xz="var",Yz="var(",rB="${}",qz=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Iy(s){const e=s.toString(),t=[],n={color:[],number:[],var:[]},i=[];let r=0;const l=e.replace(qz,u=>(Br.test(u)?(n.color.push(r),i.push(fL),t.push(Br.parse(u))):u.startsWith(Yz)?(n.var.push(r),i.push(Xz),t.push(u)):(n.number.push(r),i.push(uL),t.push(parseFloat(u))),++r,rB)).split(rB);return{values:t,split:l,indexes:n,types:i}}function hL(s){return Iy(s).values}function dL(s){const{split:e,types:t}=Iy(s),n=e.length;return i=>{let r="";for(let a=0;a<n;a++)if(r+=e[a],i[a]!==void 0){const l=t[a];l===uL?r+=ly(i[a]):l===fL?r+=Br.transform(i[a]):r+=i[a]}return r}}const Wz=s=>typeof s=="number"?0:s;function Kz(s){const e=hL(s);return dL(s)(e.map(Wz))}const th={test:jz,parse:hL,createTransformer:dL,getAnimatableNone:Kz},Jz=new Set(["brightness","contrast","saturate","opacity"]);function Zz(s){const[e,t]=s.slice(0,-1).split("(");if(e==="drop-shadow")return s;const[n]=t.match(GC)||[];if(!n)return s;const i=t.replace(n,"");let r=Jz.has(e)?1:0;return n!==t&&(r*=100),e+"("+r+i+")"}const Qz=/\b([a-z-]*)\(.*?\)/gu,$T={...th,getAnimatableNone:s=>{const e=s.match(Qz);return e?e.map(Zz).join(" "):s}},$z={...TC,color:Br,backgroundColor:Br,outlineColor:Br,fill:Br,stroke:Br,borderColor:Br,borderTopColor:Br,borderRightColor:Br,borderBottomColor:Br,borderLeftColor:Br,filter:$T,WebkitFilter:$T},kC=s=>$z[s];function pL(s,e){let t=kC(s);return t!==$T&&(t=th),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const eH=new Set(["auto","none","0"]);function tH(s,e,t){let n=0,i;for(;n<s.length&&!i;){const r=s[n];typeof r=="string"&&!eH.has(r)&&Iy(r).values.length&&(i=s[n]),n++}if(i&&t)for(const r of e)s[r]=pL(t,i)}const aB=s=>s===Yg||s===un,oB=(s,e)=>parseFloat(s.split(", ")[e]),lB=(s,e)=>(t,{transform:n})=>{if(n==="none"||!n)return 0;const i=n.match(/^matrix3d\((.+)\)$/u);if(i)return oB(i[1],e);{const r=n.match(/^matrix\((.+)\)$/u);return r?oB(r[1],s):0}},nH=new Set(["x","y","z"]),iH=Xg.filter(s=>!nH.has(s));function sH(s){const e=[];return iH.forEach(t=>{const n=s.getValue(t);n!==void 0&&(e.push([t,n.get()]),n.set(t.startsWith("scale")?1:0))}),e}const Cg={width:({x:s},{paddingLeft:e="0",paddingRight:t="0"})=>s.max-s.min-parseFloat(e)-parseFloat(t),height:({y:s},{paddingTop:e="0",paddingBottom:t="0"})=>s.max-s.min-parseFloat(e)-parseFloat(t),top:(s,{top:e})=>parseFloat(e),left:(s,{left:e})=>parseFloat(e),bottom:({y:s},{top:e})=>parseFloat(e)+(s.max-s.min),right:({x:s},{left:e})=>parseFloat(e)+(s.max-s.min),x:lB(4,13),y:lB(5,14)};Cg.translateX=Cg.x;Cg.translateY=Cg.y;const Zd=new Set;let e2=!1,t2=!1;function mL(){if(t2){const s=Array.from(Zd).filter(n=>n.needsMeasurement),e=new Set(s.map(n=>n.element)),t=new Map;e.forEach(n=>{const i=sH(n);i.length&&(t.set(n,i),n.render())}),s.forEach(n=>n.measureInitialState()),e.forEach(n=>{n.render();const i=t.get(n);i&&i.forEach(([r,a])=>{var l;(l=n.getValue(r))===null||l===void 0||l.set(a)})}),s.forEach(n=>n.measureEndState()),s.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}t2=!1,e2=!1,Zd.forEach(s=>s.complete()),Zd.clear()}function gL(){Zd.forEach(s=>{s.readKeyframes(),s.needsMeasurement&&(t2=!0)})}function rH(){gL(),mL()}class jC{constructor(e,t,n,i,r,a=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=n,this.motionValue=i,this.element=r,this.isAsync=a}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Zd.add(this),e2||(e2=!0,Pi.read(gL),Pi.resolveKeyframes(mL))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:n,motionValue:i}=this;for(let r=0;r<e.length;r++)if(e[r]===null)if(r===0){const a=i==null?void 0:i.get(),l=e[e.length-1];if(a!==void 0)e[0]=a;else if(n&&t){const u=n.readValue(t,l);u!=null&&(e[0]=u)}e[0]===void 0&&(e[0]=l),i&&a===void 0&&i.set(e[0])}else e[r]=e[r-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Zd.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Zd.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const vL=s=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(s),aH=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function oH(s){const e=aH.exec(s);if(!e)return[,];const[,t,n,i]=e;return[`--${t??n}`,i]}function yL(s,e,t=1){const[n,i]=oH(s);if(!n)return;const r=window.getComputedStyle(e).getPropertyValue(n);if(r){const a=r.trim();return vL(a)?parseFloat(a):a}return EC(i)?yL(i,e,t+1):i}const _L=s=>e=>e.test(s),lH={test:s=>s==="auto",parse:s=>s},xL=[Yg,un,Mc,Lf,Z9,J9,lH],cB=s=>xL.find(_L(s));class SL extends jC{constructor(e,t,n,i,r){super(e,t,n,i,r,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:n}=this;if(!t||!t.current)return;super.readKeyframes();for(let u=0;u<e.length;u++){let h=e[u];if(typeof h=="string"&&(h=h.trim(),EC(h))){const m=yL(h,t.current);m!==void 0&&(e[u]=m),u===e.length-1&&(this.finalKeyframe=h)}}if(this.resolveNoneKeyframes(),!ZO.has(n)||e.length!==2)return;const[i,r]=e,a=cB(i),l=cB(r);if(a!==l)if(aB(a)&&aB(l))for(let u=0;u<e.length;u++){const h=e[u];typeof h=="string"&&(e[u]=parseFloat(h))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,n=[];for(let i=0;i<e.length;i++)Fz(e[i])&&n.push(i);n.length&&tH(e,n,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:n}=this;if(!e||!e.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Cg[n](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const i=t[t.length-1];i!==void 0&&e.getValue(n,i).jump(i,!1)}measureEndState(){var e;const{element:t,name:n,unresolvedKeyframes:i}=this;if(!t||!t.current)return;const r=t.getValue(n);r&&r.jump(this.measuredOrigin,!1);const a=i.length-1,l=i[a];i[a]=Cg[n](t.measureViewportBox(),window.getComputedStyle(t.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([u,h])=>{t.getValue(u).set(h)}),this.resolveNoneKeyframes()}}const uB=(s,e)=>e==="zIndex"?!1:!!(typeof s=="number"||Array.isArray(s)||typeof s=="string"&&(th.test(s)||s==="0")&&!s.startsWith("url("));function cH(s){const e=s[0];if(s.length===1)return!0;for(let t=0;t<s.length;t++)if(s[t]!==e)return!0}function uH(s,e,t,n){const i=s[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const r=s[s.length-1],a=uB(i,e),l=uB(r,e);return!a||!l?!1:cH(s)||(t==="spring"||OC(t))&&n}const fH=s=>s!==null;function lM(s,{repeat:e,repeatType:t="loop"},n){const i=s.filter(fH),r=e&&t!=="loop"&&e%2===1?0:i.length-1;return!r||n===void 0?i[r]:n}const hH=40;class AL{constructor({autoplay:e=!0,delay:t=0,type:n="keyframes",repeat:i=0,repeatDelay:r=0,repeatType:a="loop",...l}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=bc.now(),this.options={autoplay:e,delay:t,type:n,repeat:i,repeatDelay:r,repeatType:a,...l},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>hH?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&rH(),this._resolved}onKeyframesResolved(e,t){this.resolvedAt=bc.now(),this.hasAttemptedResolve=!0;const{name:n,type:i,velocity:r,delay:a,onComplete:l,onUpdate:u,isGenerator:h}=this.options;if(!h&&!uH(e,n,i,r))if(a)this.options.duration=0;else{u&&u(lM(e,this.options,t)),l&&l(),this.resolveFinishedPromise();return}const m=this.initPlayback(e,t);m!==!1&&(this._resolved={keyframes:e,finalKeyframe:t,...m},this.onPostResolved())}onPostResolved(){}then(e,t){return this.currentFinishedPromise.then(e,t)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const Zi=(s,e,t)=>s+(e-s)*t;function $b(s,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?s+(e-s)*6*t:t<1/2?e:t<2/3?s+(e-s)*(2/3-t)*6:s}function dH({hue:s,saturation:e,lightness:t,alpha:n}){s/=360,e/=100,t/=100;let i=0,r=0,a=0;if(!e)i=r=a=t;else{const l=t<.5?t*(1+e):t+e-t*e,u=2*t-l;i=$b(u,l,s+1/3),r=$b(u,l,s),a=$b(u,l,s-1/3)}return{red:Math.round(i*255),green:Math.round(r*255),blue:Math.round(a*255),alpha:n}}function $S(s,e){return t=>t>0?e:s}const eE=(s,e,t)=>{const n=s*s,i=t*(e*e-n)+n;return i<0?0:Math.sqrt(i)},pH=[QT,Ld,ng],mH=s=>pH.find(e=>e.test(s));function fB(s){const e=mH(s);if(!e)return!1;let t=e.parse(s);return e===ng&&(t=dH(t)),t}const hB=(s,e)=>{const t=fB(s),n=fB(e);if(!t||!n)return $S(s,e);const i={...t};return r=>(i.red=eE(t.red,n.red,r),i.green=eE(t.green,n.green,r),i.blue=eE(t.blue,n.blue,r),i.alpha=Zi(t.alpha,n.alpha,r),Ld.transform(i))},gH=(s,e)=>t=>e(s(t)),s_=(...s)=>s.reduce(gH),n2=new Set(["none","hidden"]);function vH(s,e){return n2.has(s)?t=>t<=0?s:e:t=>t>=1?e:s}function yH(s,e){return t=>Zi(s,e,t)}function XC(s){return typeof s=="number"?yH:typeof s=="string"?EC(s)?$S:Br.test(s)?hB:SH:Array.isArray(s)?ML:typeof s=="object"?Br.test(s)?hB:_H:$S}function ML(s,e){const t=[...s],n=t.length,i=s.map((r,a)=>XC(r)(r,e[a]));return r=>{for(let a=0;a<n;a++)t[a]=i[a](r);return t}}function _H(s,e){const t={...s,...e},n={};for(const i in t)s[i]!==void 0&&e[i]!==void 0&&(n[i]=XC(s[i])(s[i],e[i]));return i=>{for(const r in n)t[r]=n[r](i);return t}}function xH(s,e){var t;const n=[],i={color:0,var:0,number:0};for(let r=0;r<e.values.length;r++){const a=e.types[r],l=s.indexes[a][i[a]],u=(t=s.values[l])!==null&&t!==void 0?t:0;n[r]=u,i[a]++}return n}const SH=(s,e)=>{const t=th.createTransformer(e),n=Iy(s),i=Iy(e);return n.indexes.var.length===i.indexes.var.length&&n.indexes.color.length===i.indexes.color.length&&n.indexes.number.length>=i.indexes.number.length?n2.has(s)&&!i.values.length||n2.has(e)&&!n.values.length?vH(s,e):s_(ML(xH(n,i),i.values),t):$S(s,e)};function bL(s,e,t){return typeof s=="number"&&typeof e=="number"&&typeof t=="number"?Zi(s,e,t):XC(s)(s,e)}const AH=5;function EL(s,e,t){const n=Math.max(e-AH,0);return QO(t-s(n),e-n)}const ss={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},dB=.001;function MH({duration:s=ss.duration,bounce:e=ss.bounce,velocity:t=ss.velocity,mass:n=ss.mass}){let i,r,a=1-e;a=Eu(ss.minDamping,ss.maxDamping,a),s=Eu(ss.minDuration,ss.maxDuration,xu(s)),a<1?(i=h=>{const m=h*a,g=m*s,v=m-t,_=i2(h,a),S=Math.exp(-g);return dB-v/_*S},r=h=>{const g=h*a*s,v=g*t+t,_=Math.pow(a,2)*Math.pow(h,2)*s,S=Math.exp(-g),b=i2(Math.pow(h,2),a);return(-i(h)+dB>0?-1:1)*((v-_)*S)/b}):(i=h=>{const m=Math.exp(-h*s),g=(h-t)*s+1;return-.001+m*g},r=h=>{const m=Math.exp(-h*s),g=(t-h)*(s*s);return m*g});const l=5/s,u=EH(i,r,l);if(s=_u(s),isNaN(u))return{stiffness:ss.stiffness,damping:ss.damping,duration:s};{const h=Math.pow(u,2)*n;return{stiffness:h,damping:a*2*Math.sqrt(n*h),duration:s}}}const bH=12;function EH(s,e,t){let n=t;for(let i=1;i<bH;i++)n=n-s(n)/e(n);return n}function i2(s,e){return s*Math.sqrt(1-e*e)}const TH=["duration","bounce"],CH=["stiffness","damping","mass"];function pB(s,e){return e.some(t=>s[t]!==void 0)}function wH(s){let e={velocity:ss.velocity,stiffness:ss.stiffness,damping:ss.damping,mass:ss.mass,isResolvedFromDuration:!1,...s};if(!pB(s,CH)&&pB(s,TH))if(s.visualDuration){const t=s.visualDuration,n=2*Math.PI/(t*1.2),i=n*n,r=2*Eu(.05,1,1-(s.bounce||0))*Math.sqrt(i);e={...e,mass:ss.mass,stiffness:i,damping:r}}else{const t=MH(s);e={...e,...t,mass:ss.mass},e.isResolvedFromDuration=!0}return e}function TL(s=ss.visualDuration,e=ss.bounce){const t=typeof s!="object"?{visualDuration:s,keyframes:[0,1],bounce:e}:s;let{restSpeed:n,restDelta:i}=t;const r=t.keyframes[0],a=t.keyframes[t.keyframes.length-1],l={done:!1,value:r},{stiffness:u,damping:h,mass:m,duration:g,velocity:v,isResolvedFromDuration:_}=wH({...t,velocity:-xu(t.velocity||0)}),S=v||0,b=h/(2*Math.sqrt(u*m)),M=a-r,A=xu(Math.sqrt(u/m)),C=Math.abs(M)<5;n||(n=C?ss.restSpeed.granular:ss.restSpeed.default),i||(i=C?ss.restDelta.granular:ss.restDelta.default);let B;if(b<1){const N=i2(A,b);B=U=>{const F=Math.exp(-b*A*U);return a-F*((S+b*A*M)/N*Math.sin(N*U)+M*Math.cos(N*U))}}else if(b===1)B=N=>a-Math.exp(-A*N)*(M+(S+A*M)*N);else{const N=A*Math.sqrt(b*b-1);B=U=>{const F=Math.exp(-b*A*U),z=Math.min(N*U,300);return a-F*((S+b*A*M)*Math.sinh(z)+N*M*Math.cosh(z))/N}}const D={calculatedDuration:_&&g||null,next:N=>{const U=B(N);if(_)l.done=N>=g;else{let F=0;b<1&&(F=N===0?_u(S):EL(B,N,U));const z=Math.abs(F)<=n,O=Math.abs(a-U)<=i;l.done=z&&O}return l.value=l.done?a:U,l},toString:()=>{const N=Math.min(jO(D),KT),U=XO(F=>D.next(N*F).value,N,30);return N+"ms "+U}};return D}function mB({keyframes:s,velocity:e=0,power:t=.8,timeConstant:n=325,bounceDamping:i=10,bounceStiffness:r=500,modifyTarget:a,min:l,max:u,restDelta:h=.5,restSpeed:m}){const g=s[0],v={done:!1,value:g},_=z=>l!==void 0&&z<l||u!==void 0&&z>u,S=z=>l===void 0?u:u===void 0||Math.abs(l-z)<Math.abs(u-z)?l:u;let b=t*e;const M=g+b,A=a===void 0?M:a(M);A!==M&&(b=A-g);const C=z=>-b*Math.exp(-z/n),B=z=>A+C(z),D=z=>{const O=C(z),P=B(z);v.done=Math.abs(O)<=h,v.value=v.done?A:P};let N,U;const F=z=>{_(v.value)&&(N=z,U=TL({keyframes:[v.value,S(v.value)],velocity:EL(B,z,v.value),damping:i,stiffness:r,restDelta:h,restSpeed:m}))};return F(0),{calculatedDuration:null,next:z=>{let O=!1;return!U&&N===void 0&&(O=!0,D(z),F(z)),N!==void 0&&z>=N?U.next(z-N):(!O&&D(z),v)}}}const RH=i_(.42,0,1,1),BH=i_(0,0,.58,1),CL=i_(.42,0,.58,1),DH=s=>Array.isArray(s)&&typeof s[0]!="number",NH={linear:lo,easeIn:RH,easeInOut:CL,easeOut:BH,circIn:HC,circInOut:oL,circOut:aL,backIn:zC,backInOut:sL,backOut:iL,anticipate:rL},gB=s=>{if(LC(s)){bO(s.length===4);const[e,t,n,i]=s;return i_(e,t,n,i)}else if(typeof s=="string")return NH[s];return s};function OH(s,e,t){const n=[],i=t||bL,r=s.length-1;for(let a=0;a<r;a++){let l=i(s[a],s[a+1]);if(e){const u=Array.isArray(e)?e[a]||lo:e;l=s_(u,l)}n.push(l)}return n}function LH(s,e,{clamp:t=!0,ease:n,mixer:i}={}){const r=s.length;if(bO(r===e.length),r===1)return()=>e[0];if(r===2&&e[0]===e[1])return()=>e[1];const a=s[0]===s[1];s[0]>s[r-1]&&(s=[...s].reverse(),e=[...e].reverse());const l=OH(e,n,i),u=l.length,h=m=>{if(a&&m<s[0])return e[0];let g=0;if(u>1)for(;g<s.length-2&&!(m<s[g+1]);g++);const v=Eg(s[g],s[g+1],m);return l[g](v)};return t?m=>h(Eu(s[0],s[r-1],m)):h}function UH(s,e){const t=s[s.length-1];for(let n=1;n<=e;n++){const i=Eg(0,e,n);s.push(Zi(t,1,i))}}function PH(s){const e=[0];return UH(e,s.length-1),e}function IH(s,e){return s.map(t=>t*e)}function FH(s,e){return s.map(()=>e||CL).splice(0,s.length-1)}function eA({duration:s=300,keyframes:e,times:t,ease:n="easeInOut"}){const i=DH(n)?n.map(gB):gB(n),r={done:!1,value:e[0]},a=IH(t&&t.length===e.length?t:PH(e),s),l=LH(a,e,{ease:Array.isArray(i)?i:FH(e,i)});return{calculatedDuration:s,next:u=>(r.value=l(u),r.done=u>=s,r)}}const zH=s=>{const e=({timestamp:t})=>s(t);return{start:()=>Pi.update(e,!0),stop:()=>eh(e),now:()=>lr.isProcessing?lr.timestamp:bc.now()}},HH={decay:mB,inertia:mB,tween:eA,keyframes:eA,spring:TL},GH=s=>s/100;class YC extends AL{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:u}=this.options;u&&u()};const{name:t,motionValue:n,element:i,keyframes:r}=this.options,a=(i==null?void 0:i.KeyframeResolver)||jC,l=(u,h)=>this.onKeyframesResolved(u,h);this.resolver=new a(r,l,t,n,i),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:t="keyframes",repeat:n=0,repeatDelay:i=0,repeatType:r,velocity:a=0}=this.options,l=OC(t)?t:HH[t]||eA;let u,h;l!==eA&&typeof e[0]!="number"&&(u=s_(GH,bL(e[0],e[1])),e=[0,100]);const m=l({...this.options,keyframes:e});r==="mirror"&&(h=l({...this.options,keyframes:[...e].reverse(),velocity:-a})),m.calculatedDuration===null&&(m.calculatedDuration=jO(m));const{calculatedDuration:g}=m,v=g+i,_=v*(n+1)-i;return{generator:m,mirroredGenerator:h,mapPercentToKeyframes:u,calculatedDuration:g,resolvedDuration:v,totalDuration:_}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,t=!1){const{resolved:n}=this;if(!n){const{keyframes:z}=this.options;return{done:!0,value:z[z.length-1]}}const{finalKeyframe:i,generator:r,mirroredGenerator:a,mapPercentToKeyframes:l,keyframes:u,calculatedDuration:h,totalDuration:m,resolvedDuration:g}=n;if(this.startTime===null)return r.next(0);const{delay:v,repeat:_,repeatType:S,repeatDelay:b,onUpdate:M}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-m/this.speed,this.startTime)),t?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const A=this.currentTime-v*(this.speed>=0?1:-1),C=this.speed>=0?A<0:A>m;this.currentTime=Math.max(A,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=m);let B=this.currentTime,D=r;if(_){const z=Math.min(this.currentTime,m)/g;let O=Math.floor(z),P=z%1;!P&&z>=1&&(P=1),P===1&&O--,O=Math.min(O,_+1),!!(O%2)&&(S==="reverse"?(P=1-P,b&&(P-=b/g)):S==="mirror"&&(D=a)),B=Eu(0,1,P)*g}const N=C?{done:!1,value:u[0]}:D.next(B);l&&(N.value=l(N.value));let{done:U}=N;!C&&h!==null&&(U=this.speed>=0?this.currentTime>=m:this.currentTime<=0);const F=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&U);return F&&i!==void 0&&(N.value=lM(u,this.options,i)),M&&M(N.value),F&&this.finish(),N}get duration(){const{resolved:e}=this;return e?xu(e.calculatedDuration):0}get time(){return xu(this.currentTime)}set time(e){e=_u(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=xu(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=zH,onPlay:t,startTime:n}=this.options;this.driver||(this.driver=e(r=>this.tick(r))),t&&t();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=n??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const VH=new Set(["opacity","clipPath","filter","transform"]);function kH(s,e,t,{delay:n=0,duration:i=300,repeat:r=0,repeatType:a="loop",ease:l="easeInOut",times:u}={}){const h={[e]:t};u&&(h.offset=u);const m=qO(l,i);return Array.isArray(m)&&(h.easing=m),s.animate(h,{delay:n,duration:i,easing:Array.isArray(m)?"linear":m,fill:"both",iterations:r+1,direction:a==="reverse"?"alternate":"normal"})}const jH=yC(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),tA=10,XH=2e4;function YH(s){return OC(s.type)||s.type==="spring"||!YO(s.ease)}function qH(s,e){const t=new YC({...e,keyframes:s,repeat:0,delay:0,isGenerator:!0});let n={done:!1,value:s[0]};const i=[];let r=0;for(;!n.done&&r<XH;)n=t.sample(r),i.push(n.value),r+=tA;return{times:void 0,keyframes:i,duration:r-tA,ease:"linear"}}const wL={anticipate:rL,backInOut:sL,circInOut:oL};function WH(s){return s in wL}class vB extends AL{constructor(e){super(e);const{name:t,motionValue:n,element:i,keyframes:r}=this.options;this.resolver=new SL(r,(a,l)=>this.onKeyframesResolved(a,l),t,n,i),this.resolver.scheduleResolve()}initPlayback(e,t){let{duration:n=300,times:i,ease:r,type:a,motionValue:l,name:u,startTime:h}=this.options;if(!l.owner||!l.owner.current)return!1;if(typeof r=="string"&&QS()&&WH(r)&&(r=wL[r]),YH(this.options)){const{onComplete:g,onUpdate:v,motionValue:_,element:S,...b}=this.options,M=qH(e,b);e=M.keyframes,e.length===1&&(e[1]=e[0]),n=M.duration,i=M.times,r=M.ease,a="keyframes"}const m=kH(l.owner.current,u,e,{...this.options,duration:n,times:i,ease:r});return m.startTime=h??this.calcStartTime(),this.pendingTimeline?(eB(m,this.pendingTimeline),this.pendingTimeline=void 0):m.onfinish=()=>{const{onComplete:g}=this.options;l.set(lM(e,this.options,t)),g&&g(),this.cancel(),this.resolveFinishedPromise()},{animation:m,duration:n,times:i,type:a,ease:r,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:t}=e;return xu(t)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:t}=e;return xu(t.currentTime||0)}set time(e){const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.currentTime=_u(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:t}=e;return t.playbackRate}set speed(e){const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:t}=e;return t.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:t}=e;return t.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:t}=this;if(!t)return lo;const{animation:n}=t;eB(n,e)}return lo}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:t}=e;t.playState==="finished"&&this.updateFinishedPromise(),t.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:t}=e;t.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:t,keyframes:n,duration:i,type:r,ease:a,times:l}=e;if(t.playState==="idle"||t.playState==="finished")return;if(this.time){const{motionValue:h,onUpdate:m,onComplete:g,element:v,..._}=this.options,S=new YC({..._,keyframes:n,duration:i,type:r,ease:a,times:l,isGenerator:!0}),b=_u(this.time);h.setWithVelocity(S.sample(b-tA).value,S.sample(b).value,tA)}const{onStop:u}=this.options;u&&u(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:t,name:n,repeatDelay:i,repeatType:r,damping:a,type:l}=e;if(!t||!t.owner||!(t.owner.current instanceof HTMLElement))return!1;const{onUpdate:u,transformTemplate:h}=t.owner.getProps();return jH()&&n&&VH.has(n)&&!u&&!h&&!i&&r!=="mirror"&&a!==0&&l!=="inertia"}}const KH={type:"spring",stiffness:500,damping:25,restSpeed:10},JH=s=>({type:"spring",stiffness:550,damping:s===0?2*Math.sqrt(550):30,restSpeed:10}),ZH={type:"keyframes",duration:.8},QH={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},$H=(s,{keyframes:e})=>e.length>2?ZH:vp.has(s)?s.startsWith("scale")?JH(e[1]):KH:QH;function eG({when:s,delay:e,delayChildren:t,staggerChildren:n,staggerDirection:i,repeat:r,repeatType:a,repeatDelay:l,from:u,elapsed:h,...m}){return!!Object.keys(m).length}const qC=(s,e,t,n={},i,r)=>a=>{const l=NC(n,s)||{},u=l.delay||n.delay||0;let{elapsed:h=0}=n;h=h-_u(u);let m={keyframes:Array.isArray(t)?t:[null,t],ease:"easeOut",velocity:e.getVelocity(),...l,delay:-h,onUpdate:v=>{e.set(v),l.onUpdate&&l.onUpdate(v)},onComplete:()=>{a(),l.onComplete&&l.onComplete()},name:s,motionValue:e,element:r?void 0:i};eG(l)||(m={...m,...$H(s,m)}),m.duration&&(m.duration=_u(m.duration)),m.repeatDelay&&(m.repeatDelay=_u(m.repeatDelay)),m.from!==void 0&&(m.keyframes[0]=m.from);let g=!1;if((m.type===!1||m.duration===0&&!m.repeatDelay)&&(m.duration=0,m.delay===0&&(g=!0)),g&&!r&&e.get()!==void 0){const v=lM(m.keyframes,l);if(v!==void 0)return Pi.update(()=>{m.onUpdate(v),m.onComplete()}),new _z([])}return!r&&vB.supports(m)?new vB(m):new YC(m)};function tG({protectedKeys:s,needsAnimating:e},t){const n=s.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,n}function RL(s,e,{delay:t=0,transitionOverride:n,type:i}={}){var r;let{transition:a=s.getDefaultTransition(),transitionEnd:l,...u}=e;n&&(a=n);const h=[],m=i&&s.animationState&&s.animationState.getState()[i];for(const g in u){const v=s.getValue(g,(r=s.latestValues[g])!==null&&r!==void 0?r:null),_=u[g];if(_===void 0||m&&tG(m,g))continue;const S={delay:t,...NC(a||{},g)};let b=!1;if(window.MotionHandoffAnimation){const A=$O(s);if(A){const C=window.MotionHandoffAnimation(A,g,Pi);C!==null&&(S.startTime=C,b=!0)}}ZT(s,g),v.start(qC(g,v,_,s.shouldReduceMotion&&ZO.has(g)?{type:!1}:S,s,b));const M=v.animation;M&&h.push(M)}return l&&Promise.all(h).then(()=>{Pi.update(()=>{l&&Oz(s,l)})}),h}function s2(s,e,t={}){var n;const i=oM(s,e,t.type==="exit"?(n=s.presenceContext)===null||n===void 0?void 0:n.custom:void 0);let{transition:r=s.getDefaultTransition()||{}}=i||{};t.transitionOverride&&(r=t.transitionOverride);const a=i?()=>Promise.all(RL(s,i,t)):()=>Promise.resolve(),l=s.variantChildren&&s.variantChildren.size?(h=0)=>{const{delayChildren:m=0,staggerChildren:g,staggerDirection:v}=r;return nG(s,e,m+h,g,v,t)}:()=>Promise.resolve(),{when:u}=r;if(u){const[h,m]=u==="beforeChildren"?[a,l]:[l,a];return h().then(()=>m())}else return Promise.all([a(),l(t.delay)])}function nG(s,e,t=0,n=0,i=1,r){const a=[],l=(s.variantChildren.size-1)*n,u=i===1?(h=0)=>h*n:(h=0)=>l-h*n;return Array.from(s.variantChildren).sort(iG).forEach((h,m)=>{h.notify("AnimationStart",e),a.push(s2(h,e,{...r,delay:t+u(m)}).then(()=>h.notify("AnimationComplete",e)))}),Promise.all(a)}function iG(s,e){return s.sortNodePosition(e)}function sG(s,e,t={}){s.notify("AnimationStart",e);let n;if(Array.isArray(e)){const i=e.map(r=>s2(s,r,t));n=Promise.all(i)}else if(typeof e=="string")n=s2(s,e,t);else{const i=typeof e=="function"?oM(s,e,t.custom):e;n=Promise.all(RL(s,i,t))}return n.then(()=>{s.notify("AnimationComplete",e)})}const rG=xC.length;function BL(s){if(!s)return;if(!s.isControllingVariants){const t=s.parent?BL(s.parent)||{}:{};return s.props.initial!==void 0&&(t.initial=s.props.initial),t}const e={};for(let t=0;t<rG;t++){const n=xC[t],i=s.props[n];(Ly(i)||i===!1)&&(e[n]=i)}return e}const aG=[..._C].reverse(),oG=_C.length;function lG(s){return e=>Promise.all(e.map(({animation:t,options:n})=>sG(s,t,n)))}function cG(s){let e=lG(s),t=yB(),n=!0;const i=u=>(h,m)=>{var g;const v=oM(s,m,u==="exit"?(g=s.presenceContext)===null||g===void 0?void 0:g.custom:void 0);if(v){const{transition:_,transitionEnd:S,...b}=v;h={...h,...b,...S}}return h};function r(u){e=u(s)}function a(u){const{props:h}=s,m=BL(s.parent)||{},g=[],v=new Set;let _={},S=1/0;for(let M=0;M<oG;M++){const A=aG[M],C=t[A],B=h[A]!==void 0?h[A]:m[A],D=Ly(B),N=A===u?C.isActive:null;N===!1&&(S=M);let U=B===m[A]&&B!==h[A]&&D;if(U&&n&&s.manuallyAnimateOnMount&&(U=!1),C.protectedKeys={..._},!C.isActive&&N===null||!B&&!C.prevProp||rM(B)||typeof B=="boolean")continue;const F=uG(C.prevProp,B);let z=F||A===u&&C.isActive&&!U&&D||M>S&&D,O=!1;const P=Array.isArray(B)?B:[B];let q=P.reduce(i(A),{});N===!1&&(q={});const{prevResolvedValues:ne={}}=C,te={...ne,...q},ee=Y=>{z=!0,v.has(Y)&&(O=!0,v.delete(Y)),C.needsAnimating[Y]=!0;const Z=s.getValue(Y);Z&&(Z.liveStyle=!1)};for(const Y in te){const Z=q[Y],de=ne[Y];if(_.hasOwnProperty(Y))continue;let I=!1;WT(Z)&&WT(de)?I=!kO(Z,de):I=Z!==de,I?Z!=null?ee(Y):v.add(Y):Z!==void 0&&v.has(Y)?ee(Y):C.protectedKeys[Y]=!0}C.prevProp=B,C.prevResolvedValues=q,C.isActive&&(_={..._,...q}),n&&s.blockInitialAnimation&&(z=!1),z&&(!(U&&F)||O)&&g.push(...P.map(Y=>({animation:Y,options:{type:A}})))}if(v.size){const M={};v.forEach(A=>{const C=s.getBaseTarget(A),B=s.getValue(A);B&&(B.liveStyle=!0),M[A]=C??null}),g.push({animation:M})}let b=!!g.length;return n&&(h.initial===!1||h.initial===h.animate)&&!s.manuallyAnimateOnMount&&(b=!1),n=!1,b?e(g):Promise.resolve()}function l(u,h){var m;if(t[u].isActive===h)return Promise.resolve();(m=s.variantChildren)===null||m===void 0||m.forEach(v=>{var _;return(_=v.animationState)===null||_===void 0?void 0:_.setActive(u,h)}),t[u].isActive=h;const g=a(u);for(const v in t)t[v].protectedKeys={};return g}return{animateChanges:a,setActive:l,setAnimateFunction:r,getState:()=>t,reset:()=>{t=yB(),n=!0}}}function uG(s,e){return typeof e=="string"?e!==s:Array.isArray(e)?!kO(e,s):!1}function od(s=!1){return{isActive:s,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function yB(){return{animate:od(!0),whileInView:od(),whileHover:od(),whileTap:od(),whileDrag:od(),whileFocus:od(),exit:od()}}class lh{constructor(e){this.isMounted=!1,this.node=e}update(){}}class fG extends lh{constructor(e){super(e),e.animationState||(e.animationState=cG(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();rM(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let hG=0;class dG extends lh{constructor(){super(...arguments),this.id=hG++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===n)return;const i=this.node.animationState.setActive("exit",!e);t&&!e&&i.then(()=>t(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const pG={animation:{Feature:fG},exit:{Feature:dG}};function Fy(s,e,t,n={passive:!0}){return s.addEventListener(e,t,n),()=>s.removeEventListener(e,t)}function r_(s){return{point:{x:s.pageX,y:s.pageY}}}const mG=s=>e=>UC(e)&&s(e,r_(e));function cy(s,e,t,n){return Fy(s,e,mG(t),n)}const _B=(s,e)=>Math.abs(s-e);function gG(s,e){const t=_B(s.x,e.x),n=_B(s.y,e.y);return Math.sqrt(t**2+n**2)}class DL{constructor(e,t,{transformPagePoint:n,contextWindow:i,dragSnapToOrigin:r=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=nE(this.lastMoveEventInfo,this.history),v=this.startEvent!==null,_=gG(g.offset,{x:0,y:0})>=3;if(!v&&!_)return;const{point:S}=g,{timestamp:b}=lr;this.history.push({...S,timestamp:b});const{onStart:M,onMove:A}=this.handlers;v||(M&&M(this.lastMoveEvent,g),this.startEvent=this.lastMoveEvent),A&&A(this.lastMoveEvent,g)},this.handlePointerMove=(g,v)=>{this.lastMoveEvent=g,this.lastMoveEventInfo=tE(v,this.transformPagePoint),Pi.update(this.updatePoint,!0)},this.handlePointerUp=(g,v)=>{this.end();const{onEnd:_,onSessionEnd:S,resumeAnimation:b}=this.handlers;if(this.dragSnapToOrigin&&b&&b(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const M=nE(g.type==="pointercancel"?this.lastMoveEventInfo:tE(v,this.transformPagePoint),this.history);this.startEvent&&_&&_(g,M),S&&S(g,M)},!UC(e))return;this.dragSnapToOrigin=r,this.handlers=t,this.transformPagePoint=n,this.contextWindow=i||window;const a=r_(e),l=tE(a,this.transformPagePoint),{point:u}=l,{timestamp:h}=lr;this.history=[{...u,timestamp:h}];const{onSessionStart:m}=t;m&&m(e,nE(l,this.history)),this.removeListeners=s_(cy(this.contextWindow,"pointermove",this.handlePointerMove),cy(this.contextWindow,"pointerup",this.handlePointerUp),cy(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),eh(this.updatePoint)}}function tE(s,e){return e?{point:e(s.point)}:s}function xB(s,e){return{x:s.x-e.x,y:s.y-e.y}}function nE({point:s},e){return{point:s,delta:xB(s,NL(e)),offset:xB(s,vG(e)),velocity:yG(e,.1)}}function vG(s){return s[0]}function NL(s){return s[s.length-1]}function yG(s,e){if(s.length<2)return{x:0,y:0};let t=s.length-1,n=null;const i=NL(s);for(;t>=0&&(n=s[t],!(i.timestamp-n.timestamp>_u(e)));)t--;if(!n)return{x:0,y:0};const r=xu(i.timestamp-n.timestamp);if(r===0)return{x:0,y:0};const a={x:(i.x-n.x)/r,y:(i.y-n.y)/r};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}const OL=1e-4,_G=1-OL,xG=1+OL,LL=.01,SG=0-LL,AG=0+LL;function ho(s){return s.max-s.min}function MG(s,e,t){return Math.abs(s-e)<=t}function SB(s,e,t,n=.5){s.origin=n,s.originPoint=Zi(e.min,e.max,s.origin),s.scale=ho(t)/ho(e),s.translate=Zi(t.min,t.max,s.origin)-s.originPoint,(s.scale>=_G&&s.scale<=xG||isNaN(s.scale))&&(s.scale=1),(s.translate>=SG&&s.translate<=AG||isNaN(s.translate))&&(s.translate=0)}function uy(s,e,t,n){SB(s.x,e.x,t.x,n?n.originX:void 0),SB(s.y,e.y,t.y,n?n.originY:void 0)}function AB(s,e,t){s.min=t.min+e.min,s.max=s.min+ho(e)}function bG(s,e,t){AB(s.x,e.x,t.x),AB(s.y,e.y,t.y)}function MB(s,e,t){s.min=e.min-t.min,s.max=s.min+ho(e)}function fy(s,e,t){MB(s.x,e.x,t.x),MB(s.y,e.y,t.y)}function EG(s,{min:e,max:t},n){return e!==void 0&&s<e?s=n?Zi(e,s,n.min):Math.max(s,e):t!==void 0&&s>t&&(s=n?Zi(t,s,n.max):Math.min(s,t)),s}function bB(s,e,t){return{min:e!==void 0?s.min+e:void 0,max:t!==void 0?s.max+t-(s.max-s.min):void 0}}function TG(s,{top:e,left:t,bottom:n,right:i}){return{x:bB(s.x,t,i),y:bB(s.y,e,n)}}function EB(s,e){let t=e.min-s.min,n=e.max-s.max;return e.max-e.min<s.max-s.min&&([t,n]=[n,t]),{min:t,max:n}}function CG(s,e){return{x:EB(s.x,e.x),y:EB(s.y,e.y)}}function wG(s,e){let t=.5;const n=ho(s),i=ho(e);return i>n?t=Eg(e.min,e.max-n,s.min):n>i&&(t=Eg(s.min,s.max-i,e.min)),Eu(0,1,t)}function RG(s,e){const t={};return e.min!==void 0&&(t.min=e.min-s.min),e.max!==void 0&&(t.max=e.max-s.min),t}const r2=.35;function BG(s=r2){return s===!1?s=0:s===!0&&(s=r2),{x:TB(s,"left","right"),y:TB(s,"top","bottom")}}function TB(s,e,t){return{min:CB(s,e),max:CB(s,t)}}function CB(s,e){return typeof s=="number"?s:s[e]||0}const wB=()=>({translate:0,scale:1,origin:0,originPoint:0}),ig=()=>({x:wB(),y:wB()}),RB=()=>({min:0,max:0}),fs=()=>({x:RB(),y:RB()});function Fo(s){return[s("x"),s("y")]}function UL({top:s,left:e,right:t,bottom:n}){return{x:{min:e,max:t},y:{min:s,max:n}}}function DG({x:s,y:e}){return{top:e.min,right:s.max,bottom:e.max,left:s.min}}function NG(s,e){if(!e)return s;const t=e({x:s.left,y:s.top}),n=e({x:s.right,y:s.bottom});return{top:t.y,left:t.x,bottom:n.y,right:n.x}}function iE(s){return s===void 0||s===1}function a2({scale:s,scaleX:e,scaleY:t}){return!iE(s)||!iE(e)||!iE(t)}function Cd(s){return a2(s)||PL(s)||s.z||s.rotate||s.rotateX||s.rotateY||s.skewX||s.skewY}function PL(s){return BB(s.x)||BB(s.y)}function BB(s){return s&&s!=="0%"}function nA(s,e,t){const n=s-t,i=e*n;return t+i}function DB(s,e,t,n,i){return i!==void 0&&(s=nA(s,i,n)),nA(s,t,n)+e}function o2(s,e=0,t=1,n,i){s.min=DB(s.min,e,t,n,i),s.max=DB(s.max,e,t,n,i)}function IL(s,{x:e,y:t}){o2(s.x,e.translate,e.scale,e.originPoint),o2(s.y,t.translate,t.scale,t.originPoint)}const NB=.999999999999,OB=1.0000000000001;function OG(s,e,t,n=!1){const i=t.length;if(!i)return;e.x=e.y=1;let r,a;for(let l=0;l<i;l++){r=t[l],a=r.projectionDelta;const{visualElement:u}=r.options;u&&u.props.style&&u.props.style.display==="contents"||(n&&r.options.layoutScroll&&r.scroll&&r!==r.root&&rg(s,{x:-r.scroll.offset.x,y:-r.scroll.offset.y}),a&&(e.x*=a.x.scale,e.y*=a.y.scale,IL(s,a)),n&&Cd(r.latestValues)&&rg(s,r.latestValues))}e.x<OB&&e.x>NB&&(e.x=1),e.y<OB&&e.y>NB&&(e.y=1)}function sg(s,e){s.min=s.min+e,s.max=s.max+e}function LB(s,e,t,n,i=.5){const r=Zi(s.min,s.max,i);o2(s,e,t,r,n)}function rg(s,e){LB(s.x,e.x,e.scaleX,e.scale,e.originX),LB(s.y,e.y,e.scaleY,e.scale,e.originY)}function FL(s,e){return UL(NG(s.getBoundingClientRect(),e))}function LG(s,e,t){const n=FL(s,t),{scroll:i}=e;return i&&(sg(n.x,i.offset.x),sg(n.y,i.offset.y)),n}const zL=({current:s})=>s?s.ownerDocument.defaultView:null,UG=new WeakMap;class PG{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=fs(),this.visualElement=e}start(e,{snapToCursor:t=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const i=m=>{const{dragSnapToOrigin:g}=this.getProps();g?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(r_(m).point)},r=(m,g)=>{const{drag:v,dragPropagation:_,onDragStart:S}=this.getProps();if(v&&!_&&(this.openDragLock&&this.openDragLock(),this.openDragLock=wz(v),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Fo(M=>{let A=this.getAxisMotionValue(M).get()||0;if(Mc.test(A)){const{projection:C}=this.visualElement;if(C&&C.layout){const B=C.layout.layoutBox[M];B&&(A=ho(B)*(parseFloat(A)/100))}}this.originPoint[M]=A}),S&&Pi.postRender(()=>S(m,g)),ZT(this.visualElement,"transform");const{animationState:b}=this.visualElement;b&&b.setActive("whileDrag",!0)},a=(m,g)=>{const{dragPropagation:v,dragDirectionLock:_,onDirectionLock:S,onDrag:b}=this.getProps();if(!v&&!this.openDragLock)return;const{offset:M}=g;if(_&&this.currentDirection===null){this.currentDirection=IG(M),this.currentDirection!==null&&S&&S(this.currentDirection);return}this.updateAxis("x",g.point,M),this.updateAxis("y",g.point,M),this.visualElement.render(),b&&b(m,g)},l=(m,g)=>this.stop(m,g),u=()=>Fo(m=>{var g;return this.getAnimationState(m)==="paused"&&((g=this.getAxisMotionValue(m).animation)===null||g===void 0?void 0:g.play())}),{dragSnapToOrigin:h}=this.getProps();this.panSession=new DL(e,{onSessionStart:i,onStart:r,onMove:a,onSessionEnd:l,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:h,contextWindow:zL(this.visualElement)})}stop(e,t){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:i}=t;this.startAnimation(i);const{onDragEnd:r}=this.getProps();r&&Pi.postRender(()=>r(e,t))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,n){const{drag:i}=this.getProps();if(!n||!yx(e,i,this.currentDirection))return;const r=this.getAxisMotionValue(e);let a=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(a=EG(a,this.constraints[e],this.elastic[e])),r.set(a)}resolveConstraints(){var e;const{dragConstraints:t,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,r=this.constraints;t&&tg(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&i?this.constraints=TG(i.layoutBox,t):this.constraints=!1,this.elastic=BG(n),r!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Fo(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=RG(i.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!tg(e))return!1;const n=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const r=LG(n,i.root,this.visualElement.getTransformPagePoint());let a=CG(i.layout.layoutBox,r);if(t){const l=t(DG(a));this.hasMutatedConstraints=!!l,l&&(a=UL(l))}return a}startAnimation(e){const{drag:t,dragMomentum:n,dragElastic:i,dragTransition:r,dragSnapToOrigin:a,onDragTransitionEnd:l}=this.getProps(),u=this.constraints||{},h=Fo(m=>{if(!yx(m,t,this.currentDirection))return;let g=u&&u[m]||{};a&&(g={min:0,max:0});const v=i?200:1e6,_=i?40:1e7,S={type:"inertia",velocity:n?e[m]:0,bounceStiffness:v,bounceDamping:_,timeConstant:750,restDelta:1,restSpeed:10,...r,...g};return this.startAxisValueAnimation(m,S)});return Promise.all(h).then(l)}startAxisValueAnimation(e,t){const n=this.getAxisMotionValue(e);return ZT(this.visualElement,e),n.start(qC(e,n,0,t,this.visualElement,!1))}stopAnimation(){Fo(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Fo(e=>{var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.pause()})}getAnimationState(e){var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,n=this.visualElement.getProps(),i=n[t];return i||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){Fo(t=>{const{drag:n}=this.getProps();if(!yx(t,n,this.currentDirection))return;const{projection:i}=this.visualElement,r=this.getAxisMotionValue(t);if(i&&i.layout){const{min:a,max:l}=i.layout.layoutBox[t];r.set(e[t]-Zi(a,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:n}=this.visualElement;if(!tg(t)||!n||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Fo(a=>{const l=this.getAxisMotionValue(a);if(l&&this.constraints!==!1){const u=l.get();i[a]=wG({min:u,max:u},this.constraints[a])}});const{transformTemplate:r}=this.visualElement.getProps();this.visualElement.current.style.transform=r?r({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),Fo(a=>{if(!yx(a,e,null))return;const l=this.getAxisMotionValue(a),{min:u,max:h}=this.constraints[a];l.set(Zi(u,h,i[a]))})}addListeners(){if(!this.visualElement.current)return;UG.set(this.visualElement,this);const e=this.visualElement.current,t=cy(e,"pointerdown",u=>{const{drag:h,dragListener:m=!0}=this.getProps();h&&m&&this.start(u)}),n=()=>{const{dragConstraints:u}=this.getProps();tg(u)&&u.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,r=i.addEventListener("measure",n);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),Pi.read(n);const a=Fy(window,"resize",()=>this.scalePositionWithinConstraints()),l=i.addEventListener("didUpdate",({delta:u,hasLayoutChanged:h})=>{this.isDragging&&h&&(Fo(m=>{const g=this.getAxisMotionValue(m);g&&(this.originPoint[m]+=u[m].translate,g.set(g.get()+u[m].translate))}),this.visualElement.render())});return()=>{a(),t(),r(),l&&l()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:n=!1,dragPropagation:i=!1,dragConstraints:r=!1,dragElastic:a=r2,dragMomentum:l=!0}=e;return{...e,drag:t,dragDirectionLock:n,dragPropagation:i,dragConstraints:r,dragElastic:a,dragMomentum:l}}}function yx(s,e,t){return(e===!0||e===s)&&(t===null||t===s)}function IG(s,e=10){let t=null;return Math.abs(s.y)>e?t="y":Math.abs(s.x)>e&&(t="x"),t}class FG extends lh{constructor(e){super(e),this.removeGroupControls=lo,this.removeListeners=lo,this.controls=new PG(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||lo}unmount(){this.removeGroupControls(),this.removeListeners()}}const UB=s=>(e,t)=>{s&&Pi.postRender(()=>s(e,t))};class zG extends lh{constructor(){super(...arguments),this.removePointerDownListener=lo}onPointerDown(e){this.session=new DL(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:zL(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:n,onPanEnd:i}=this.node.getProps();return{onSessionStart:UB(e),onStart:UB(t),onMove:n,onEnd:(r,a)=>{delete this.session,i&&Pi.postRender(()=>i(r,a))}}}mount(){this.removePointerDownListener=cy(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const BS={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function PB(s,e){return e.max===e.min?0:s/(e.max-e.min)*100}const yv={correct:(s,e)=>{if(!e.target)return s;if(typeof s=="string")if(un.test(s))s=parseFloat(s);else return s;const t=PB(s,e.target.x),n=PB(s,e.target.y);return`${t}% ${n}%`}},HG={correct:(s,{treeScale:e,projectionDelta:t})=>{const n=s,i=th.parse(s);if(i.length>5)return n;const r=th.createTransformer(s),a=typeof i[0]!="number"?1:0,l=t.x.scale*e.x,u=t.y.scale*e.y;i[0+a]/=l,i[1+a]/=u;const h=Zi(l,u,.5);return typeof i[2+a]=="number"&&(i[2+a]/=h),typeof i[3+a]=="number"&&(i[3+a]/=h),r(i)}};class GG extends J.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n,layoutId:i}=this.props,{projection:r}=e;oz(VG),r&&(t.group&&t.group.add(r),n&&n.register&&i&&n.register(r),r.root.didUpdate(),r.addEventListener("animationComplete",()=>{this.safeToRemove()}),r.setOptions({...r.options,onExitComplete:()=>this.safeToRemove()})),BS.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:n,drag:i,isPresent:r}=this.props,a=n.projection;return a&&(a.isPresent=r,i||e.layoutDependency!==t||t===void 0?a.willUpdate():this.safeToRemove(),e.isPresent!==r&&(r?a.promote():a.relegate()||Pi.postRender(()=>{const l=a.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),AC.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(i),n&&n.deregister&&n.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function HL(s){const[e,t]=AO(),n=J.useContext(pC);return k.jsx(GG,{...s,layoutGroup:n,switchLayoutGroup:J.useContext(BO),isPresent:e,safeToRemove:t})}const VG={borderRadius:{...yv,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:yv,borderTopRightRadius:yv,borderBottomLeftRadius:yv,borderBottomRightRadius:yv,boxShadow:HG};function kG(s,e,t){const n=Ur(s)?s:Py(s);return n.start(qC("",n,e,t)),n.animation}function jG(s){return s instanceof SVGElement&&s.tagName!=="svg"}const XG=(s,e)=>s.depth-e.depth;class YG{constructor(){this.children=[],this.isDirty=!1}add(e){PC(this.children,e),this.isDirty=!0}remove(e){IC(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(XG),this.isDirty=!1,this.children.forEach(e)}}function qG(s,e){const t=bc.now(),n=({timestamp:i})=>{const r=i-t;r>=e&&(eh(n),s(r-e))};return Pi.read(n,!0),()=>eh(n)}const GL=["TopLeft","TopRight","BottomLeft","BottomRight"],WG=GL.length,IB=s=>typeof s=="string"?parseFloat(s):s,FB=s=>typeof s=="number"||un.test(s);function KG(s,e,t,n,i,r){i?(s.opacity=Zi(0,t.opacity!==void 0?t.opacity:1,JG(n)),s.opacityExit=Zi(e.opacity!==void 0?e.opacity:1,0,ZG(n))):r&&(s.opacity=Zi(e.opacity!==void 0?e.opacity:1,t.opacity!==void 0?t.opacity:1,n));for(let a=0;a<WG;a++){const l=`border${GL[a]}Radius`;let u=zB(e,l),h=zB(t,l);if(u===void 0&&h===void 0)continue;u||(u=0),h||(h=0),u===0||h===0||FB(u)===FB(h)?(s[l]=Math.max(Zi(IB(u),IB(h),n),0),(Mc.test(h)||Mc.test(u))&&(s[l]+="%")):s[l]=h}(e.rotate||t.rotate)&&(s.rotate=Zi(e.rotate||0,t.rotate||0,n))}function zB(s,e){return s[e]!==void 0?s[e]:s.borderRadius}const JG=VL(0,.5,aL),ZG=VL(.5,.95,lo);function VL(s,e,t){return n=>n<s?0:n>e?1:t(Eg(s,e,n))}function HB(s,e){s.min=e.min,s.max=e.max}function Uo(s,e){HB(s.x,e.x),HB(s.y,e.y)}function GB(s,e){s.translate=e.translate,s.scale=e.scale,s.originPoint=e.originPoint,s.origin=e.origin}function VB(s,e,t,n,i){return s-=e,s=nA(s,1/t,n),i!==void 0&&(s=nA(s,1/i,n)),s}function QG(s,e=0,t=1,n=.5,i,r=s,a=s){if(Mc.test(e)&&(e=parseFloat(e),e=Zi(a.min,a.max,e/100)-a.min),typeof e!="number")return;let l=Zi(r.min,r.max,n);s===r&&(l-=e),s.min=VB(s.min,e,t,l,i),s.max=VB(s.max,e,t,l,i)}function kB(s,e,[t,n,i],r,a){QG(s,e[t],e[n],e[i],e.scale,r,a)}const $G=["x","scaleX","originX"],eV=["y","scaleY","originY"];function jB(s,e,t,n){kB(s.x,e,$G,t?t.x:void 0,n?n.x:void 0),kB(s.y,e,eV,t?t.y:void 0,n?n.y:void 0)}function XB(s){return s.translate===0&&s.scale===1}function kL(s){return XB(s.x)&&XB(s.y)}function YB(s,e){return s.min===e.min&&s.max===e.max}function tV(s,e){return YB(s.x,e.x)&&YB(s.y,e.y)}function qB(s,e){return Math.round(s.min)===Math.round(e.min)&&Math.round(s.max)===Math.round(e.max)}function jL(s,e){return qB(s.x,e.x)&&qB(s.y,e.y)}function WB(s){return ho(s.x)/ho(s.y)}function KB(s,e){return s.translate===e.translate&&s.scale===e.scale&&s.originPoint===e.originPoint}class nV{constructor(){this.members=[]}add(e){PC(this.members,e),e.scheduleRender()}remove(e){if(IC(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(i=>e===i);if(t===0)return!1;let n;for(let i=t;i>=0;i--){const r=this.members[i];if(r.isPresent!==!1){n=r;break}}return n?(this.promote(n),!0):!1}promote(e,t){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,t&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:n}=e;t.onExitComplete&&t.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function iV(s,e,t){let n="";const i=s.x.translate/e.x,r=s.y.translate/e.y,a=(t==null?void 0:t.z)||0;if((i||r||a)&&(n=`translate3d(${i}px, ${r}px, ${a}px) `),(e.x!==1||e.y!==1)&&(n+=`scale(${1/e.x}, ${1/e.y}) `),t){const{transformPerspective:h,rotate:m,rotateX:g,rotateY:v,skewX:_,skewY:S}=t;h&&(n=`perspective(${h}px) ${n}`),m&&(n+=`rotate(${m}deg) `),g&&(n+=`rotateX(${g}deg) `),v&&(n+=`rotateY(${v}deg) `),_&&(n+=`skewX(${_}deg) `),S&&(n+=`skewY(${S}deg) `)}const l=s.x.scale*e.x,u=s.y.scale*e.y;return(l!==1||u!==1)&&(n+=`scale(${l}, ${u})`),n||"none"}const wd={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Xv=typeof window<"u"&&window.MotionDebug!==void 0,sE=["","X","Y","Z"],sV={visibility:"hidden"},JB=1e3;let rV=0;function rE(s,e,t,n){const{latestValues:i}=e;i[s]&&(t[s]=i[s],e.setStaticValue(s,0),n&&(n[s]=0))}function XL(s){if(s.hasCheckedOptimisedAppear=!0,s.root===s)return;const{visualElement:e}=s.options;if(!e)return;const t=$O(e);if(window.MotionHasOptimisedAnimation(t,"transform")){const{layout:i,layoutId:r}=s.options;window.MotionCancelOptimisedAnimation(t,"transform",Pi,!(i||r))}const{parent:n}=s;n&&!n.hasCheckedOptimisedAppear&&XL(n)}function YL({attachResizeListener:s,defaultParent:e,measureScroll:t,checkIsScrollRoot:n,resetTransform:i}){return class{constructor(a={},l=e==null?void 0:e()){this.id=rV++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Xv&&(wd.totalNodes=wd.resolvedTargetDeltas=wd.recalculatedProjection=0),this.nodes.forEach(lV),this.nodes.forEach(dV),this.nodes.forEach(pV),this.nodes.forEach(cV),Xv&&window.MotionDebug.record(wd)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let u=0;u<this.path.length;u++)this.path[u].shouldResetTransform=!0;this.root===this&&(this.nodes=new YG)}addEventListener(a,l){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new FC),this.eventHandlers.get(a).add(l)}notifyListeners(a,...l){const u=this.eventHandlers.get(a);u&&u.notify(...l)}hasListeners(a){return this.eventHandlers.has(a)}mount(a,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=jG(a),this.instance=a;const{layoutId:u,layout:h,visualElement:m}=this.options;if(m&&!m.current&&m.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(h||u)&&(this.isLayoutDirty=!0),s){let g;const v=()=>this.root.updateBlockedByResize=!1;s(a,()=>{this.root.updateBlockedByResize=!0,g&&g(),g=qG(v,250),BS.hasAnimatedSinceResize&&(BS.hasAnimatedSinceResize=!1,this.nodes.forEach(QB))})}u&&this.root.registerSharedNode(u,this),this.options.animate!==!1&&m&&(u||h)&&this.addEventListener("didUpdate",({delta:g,hasLayoutChanged:v,hasRelativeTargetChanged:_,layout:S})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const b=this.options.transition||m.getDefaultTransition()||_V,{onLayoutAnimationStart:M,onLayoutAnimationComplete:A}=m.getProps(),C=!this.targetLayout||!jL(this.targetLayout,S)||_,B=!v&&_;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||B||v&&(C||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(g,B);const D={...NC(b,"layout"),onPlay:M,onComplete:A};(m.shouldReduceMotion||this.options.layoutRoot)&&(D.delay=0,D.type=!1),this.startAnimation(D)}else v||QB(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=S})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,eh(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(mV),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&XL(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let m=0;m<this.path.length;m++){const g=this.path[m];g.shouldResetTransform=!0,g.updateScroll("snapshot"),g.options.layoutRoot&&g.willUpdate(!1)}const{layoutId:l,layout:u}=this.options;if(l===void 0&&!u)return;const h=this.getTransformTemplate();this.prevTransformTemplateValue=h?h(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(ZB);return}this.isUpdating||this.nodes.forEach(fV),this.isUpdating=!1,this.nodes.forEach(hV),this.nodes.forEach(aV),this.nodes.forEach(oV),this.clearAllSnapshots();const l=bc.now();lr.delta=Eu(0,1e3/60,l-lr.timestamp),lr.timestamp=l,lr.isProcessing=!0,Jb.update.process(lr),Jb.preRender.process(lr),Jb.render.process(lr),lr.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,AC.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(uV),this.sharedNodes.forEach(gV)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Pi.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Pi.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let u=0;u<this.path.length;u++)this.path[u].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=fs(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(l=!1),l){const u=n(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:u,offset:t(this.instance),wasRoot:this.scroll?this.scroll.isRoot:u}}}resetTransform(){if(!i)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!kL(this.projectionDelta),u=this.getTransformTemplate(),h=u?u(this.latestValues,""):void 0,m=h!==this.prevTransformTemplateValue;a&&(l||Cd(this.latestValues)||m)&&(i(this.instance,h),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const l=this.measurePageBox();let u=this.removeElementScroll(l);return a&&(u=this.removeTransform(u)),xV(u),{animationId:this.root.animationId,measuredBox:l,layoutBox:u,latestValues:{},source:this.id}}measurePageBox(){var a;const{visualElement:l}=this.options;if(!l)return fs();const u=l.measureViewportBox();if(!(((a=this.scroll)===null||a===void 0?void 0:a.wasRoot)||this.path.some(SV))){const{scroll:m}=this.root;m&&(sg(u.x,m.offset.x),sg(u.y,m.offset.y))}return u}removeElementScroll(a){var l;const u=fs();if(Uo(u,a),!((l=this.scroll)===null||l===void 0)&&l.wasRoot)return u;for(let h=0;h<this.path.length;h++){const m=this.path[h],{scroll:g,options:v}=m;m!==this.root&&g&&v.layoutScroll&&(g.wasRoot&&Uo(u,a),sg(u.x,g.offset.x),sg(u.y,g.offset.y))}return u}applyTransform(a,l=!1){const u=fs();Uo(u,a);for(let h=0;h<this.path.length;h++){const m=this.path[h];!l&&m.options.layoutScroll&&m.scroll&&m!==m.root&&rg(u,{x:-m.scroll.offset.x,y:-m.scroll.offset.y}),Cd(m.latestValues)&&rg(u,m.latestValues)}return Cd(this.latestValues)&&rg(u,this.latestValues),u}removeTransform(a){const l=fs();Uo(l,a);for(let u=0;u<this.path.length;u++){const h=this.path[u];if(!h.instance||!Cd(h.latestValues))continue;a2(h.latestValues)&&h.updateSnapshot();const m=fs(),g=h.measurePageBox();Uo(m,g),jB(l,h.latestValues,h.snapshot?h.snapshot.layoutBox:void 0,m)}return Cd(this.latestValues)&&jB(l,this.latestValues),l}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==lr.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var l;const u=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=u.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=u.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=u.isSharedProjectionDirty);const h=!!this.resumingFrom||this!==u;if(!(a||h&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:g,layoutId:v}=this.options;if(!(!this.layout||!(g||v))){if(this.resolvedRelativeTargetAt=lr.timestamp,!this.targetDelta&&!this.relativeTarget){const _=this.getClosestProjectingParent();_&&_.layout&&this.animationProgress!==1?(this.relativeParent=_,this.forceRelativeParentToResolveTarget(),this.relativeTarget=fs(),this.relativeTargetOrigin=fs(),fy(this.relativeTargetOrigin,this.layout.layoutBox,_.layout.layoutBox),Uo(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=fs(),this.targetWithTransforms=fs()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),bG(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Uo(this.target,this.layout.layoutBox),IL(this.target,this.targetDelta)):Uo(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const _=this.getClosestProjectingParent();_&&!!_.resumingFrom==!!this.resumingFrom&&!_.options.layoutScroll&&_.target&&this.animationProgress!==1?(this.relativeParent=_,this.forceRelativeParentToResolveTarget(),this.relativeTarget=fs(),this.relativeTargetOrigin=fs(),fy(this.relativeTargetOrigin,this.target,_.target),Uo(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Xv&&wd.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||a2(this.parent.latestValues)||PL(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var a;const l=this.getLead(),u=!!this.resumingFrom||this!==l;let h=!0;if((this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty)&&(h=!1),u&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(h=!1),this.resolvedRelativeTargetAt===lr.timestamp&&(h=!1),h)return;const{layout:m,layoutId:g}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(m||g))return;Uo(this.layoutCorrected,this.layout.layoutBox);const v=this.treeScale.x,_=this.treeScale.y;OG(this.layoutCorrected,this.treeScale,this.path,u),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=fs());const{target:S}=l;if(!S){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(GB(this.prevProjectionDelta.x,this.projectionDelta.x),GB(this.prevProjectionDelta.y,this.projectionDelta.y)),uy(this.projectionDelta,this.layoutCorrected,S,this.latestValues),(this.treeScale.x!==v||this.treeScale.y!==_||!KB(this.projectionDelta.x,this.prevProjectionDelta.x)||!KB(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",S)),Xv&&wd.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){var l;if((l=this.options.visualElement)===null||l===void 0||l.scheduleRender(),a){const u=this.getStack();u&&u.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ig(),this.projectionDelta=ig(),this.projectionDeltaWithTransform=ig()}setAnimationOrigin(a,l=!1){const u=this.snapshot,h=u?u.latestValues:{},m={...this.latestValues},g=ig();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const v=fs(),_=u?u.source:void 0,S=this.layout?this.layout.source:void 0,b=_!==S,M=this.getStack(),A=!M||M.members.length<=1,C=!!(b&&!A&&this.options.crossfade===!0&&!this.path.some(yV));this.animationProgress=0;let B;this.mixTargetDelta=D=>{const N=D/1e3;$B(g.x,a.x,N),$B(g.y,a.y,N),this.setTargetDelta(g),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(fy(v,this.layout.layoutBox,this.relativeParent.layout.layoutBox),vV(this.relativeTarget,this.relativeTargetOrigin,v,N),B&&tV(this.relativeTarget,B)&&(this.isProjectionDirty=!1),B||(B=fs()),Uo(B,this.relativeTarget)),b&&(this.animationValues=m,KG(m,h,this.latestValues,N,C,A)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=N},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(eh(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Pi.update(()=>{BS.hasAnimatedSinceResize=!0,this.currentAnimation=kG(0,JB,{...a,onUpdate:l=>{this.mixTargetDelta(l),a.onUpdate&&a.onUpdate(l)},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(JB),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:l,target:u,layout:h,latestValues:m}=a;if(!(!l||!u||!h)){if(this!==a&&this.layout&&h&&qL(this.options.animationType,this.layout.layoutBox,h.layoutBox)){u=this.target||fs();const g=ho(this.layout.layoutBox.x);u.x.min=a.target.x.min,u.x.max=u.x.min+g;const v=ho(this.layout.layoutBox.y);u.y.min=a.target.y.min,u.y.max=u.y.min+v}Uo(l,u),rg(l,m),uy(this.projectionDeltaWithTransform,this.layoutCorrected,l,m)}}registerSharedNode(a,l){this.sharedNodes.has(a)||this.sharedNodes.set(a,new nV),this.sharedNodes.get(a).add(l);const h=l.options.initialPromotionConfig;l.promote({transition:h?h.transition:void 0,preserveFollowOpacity:h&&h.shouldPreserveFollowOpacity?h.shouldPreserveFollowOpacity(l):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var a;const{layoutId:l}=this.options;return l?((a=this.getStack())===null||a===void 0?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:l}=this.options;return l?(a=this.getStack())===null||a===void 0?void 0:a.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:l,preserveFollowOpacity:u}={}){const h=this.getStack();h&&h.promote(this,u),a&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let l=!1;const{latestValues:u}=a;if((u.z||u.rotate||u.rotateX||u.rotateY||u.rotateZ||u.skewX||u.skewY)&&(l=!0),!l)return;const h={};u.z&&rE("z",a,h,this.animationValues);for(let m=0;m<sE.length;m++)rE(`rotate${sE[m]}`,a,h,this.animationValues),rE(`skew${sE[m]}`,a,h,this.animationValues);a.render();for(const m in h)a.setStaticValue(m,h[m]),this.animationValues&&(this.animationValues[m]=h[m]);a.scheduleRender()}getProjectionStyles(a){var l,u;if(!this.instance||this.isSVG)return;if(!this.isVisible)return sV;const h={visibility:""},m=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,h.opacity="",h.pointerEvents=wS(a==null?void 0:a.pointerEvents)||"",h.transform=m?m(this.latestValues,""):"none",h;const g=this.getLead();if(!this.projectionDelta||!this.layout||!g.target){const b={};return this.options.layoutId&&(b.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,b.pointerEvents=wS(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!Cd(this.latestValues)&&(b.transform=m?m({},""):"none",this.hasProjected=!1),b}const v=g.animationValues||g.latestValues;this.applyTransformsToTarget(),h.transform=iV(this.projectionDeltaWithTransform,this.treeScale,v),m&&(h.transform=m(v,h.transform));const{x:_,y:S}=this.projectionDelta;h.transformOrigin=`${_.origin*100}% ${S.origin*100}% 0`,g.animationValues?h.opacity=g===this?(u=(l=v.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&u!==void 0?u:1:this.preserveOpacity?this.latestValues.opacity:v.opacityExit:h.opacity=g===this?v.opacity!==void 0?v.opacity:"":v.opacityExit!==void 0?v.opacityExit:0;for(const b in ZS){if(v[b]===void 0)continue;const{correct:M,applyTo:A}=ZS[b],C=h.transform==="none"?v[b]:M(v[b],g);if(A){const B=A.length;for(let D=0;D<B;D++)h[A[D]]=C}else h[b]=C}return this.options.layoutId&&(h.pointerEvents=g===this?wS(a==null?void 0:a.pointerEvents)||"":"none"),h}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var l;return(l=a.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(ZB),this.root.sharedNodes.clear()}}}function aV(s){s.updateLayout()}function oV(s){var e;const t=((e=s.resumeFrom)===null||e===void 0?void 0:e.snapshot)||s.snapshot;if(s.isLead()&&s.layout&&t&&s.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:i}=s.layout,{animationType:r}=s.options,a=t.source!==s.layout.source;r==="size"?Fo(g=>{const v=a?t.measuredBox[g]:t.layoutBox[g],_=ho(v);v.min=n[g].min,v.max=v.min+_}):qL(r,t.layoutBox,n)&&Fo(g=>{const v=a?t.measuredBox[g]:t.layoutBox[g],_=ho(n[g]);v.max=v.min+_,s.relativeTarget&&!s.currentAnimation&&(s.isProjectionDirty=!0,s.relativeTarget[g].max=s.relativeTarget[g].min+_)});const l=ig();uy(l,n,t.layoutBox);const u=ig();a?uy(u,s.applyTransform(i,!0),t.measuredBox):uy(u,n,t.layoutBox);const h=!kL(l);let m=!1;if(!s.resumeFrom){const g=s.getClosestProjectingParent();if(g&&!g.resumeFrom){const{snapshot:v,layout:_}=g;if(v&&_){const S=fs();fy(S,t.layoutBox,v.layoutBox);const b=fs();fy(b,n,_.layoutBox),jL(S,b)||(m=!0),g.options.layoutRoot&&(s.relativeTarget=b,s.relativeTargetOrigin=S,s.relativeParent=g)}}}s.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:u,layoutDelta:l,hasLayoutChanged:h,hasRelativeTargetChanged:m})}else if(s.isLead()){const{onExitComplete:n}=s.options;n&&n()}s.options.transition=void 0}function lV(s){Xv&&wd.totalNodes++,s.parent&&(s.isProjecting()||(s.isProjectionDirty=s.parent.isProjectionDirty),s.isSharedProjectionDirty||(s.isSharedProjectionDirty=!!(s.isProjectionDirty||s.parent.isProjectionDirty||s.parent.isSharedProjectionDirty)),s.isTransformDirty||(s.isTransformDirty=s.parent.isTransformDirty))}function cV(s){s.isProjectionDirty=s.isSharedProjectionDirty=s.isTransformDirty=!1}function uV(s){s.clearSnapshot()}function ZB(s){s.clearMeasurements()}function fV(s){s.isLayoutDirty=!1}function hV(s){const{visualElement:e}=s.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),s.resetTransform()}function QB(s){s.finishAnimation(),s.targetDelta=s.relativeTarget=s.target=void 0,s.isProjectionDirty=!0}function dV(s){s.resolveTargetDelta()}function pV(s){s.calcProjection()}function mV(s){s.resetSkewAndRotation()}function gV(s){s.removeLeadSnapshot()}function $B(s,e,t){s.translate=Zi(e.translate,0,t),s.scale=Zi(e.scale,1,t),s.origin=e.origin,s.originPoint=e.originPoint}function eD(s,e,t,n){s.min=Zi(e.min,t.min,n),s.max=Zi(e.max,t.max,n)}function vV(s,e,t,n){eD(s.x,e.x,t.x,n),eD(s.y,e.y,t.y,n)}function yV(s){return s.animationValues&&s.animationValues.opacityExit!==void 0}const _V={duration:.45,ease:[.4,0,.1,1]},tD=s=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(s),nD=tD("applewebkit/")&&!tD("chrome/")?Math.round:lo;function iD(s){s.min=nD(s.min),s.max=nD(s.max)}function xV(s){iD(s.x),iD(s.y)}function qL(s,e,t){return s==="position"||s==="preserve-aspect"&&!MG(WB(e),WB(t),.2)}function SV(s){var e;return s!==s.root&&((e=s.scroll)===null||e===void 0?void 0:e.wasRoot)}const AV=YL({attachResizeListener:(s,e)=>Fy(s,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),aE={current:void 0},WL=YL({measureScroll:s=>({x:s.scrollLeft,y:s.scrollTop}),defaultParent:()=>{if(!aE.current){const s=new AV({});s.mount(window),s.setOptions({layoutScroll:!0}),aE.current=s}return aE.current},resetTransform:(s,e)=>{s.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:s=>window.getComputedStyle(s).position==="fixed"}),MV={pan:{Feature:zG},drag:{Feature:FG,ProjectionNode:WL,MeasureLayout:HL}};function sD(s,e,t){const{props:n}=s;s.animationState&&n.whileHover&&s.animationState.setActive("whileHover",t==="Start");const i="onHover"+t,r=n[i];r&&Pi.postRender(()=>r(e,r_(e)))}class bV extends lh{mount(){const{current:e}=this.node;e&&(this.unmount=Mz(e,t=>(sD(this.node,t,"Start"),n=>sD(this.node,n,"End"))))}unmount(){}}class EV extends lh{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=s_(Fy(this.node.current,"focus",()=>this.onFocus()),Fy(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function rD(s,e,t){const{props:n}=s;s.animationState&&n.whileTap&&s.animationState.setActive("whileTap",t==="Start");const i="onTap"+(t==="End"?"":t),r=n[i];r&&Pi.postRender(()=>r(e,r_(e)))}class TV extends lh{mount(){const{current:e}=this.node;e&&(this.unmount=Cz(e,t=>(rD(this.node,t,"Start"),(n,{success:i})=>rD(this.node,n,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const l2=new WeakMap,oE=new WeakMap,CV=s=>{const e=l2.get(s.target);e&&e(s)},wV=s=>{s.forEach(CV)};function RV({root:s,...e}){const t=s||document;oE.has(t)||oE.set(t,{});const n=oE.get(t),i=JSON.stringify(e);return n[i]||(n[i]=new IntersectionObserver(wV,{root:s,...e})),n[i]}function BV(s,e,t){const n=RV(e);return l2.set(s,t),n.observe(s),()=>{l2.delete(s),n.unobserve(s)}}const DV={some:0,all:1};class NV extends lh{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:n,amount:i="some",once:r}=e,a={root:t?t.current:void 0,rootMargin:n,threshold:typeof i=="number"?i:DV[i]},l=u=>{const{isIntersecting:h}=u;if(this.isInView===h||(this.isInView=h,r&&!h&&this.hasEnteredView))return;h&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",h);const{onViewportEnter:m,onViewportLeave:g}=this.node.getProps(),v=h?m:g;v&&v(u)};return BV(this.node.current,a,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(OV(e,t))&&this.startObserver()}unmount(){}}function OV({viewport:s={}},{viewport:e={}}={}){return t=>s[t]!==e[t]}const LV={inView:{Feature:NV},tap:{Feature:TV},focus:{Feature:EV},hover:{Feature:bV}},UV={layout:{ProjectionNode:WL,MeasureLayout:HL}},c2={current:null},KL={current:!1};function PV(){if(KL.current=!0,!!vC)if(window.matchMedia){const s=window.matchMedia("(prefers-reduced-motion)"),e=()=>c2.current=s.matches;s.addListener(e),e()}else c2.current=!1}const IV=[...xL,Br,th],FV=s=>IV.find(_L(s)),aD=new WeakMap;function zV(s,e,t){for(const n in e){const i=e[n],r=t[n];if(Ur(i))s.addValue(n,i);else if(Ur(r))s.addValue(n,Py(i,{owner:s}));else if(r!==i)if(s.hasValue(n)){const a=s.getValue(n);a.liveStyle===!0?a.jump(i):a.hasAnimated||a.set(i)}else{const a=s.getStaticValue(n);s.addValue(n,Py(a!==void 0?a:i,{owner:s}))}}for(const n in t)e[n]===void 0&&s.removeValue(n);return e}const oD=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class HV{scrapeMotionValuesFromProps(e,t,n){return{}}constructor({parent:e,props:t,presenceContext:n,reducedMotionConfig:i,blockInitialAnimation:r,visualState:a},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=jC,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const _=bc.now();this.renderScheduledAt<_&&(this.renderScheduledAt=_,Pi.render(this.render,!1,!0))};const{latestValues:u,renderState:h,onUpdate:m}=a;this.onUpdate=m,this.latestValues=u,this.baseTarget={...u},this.initialValues=t.initial?{...u}:{},this.renderState=h,this.parent=e,this.props=t,this.presenceContext=n,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=l,this.blockInitialAnimation=!!r,this.isControllingVariants=aM(t),this.isVariantNode=wO(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:g,...v}=this.scrapeMotionValuesFromProps(t,{},this);for(const _ in v){const S=v[_];u[_]!==void 0&&Ur(S)&&S.set(u[_],!1)}}mount(e){this.current=e,aD.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,n)=>this.bindToMotionValue(n,t)),KL.current||PV(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:c2.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){aD.delete(this.current),this.projection&&this.projection.unmount(),eh(this.notifyUpdate),eh(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const n=vp.has(e),i=t.on("change",l=>{this.latestValues[e]=l,this.props.onUpdate&&Pi.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0)}),r=t.on("renderRequest",this.scheduleRender);let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{i(),r(),a&&a(),t.owner&&t.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Tg){const t=Tg[e];if(!t)continue;const{isEnabled:n,Feature:i}=t;if(!this.features[e]&&i&&n(this.props)&&(this.features[e]=new i(this)),this.features[e]){const r=this.features[e];r.isMounted?r.update():(r.mount(),r.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):fs()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let n=0;n<oD.length;n++){const i=oD[n];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const r="on"+i,a=e[r];a&&(this.propEventSubscriptions[i]=this.on(i,a))}this.prevMotionValues=zV(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const n=this.values.get(e);t!==n&&(n&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return n===void 0&&t!==void 0&&(n=Py(t===null?void 0:t,{owner:this}),this.addValue(e,n)),n}readValue(e,t){var n;let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(n=this.getBaseTargetFromProps(this.props,e))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(vL(i)||lL(i))?i=parseFloat(i):!FV(i)&&th.test(t)&&(i=pL(e,t)),this.setBaseTarget(e,Ur(i)?i.get():i)),Ur(i)?i.get():i}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:n}=this.props;let i;if(typeof n=="string"||typeof n=="object"){const a=bC(this.props,n,(t=this.presenceContext)===null||t===void 0?void 0:t.custom);a&&(i=a[e])}if(n&&i!==void 0)return i;const r=this.getBaseTargetFromProps(this.props,e);return r!==void 0&&!Ur(r)?r:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new FC),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}}class JL extends HV{constructor(){super(...arguments),this.KeyframeResolver=SL}sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:n}){delete t[e],delete n[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Ur(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}}function GV(s){return window.getComputedStyle(s)}class VV extends JL{constructor(){super(...arguments),this.type="html",this.renderInstance=IO}readValueFromInstance(e,t){if(vp.has(t)){const n=kC(t);return n&&n.default||0}else{const n=GV(e),i=(LO(t)?n.getPropertyValue(t):n[t])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:t}){return FL(e,t)}build(e,t,n){CC(e,t,n.transformTemplate)}scrapeMotionValuesFromProps(e,t,n){return DC(e,t,n)}}class kV extends JL{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=fs}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(vp.has(t)){const n=kC(t);return n&&n.default||0}return t=FO.has(t)?t:SC(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,n){return GO(e,t,n)}build(e,t,n){wC(e,t,this.isSVGTag,n.transformTemplate)}renderInstance(e,t,n,i){zO(e,t,n,i)}mount(e){this.isSVGTag=BC(e.tagName),super.mount(e)}}const jV=(s,e)=>MC(s)?new kV(e):new VV(e,{allowProjection:s!==J.Fragment}),XV=gz({...pG,...LV,...MV,...UV},jV),YV=D9(XV),qV=()=>{const s=QA();ah();const e={initial:{x:"100vw"},animate:{x:0},exit:{x:"-100vw"}},t={ease:"easeInOut",type:"tween",duration:.5};return J.useEffect(()=>{const n=i=>{var a;const r=i.target.closest("a");if(r&&((a=r.getAttribute("href"))!=null&&a.startsWith("/"))){i.preventDefault();const l=r.getAttribute("href");s(l)}};return document.addEventListener("click",n),()=>{document.removeEventListener("click",n)}},[s]),{pageVariants:e,pageTransition:t}},yp=s=>function(t){const{pageVariants:n,pageTransition:i}=qV();return k.jsx(YV.div,{className:"transition-wrapper",initial:"initial",animate:"animate",exit:"exit",variants:n,transition:i,children:k.jsx("div",{className:"page-container",children:k.jsx(s,{...t})})})};On.registerPlugin(Rn);const WV=()=>{const s=J.useRef(null),e=J.useRef([]),t=J.useRef(null),n=J.useRef(null);return J.useEffect(()=>{const i=()=>{Rn.refresh()};window.addEventListener("resize",i);const r=s.current,a=e.current.filter(Boolean);if(!r||a.length!==3){window.removeEventListener("resize",i);return}On.set(a[0],{opacity:1,scale:1}),On.set(a[1],{opacity:0,scale:.75}),On.set(a[2],{opacity:0,scale:.75});const l=Rn.create({trigger:r,start:"top top",end:`+=${window.innerHeight*5}`,pin:!0,pinSpacing:!0}),u=On.timeline({scrollTrigger:{trigger:r,start:"top top",end:`+=${window.innerHeight*4}`,scrub:.5}});u.to(a[0],{opacity:0,scale:.75,duration:.3,ease:"power2.out"},1).to(a[1],{opacity:1,scale:1,duration:.3,ease:"power2.in"},1.25),u.to(a[1],{opacity:0,scale:.75,duration:.3,ease:"power2.out"},2.5).to(a[2],{opacity:1,scale:1,duration:.3,ease:"power2.in"},2.75);const h=t.current,m=n.current;let g;return h&&m&&(g=Rn.create({trigger:h,start:"top top",endTrigger:m,end:"bottom bottom",pin:!0,pinSpacing:!1})),()=>{l.kill(),g&&g.kill(),u.scrollTrigger&&u.scrollTrigger.kill(),u.kill(),window.removeEventListener("resize",i)}},[]),k.jsx(t_,{root:!0,children:k.jsxs("div",{className:"page home",children:[k.jsx(GF,{}),k.jsx("div",{className:"video-wrapper",children:k.jsx("video",{src:"home/vid.mp4",autoPlay:!0,muted:!0,loop:!0,playsInline:!0})})]})})},KV=yp(WV),lD=[{id:1,title:"Fragments of Light",description:"Short film on self-discovery",image:"/work/work-1.jpg"},{id:2,title:"Market Pulse",description:"Street life, raw and real",image:"/work/work-2.jpg"},{id:3,title:"The Stillness Project",description:"Visual ode to silence",image:"/work/work-3.jpg"},{id:4,title:"Chroma/City",description:"Urban color in motion",image:"/work/work-4.jpg"},{id:5,title:"Echoes of Silence",description:"Grief told through memory",image:"/work/work-5.jpg"}],JV=()=>{const[s,e]=J.useState(lD[0]),t=J.useRef(null),n=J.useRef(null),i=J.useRef(null),r=J.useRef(null),a=J.useRef(null),l=J.useRef(null),u=QA(),h=g=>{const v=On.timeline();v.to([r.current,a.current],{yPercent:-100,duration:.75,stagger:.25,ease:"power4.in"}),v.to(l.current,{opacity:0,duration:.5,ease:"power2.in",onComplete:()=>{r.current&&r.current.remove(),a.current&&a.current.parentNode&&a.current.parentNode.remove(),l.current&&l.current.remove();const _=document.createElement("p");_.className="primary sm",_.textContent=g.description;const S=document.createElement("div");S.className="project-title-container",S.style.cursor="pointer";const b=document.createElement("h1");b.textContent=g.title,S.onclick=()=>u("/sample-project"),S.appendChild(b);const M=document.createElement("img");M.src=g.image,M.alt=g.title,On.set(_,{yPercent:100}),On.set(b,{yPercent:100}),On.set(M,{opacity:0}),t.current.appendChild(_),n.current.appendChild(S),i.current.appendChild(M),r.current=_,a.current=b,l.current=M;const A=On.timeline();A.to(M,{opacity:1,duration:.75,ease:"power2.out"}),A.to([_,b],{yPercent:0,duration:.75,stagger:.25,ease:"power4.out"},"-=0.5"),e(g)}},"-=0.5")};J.useEffect(()=>{if(t.current&&n.current&&i.current){r.current=t.current.querySelector("p");const g=n.current.querySelector("a");if(g){const v=g.querySelector("h1"),_=document.createElement("div");_.className="project-title-container",_.style.cursor="pointer";const S=v.cloneNode(!0);_.appendChild(S),_.onclick=()=>u("/sample-project"),g.parentNode.replaceChild(_,g),a.current=S}else a.current=n.current.querySelector("h1");l.current=i.current.querySelector("img")}},[u]);const m=g=>{g.id!==s.id&&h(g)};return k.jsx("div",{className:"page work",children:k.jsxs("div",{className:"work-carousel",children:[k.jsx("div",{className:"work-slider-img",ref:i,children:k.jsx("img",{src:s.image,alt:s.title})}),k.jsx("div",{className:"work-items-preview-container",children:lD.map(g=>k.jsx("div",{className:`work-item ${s.id===g.id?"active":""}`,onClick:()=>m(g),children:k.jsx("img",{src:g.image,alt:g.title})},g.id))}),k.jsxs("div",{className:"carousel-info",children:[k.jsx("div",{className:"carousel-description",ref:t,children:k.jsx("p",{className:"primary sm",children:s.description})}),k.jsx("div",{className:"carousel-title",ref:n,children:k.jsx(cr,{to:"/sample-project",children:k.jsx("h1",{children:s.title})})})]})]})})},ZV=yp(JV),QV=(s,e,t)=>s+(e-s)*t,ld=({src:s,alt:e,speed:t=.2})=>{const n=J.useRef(null),i=J.useRef(null),r=J.useRef(0),a=J.useRef(0),l=J.useRef(null),[u,h]=J.useState(!1);return J.useEffect(()=>{if(typeof window>"u")return;const m=()=>{h(window.innerWidth>=900)};return m(),window.addEventListener("resize",m),()=>{window.removeEventListener("resize",m)}},[]),J.useEffect(()=>{if(!u)return;const m=()=>{if(n.current){const v=n.current.getBoundingClientRect();i.current={top:v.top+window.scrollY,bottom:v.bottom+window.scrollY,height:v.height}}};m(),window.addEventListener("resize",m);const g=()=>{n.current&&i.current&&(r.current=QV(r.current,a.current,.1),Math.abs(r.current-a.current)>.01&&(n.current.style.transform=`translateY(${r.current}px) scale(1.5)`)),l.current=requestAnimationFrame(g)};return g(),()=>{window.removeEventListener("resize",m),l.current&&cancelAnimationFrame(l.current)}},[u]),y9(({scroll:m})=>{if(!u||!i.current)return;const g=window.innerHeight,v=i.current.top+i.current.height/2,S=m+g/2-v;a.current=S*t}),k.jsx("img",{ref:n,src:s,alt:e,style:{width:"100%",height:"100%",objectFit:"cover",willChange:u?"transform":"auto",transform:u?"translateY(0) scale(1.5)":"none",position:"absolute",top:0,left:0}})};/*!
 * @gsap/react 2.1.2
 * https://gsap.com
 *
 * Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/let cD=typeof document<"u"?J.useLayoutEffect:J.useEffect,uD=s=>s&&!Array.isArray(s)&&typeof s=="object",_x=[],$V={},ZL=On;const cM=(s,e=_x)=>{let t=$V;uD(s)?(t=s,s=null,e="dependencies"in t?t.dependencies:_x):uD(e)&&(t=e,e="dependencies"in t?t.dependencies:_x),s&&typeof s!="function"&&console.warn("First parameter must be a function or config object");const{scope:n,revertOnUpdate:i}=t,r=J.useRef(!1),a=J.useRef(ZL.context(()=>{},n)),l=J.useRef(h=>a.current.add(null,h)),u=e&&e.length&&!i;return u&&cD(()=>(r.current=!0,()=>a.current.revert()),_x),cD(()=>{if(s&&a.current.add(s,n),!u||!r.current)return()=>a.current.revert()},e),{context:a.current,contextSafe:l.current}};cM.register=s=>{ZL=s};cM.headless=!0;(function(){function s(){for(var n=arguments.length,i=0;i<n;i++){var r=i<0||arguments.length<=i?void 0:arguments[i];r.nodeType===1||r.nodeType===11?this.appendChild(r):this.appendChild(document.createTextNode(String(r)))}}function e(){for(;this.lastChild;)this.removeChild(this.lastChild);arguments.length&&this.append.apply(this,arguments)}function t(){for(var n=this.parentNode,i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];var l=r.length;if(n)for(l||n.removeChild(this);l--;){var u=r[l];typeof u!="object"?u=this.ownerDocument.createTextNode(u):u.parentNode&&u.parentNode.removeChild(u),l?n.insertBefore(this.previousSibling,u):n.replaceChild(u,this)}}typeof Element<"u"&&(Element.prototype.append||(Element.prototype.append=s,DocumentFragment.prototype.append=s),Element.prototype.replaceChildren||(Element.prototype.replaceChildren=e,DocumentFragment.prototype.replaceChildren=e),Element.prototype.replaceWith||(Element.prototype.replaceWith=t,DocumentFragment.prototype.replaceWith=t))})();function ek(s,e){if(!(s instanceof e))throw new TypeError("Cannot call a class as a function")}function fD(s,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(s,n.key,n)}}function hD(s,e,t){return e&&fD(s.prototype,e),t&&fD(s,t),s}function tk(s,e,t){return e in s?Object.defineProperty(s,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):s[e]=t,s}function dD(s,e){var t=Object.keys(s);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(s);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(s,i).enumerable})),t.push.apply(t,n)}return t}function pD(s){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?dD(Object(t),!0).forEach(function(n){tk(s,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(t)):dD(Object(t)).forEach(function(n){Object.defineProperty(s,n,Object.getOwnPropertyDescriptor(t,n))})}return s}function QL(s,e){return ik(s)||rk(s,e)||$L(s,e)||ok()}function ca(s){return nk(s)||sk(s)||$L(s)||ak()}function nk(s){if(Array.isArray(s))return u2(s)}function ik(s){if(Array.isArray(s))return s}function sk(s){if(typeof Symbol<"u"&&Symbol.iterator in Object(s))return Array.from(s)}function rk(s,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(s)))){var t=[],n=!0,i=!1,r=void 0;try{for(var a=s[Symbol.iterator](),l;!(n=(l=a.next()).done)&&(t.push(l.value),!(e&&t.length===e));n=!0);}catch(u){i=!0,r=u}finally{try{!n&&a.return!=null&&a.return()}finally{if(i)throw r}}return t}}function $L(s,e){if(s){if(typeof s=="string")return u2(s,e);var t=Object.prototype.toString.call(s).slice(8,-1);if(t==="Object"&&s.constructor&&(t=s.constructor.name),t==="Map"||t==="Set")return Array.from(s);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return u2(s,e)}}function u2(s,e){(e==null||e>s.length)&&(e=s.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=s[t];return n}function ak(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ok(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ud(s,e){return Object.getOwnPropertyNames(Object(s)).reduce(function(t,n){var i=Object.getOwnPropertyDescriptor(Object(s),n),r=Object.getOwnPropertyDescriptor(Object(e),n);return Object.defineProperty(t,n,r||i)},{})}function a_(s){return typeof s=="string"}function WC(s){return Array.isArray(s)}function xx(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=Ud(s),t;return e.types!==void 0?t=e.types:e.split!==void 0&&(t=e.split),t!==void 0&&(e.types=(a_(t)||WC(t)?String(t):"").split(",").map(function(n){return String(n).trim()}).filter(function(n){return/((line)|(word)|(char))/i.test(n)})),(e.absolute||e.position)&&(e.absolute=e.absolute||/absolute/.test(s.position)),e}function KC(s){var e=a_(s)||WC(s)?String(s):"";return{none:!e,lines:/line/i.test(e),words:/word/i.test(e),chars:/char/i.test(e)}}function uM(s){return s!==null&&typeof s=="object"}function lk(s){return uM(s)&&/^(1|3|11)$/.test(s.nodeType)}function ck(s){return typeof s=="number"&&s>-1&&s%1===0}function uk(s){return uM(s)&&ck(s.length)}function ap(s){return WC(s)?s:s==null?[]:uk(s)?Array.prototype.slice.call(s):[s]}function mD(s){var e=s;return a_(s)&&(/^(#[a-z]\w+)$/.test(s.trim())?e=document.getElementById(s.trim().slice(1)):e=document.querySelectorAll(s)),ap(e).reduce(function(t,n){return[].concat(ca(t),ca(ap(n).filter(lk)))},[])}var fk=Object.entries,iA="_splittype",wl={},hk=0;function _c(s,e,t){if(!uM(s))return console.warn("[data.set] owner is not an object"),null;var n=s[iA]||(s[iA]=++hk),i=wl[n]||(wl[n]={});return t===void 0?e&&Object.getPrototypeOf(e)===Object.prototype&&(wl[n]=pD(pD({},i),e)):e!==void 0&&(i[e]=t),t}function Pd(s,e){var t=uM(s)?s[iA]:null,n=t&&wl[t]||{};return n}function eU(s){var e=s&&s[iA];e&&(delete s[e],delete wl[e])}function dk(){Object.keys(wl).forEach(function(s){delete wl[s]})}function pk(){fk(wl).forEach(function(s){var e=QL(s,2),t=e[0],n=e[1],i=n.isRoot,r=n.isSplit;(!i||!r)&&(wl[t]=null,delete wl[t])})}function mk(s){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:" ",t=s?String(s):"";return t.trim().replace(/\s+/g," ").split(e)}var JC="\\ud800-\\udfff",tU="\\u0300-\\u036f\\ufe20-\\ufe23",nU="\\u20d0-\\u20f0",iU="\\ufe0e\\ufe0f",gk="[".concat(JC,"]"),f2="[".concat(tU).concat(nU,"]"),h2="\\ud83c[\\udffb-\\udfff]",vk="(?:".concat(f2,"|").concat(h2,")"),sU="[^".concat(JC,"]"),rU="(?:\\ud83c[\\udde6-\\uddff]){2}",aU="[\\ud800-\\udbff][\\udc00-\\udfff]",oU="\\u200d",lU="".concat(vk,"?"),cU="[".concat(iU,"]?"),yk="(?:"+oU+"(?:"+[sU,rU,aU].join("|")+")"+cU+lU+")*",_k=cU+lU+yk,xk="(?:".concat(["".concat(sU).concat(f2,"?"),f2,rU,aU,gk].join("|"),`
)`),Sk=RegExp("".concat(h2,"(?=").concat(h2,")|").concat(xk).concat(_k),"g"),Ak=[oU,JC,tU,nU,iU],Mk=RegExp("[".concat(Ak.join(""),"]"));function bk(s){return s.split("")}function uU(s){return Mk.test(s)}function Ek(s){return s.match(Sk)||[]}function Tk(s){return uU(s)?Ek(s):bk(s)}function Ck(s){return s==null?"":String(s)}function wk(s){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return s=Ck(s),s&&a_(s)&&!e&&uU(s)?Tk(s):s.split(e)}function d2(s,e){var t=document.createElement(s);return e&&Object.keys(e).forEach(function(n){var i=e[n],r=a_(i)?i.trim():i;r===null||r===""||(n==="children"?t.append.apply(t,ca(ap(r))):t.setAttribute(n,r))}),t}var ZC={splitClass:"",lineClass:"line",wordClass:"word",charClass:"char",types:["lines","words","chars"],absolute:!1,tagName:"div"};function Rk(s,e){e=Ud(ZC,e);var t=KC(e.types),n=e.tagName,i=s.nodeValue,r=document.createDocumentFragment(),a=[],l=[];return/^\s/.test(i)&&r.append(" "),a=mk(i).reduce(function(u,h,m,g){var v,_;return t.chars&&(_=wk(h).map(function(S){var b=d2(n,{class:"".concat(e.splitClass," ").concat(e.charClass),style:"display: inline-block;",children:S});return _c(b,"isChar",!0),l=[].concat(ca(l),[b]),b})),t.words||t.lines?(v=d2(n,{class:"".concat(e.wordClass," ").concat(e.splitClass),style:"display: inline-block; ".concat(t.words&&e.absolute?"position: relative;":""),children:t.chars?_:h}),_c(v,{isWord:!0,isWordStart:!0,isWordEnd:!0}),r.appendChild(v)):_.forEach(function(S){r.appendChild(S)}),m<g.length-1&&r.append(" "),t.words?u.concat(v):u},[]),/\s$/.test(i)&&r.append(" "),s.replaceWith(r),{words:a,chars:l}}function fU(s,e){var t=s.nodeType,n={words:[],chars:[]};if(!/(1|3|11)/.test(t))return n;if(t===3&&/\S/.test(s.nodeValue))return Rk(s,e);var i=ap(s.childNodes);if(i.length&&(_c(s,"isSplit",!0),!Pd(s).isRoot)){s.style.display="inline-block",s.style.position="relative";var r=s.nextSibling,a=s.previousSibling,l=s.textContent||"",u=r?r.textContent:" ",h=a?a.textContent:" ";_c(s,{isWordEnd:/\s$/.test(l)||/^\s/.test(u),isWordStart:/^\s/.test(l)||/\s$/.test(h)})}return i.reduce(function(m,g){var v=fU(g,e),_=v.words,S=v.chars;return{words:[].concat(ca(m.words),ca(_)),chars:[].concat(ca(m.chars),ca(S))}},n)}function Bk(s,e,t,n){if(!t.absolute)return{top:e?s.offsetTop:null};var i=s.offsetParent,r=QL(n,2),a=r[0],l=r[1],u=0,h=0;if(i&&i!==document.body){var m=i.getBoundingClientRect();u=m.x+a,h=m.y+l}var g=s.getBoundingClientRect(),v=g.width,_=g.height,S=g.x,b=g.y,M=b+l-h,A=S+a-u;return{width:v,height:_,top:M,left:A}}function hU(s){Pd(s).isWord?(eU(s),s.replaceWith.apply(s,ca(s.childNodes))):ap(s.children).forEach(function(e){return hU(e)})}var Dk=function(){return document.createDocumentFragment()};function Nk(s,e,t){var n=KC(e.types),i=e.tagName,r=s.getElementsByTagName("*"),a=[],l=[],u=null,h,m,g,v=[],_=s.parentElement,S=s.nextElementSibling,b=Dk(),M=window.getComputedStyle(s),A=M.textAlign,C=parseFloat(M.fontSize),B=C*.2;return e.absolute&&(g={left:s.offsetLeft,top:s.offsetTop,width:s.offsetWidth},m=s.offsetWidth,h=s.offsetHeight,_c(s,{cssWidth:s.style.width,cssHeight:s.style.height})),ap(r).forEach(function(D){var N=D.parentElement===s,U=Bk(D,N,e,t),F=U.width,z=U.height,O=U.top,P=U.left;/^br$/i.test(D.nodeName)||(n.lines&&N&&((u===null||O-u>=B)&&(u=O,a.push(l=[])),l.push(D)),e.absolute&&_c(D,{top:O,left:P,width:F,height:z}))}),_&&_.removeChild(s),n.lines&&(v=a.map(function(D){var N=d2(i,{class:"".concat(e.splitClass," ").concat(e.lineClass),style:"display: block; text-align: ".concat(A,"; width: 100%;")});_c(N,"isLine",!0);var U={height:0,top:1e4};return b.appendChild(N),D.forEach(function(F,z,O){var P=Pd(F),q=P.isWordEnd,ne=P.top,te=P.height,ee=O[z+1];U.height=Math.max(U.height,te),U.top=Math.min(U.top,ne),N.appendChild(F),q&&Pd(ee).isWordStart&&N.append(" ")}),e.absolute&&_c(N,{height:U.height,top:U.top}),N}),n.words||hU(b),s.replaceChildren(b)),e.absolute&&(s.style.width="".concat(s.style.width||m,"px"),s.style.height="".concat(h,"px"),ap(r).forEach(function(D){var N=Pd(D),U=N.isLine,F=N.top,z=N.left,O=N.width,P=N.height,q=Pd(D.parentElement),ne=!U&&q.isLine;D.style.top="".concat(ne?F-q.top:F,"px"),D.style.left=U?"".concat(g.left,"px"):"".concat(z-(ne?g.left:0),"px"),D.style.height="".concat(P,"px"),D.style.width=U?"".concat(g.width,"px"):"".concat(O,"px"),D.style.position="absolute"})),_&&(S?_.insertBefore(s,S):_.appendChild(s)),v}var wm=Ud(ZC,{}),Ok=function(){hD(s,null,[{key:"clearData",value:function(){dk()}},{key:"setDefaults",value:function(t){return wm=Ud(wm,xx(t)),ZC}},{key:"revert",value:function(t){mD(t).forEach(function(n){var i=Pd(n),r=i.isSplit,a=i.html,l=i.cssWidth,u=i.cssHeight;r&&(n.innerHTML=a,n.style.width=l||"",n.style.height=u||"",eU(n))})}},{key:"create",value:function(t,n){return new s(t,n)}},{key:"data",get:function(){return wl}},{key:"defaults",get:function(){return wm},set:function(t){wm=Ud(wm,xx(t))}}]);function s(e,t){ek(this,s),this.isSplit=!1,this.settings=Ud(wm,xx(t)),this.elements=mD(e),this.split()}return hD(s,[{key:"split",value:function(t){var n=this;this.revert(),this.elements.forEach(function(a){_c(a,"html",a.innerHTML)}),this.lines=[],this.words=[],this.chars=[];var i=[window.pageXOffset,window.pageYOffset];t!==void 0&&(this.settings=Ud(this.settings,xx(t)));var r=KC(this.settings.types);r.none||(this.elements.forEach(function(a){_c(a,"isRoot",!0);var l=fU(a,n.settings),u=l.words,h=l.chars;n.words=[].concat(ca(n.words),ca(u)),n.chars=[].concat(ca(n.chars),ca(h))}),this.elements.forEach(function(a){if(r.lines||n.settings.absolute){var l=Nk(a,n.settings,i);n.lines=[].concat(ca(n.lines),ca(l))}}),this.isSplit=!0,window.scrollTo(i[0],i[1]),pk())}},{key:"revert",value:function(){this.isSplit&&(this.lines=null,this.words=null,this.chars=null,this.isSplit=!1),s.revert(this.elements)}}]),s}();On.registerPlugin(cM,Rn);const li=({children:s,className:e="",delay:t=0,duration:n=1,ease:i="power4.out",stagger:r=.05,lineSelector:a="",animateOnScroll:l=!0,direction:u="bottom",tag:h="p"})=>{const m=J.useRef(null),[g,v]=J.useState(null),[_,S]=J.useState(!1),b=J.useRef(null);J.useEffect(()=>{v(`copy-${Math.floor(Math.random()*1e4)}`)},[]),J.useEffect(()=>{if(!g||!m.current)return;const A=`line-${g}`,C=new Ok(m.current,{types:"lines",lineClass:A});b.current=C;const B=a||`.${A}`;document.querySelectorAll(B).forEach(U=>{const F=U.innerHTML;U.innerHTML=`<span class="line-inner-${g}">${F}</span>`});const N=u==="top"?"-100%":"100%";return On.set(`.line-inner-${g}`,{y:N,display:"block"}),S(!0),()=>{b.current&&b.current.revert()}},[g,a,u]),cM(()=>!_||!m.current?void 0:(On.timeline({defaults:{ease:i,duration:n},...l?{scrollTrigger:{trigger:m.current,start:"top 80%",toggleActions:"play none none none"}}:{}}).to(`.line-inner-${g}`,{y:"0%",stagger:r,delay:t}),()=>{l&&Rn.getAll().filter(C=>C.vars.trigger===m.current).forEach(C=>C.kill())}),{scope:m,dependencies:[_,l,t,n,i,r,u]});const M=h;return k.jsx(M,{ref:m,className:`animated-copy ${e}`,"data-copy-id":g,children:s})},Lk=()=>k.jsx(t_,{root:!0,children:k.jsxs("div",{className:"page project",children:[k.jsxs("section",{className:"project-header",children:[k.jsx(li,{delay:1,animateOnScroll:!1,className:"primary sm",children:"Short film on self-discovery"}),k.jsx(li,{tag:"h2",delay:1,children:"Fragments of Light"})]}),k.jsx("section",{className:"project-banner-img",children:k.jsx("div",{className:"project-banner-img-wrapper",children:k.jsx(ld,{src:"/project/banner.jpg",alt:""})})}),k.jsxs("section",{className:"project-details",children:[k.jsxs("div",{className:"details",children:[k.jsx(li,{tag:"p",animateOnScroll:!0,className:"primary sm",children:"Overview"}),k.jsx(li,{tag:"h4",animateOnScroll:!0,children:"A visual meditation on identity, *Fragments of Light* explores the quiet journey of self-discovery through minimalism, mood, and motion."})]}),k.jsxs("div",{className:"details",children:[k.jsx(li,{tag:"p",animateOnScroll:!0,className:"primary sm",children:"Year"}),k.jsx(li,{tag:"h4",animateOnScroll:!0,children:"2024"})]}),k.jsxs("div",{className:"details",children:[k.jsx(li,{tag:"p",animateOnScroll:!0,className:"primary sm",children:"Category"}),k.jsx(li,{tag:"h4",animateOnScroll:!0,children:"Short Film"})]}),k.jsxs("div",{className:"details",children:[k.jsx(li,{tag:"p",animateOnScroll:!0,className:"primary sm",children:"Running Time"}),k.jsx(li,{tag:"h4",animateOnScroll:!0,children:"6:30"})]}),k.jsxs("div",{className:"details",children:[k.jsx(li,{tag:"p",animateOnScroll:!0,className:"primary sm",children:"Directed by"}),k.jsx(li,{tag:"h4",animateOnScroll:!0,children:"Nico Palmer"})]})]}),k.jsx("section",{className:"project-images",children:k.jsxs("div",{className:"project-images-container",children:[k.jsx("div",{className:"project-img",children:k.jsx("div",{className:"project-img-wrapper",children:k.jsx(ld,{src:"/project/project-1.jpg",alt:""})})}),k.jsx("div",{className:"project-img",children:k.jsx("div",{className:"project-img-wrapper",children:k.jsx(ld,{src:"/project/project-2.jpg",alt:""})})}),k.jsx("div",{className:"project-img",children:k.jsx("div",{className:"project-img-wrapper",children:k.jsx(ld,{src:"/project/project-3.jpg",alt:""})})}),k.jsx("div",{className:"project-img",children:k.jsx("div",{className:"project-img-wrapper",children:k.jsx(ld,{src:"/project/project-4.jpg",alt:""})})}),k.jsx("div",{className:"project-img",children:k.jsx("div",{className:"project-img-wrapper",children:k.jsx(ld,{src:"/project/project-5.jpg",alt:""})})})]})}),k.jsxs("section",{className:"project-details",children:[k.jsxs("div",{className:"details",children:[k.jsx(li,{tag:"p",animateOnScroll:!0,className:"primary sm",children:"Editor"}),k.jsx(li,{tag:"h4",animateOnScroll:!0,children:"Nico Palmer"})]}),k.jsxs("div",{className:"details",children:[k.jsx(li,{tag:"p",animateOnScroll:!0,className:"primary sm",children:"Sound Design"}),k.jsx(li,{tag:"h4",animateOnScroll:!0,children:"Elena Brooks"})]}),k.jsxs("div",{className:"details",children:[k.jsx(li,{tag:"p",animateOnScroll:!0,className:"primary sm",children:"Art Director"}),k.jsx(li,{tag:"h4",animateOnScroll:!0,children:"Milo Vance"})]}),k.jsxs("div",{className:"details",children:[k.jsx(li,{tag:"p",animateOnScroll:!0,className:"primary sm",children:"Producer"}),k.jsx(li,{tag:"h4",animateOnScroll:!0,children:"Asha Lennox"})]}),k.jsxs("div",{className:"details",children:[k.jsx(li,{tag:"p",animateOnScroll:!0,className:"primary sm",children:"Director"}),k.jsx(li,{tag:"h4",animateOnScroll:!0,children:"Nico Palmer"})]})]}),k.jsxs("section",{className:"next-project",children:[k.jsx(li,{tag:"p",animateOnScroll:!0,className:"primary sm",children:"02 - 05"}),k.jsx(li,{tag:"h3",animateOnScroll:!0,children:"Next"}),k.jsx("div",{className:"next-project-img",children:k.jsx("div",{className:"next-project-img-wrapper",children:k.jsx(ld,{src:"/work/work-2.jpg",alt:""})})}),k.jsx(li,{tag:"h4",animateOnScroll:!0,children:"Market Pulse"})]})]})}),Uk=yp(Lk),Pk=()=>k.jsx(t_,{root:!0,children:k.jsxs("div",{className:"page about",children:[k.jsxs("section",{className:"about-header",children:[k.jsx("h1",{children:"Est"}),k.jsx("h1",{children:"1997"})]}),k.jsx("section",{className:"about-hero",children:k.jsx("div",{className:"about-hero-img",children:k.jsx("img",{src:"/about/about-hero.jpg",alt:""})})}),k.jsx("section",{className:"about-me-copy",children:k.jsxs("div",{className:"about-me-copy-wrapper",children:[k.jsx(li,{animateOnScroll:!0,tag:"h3",children:"I'm Nico Palmer — a filmmaker drawn to human stories, quiet moments, and the visual language of emotion. My work spans short films, experimental pieces, and cinematic visuals."}),k.jsx(li,{animateOnScroll:!0,tag:"h3",children:"For me, filmmaking isn’t just about images — it’s about what those images make us feel. I believe in subtlety, texture, and honesty in storytelling."}),k.jsx(li,{animateOnScroll:!0,tag:"h3",children:"Every project is a new collaboration, a new challenge, and a new chance to create something meaningful. If it moves someone, even for a second — it's done its job."})]})}),k.jsxs("section",{className:"services",children:[k.jsxs("div",{className:"services-col",children:[k.jsx("div",{className:"services-banner",children:k.jsx("img",{src:"/about/services-banner.jpg",alt:""})}),k.jsx("p",{className:"primary",children:"Crafted with Intention"})]}),k.jsxs("div",{className:"services-col",children:[k.jsx("h4",{children:"Every project is a chance to explore new visual language, push creative boundaries, and tell stories that feel real. I approach each film with care, precision, and purpose."}),k.jsxs("div",{className:"services-list",children:[k.jsxs("div",{className:"service-list-row",children:[k.jsx("div",{className:"service-list-col",children:k.jsx("h5",{children:"Filmmaking"})}),k.jsx("div",{className:"service-list-col",children:k.jsx("p",{children:"From short films to personal narratives, my work is driven by emotion and atmosphere. I handle direction, cinematography, and editing — crafting each piece with a filmmaker’s eye for mood, movement, and meaning."})})]}),k.jsxs("div",{className:"service-list-row",children:[k.jsx("div",{className:"service-list-col",children:k.jsx("h5",{children:"Visual Storytelling"})}),k.jsx("div",{className:"service-list-col",children:k.jsx("p",{children:"I create visuals that speak — whether it’s a quiet moment or a bold idea. My work blends aesthetic choices with story clarity, making sure the emotional core always comes through."})})]}),k.jsxs("div",{className:"service-list-row",children:[k.jsx("div",{className:"service-list-col",children:k.jsx("h5",{children:"Creative Direction"})}),k.jsx("div",{className:"service-list-col",children:k.jsx("p",{children:"From ideation to final cut, I guide the visual and narrative tone of every project. I bring a cohesive, cinematic vision that aligns story, style, and intention — grounded in authenticity."})})]})]})]})]}),k.jsx("section",{className:"about-banner-img",children:k.jsx("div",{className:"about-banner-img-wrapper",children:k.jsx("img",{src:"/about/about-banner.jpg",alt:""})})}),k.jsxs("section",{className:"fav-tools",children:[k.jsxs("div",{className:"fav-tools-header",children:[k.jsx(li,{tag:"p",animateOnScroll:!0,className:"primary sm",children:"Daily Stack"}),k.jsx(li,{tag:"h2",animateOnScroll:!0,delay:.25,children:"Favourite Tools"}),k.jsx(li,{tag:"p",animateOnScroll:!0,className:"secondary",delay:.5,children:"My favorite stack includes Framer, Figma, and other cutting-edge technologies to ensure seamless and dynamic designs."})]}),k.jsxs("div",{className:"fav-tools-list",children:[k.jsxs("div",{className:"fav-tools-list-row",children:[k.jsxs("div",{className:"fav-tool",children:[k.jsx("div",{className:"fav-tool-img",children:k.jsx("img",{src:"/about/tool-1.jpg",alt:""})}),k.jsx("h4",{children:"DaVinci Resolve"}),k.jsx("p",{className:"primary sm",children:"Color Grading"})]}),k.jsxs("div",{className:"fav-tool",children:[k.jsx("div",{className:"fav-tool-img",children:k.jsx("img",{src:"/about/tool-2.jpg",alt:""})}),k.jsx("h4",{children:"Adobe Premiere Pro"}),k.jsx("p",{className:"primary sm",children:"Video Editing"})]}),k.jsxs("div",{className:"fav-tool",children:[k.jsx("div",{className:"fav-tool-img",children:k.jsx("img",{src:"/about/tool-3.jpg",alt:""})}),k.jsx("h4",{children:"Blackmagic Pocket"}),k.jsx("p",{className:"primary sm",children:"Cinematic Shooting"})]})]}),k.jsxs("div",{className:"fav-tools-list-row",children:[k.jsxs("div",{className:"fav-tool",children:[k.jsx("div",{className:"fav-tool-img",children:k.jsx("img",{src:"/about/tool-4.jpg",alt:""})}),k.jsx("h4",{children:"ShotDeck"}),k.jsx("p",{className:"primary sm",children:"Visual References"})]}),k.jsxs("div",{className:"fav-tool",children:[k.jsx("div",{className:"fav-tool-img",children:k.jsx("img",{src:"/about/tool-5.jpg",alt:""})}),k.jsx("h4",{children:"Frame.io"}),k.jsx("p",{className:"primary sm",children:"Remote Collaboration"})]}),k.jsxs("div",{className:"fav-tool",children:[k.jsx("div",{className:"fav-tool-img",children:k.jsx("img",{src:"/about/tool-6.jpg",alt:""})}),k.jsx("h4",{children:"Celtx"}),k.jsx("p",{className:"primary sm",children:"Scriptwriting Tool"})]})]})]})]}),k.jsx(sC,{}),k.jsx(rC,{})]})}),Ik=yp(Pk),Sx=[{question:"What types of films do you specialize in?",answer:"I specialize in narrative short films, documentaries, and branded content. My focus is on strong storytelling and cinematic visuals."},{question:"Are you available for freelance or commissioned work?",answer:"Yes, I’m open to freelance and commissioned projects. Feel free to reach out through the contact form to discuss your vision."},{question:"Do you handle both filming and post-production?",answer:"Absolutely. I provide end-to-end services, including cinematography, editing, color grading, and sound design."},{question:"What equipment do you use?",answer:"I shoot with industry-standard gear including 4K cameras, professional audio equipment, and high-end editing software."},{question:"Can you travel for shoots?",answer:"Yes, I’m available for both local and international projects. Travel logistics can be discussed during the project planning phase."},{question:"Do you collaborate with other creatives?",answer:"Definitely. I often work with writers, actors, musicians, and other filmmakers to bring projects to life collaboratively."},{question:"How long does it take to complete a project?",answer:"Timelines vary by scope, but short films typically take 3–6 weeks. We’ll set a schedule that aligns with your goals and deadlines."},{question:"Can you help develop a concept or script?",answer:"Yes, I offer creative development services including concept ideation, scripting, and storyboarding to shape your project from scratch."},{question:"Where can I view your previous work?",answer:"You can explore my film projects on the portfolio page. Each listing includes a short description, trailer, or full version when available."},{question:"How can I contact you for a project?",answer:"You can use the contact form or email listed on the site. I aim to respond to all inquiries within 48 hours."}];/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fk=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),dU=(...s)=>s.filter((e,t,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===t).join(" ").trim();/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var zk={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hk=J.forwardRef(({color:s="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:n,className:i="",children:r,iconNode:a,...l},u)=>J.createElement("svg",{ref:u,...zk,width:e,height:e,stroke:s,strokeWidth:n?Number(t)*24/Number(e):t,className:dU("lucide",i),...l},[...a.map(([h,m])=>J.createElement(h,m)),...Array.isArray(r)?r:[r]]));/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gk=(s,e)=>{const t=J.forwardRef(({className:n,...i},r)=>J.createElement(Hk,{ref:r,iconNode:e,className:dU(`lucide-${Fk(s)}`,n),...i}));return t.displayName=`${s}`,t};/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vk=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],kk=Gk("ArrowRight",Vk),jk=({title:s=!0,fullWidth:e=!1})=>{const[t,n]=J.useState([]),i=J.useRef([]),r=J.useRef([]),a=J.useRef([]);J.useEffect(()=>{i.current=i.current.slice(0,Sx.length),r.current=r.current.slice(0,Sx.length),a.current=a.current.slice(0,Sx.length),On.fromTo(a.current,{opacity:0,y:20},{opacity:1,y:0,duration:.6,ease:"power2.out",stagger:.1,delay:1.25})},[]);const l=u=>{if(t.includes(u))On.to(i.current[u],{rotation:0,duration:.3,ease:"power2.out"}),On.to(r.current[u],{height:0,opacity:0,duration:.4,ease:"power2.out",paddingTop:0,paddingBottom:0}),n(t.filter(h=>h!==u));else{On.to(i.current[u],{rotation:90,duration:.3,ease:"power2.out"});const h=r.current[u].scrollHeight;On.to(r.current[u],{height:h+24,opacity:1,duration:.5,ease:"power2.out",paddingTop:"0.5em",paddingBottom:"0.5em"}),n([...t,u])}};return k.jsx("div",{className:"faq-container",children:k.jsxs("div",{className:`faq-wrapper ${e?"full-width":"contained"}`,children:[s&&k.jsx("div",{className:"faq-title",children:k.jsxs(li,{tag:"h2",animateOnScroll:!1,delay:1,children:["Frequently ",k.jsx("br",{})," Asked Questions"]})}),k.jsx("div",{className:"faq-items",children:Sx.map((u,h)=>k.jsxs("div",{className:"faq-item",ref:m=>a.current[h]=m,children:[k.jsxs("div",{className:"faq-question",onClick:()=>l(h),children:[k.jsx("h3",{children:u.question}),k.jsx("span",{className:"faq-icon",ref:m=>i.current[h]=m,children:k.jsx(kk,{size:20})})]}),k.jsx("div",{className:"faq-answer",ref:m=>r.current[h]=m,style:{height:0,opacity:0,overflow:"hidden"},children:k.jsx("p",{children:u.answer})})]},h))})]})})},Xk=()=>k.jsx(t_,{root:!0,children:k.jsxs("div",{className:"page faq",children:[k.jsx(jk,{}),k.jsx(sC,{}),k.jsx(rC,{})]})}),Yk=yp(Xk),qk=()=>k.jsx(t_,{root:!0,children:k.jsxs("div",{className:"page contact",children:[k.jsx(sC,{}),k.jsx(rC,{})]})}),Wk=yp(qk);function Tu(){return Tu=Object.assign?Object.assign.bind():function(s){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(s[n]=t[n])}return s},Tu.apply(null,arguments)}/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const qg="175",Kk={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},Jk={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},pU=0,p2=1,mU=2,Zk=3,gU=0,fM=1,hy=2,El=3,Rc=0,da=1,Vo=2,Ec=0,Qd=1,sA=2,m2=3,g2=4,vU=5,Pf=100,yU=101,_U=102,xU=103,SU=104,AU=200,MU=201,bU=202,EU=203,rA=204,aA=205,TU=206,CU=207,wU=208,RU=209,BU=210,DU=211,NU=212,OU=213,LU=214,oA=0,lA=1,cA=2,op=3,uA=4,fA=5,hA=6,dA=7,o_=0,UU=1,PU=2,Tc=0,IU=1,FU=2,zU=3,QC=4,HU=5,GU=6,VU=7,v2="attached",kU="detached",nh=300,Bc=301,ih=302,wg=303,zy=304,Wg=306,sh=1e3,ps=1001,Rg=1002,Js=1003,hM=1004,Qk=1004,Id=1005,$k=1005,fi=1006,pg=1007,ej=1007,Xo=1008,y2=1008,za=1009,dM=1010,pM=1011,Bg=1012,l_=1013,Dc=1014,$i=1015,Ks=1016,mM=1017,gM=1018,Dg=1020,$C=35902,ew=1021,tw=1022,ms=1023,nw=1024,iw=1025,Ng=1026,Og=1027,c_=1028,u_=1029,sw=1030,vM=1031,tj=1032,yM=1033,dy=33776,py=33777,my=33778,gy=33779,pA=35840,mA=35841,gA=35842,vA=35843,yA=36196,_A=37492,xA=37496,SA=37808,AA=37809,MA=37810,bA=37811,EA=37812,TA=37813,CA=37814,wA=37815,RA=37816,BA=37817,DA=37818,NA=37819,OA=37820,LA=37821,vy=36492,UA=36494,PA=36495,rw=36283,IA=36284,FA=36285,zA=36286,jU=2200,XU=2201,YU=2202,Lg=2300,Ug=2301,DS=2302,Fd=2400,zd=2401,Hy=2402,_M=2500,aw=2501,qU=0,ow=1,HA=2,WU=3200,KU=3201,nj=3202,ij=3203,ch=0,JU=1,du="",ur="srgb",Bl="srgb-linear",Gy="linear",Si="srgb",sj=0,Rd=7680,rj=7681,aj=7682,oj=7683,lj=34055,cj=34056,uj=5386,fj=512,hj=513,dj=514,pj=515,mj=516,gj=517,vj=518,_2=519,ZU=512,QU=513,$U=514,lw=515,e8=516,t8=517,n8=518,i8=519,Vy=35044,$d=35048,yj=35040,_j=35045,xj=35049,Sj=35041,Aj=35046,Mj=35050,bj=35042,Ej="100",x2="300 es",Cl=2e3,ky=2001,Tj={COMPUTE:"compute",RENDER:"render"};class Nc{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const n=this._listeners;n[e]===void 0&&(n[e]=[]),n[e].indexOf(t)===-1&&n[e].push(t)}hasEventListener(e,t){const n=this._listeners;return n===void 0?!1:n[e]!==void 0&&n[e].indexOf(t)!==-1}removeEventListener(e,t){const n=this._listeners;if(n===void 0)return;const i=n[e];if(i!==void 0){const r=i.indexOf(t);r!==-1&&i.splice(r,1)}}dispatchEvent(e){const t=this._listeners;if(t===void 0)return;const n=t[e.type];if(n!==void 0){e.target=this;const i=n.slice(0);for(let r=0,a=i.length;r<a;r++)i[r].call(this,e);e.target=null}}}const Tr=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let gD=1234567;const ep=Math.PI/180,Pg=180/Math.PI;function co(){const s=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,n=Math.random()*4294967295|0;return(Tr[s&255]+Tr[s>>8&255]+Tr[s>>16&255]+Tr[s>>24&255]+"-"+Tr[e&255]+Tr[e>>8&255]+"-"+Tr[e>>16&15|64]+Tr[e>>24&255]+"-"+Tr[t&63|128]+Tr[t>>8&255]+"-"+Tr[t>>16&255]+Tr[t>>24&255]+Tr[n&255]+Tr[n>>8&255]+Tr[n>>16&255]+Tr[n>>24&255]).toLowerCase()}function xn(s,e,t){return Math.max(e,Math.min(t,s))}function cw(s,e){return(s%e+e)%e}function Cj(s,e,t,n,i){return n+(s-e)*(i-n)/(t-e)}function wj(s,e,t){return s!==e?(t-s)/(e-s):0}function yy(s,e,t){return(1-t)*s+t*e}function Rj(s,e,t,n){return yy(s,e,1-Math.exp(-t*n))}function Bj(s,e=1){return e-Math.abs(cw(s,e*2)-e)}function Dj(s,e,t){return s<=e?0:s>=t?1:(s=(s-e)/(t-e),s*s*(3-2*s))}function Nj(s,e,t){return s<=e?0:s>=t?1:(s=(s-e)/(t-e),s*s*s*(s*(s*6-15)+10))}function Oj(s,e){return s+Math.floor(Math.random()*(e-s+1))}function Lj(s,e){return s+Math.random()*(e-s)}function Uj(s){return s*(.5-Math.random())}function Pj(s){s!==void 0&&(gD=s);let e=gD+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function Ij(s){return s*ep}function Fj(s){return s*Pg}function zj(s){return(s&s-1)===0&&s!==0}function Hj(s){return Math.pow(2,Math.ceil(Math.log(s)/Math.LN2))}function Gj(s){return Math.pow(2,Math.floor(Math.log(s)/Math.LN2))}function Vj(s,e,t,n,i){const r=Math.cos,a=Math.sin,l=r(t/2),u=a(t/2),h=r((e+n)/2),m=a((e+n)/2),g=r((e-n)/2),v=a((e-n)/2),_=r((n-e)/2),S=a((n-e)/2);switch(i){case"XYX":s.set(l*m,u*g,u*v,l*h);break;case"YZY":s.set(u*v,l*m,u*g,l*h);break;case"ZXZ":s.set(u*g,u*v,l*m,l*h);break;case"XZX":s.set(l*m,u*S,u*_,l*h);break;case"YXY":s.set(u*_,l*m,u*S,l*h);break;case"ZYZ":s.set(u*S,u*_,l*m,l*h);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}}function ha(s,e){switch(e.constructor){case Float32Array:return s;case Uint32Array:return s/4294967295;case Uint16Array:return s/65535;case Uint8Array:return s/255;case Int32Array:return Math.max(s/2147483647,-1);case Int16Array:return Math.max(s/32767,-1);case Int8Array:return Math.max(s/127,-1);default:throw new Error("Invalid component type.")}}function wn(s,e){switch(e.constructor){case Float32Array:return s;case Uint32Array:return Math.round(s*4294967295);case Uint16Array:return Math.round(s*65535);case Uint8Array:return Math.round(s*255);case Int32Array:return Math.round(s*2147483647);case Int16Array:return Math.round(s*32767);case Int8Array:return Math.round(s*127);default:throw new Error("Invalid component type.")}}const s8={DEG2RAD:ep,RAD2DEG:Pg,generateUUID:co,clamp:xn,euclideanModulo:cw,mapLinear:Cj,inverseLerp:wj,lerp:yy,damp:Rj,pingpong:Bj,smoothstep:Dj,smootherstep:Nj,randInt:Oj,randFloat:Lj,randFloatSpread:Uj,seededRandom:Pj,degToRad:Ij,radToDeg:Fj,isPowerOfTwo:zj,ceilPowerOfTwo:Hj,floorPowerOfTwo:Gj,setQuaternionFromProperEuler:Vj,normalize:wn,denormalize:ha};class at{constructor(e=0,t=0){at.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,n=this.y,i=e.elements;return this.x=i[0]*t+i[3]*n+i[6],this.y=i[1]*t+i[4]*n+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=xn(this.x,e.x,t.x),this.y=xn(this.y,e.y,t.y),this}clampScalar(e,t){return this.x=xn(this.x,e,t),this.y=xn(this.y,e,t),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(xn(n,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const n=this.dot(e)/t;return Math.acos(xn(n,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,n=this.y-e.y;return t*t+n*n}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const n=Math.cos(t),i=Math.sin(t),r=this.x-e.x,a=this.y-e.y;return this.x=r*n-a*i+e.x,this.y=r*i+a*n+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class bn{constructor(e,t,n,i,r,a,l,u,h){bn.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,t,n,i,r,a,l,u,h)}set(e,t,n,i,r,a,l,u,h){const m=this.elements;return m[0]=e,m[1]=i,m[2]=l,m[3]=t,m[4]=r,m[5]=u,m[6]=n,m[7]=a,m[8]=h,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],this}extractBasis(e,t,n){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),n.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const n=e.elements,i=t.elements,r=this.elements,a=n[0],l=n[3],u=n[6],h=n[1],m=n[4],g=n[7],v=n[2],_=n[5],S=n[8],b=i[0],M=i[3],A=i[6],C=i[1],B=i[4],D=i[7],N=i[2],U=i[5],F=i[8];return r[0]=a*b+l*C+u*N,r[3]=a*M+l*B+u*U,r[6]=a*A+l*D+u*F,r[1]=h*b+m*C+g*N,r[4]=h*M+m*B+g*U,r[7]=h*A+m*D+g*F,r[2]=v*b+_*C+S*N,r[5]=v*M+_*B+S*U,r[8]=v*A+_*D+S*F,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],n=e[1],i=e[2],r=e[3],a=e[4],l=e[5],u=e[6],h=e[7],m=e[8];return t*a*m-t*l*h-n*r*m+n*l*u+i*r*h-i*a*u}invert(){const e=this.elements,t=e[0],n=e[1],i=e[2],r=e[3],a=e[4],l=e[5],u=e[6],h=e[7],m=e[8],g=m*a-l*h,v=l*u-m*r,_=h*r-a*u,S=t*g+n*v+i*_;if(S===0)return this.set(0,0,0,0,0,0,0,0,0);const b=1/S;return e[0]=g*b,e[1]=(i*h-m*n)*b,e[2]=(l*n-i*a)*b,e[3]=v*b,e[4]=(m*t-i*u)*b,e[5]=(i*r-l*t)*b,e[6]=_*b,e[7]=(n*u-h*t)*b,e[8]=(a*t-n*r)*b,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,n,i,r,a,l){const u=Math.cos(r),h=Math.sin(r);return this.set(n*u,n*h,-n*(u*a+h*l)+a+e,-i*h,i*u,-i*(-h*a+u*l)+l+t,0,0,1),this}scale(e,t){return this.premultiply(lE.makeScale(e,t)),this}rotate(e){return this.premultiply(lE.makeRotation(-e)),this}translate(e,t){return this.premultiply(lE.makeTranslation(e,t)),this}makeTranslation(e,t){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,n,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,n=e.elements;for(let i=0;i<9;i++)if(t[i]!==n[i])return!1;return!0}fromArray(e,t=0){for(let n=0;n<9;n++)this.elements[n]=e[n+t];return this}toArray(e=[],t=0){const n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const lE=new bn;function r8(s){for(let e=s.length-1;e>=0;--e)if(s[e]>=65535)return!0;return!1}const kj={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function ag(s,e){return new kj[s](e)}function jy(s){return document.createElementNS("http://www.w3.org/1999/xhtml",s)}function a8(){const s=jy("canvas");return s.style.display="block",s}const vD={};function NS(s){s in vD||(vD[s]=!0,console.warn(s))}function jj(s,e,t){return new Promise(function(n,i){function r(){switch(s.clientWaitSync(e,s.SYNC_FLUSH_COMMANDS_BIT,0)){case s.WAIT_FAILED:i();break;case s.TIMEOUT_EXPIRED:setTimeout(r,t);break;default:n()}}setTimeout(r,t)})}function Xj(s){const e=s.elements;e[2]=.5*e[2]+.5*e[3],e[6]=.5*e[6]+.5*e[7],e[10]=.5*e[10]+.5*e[11],e[14]=.5*e[14]+.5*e[15]}function Yj(s){const e=s.elements;e[11]===-1?(e[10]=-e[10]-1,e[14]=-e[14]):(e[10]=-e[10],e[14]=-e[14]+1)}const yD=new bn().set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),_D=new bn().set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);function qj(){const s={enabled:!0,workingColorSpace:Bl,spaces:{},convert:function(i,r,a){return this.enabled===!1||r===a||!r||!a||(this.spaces[r].transfer===Si&&(i.r=Su(i.r),i.g=Su(i.g),i.b=Su(i.b)),this.spaces[r].primaries!==this.spaces[a].primaries&&(i.applyMatrix3(this.spaces[r].toXYZ),i.applyMatrix3(this.spaces[a].fromXYZ)),this.spaces[a].transfer===Si&&(i.r=mg(i.r),i.g=mg(i.g),i.b=mg(i.b))),i},fromWorkingColorSpace:function(i,r){return this.convert(i,this.workingColorSpace,r)},toWorkingColorSpace:function(i,r){return this.convert(i,r,this.workingColorSpace)},getPrimaries:function(i){return this.spaces[i].primaries},getTransfer:function(i){return i===du?Gy:this.spaces[i].transfer},getLuminanceCoefficients:function(i,r=this.workingColorSpace){return i.fromArray(this.spaces[r].luminanceCoefficients)},define:function(i){Object.assign(this.spaces,i)},_getMatrix:function(i,r,a){return i.copy(this.spaces[r].toXYZ).multiply(this.spaces[a].fromXYZ)},_getDrawingBufferColorSpace:function(i){return this.spaces[i].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(i=this.workingColorSpace){return this.spaces[i].workingColorSpaceConfig.unpackColorSpace}},e=[.64,.33,.3,.6,.15,.06],t=[.2126,.7152,.0722],n=[.3127,.329];return s.define({[Bl]:{primaries:e,whitePoint:n,transfer:Gy,toXYZ:yD,fromXYZ:_D,luminanceCoefficients:t,workingColorSpaceConfig:{unpackColorSpace:ur},outputColorSpaceConfig:{drawingBufferColorSpace:ur}},[ur]:{primaries:e,whitePoint:n,transfer:Si,toXYZ:yD,fromXYZ:_D,luminanceCoefficients:t,outputColorSpaceConfig:{drawingBufferColorSpace:ur}}}),s}const qn=qj();function Su(s){return s<.04045?s*.0773993808:Math.pow(s*.9478672986+.0521327014,2.4)}function mg(s){return s<.0031308?s*12.92:1.055*Math.pow(s,.41666)-.055}let Rm;class o8{static getDataURL(e,t="image/png"){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let n;if(e instanceof HTMLCanvasElement)n=e;else{Rm===void 0&&(Rm=jy("canvas")),Rm.width=e.width,Rm.height=e.height;const i=Rm.getContext("2d");e instanceof ImageData?i.putImageData(e,0,0):i.drawImage(e,0,0,e.width,e.height),n=Rm}return n.toDataURL(t)}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const t=jy("canvas");t.width=e.width,t.height=e.height;const n=t.getContext("2d");n.drawImage(e,0,0,e.width,e.height);const i=n.getImageData(0,0,e.width,e.height),r=i.data;for(let a=0;a<r.length;a++)r[a]=Su(r[a]/255)*255;return n.putImageData(i,0,0),t}else if(e.data){const t=e.data.slice(0);for(let n=0;n<t.length;n++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[n]=Math.floor(Su(t[n]/255)*255):t[n]=Su(t[n]);return{data:t,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let Wj=0;class kf{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:Wj++}),this.uuid=co(),this.data=e,this.dataReady=!0,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const n={uuid:this.uuid,url:""},i=this.data;if(i!==null){let r;if(Array.isArray(i)){r=[];for(let a=0,l=i.length;a<l;a++)i[a].isDataTexture?r.push(cE(i[a].image)):r.push(cE(i[a]))}else r=cE(i);n.url=r}return t||(e.images[this.uuid]=n),n}}function cE(s){return typeof HTMLImageElement<"u"&&s instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&s instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&s instanceof ImageBitmap?o8.getDataURL(s):s.data?{data:Array.from(s.data),width:s.width,height:s.height,type:s.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let Kj=0;class pi extends Nc{constructor(e=pi.DEFAULT_IMAGE,t=pi.DEFAULT_MAPPING,n=ps,i=ps,r=fi,a=Xo,l=ms,u=za,h=pi.DEFAULT_ANISOTROPY,m=du){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:Kj++}),this.uuid=co(),this.name="",this.source=new kf(e),this.mipmaps=[],this.mapping=t,this.channel=0,this.wrapS=n,this.wrapT=i,this.magFilter=r,this.minFilter=a,this.anisotropy=h,this.format=l,this.internalFormat=null,this.type=u,this.offset=new at(0,0),this.repeat=new at(1,1),this.center=new at(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new bn,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=m,this.userData={},this.version=0,this.onUpdate=null,this.renderTarget=null,this.isRenderTargetTexture=!1,this.pmremVersion=0}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.renderTarget=e.renderTarget,this.isRenderTargetTexture=e.isRenderTargetTexture,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const n={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(n.userData=this.userData),t||(e.textures[this.uuid]=n),n}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==nh)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case sh:e.x=e.x-Math.floor(e.x);break;case ps:e.x=e.x<0?0:1;break;case Rg:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case sh:e.y=e.y-Math.floor(e.y);break;case ps:e.y=e.y<0?0:1;break;case Rg:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){e===!0&&this.pmremVersion++}}pi.DEFAULT_IMAGE=null;pi.DEFAULT_MAPPING=nh;pi.DEFAULT_ANISOTROPY=1;class ti{constructor(e=0,t=0,n=0,i=1){ti.prototype.isVector4=!0,this.x=e,this.y=t,this.z=n,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,n,i){return this.x=e,this.y=t,this.z=n,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,n=this.y,i=this.z,r=this.w,a=e.elements;return this.x=a[0]*t+a[4]*n+a[8]*i+a[12]*r,this.y=a[1]*t+a[5]*n+a[9]*i+a[13]*r,this.z=a[2]*t+a[6]*n+a[10]*i+a[14]*r,this.w=a[3]*t+a[7]*n+a[11]*i+a[15]*r,this}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this.w/=e.w,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,n,i,r;const u=e.elements,h=u[0],m=u[4],g=u[8],v=u[1],_=u[5],S=u[9],b=u[2],M=u[6],A=u[10];if(Math.abs(m-v)<.01&&Math.abs(g-b)<.01&&Math.abs(S-M)<.01){if(Math.abs(m+v)<.1&&Math.abs(g+b)<.1&&Math.abs(S+M)<.1&&Math.abs(h+_+A-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const B=(h+1)/2,D=(_+1)/2,N=(A+1)/2,U=(m+v)/4,F=(g+b)/4,z=(S+M)/4;return B>D&&B>N?B<.01?(n=0,i=.707106781,r=.707106781):(n=Math.sqrt(B),i=U/n,r=F/n):D>N?D<.01?(n=.707106781,i=0,r=.707106781):(i=Math.sqrt(D),n=U/i,r=z/i):N<.01?(n=.707106781,i=.707106781,r=0):(r=Math.sqrt(N),n=F/r,i=z/r),this.set(n,i,r,t),this}let C=Math.sqrt((M-S)*(M-S)+(g-b)*(g-b)+(v-m)*(v-m));return Math.abs(C)<.001&&(C=1),this.x=(M-S)/C,this.y=(g-b)/C,this.z=(v-m)/C,this.w=Math.acos((h+_+A-1)/2),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this.w=t[15],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=xn(this.x,e.x,t.x),this.y=xn(this.y,e.y,t.y),this.z=xn(this.z,e.z,t.z),this.w=xn(this.w,e.w,t.w),this}clampScalar(e,t){return this.x=xn(this.x,e,t),this.y=xn(this.y,e,t),this.z=xn(this.z,e,t),this.w=xn(this.w,e,t),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(xn(n,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this.w=e.w+(t.w-e.w)*n,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class xM extends Nc{constructor(e=1,t=1,n={}){super(),this.isRenderTarget=!0,this.width=e,this.height=t,this.depth=1,this.scissor=new ti(0,0,e,t),this.scissorTest=!1,this.viewport=new ti(0,0,e,t);const i={width:e,height:t,depth:1};n=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:fi,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1},n);const r=new pi(i,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.colorSpace);r.flipY=!1,r.generateMipmaps=n.generateMipmaps,r.internalFormat=n.internalFormat,this.textures=[];const a=n.count;for(let l=0;l<a;l++)this.textures[l]=r.clone(),this.textures[l].isRenderTargetTexture=!0,this.textures[l].renderTarget=this;this.depthBuffer=n.depthBuffer,this.stencilBuffer=n.stencilBuffer,this.resolveDepthBuffer=n.resolveDepthBuffer,this.resolveStencilBuffer=n.resolveStencilBuffer,this._depthTexture=n.depthTexture,this.samples=n.samples}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}set depthTexture(e){this._depthTexture!==null&&(this._depthTexture.renderTarget=null),e!==null&&(e.renderTarget=this),this._depthTexture=e}get depthTexture(){return this._depthTexture}setSize(e,t,n=1){if(this.width!==e||this.height!==t||this.depth!==n){this.width=e,this.height=t,this.depth=n;for(let i=0,r=this.textures.length;i<r;i++)this.textures[i].image.width=e,this.textures[i].image.height=t,this.textures[i].image.depth=n;this.dispose()}this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let t=0,n=e.textures.length;t<n;t++){this.textures[t]=e.textures[t].clone(),this.textures[t].isRenderTargetTexture=!0,this.textures[t].renderTarget=this;const i=Object.assign({},e.textures[t].image);this.textures[t].source=new kf(i)}return this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class qo extends xM{constructor(e=1,t=1,n={}){super(e,t,n),this.isWebGLRenderTarget=!0}}class f_ extends pi{constructor(e=null,t=1,n=1,i=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:n,depth:i},this.magFilter=Js,this.minFilter=Js,this.wrapR=ps,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class Jj extends qo{constructor(e=1,t=1,n=1,i={}){super(e,t,i),this.isWebGLArrayRenderTarget=!0,this.depth=n,this.texture=new f_(null,e,t,n),this.texture.isRenderTargetTexture=!0}}class SM extends pi{constructor(e=null,t=1,n=1,i=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:n,depth:i},this.magFilter=Js,this.minFilter=Js,this.wrapR=ps,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class Zj extends qo{constructor(e=1,t=1,n=1,i={}){super(e,t,i),this.isWebGL3DRenderTarget=!0,this.depth=n,this.texture=new SM(null,e,t,n),this.texture.isRenderTargetTexture=!0}}class Ir{constructor(e=0,t=0,n=0,i=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=n,this._w=i}static slerpFlat(e,t,n,i,r,a,l){let u=n[i+0],h=n[i+1],m=n[i+2],g=n[i+3];const v=r[a+0],_=r[a+1],S=r[a+2],b=r[a+3];if(l===0){e[t+0]=u,e[t+1]=h,e[t+2]=m,e[t+3]=g;return}if(l===1){e[t+0]=v,e[t+1]=_,e[t+2]=S,e[t+3]=b;return}if(g!==b||u!==v||h!==_||m!==S){let M=1-l;const A=u*v+h*_+m*S+g*b,C=A>=0?1:-1,B=1-A*A;if(B>Number.EPSILON){const N=Math.sqrt(B),U=Math.atan2(N,A*C);M=Math.sin(M*U)/N,l=Math.sin(l*U)/N}const D=l*C;if(u=u*M+v*D,h=h*M+_*D,m=m*M+S*D,g=g*M+b*D,M===1-l){const N=1/Math.sqrt(u*u+h*h+m*m+g*g);u*=N,h*=N,m*=N,g*=N}}e[t]=u,e[t+1]=h,e[t+2]=m,e[t+3]=g}static multiplyQuaternionsFlat(e,t,n,i,r,a){const l=n[i],u=n[i+1],h=n[i+2],m=n[i+3],g=r[a],v=r[a+1],_=r[a+2],S=r[a+3];return e[t]=l*S+m*g+u*_-h*v,e[t+1]=u*S+m*v+h*g-l*_,e[t+2]=h*S+m*_+l*v-u*g,e[t+3]=m*S-l*g-u*v-h*_,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,n,i){return this._x=e,this._y=t,this._z=n,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t=!0){const n=e._x,i=e._y,r=e._z,a=e._order,l=Math.cos,u=Math.sin,h=l(n/2),m=l(i/2),g=l(r/2),v=u(n/2),_=u(i/2),S=u(r/2);switch(a){case"XYZ":this._x=v*m*g+h*_*S,this._y=h*_*g-v*m*S,this._z=h*m*S+v*_*g,this._w=h*m*g-v*_*S;break;case"YXZ":this._x=v*m*g+h*_*S,this._y=h*_*g-v*m*S,this._z=h*m*S-v*_*g,this._w=h*m*g+v*_*S;break;case"ZXY":this._x=v*m*g-h*_*S,this._y=h*_*g+v*m*S,this._z=h*m*S+v*_*g,this._w=h*m*g-v*_*S;break;case"ZYX":this._x=v*m*g-h*_*S,this._y=h*_*g+v*m*S,this._z=h*m*S-v*_*g,this._w=h*m*g+v*_*S;break;case"YZX":this._x=v*m*g+h*_*S,this._y=h*_*g+v*m*S,this._z=h*m*S-v*_*g,this._w=h*m*g-v*_*S;break;case"XZY":this._x=v*m*g-h*_*S,this._y=h*_*g-v*m*S,this._z=h*m*S+v*_*g,this._w=h*m*g+v*_*S;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+a)}return t===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const n=t/2,i=Math.sin(n);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(n),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,n=t[0],i=t[4],r=t[8],a=t[1],l=t[5],u=t[9],h=t[2],m=t[6],g=t[10],v=n+l+g;if(v>0){const _=.5/Math.sqrt(v+1);this._w=.25/_,this._x=(m-u)*_,this._y=(r-h)*_,this._z=(a-i)*_}else if(n>l&&n>g){const _=2*Math.sqrt(1+n-l-g);this._w=(m-u)/_,this._x=.25*_,this._y=(i+a)/_,this._z=(r+h)/_}else if(l>g){const _=2*Math.sqrt(1+l-n-g);this._w=(r-h)/_,this._x=(i+a)/_,this._y=.25*_,this._z=(u+m)/_}else{const _=2*Math.sqrt(1+g-n-l);this._w=(a-i)/_,this._x=(r+h)/_,this._y=(u+m)/_,this._z=.25*_}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let n=e.dot(t)+1;return n<Number.EPSILON?(n=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=n):(this._x=0,this._y=-e.z,this._z=e.y,this._w=n)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=n),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(xn(this.dot(e),-1,1)))}rotateTowards(e,t){const n=this.angleTo(e);if(n===0)return this;const i=Math.min(1,t/n);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const n=e._x,i=e._y,r=e._z,a=e._w,l=t._x,u=t._y,h=t._z,m=t._w;return this._x=n*m+a*l+i*h-r*u,this._y=i*m+a*u+r*l-n*h,this._z=r*m+a*h+n*u-i*l,this._w=a*m-n*l-i*u-r*h,this._onChangeCallback(),this}slerp(e,t){if(t===0)return this;if(t===1)return this.copy(e);const n=this._x,i=this._y,r=this._z,a=this._w;let l=a*e._w+n*e._x+i*e._y+r*e._z;if(l<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,l=-l):this.copy(e),l>=1)return this._w=a,this._x=n,this._y=i,this._z=r,this;const u=1-l*l;if(u<=Number.EPSILON){const _=1-t;return this._w=_*a+t*this._w,this._x=_*n+t*this._x,this._y=_*i+t*this._y,this._z=_*r+t*this._z,this.normalize(),this}const h=Math.sqrt(u),m=Math.atan2(h,l),g=Math.sin((1-t)*m)/h,v=Math.sin(t*m)/h;return this._w=a*g+this._w*v,this._x=n*g+this._x*v,this._y=i*g+this._y*v,this._z=r*g+this._z*v,this._onChangeCallback(),this}slerpQuaternions(e,t,n){return this.copy(e).slerp(t,n)}random(){const e=2*Math.PI*Math.random(),t=2*Math.PI*Math.random(),n=Math.random(),i=Math.sqrt(1-n),r=Math.sqrt(n);return this.set(i*Math.sin(e),i*Math.cos(e),r*Math.sin(t),r*Math.cos(t))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class ae{constructor(e=0,t=0,n=0){ae.prototype.isVector3=!0,this.x=e,this.y=t,this.z=n}set(e,t,n){return n===void 0&&(n=this.z),this.x=e,this.y=t,this.z=n,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(xD.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(xD.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,n=this.y,i=this.z,r=e.elements;return this.x=r[0]*t+r[3]*n+r[6]*i,this.y=r[1]*t+r[4]*n+r[7]*i,this.z=r[2]*t+r[5]*n+r[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,n=this.y,i=this.z,r=e.elements,a=1/(r[3]*t+r[7]*n+r[11]*i+r[15]);return this.x=(r[0]*t+r[4]*n+r[8]*i+r[12])*a,this.y=(r[1]*t+r[5]*n+r[9]*i+r[13])*a,this.z=(r[2]*t+r[6]*n+r[10]*i+r[14])*a,this}applyQuaternion(e){const t=this.x,n=this.y,i=this.z,r=e.x,a=e.y,l=e.z,u=e.w,h=2*(a*i-l*n),m=2*(l*t-r*i),g=2*(r*n-a*t);return this.x=t+u*h+a*g-l*m,this.y=n+u*m+l*h-r*g,this.z=i+u*g+r*m-a*h,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,n=this.y,i=this.z,r=e.elements;return this.x=r[0]*t+r[4]*n+r[8]*i,this.y=r[1]*t+r[5]*n+r[9]*i,this.z=r[2]*t+r[6]*n+r[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=xn(this.x,e.x,t.x),this.y=xn(this.y,e.y,t.y),this.z=xn(this.z,e.z,t.z),this}clampScalar(e,t){return this.x=xn(this.x,e,t),this.y=xn(this.y,e,t),this.z=xn(this.z,e,t),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(xn(n,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const n=e.x,i=e.y,r=e.z,a=t.x,l=t.y,u=t.z;return this.x=i*u-r*l,this.y=r*a-n*u,this.z=n*l-i*a,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const n=e.dot(this)/t;return this.copy(e).multiplyScalar(n)}projectOnPlane(e){return uE.copy(this).projectOnVector(e),this.sub(uE)}reflect(e){return this.sub(uE.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const n=this.dot(e)/t;return Math.acos(xn(n,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,n=this.y-e.y,i=this.z-e.z;return t*t+n*n+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,n){const i=Math.sin(t)*e;return this.x=i*Math.sin(n),this.y=Math.cos(t)*e,this.z=i*Math.cos(n),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,n){return this.x=e*Math.sin(t),this.y=n,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),n=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=n,this.z=i,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,t=Math.random()*2-1,n=Math.sqrt(1-t*t);return this.x=n*Math.cos(e),this.y=t,this.z=n*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const uE=new ae,xD=new Ir;class Fr{constructor(e=new ae(1/0,1/0,1/0),t=new ae(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t+=3)this.expandByPoint(_l.fromArray(e,t));return this}setFromBufferAttribute(e){this.makeEmpty();for(let t=0,n=e.count;t<n;t++)this.expandByPoint(_l.fromBufferAttribute(e,t));return this}setFromPoints(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const n=_l.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);const n=e.geometry;if(n!==void 0){const r=n.getAttribute("position");if(t===!0&&r!==void 0&&e.isInstancedMesh!==!0)for(let a=0,l=r.count;a<l;a++)e.isMesh===!0?e.getVertexPosition(a,_l):_l.fromBufferAttribute(r,a),_l.applyMatrix4(e.matrixWorld),this.expandByPoint(_l);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),Ax.copy(e.boundingBox)):(n.boundingBox===null&&n.computeBoundingBox(),Ax.copy(n.boundingBox)),Ax.applyMatrix4(e.matrixWorld),this.union(Ax)}const i=e.children;for(let r=0,a=i.length;r<a;r++)this.expandByObject(i[r],t);return this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y&&e.z>=this.min.z&&e.z<=this.max.z}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y&&e.max.z>=this.min.z&&e.min.z<=this.max.z}intersectsSphere(e){return this.clampPoint(e.center,_l),_l.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,n;return e.normal.x>0?(t=e.normal.x*this.min.x,n=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,n=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,n+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,n+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,n+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,n+=e.normal.z*this.min.z),t<=-e.constant&&n>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(_v),Mx.subVectors(this.max,_v),Bm.subVectors(e.a,_v),Dm.subVectors(e.b,_v),Nm.subVectors(e.c,_v),Mf.subVectors(Dm,Bm),bf.subVectors(Nm,Dm),cd.subVectors(Bm,Nm);let t=[0,-Mf.z,Mf.y,0,-bf.z,bf.y,0,-cd.z,cd.y,Mf.z,0,-Mf.x,bf.z,0,-bf.x,cd.z,0,-cd.x,-Mf.y,Mf.x,0,-bf.y,bf.x,0,-cd.y,cd.x,0];return!fE(t,Bm,Dm,Nm,Mx)||(t=[1,0,0,0,1,0,0,0,1],!fE(t,Bm,Dm,Nm,Mx))?!1:(bx.crossVectors(Mf,bf),t=[bx.x,bx.y,bx.z],fE(t,Bm,Dm,Nm,Mx))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,_l).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(_l).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(nu[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),nu[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),nu[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),nu[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),nu[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),nu[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),nu[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),nu[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(nu),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const nu=[new ae,new ae,new ae,new ae,new ae,new ae,new ae,new ae],_l=new ae,Ax=new Fr,Bm=new ae,Dm=new ae,Nm=new ae,Mf=new ae,bf=new ae,cd=new ae,_v=new ae,Mx=new ae,bx=new ae,ud=new ae;function fE(s,e,t,n,i){for(let r=0,a=s.length-3;r<=a;r+=3){ud.fromArray(s,r);const l=i.x*Math.abs(ud.x)+i.y*Math.abs(ud.y)+i.z*Math.abs(ud.z),u=e.dot(ud),h=t.dot(ud),m=n.dot(ud);if(Math.max(-Math.max(u,h,m),Math.min(u,h,m))>l)return!1}return!0}const Qj=new Fr,xv=new ae,hE=new ae;class pr{constructor(e=new ae,t=-1){this.isSphere=!0,this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const n=this.center;t!==void 0?n.copy(t):Qj.setFromPoints(e).getCenter(n);let i=0;for(let r=0,a=e.length;r<a;r++)i=Math.max(i,n.distanceToSquared(e[r]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const n=this.center.distanceToSquared(e);return t.copy(e),n>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;xv.subVectors(e,this.center);const t=xv.lengthSq();if(t>this.radius*this.radius){const n=Math.sqrt(t),i=(n-this.radius)*.5;this.center.addScaledVector(xv,i/n),this.radius+=i}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(hE.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(xv.copy(e.center).add(hE)),this.expandByPoint(xv.copy(e.center).sub(hE))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const iu=new ae,dE=new ae,Ex=new ae,Ef=new ae,pE=new ae,Tx=new ae,mE=new ae;class Kg{constructor(e=new ae,t=new ae(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,iu)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const n=t.dot(this.direction);return n<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,n)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=iu.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(iu.copy(this.origin).addScaledVector(this.direction,t),iu.distanceToSquared(e))}distanceSqToSegment(e,t,n,i){dE.copy(e).add(t).multiplyScalar(.5),Ex.copy(t).sub(e).normalize(),Ef.copy(this.origin).sub(dE);const r=e.distanceTo(t)*.5,a=-this.direction.dot(Ex),l=Ef.dot(this.direction),u=-Ef.dot(Ex),h=Ef.lengthSq(),m=Math.abs(1-a*a);let g,v,_,S;if(m>0)if(g=a*u-l,v=a*l-u,S=r*m,g>=0)if(v>=-S)if(v<=S){const b=1/m;g*=b,v*=b,_=g*(g+a*v+2*l)+v*(a*g+v+2*u)+h}else v=r,g=Math.max(0,-(a*v+l)),_=-g*g+v*(v+2*u)+h;else v=-r,g=Math.max(0,-(a*v+l)),_=-g*g+v*(v+2*u)+h;else v<=-S?(g=Math.max(0,-(-a*r+l)),v=g>0?-r:Math.min(Math.max(-r,-u),r),_=-g*g+v*(v+2*u)+h):v<=S?(g=0,v=Math.min(Math.max(-r,-u),r),_=v*(v+2*u)+h):(g=Math.max(0,-(a*r+l)),v=g>0?r:Math.min(Math.max(-r,-u),r),_=-g*g+v*(v+2*u)+h);else v=a>0?-r:r,g=Math.max(0,-(a*v+l)),_=-g*g+v*(v+2*u)+h;return n&&n.copy(this.origin).addScaledVector(this.direction,g),i&&i.copy(dE).addScaledVector(Ex,v),_}intersectSphere(e,t){iu.subVectors(e.center,this.origin);const n=iu.dot(this.direction),i=iu.dot(iu)-n*n,r=e.radius*e.radius;if(i>r)return null;const a=Math.sqrt(r-i),l=n-a,u=n+a;return u<0?null:l<0?this.at(u,t):this.at(l,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const n=-(this.origin.dot(e.normal)+e.constant)/t;return n>=0?n:null}intersectPlane(e,t){const n=this.distanceToPlane(e);return n===null?null:this.at(n,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let n,i,r,a,l,u;const h=1/this.direction.x,m=1/this.direction.y,g=1/this.direction.z,v=this.origin;return h>=0?(n=(e.min.x-v.x)*h,i=(e.max.x-v.x)*h):(n=(e.max.x-v.x)*h,i=(e.min.x-v.x)*h),m>=0?(r=(e.min.y-v.y)*m,a=(e.max.y-v.y)*m):(r=(e.max.y-v.y)*m,a=(e.min.y-v.y)*m),n>a||r>i||((r>n||isNaN(n))&&(n=r),(a<i||isNaN(i))&&(i=a),g>=0?(l=(e.min.z-v.z)*g,u=(e.max.z-v.z)*g):(l=(e.max.z-v.z)*g,u=(e.min.z-v.z)*g),n>u||l>i)||((l>n||n!==n)&&(n=l),(u<i||i!==i)&&(i=u),i<0)?null:this.at(n>=0?n:i,t)}intersectsBox(e){return this.intersectBox(e,iu)!==null}intersectTriangle(e,t,n,i,r){pE.subVectors(t,e),Tx.subVectors(n,e),mE.crossVectors(pE,Tx);let a=this.direction.dot(mE),l;if(a>0){if(i)return null;l=1}else if(a<0)l=-1,a=-a;else return null;Ef.subVectors(this.origin,e);const u=l*this.direction.dot(Tx.crossVectors(Ef,Tx));if(u<0)return null;const h=l*this.direction.dot(pE.cross(Ef));if(h<0||u+h>a)return null;const m=-l*Ef.dot(mE);return m<0?null:this.at(m/a,r)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class sn{constructor(e,t,n,i,r,a,l,u,h,m,g,v,_,S,b,M){sn.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,t,n,i,r,a,l,u,h,m,g,v,_,S,b,M)}set(e,t,n,i,r,a,l,u,h,m,g,v,_,S,b,M){const A=this.elements;return A[0]=e,A[4]=t,A[8]=n,A[12]=i,A[1]=r,A[5]=a,A[9]=l,A[13]=u,A[2]=h,A[6]=m,A[10]=g,A[14]=v,A[3]=_,A[7]=S,A[11]=b,A[15]=M,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new sn().fromArray(this.elements)}copy(e){const t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],this}copyPosition(e){const t=this.elements,n=e.elements;return t[12]=n[12],t[13]=n[13],t[14]=n[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,n){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this}makeBasis(e,t,n){return this.set(e.x,t.x,n.x,0,e.y,t.y,n.y,0,e.z,t.z,n.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,n=e.elements,i=1/Om.setFromMatrixColumn(e,0).length(),r=1/Om.setFromMatrixColumn(e,1).length(),a=1/Om.setFromMatrixColumn(e,2).length();return t[0]=n[0]*i,t[1]=n[1]*i,t[2]=n[2]*i,t[3]=0,t[4]=n[4]*r,t[5]=n[5]*r,t[6]=n[6]*r,t[7]=0,t[8]=n[8]*a,t[9]=n[9]*a,t[10]=n[10]*a,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,n=e.x,i=e.y,r=e.z,a=Math.cos(n),l=Math.sin(n),u=Math.cos(i),h=Math.sin(i),m=Math.cos(r),g=Math.sin(r);if(e.order==="XYZ"){const v=a*m,_=a*g,S=l*m,b=l*g;t[0]=u*m,t[4]=-u*g,t[8]=h,t[1]=_+S*h,t[5]=v-b*h,t[9]=-l*u,t[2]=b-v*h,t[6]=S+_*h,t[10]=a*u}else if(e.order==="YXZ"){const v=u*m,_=u*g,S=h*m,b=h*g;t[0]=v+b*l,t[4]=S*l-_,t[8]=a*h,t[1]=a*g,t[5]=a*m,t[9]=-l,t[2]=_*l-S,t[6]=b+v*l,t[10]=a*u}else if(e.order==="ZXY"){const v=u*m,_=u*g,S=h*m,b=h*g;t[0]=v-b*l,t[4]=-a*g,t[8]=S+_*l,t[1]=_+S*l,t[5]=a*m,t[9]=b-v*l,t[2]=-a*h,t[6]=l,t[10]=a*u}else if(e.order==="ZYX"){const v=a*m,_=a*g,S=l*m,b=l*g;t[0]=u*m,t[4]=S*h-_,t[8]=v*h+b,t[1]=u*g,t[5]=b*h+v,t[9]=_*h-S,t[2]=-h,t[6]=l*u,t[10]=a*u}else if(e.order==="YZX"){const v=a*u,_=a*h,S=l*u,b=l*h;t[0]=u*m,t[4]=b-v*g,t[8]=S*g+_,t[1]=g,t[5]=a*m,t[9]=-l*m,t[2]=-h*m,t[6]=_*g+S,t[10]=v-b*g}else if(e.order==="XZY"){const v=a*u,_=a*h,S=l*u,b=l*h;t[0]=u*m,t[4]=-g,t[8]=h*m,t[1]=v*g+b,t[5]=a*m,t[9]=_*g-S,t[2]=S*g-_,t[6]=l*m,t[10]=b*g+v}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose($j,e,eX)}lookAt(e,t,n){const i=this.elements;return Qa.subVectors(e,t),Qa.lengthSq()===0&&(Qa.z=1),Qa.normalize(),Tf.crossVectors(n,Qa),Tf.lengthSq()===0&&(Math.abs(n.z)===1?Qa.x+=1e-4:Qa.z+=1e-4,Qa.normalize(),Tf.crossVectors(n,Qa)),Tf.normalize(),Cx.crossVectors(Qa,Tf),i[0]=Tf.x,i[4]=Cx.x,i[8]=Qa.x,i[1]=Tf.y,i[5]=Cx.y,i[9]=Qa.y,i[2]=Tf.z,i[6]=Cx.z,i[10]=Qa.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const n=e.elements,i=t.elements,r=this.elements,a=n[0],l=n[4],u=n[8],h=n[12],m=n[1],g=n[5],v=n[9],_=n[13],S=n[2],b=n[6],M=n[10],A=n[14],C=n[3],B=n[7],D=n[11],N=n[15],U=i[0],F=i[4],z=i[8],O=i[12],P=i[1],q=i[5],ne=i[9],te=i[13],ee=i[2],oe=i[6],H=i[10],Y=i[14],Z=i[3],de=i[7],I=i[11],ie=i[15];return r[0]=a*U+l*P+u*ee+h*Z,r[4]=a*F+l*q+u*oe+h*de,r[8]=a*z+l*ne+u*H+h*I,r[12]=a*O+l*te+u*Y+h*ie,r[1]=m*U+g*P+v*ee+_*Z,r[5]=m*F+g*q+v*oe+_*de,r[9]=m*z+g*ne+v*H+_*I,r[13]=m*O+g*te+v*Y+_*ie,r[2]=S*U+b*P+M*ee+A*Z,r[6]=S*F+b*q+M*oe+A*de,r[10]=S*z+b*ne+M*H+A*I,r[14]=S*O+b*te+M*Y+A*ie,r[3]=C*U+B*P+D*ee+N*Z,r[7]=C*F+B*q+D*oe+N*de,r[11]=C*z+B*ne+D*H+N*I,r[15]=C*O+B*te+D*Y+N*ie,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],n=e[4],i=e[8],r=e[12],a=e[1],l=e[5],u=e[9],h=e[13],m=e[2],g=e[6],v=e[10],_=e[14],S=e[3],b=e[7],M=e[11],A=e[15];return S*(+r*u*g-i*h*g-r*l*v+n*h*v+i*l*_-n*u*_)+b*(+t*u*_-t*h*v+r*a*v-i*a*_+i*h*m-r*u*m)+M*(+t*h*g-t*l*_-r*a*g+n*a*_+r*l*m-n*h*m)+A*(-i*l*m-t*u*g+t*l*v+i*a*g-n*a*v+n*u*m)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,n){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=t,i[14]=n),this}invert(){const e=this.elements,t=e[0],n=e[1],i=e[2],r=e[3],a=e[4],l=e[5],u=e[6],h=e[7],m=e[8],g=e[9],v=e[10],_=e[11],S=e[12],b=e[13],M=e[14],A=e[15],C=g*M*h-b*v*h+b*u*_-l*M*_-g*u*A+l*v*A,B=S*v*h-m*M*h-S*u*_+a*M*_+m*u*A-a*v*A,D=m*b*h-S*g*h+S*l*_-a*b*_-m*l*A+a*g*A,N=S*g*u-m*b*u-S*l*v+a*b*v+m*l*M-a*g*M,U=t*C+n*B+i*D+r*N;if(U===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const F=1/U;return e[0]=C*F,e[1]=(b*v*r-g*M*r-b*i*_+n*M*_+g*i*A-n*v*A)*F,e[2]=(l*M*r-b*u*r+b*i*h-n*M*h-l*i*A+n*u*A)*F,e[3]=(g*u*r-l*v*r-g*i*h+n*v*h+l*i*_-n*u*_)*F,e[4]=B*F,e[5]=(m*M*r-S*v*r+S*i*_-t*M*_-m*i*A+t*v*A)*F,e[6]=(S*u*r-a*M*r-S*i*h+t*M*h+a*i*A-t*u*A)*F,e[7]=(a*v*r-m*u*r+m*i*h-t*v*h-a*i*_+t*u*_)*F,e[8]=D*F,e[9]=(S*g*r-m*b*r-S*n*_+t*b*_+m*n*A-t*g*A)*F,e[10]=(a*b*r-S*l*r+S*n*h-t*b*h-a*n*A+t*l*A)*F,e[11]=(m*l*r-a*g*r-m*n*h+t*g*h+a*n*_-t*l*_)*F,e[12]=N*F,e[13]=(m*b*i-S*g*i+S*n*v-t*b*v-m*n*M+t*g*M)*F,e[14]=(S*l*i-a*b*i-S*n*u+t*b*u+a*n*M-t*l*M)*F,e[15]=(a*g*i-m*l*i+m*n*u-t*g*u-a*n*v+t*l*v)*F,this}scale(e){const t=this.elements,n=e.x,i=e.y,r=e.z;return t[0]*=n,t[4]*=i,t[8]*=r,t[1]*=n,t[5]*=i,t[9]*=r,t[2]*=n,t[6]*=i,t[10]*=r,t[3]*=n,t[7]*=i,t[11]*=r,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],n=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,n,i))}makeTranslation(e,t,n){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,t,0,0,1,n,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),n=Math.sin(e);return this.set(1,0,0,0,0,t,-n,0,0,n,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,0,n,0,0,1,0,0,-n,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,0,n,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const n=Math.cos(t),i=Math.sin(t),r=1-n,a=e.x,l=e.y,u=e.z,h=r*a,m=r*l;return this.set(h*a+n,h*l-i*u,h*u+i*l,0,h*l+i*u,m*l+n,m*u-i*a,0,h*u-i*l,m*u+i*a,r*u*u+n,0,0,0,0,1),this}makeScale(e,t,n){return this.set(e,0,0,0,0,t,0,0,0,0,n,0,0,0,0,1),this}makeShear(e,t,n,i,r,a){return this.set(1,n,r,0,e,1,a,0,t,i,1,0,0,0,0,1),this}compose(e,t,n){const i=this.elements,r=t._x,a=t._y,l=t._z,u=t._w,h=r+r,m=a+a,g=l+l,v=r*h,_=r*m,S=r*g,b=a*m,M=a*g,A=l*g,C=u*h,B=u*m,D=u*g,N=n.x,U=n.y,F=n.z;return i[0]=(1-(b+A))*N,i[1]=(_+D)*N,i[2]=(S-B)*N,i[3]=0,i[4]=(_-D)*U,i[5]=(1-(v+A))*U,i[6]=(M+C)*U,i[7]=0,i[8]=(S+B)*F,i[9]=(M-C)*F,i[10]=(1-(v+b))*F,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,t,n){const i=this.elements;let r=Om.set(i[0],i[1],i[2]).length();const a=Om.set(i[4],i[5],i[6]).length(),l=Om.set(i[8],i[9],i[10]).length();this.determinant()<0&&(r=-r),e.x=i[12],e.y=i[13],e.z=i[14],xl.copy(this);const h=1/r,m=1/a,g=1/l;return xl.elements[0]*=h,xl.elements[1]*=h,xl.elements[2]*=h,xl.elements[4]*=m,xl.elements[5]*=m,xl.elements[6]*=m,xl.elements[8]*=g,xl.elements[9]*=g,xl.elements[10]*=g,t.setFromRotationMatrix(xl),n.x=r,n.y=a,n.z=l,this}makePerspective(e,t,n,i,r,a,l=Cl){const u=this.elements,h=2*r/(t-e),m=2*r/(n-i),g=(t+e)/(t-e),v=(n+i)/(n-i);let _,S;if(l===Cl)_=-(a+r)/(a-r),S=-2*a*r/(a-r);else if(l===ky)_=-a/(a-r),S=-a*r/(a-r);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+l);return u[0]=h,u[4]=0,u[8]=g,u[12]=0,u[1]=0,u[5]=m,u[9]=v,u[13]=0,u[2]=0,u[6]=0,u[10]=_,u[14]=S,u[3]=0,u[7]=0,u[11]=-1,u[15]=0,this}makeOrthographic(e,t,n,i,r,a,l=Cl){const u=this.elements,h=1/(t-e),m=1/(n-i),g=1/(a-r),v=(t+e)*h,_=(n+i)*m;let S,b;if(l===Cl)S=(a+r)*g,b=-2*g;else if(l===ky)S=r*g,b=-1*g;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+l);return u[0]=2*h,u[4]=0,u[8]=0,u[12]=-v,u[1]=0,u[5]=2*m,u[9]=0,u[13]=-_,u[2]=0,u[6]=0,u[10]=b,u[14]=-S,u[3]=0,u[7]=0,u[11]=0,u[15]=1,this}equals(e){const t=this.elements,n=e.elements;for(let i=0;i<16;i++)if(t[i]!==n[i])return!1;return!0}fromArray(e,t=0){for(let n=0;n<16;n++)this.elements[n]=e[n+t];return this}toArray(e=[],t=0){const n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e[t+9]=n[9],e[t+10]=n[10],e[t+11]=n[11],e[t+12]=n[12],e[t+13]=n[13],e[t+14]=n[14],e[t+15]=n[15],e}}const Om=new ae,xl=new sn,$j=new ae(0,0,0),eX=new ae(1,1,1),Tf=new ae,Cx=new ae,Qa=new ae,SD=new sn,AD=new Ir;class po{constructor(e=0,t=0,n=0,i=po.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=t,this._z=n,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,n,i=this._order){return this._x=e,this._y=t,this._z=n,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,n=!0){const i=e.elements,r=i[0],a=i[4],l=i[8],u=i[1],h=i[5],m=i[9],g=i[2],v=i[6],_=i[10];switch(t){case"XYZ":this._y=Math.asin(xn(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-m,_),this._z=Math.atan2(-a,r)):(this._x=Math.atan2(v,h),this._z=0);break;case"YXZ":this._x=Math.asin(-xn(m,-1,1)),Math.abs(m)<.9999999?(this._y=Math.atan2(l,_),this._z=Math.atan2(u,h)):(this._y=Math.atan2(-g,r),this._z=0);break;case"ZXY":this._x=Math.asin(xn(v,-1,1)),Math.abs(v)<.9999999?(this._y=Math.atan2(-g,_),this._z=Math.atan2(-a,h)):(this._y=0,this._z=Math.atan2(u,r));break;case"ZYX":this._y=Math.asin(-xn(g,-1,1)),Math.abs(g)<.9999999?(this._x=Math.atan2(v,_),this._z=Math.atan2(u,r)):(this._x=0,this._z=Math.atan2(-a,h));break;case"YZX":this._z=Math.asin(xn(u,-1,1)),Math.abs(u)<.9999999?(this._x=Math.atan2(-m,h),this._y=Math.atan2(-g,r)):(this._x=0,this._y=Math.atan2(l,_));break;case"XZY":this._z=Math.asin(-xn(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(v,h),this._y=Math.atan2(l,r)):(this._x=Math.atan2(-m,_),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,n===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,n){return SD.makeRotationFromQuaternion(e),this.setFromRotationMatrix(SD,t,n)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return AD.setFromEuler(this),this.setFromQuaternion(AD,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}po.DEFAULT_ORDER="XYZ";class Ig{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let tX=0;const MD=new ae,Lm=new Ir,su=new sn,wx=new ae,Sv=new ae,nX=new ae,iX=new Ir,bD=new ae(1,0,0),ED=new ae(0,1,0),TD=new ae(0,0,1),CD={type:"added"},sX={type:"removed"},Um={type:"childadded",child:null},gE={type:"childremoved",child:null};class Kn extends Nc{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:tX++}),this.uuid=co(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Kn.DEFAULT_UP.clone();const e=new ae,t=new po,n=new Ir,i=new ae(1,1,1);function r(){n.setFromEuler(t,!1)}function a(){t.setFromQuaternion(n,void 0,!1)}t._onChange(r),n._onChange(a),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:n},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new sn},normalMatrix:{value:new bn}}),this.matrix=new sn,this.matrixWorld=new sn,this.matrixAutoUpdate=Kn.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=Kn.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new Ig,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.customDepthMaterial=void 0,this.customDistanceMaterial=void 0,this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return Lm.setFromAxisAngle(e,t),this.quaternion.multiply(Lm),this}rotateOnWorldAxis(e,t){return Lm.setFromAxisAngle(e,t),this.quaternion.premultiply(Lm),this}rotateX(e){return this.rotateOnAxis(bD,e)}rotateY(e){return this.rotateOnAxis(ED,e)}rotateZ(e){return this.rotateOnAxis(TD,e)}translateOnAxis(e,t){return MD.copy(e).applyQuaternion(this.quaternion),this.position.add(MD.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(bD,e)}translateY(e){return this.translateOnAxis(ED,e)}translateZ(e){return this.translateOnAxis(TD,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(su.copy(this.matrixWorld).invert())}lookAt(e,t,n){e.isVector3?wx.copy(e):wx.set(e,t,n);const i=this.parent;this.updateWorldMatrix(!0,!1),Sv.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?su.lookAt(Sv,wx,this.up):su.lookAt(wx,Sv,this.up),this.quaternion.setFromRotationMatrix(su),i&&(su.extractRotation(i.matrixWorld),Lm.setFromRotationMatrix(su),this.quaternion.premultiply(Lm.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(CD),Um.child=e,this.dispatchEvent(Um),Um.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.remove(arguments[n]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(sX),gE.child=e,this.dispatchEvent(gE),gE.child=null),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),su.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),su.multiply(e.parent.matrixWorld)),e.applyMatrix4(su),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(CD),Um.child=e,this.dispatchEvent(Um),Um.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let n=0,i=this.children.length;n<i;n++){const a=this.children[n].getObjectByProperty(e,t);if(a!==void 0)return a}}getObjectsByProperty(e,t,n=[]){this[e]===t&&n.push(this);const i=this.children;for(let r=0,a=i.length;r<a;r++)i[r].getObjectsByProperty(e,t,n);return n}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Sv,e,nX),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Sv,iX,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let n=0,i=t.length;n<i;n++)t[n].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const t=this.children;for(let n=0,i=t.length;n<i;n++)t[n].traverseVisible(e)}traverseAncestors(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let n=0,i=t.length;n<i;n++)t[n].updateMatrixWorld(e)}updateWorldMatrix(e,t){const n=this.parent;if(e===!0&&n!==null&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),t===!0){const i=this.children;for(let r=0,a=i.length;r<a;r++)i[r].updateWorldMatrix(!1,!0)}}toJSON(e){const t=e===void 0||typeof e=="string",n={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},n.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const i={};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),this.frustumCulled===!1&&(i.frustumCulled=!1),this.renderOrder!==0&&(i.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),i.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(i.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(i.type="BatchedMesh",i.perObjectFrustumCulled=this.perObjectFrustumCulled,i.sortObjects=this.sortObjects,i.drawRanges=this._drawRanges,i.reservedRanges=this._reservedRanges,i.visibility=this._visibility,i.active=this._active,i.bounds=this._bounds.map(l=>({boxInitialized:l.boxInitialized,boxMin:l.box.min.toArray(),boxMax:l.box.max.toArray(),sphereInitialized:l.sphereInitialized,sphereRadius:l.sphere.radius,sphereCenter:l.sphere.center.toArray()})),i.maxInstanceCount=this._maxInstanceCount,i.maxVertexCount=this._maxVertexCount,i.maxIndexCount=this._maxIndexCount,i.geometryInitialized=this._geometryInitialized,i.geometryCount=this._geometryCount,i.matricesTexture=this._matricesTexture.toJSON(e),this._colorsTexture!==null&&(i.colorsTexture=this._colorsTexture.toJSON(e)),this.boundingSphere!==null&&(i.boundingSphere={center:i.boundingSphere.center.toArray(),radius:i.boundingSphere.radius}),this.boundingBox!==null&&(i.boundingBox={min:i.boundingBox.min.toArray(),max:i.boundingBox.max.toArray()}));function r(l,u){return l[u.uuid]===void 0&&(l[u.uuid]=u.toJSON(e)),u.uuid}if(this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(i.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=r(e.geometries,this.geometry);const l=this.geometry.parameters;if(l!==void 0&&l.shapes!==void 0){const u=l.shapes;if(Array.isArray(u))for(let h=0,m=u.length;h<m;h++){const g=u[h];r(e.shapes,g)}else r(e.shapes,u)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(r(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const l=[];for(let u=0,h=this.material.length;u<h;u++)l.push(r(e.materials,this.material[u]));i.material=l}else i.material=r(e.materials,this.material);if(this.children.length>0){i.children=[];for(let l=0;l<this.children.length;l++)i.children.push(this.children[l].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let l=0;l<this.animations.length;l++){const u=this.animations[l];i.animations.push(r(e.animations,u))}}if(t){const l=a(e.geometries),u=a(e.materials),h=a(e.textures),m=a(e.images),g=a(e.shapes),v=a(e.skeletons),_=a(e.animations),S=a(e.nodes);l.length>0&&(n.geometries=l),u.length>0&&(n.materials=u),h.length>0&&(n.textures=h),m.length>0&&(n.images=m),g.length>0&&(n.shapes=g),v.length>0&&(n.skeletons=v),_.length>0&&(n.animations=_),S.length>0&&(n.nodes=S)}return n.object=i,n;function a(l){const u=[];for(const h in l){const m=l[h];delete m.metadata,u.push(m)}return u}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let n=0;n<e.children.length;n++){const i=e.children[n];this.add(i.clone())}return this}}Kn.DEFAULT_UP=new ae(0,1,0);Kn.DEFAULT_MATRIX_AUTO_UPDATE=!0;Kn.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const Sl=new ae,ru=new ae,vE=new ae,au=new ae,Pm=new ae,Im=new ae,wD=new ae,yE=new ae,_E=new ae,xE=new ae,SE=new ti,AE=new ti,ME=new ti;class Na{constructor(e=new ae,t=new ae,n=new ae){this.a=e,this.b=t,this.c=n}static getNormal(e,t,n,i){i.subVectors(n,t),Sl.subVectors(e,t),i.cross(Sl);const r=i.lengthSq();return r>0?i.multiplyScalar(1/Math.sqrt(r)):i.set(0,0,0)}static getBarycoord(e,t,n,i,r){Sl.subVectors(i,t),ru.subVectors(n,t),vE.subVectors(e,t);const a=Sl.dot(Sl),l=Sl.dot(ru),u=Sl.dot(vE),h=ru.dot(ru),m=ru.dot(vE),g=a*h-l*l;if(g===0)return r.set(0,0,0),null;const v=1/g,_=(h*u-l*m)*v,S=(a*m-l*u)*v;return r.set(1-_-S,S,_)}static containsPoint(e,t,n,i){return this.getBarycoord(e,t,n,i,au)===null?!1:au.x>=0&&au.y>=0&&au.x+au.y<=1}static getInterpolation(e,t,n,i,r,a,l,u){return this.getBarycoord(e,t,n,i,au)===null?(u.x=0,u.y=0,"z"in u&&(u.z=0),"w"in u&&(u.w=0),null):(u.setScalar(0),u.addScaledVector(r,au.x),u.addScaledVector(a,au.y),u.addScaledVector(l,au.z),u)}static getInterpolatedAttribute(e,t,n,i,r,a){return SE.setScalar(0),AE.setScalar(0),ME.setScalar(0),SE.fromBufferAttribute(e,t),AE.fromBufferAttribute(e,n),ME.fromBufferAttribute(e,i),a.setScalar(0),a.addScaledVector(SE,r.x),a.addScaledVector(AE,r.y),a.addScaledVector(ME,r.z),a}static isFrontFacing(e,t,n,i){return Sl.subVectors(n,t),ru.subVectors(e,t),Sl.cross(ru).dot(i)<0}set(e,t,n){return this.a.copy(e),this.b.copy(t),this.c.copy(n),this}setFromPointsAndIndices(e,t,n,i){return this.a.copy(e[t]),this.b.copy(e[n]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,t,n,i){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,n),this.c.fromBufferAttribute(e,i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Sl.subVectors(this.c,this.b),ru.subVectors(this.a,this.b),Sl.cross(ru).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Na.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return Na.getBarycoord(e,this.a,this.b,this.c,t)}getInterpolation(e,t,n,i,r){return Na.getInterpolation(e,this.a,this.b,this.c,t,n,i,r)}containsPoint(e){return Na.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Na.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const n=this.a,i=this.b,r=this.c;let a,l;Pm.subVectors(i,n),Im.subVectors(r,n),yE.subVectors(e,n);const u=Pm.dot(yE),h=Im.dot(yE);if(u<=0&&h<=0)return t.copy(n);_E.subVectors(e,i);const m=Pm.dot(_E),g=Im.dot(_E);if(m>=0&&g<=m)return t.copy(i);const v=u*g-m*h;if(v<=0&&u>=0&&m<=0)return a=u/(u-m),t.copy(n).addScaledVector(Pm,a);xE.subVectors(e,r);const _=Pm.dot(xE),S=Im.dot(xE);if(S>=0&&_<=S)return t.copy(r);const b=_*h-u*S;if(b<=0&&h>=0&&S<=0)return l=h/(h-S),t.copy(n).addScaledVector(Im,l);const M=m*S-_*g;if(M<=0&&g-m>=0&&_-S>=0)return wD.subVectors(r,i),l=(g-m)/(g-m+(_-S)),t.copy(i).addScaledVector(wD,l);const A=1/(M+b+v);return a=b*A,l=v*A,t.copy(n).addScaledVector(Pm,a).addScaledVector(Im,l)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const l8={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Cf={h:0,s:0,l:0},Rx={h:0,s:0,l:0};function bE(s,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?s+(e-s)*6*t:t<1/2?e:t<2/3?s+(e-s)*6*(2/3-t):s}class Ct{constructor(e,t,n){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,t,n)}set(e,t,n){if(t===void 0&&n===void 0){const i=e;i&&i.isColor?this.copy(i):typeof i=="number"?this.setHex(i):typeof i=="string"&&this.setStyle(i)}else this.setRGB(e,t,n);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=ur){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,qn.toWorkingColorSpace(this,t),this}setRGB(e,t,n,i=qn.workingColorSpace){return this.r=e,this.g=t,this.b=n,qn.toWorkingColorSpace(this,i),this}setHSL(e,t,n,i=qn.workingColorSpace){if(e=cw(e,1),t=xn(t,0,1),n=xn(n,0,1),t===0)this.r=this.g=this.b=n;else{const r=n<=.5?n*(1+t):n+t-n*t,a=2*n-r;this.r=bE(a,r,e+1/3),this.g=bE(a,r,e),this.b=bE(a,r,e-1/3)}return qn.toWorkingColorSpace(this,i),this}setStyle(e,t=ur){function n(r){r!==void 0&&parseFloat(r)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let i;if(i=/^(\w+)\(([^\)]*)\)/.exec(e)){let r;const a=i[1],l=i[2];switch(a){case"rgb":case"rgba":if(r=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(l))return n(r[4]),this.setRGB(Math.min(255,parseInt(r[1],10))/255,Math.min(255,parseInt(r[2],10))/255,Math.min(255,parseInt(r[3],10))/255,t);if(r=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(l))return n(r[4]),this.setRGB(Math.min(100,parseInt(r[1],10))/100,Math.min(100,parseInt(r[2],10))/100,Math.min(100,parseInt(r[3],10))/100,t);break;case"hsl":case"hsla":if(r=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(l))return n(r[4]),this.setHSL(parseFloat(r[1])/360,parseFloat(r[2])/100,parseFloat(r[3])/100,t);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(e)){const r=i[1],a=r.length;if(a===3)return this.setRGB(parseInt(r.charAt(0),16)/15,parseInt(r.charAt(1),16)/15,parseInt(r.charAt(2),16)/15,t);if(a===6)return this.setHex(parseInt(r,16),t);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,t);return this}setColorName(e,t=ur){const n=l8[e.toLowerCase()];return n!==void 0?this.setHex(n,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=Su(e.r),this.g=Su(e.g),this.b=Su(e.b),this}copyLinearToSRGB(e){return this.r=mg(e.r),this.g=mg(e.g),this.b=mg(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=ur){return qn.fromWorkingColorSpace(Cr.copy(this),e),Math.round(xn(Cr.r*255,0,255))*65536+Math.round(xn(Cr.g*255,0,255))*256+Math.round(xn(Cr.b*255,0,255))}getHexString(e=ur){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=qn.workingColorSpace){qn.fromWorkingColorSpace(Cr.copy(this),t);const n=Cr.r,i=Cr.g,r=Cr.b,a=Math.max(n,i,r),l=Math.min(n,i,r);let u,h;const m=(l+a)/2;if(l===a)u=0,h=0;else{const g=a-l;switch(h=m<=.5?g/(a+l):g/(2-a-l),a){case n:u=(i-r)/g+(i<r?6:0);break;case i:u=(r-n)/g+2;break;case r:u=(n-i)/g+4;break}u/=6}return e.h=u,e.s=h,e.l=m,e}getRGB(e,t=qn.workingColorSpace){return qn.fromWorkingColorSpace(Cr.copy(this),t),e.r=Cr.r,e.g=Cr.g,e.b=Cr.b,e}getStyle(e=ur){qn.fromWorkingColorSpace(Cr.copy(this),e);const t=Cr.r,n=Cr.g,i=Cr.b;return e!==ur?`color(${e} ${t.toFixed(3)} ${n.toFixed(3)} ${i.toFixed(3)})`:`rgb(${Math.round(t*255)},${Math.round(n*255)},${Math.round(i*255)})`}offsetHSL(e,t,n){return this.getHSL(Cf),this.setHSL(Cf.h+e,Cf.s+t,Cf.l+n)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,n){return this.r=e.r+(t.r-e.r)*n,this.g=e.g+(t.g-e.g)*n,this.b=e.b+(t.b-e.b)*n,this}lerpHSL(e,t){this.getHSL(Cf),e.getHSL(Rx);const n=yy(Cf.h,Rx.h,t),i=yy(Cf.s,Rx.s,t),r=yy(Cf.l,Rx.l,t);return this.setHSL(n,i,r),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const t=this.r,n=this.g,i=this.b,r=e.elements;return this.r=r[0]*t+r[3]*n+r[6]*i,this.g=r[1]*t+r[4]*n+r[7]*i,this.b=r[2]*t+r[5]*n+r[8]*i,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const Cr=new Ct;Ct.NAMES=l8;let rX=0;class Fs extends Nc{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:rX++}),this.uuid=co(),this.name="",this.type="Material",this.blending=Qd,this.side=Rc,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=rA,this.blendDst=aA,this.blendEquation=Pf,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new Ct(0,0,0),this.blendAlpha=0,this.depthFunc=op,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=_2,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Rd,this.stencilZFail=Rd,this.stencilZPass=Rd,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.allowOverride=!0,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const t in e){const n=e[t];if(n===void 0){console.warn(`THREE.Material: parameter '${t}' has value of undefined.`);continue}const i=this[t];if(i===void 0){console.warn(`THREE.Material: '${t}' is not a property of THREE.${this.type}.`);continue}i&&i.isColor?i.set(n):i&&i.isVector3&&n&&n.isVector3?i.copy(n):this[t]=n}}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const n={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};n.uuid=this.uuid,n.type=this.type,this.name!==""&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),this.roughness!==void 0&&(n.roughness=this.roughness),this.metalness!==void 0&&(n.metalness=this.metalness),this.sheen!==void 0&&(n.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(n.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(n.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(n.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(n.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(n.shininess=this.shininess),this.clearcoat!==void 0&&(n.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(n.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(n.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(n.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(n.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,n.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.dispersion!==void 0&&(n.dispersion=this.dispersion),this.iridescence!==void 0&&(n.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(n.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(n.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(n.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(n.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(n.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(n.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(n.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(n.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(e).uuid,n.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(e).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(e).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(e).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(e).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(n.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(n.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(n.combine=this.combine)),this.envMapRotation!==void 0&&(n.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(n.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(n.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(n.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(n.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(n.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(n.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(n.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(n.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(n.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(n.size=this.size),this.shadowSide!==null&&(n.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(n.sizeAttenuation=this.sizeAttenuation),this.blending!==Qd&&(n.blending=this.blending),this.side!==Rc&&(n.side=this.side),this.vertexColors===!0&&(n.vertexColors=!0),this.opacity<1&&(n.opacity=this.opacity),this.transparent===!0&&(n.transparent=!0),this.blendSrc!==rA&&(n.blendSrc=this.blendSrc),this.blendDst!==aA&&(n.blendDst=this.blendDst),this.blendEquation!==Pf&&(n.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(n.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(n.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(n.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(n.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(n.blendAlpha=this.blendAlpha),this.depthFunc!==op&&(n.depthFunc=this.depthFunc),this.depthTest===!1&&(n.depthTest=this.depthTest),this.depthWrite===!1&&(n.depthWrite=this.depthWrite),this.colorWrite===!1&&(n.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(n.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==_2&&(n.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(n.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(n.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==Rd&&(n.stencilFail=this.stencilFail),this.stencilZFail!==Rd&&(n.stencilZFail=this.stencilZFail),this.stencilZPass!==Rd&&(n.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(n.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(n.rotation=this.rotation),this.polygonOffset===!0&&(n.polygonOffset=!0),this.polygonOffsetFactor!==0&&(n.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(n.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(n.linewidth=this.linewidth),this.dashSize!==void 0&&(n.dashSize=this.dashSize),this.gapSize!==void 0&&(n.gapSize=this.gapSize),this.scale!==void 0&&(n.scale=this.scale),this.dithering===!0&&(n.dithering=!0),this.alphaTest>0&&(n.alphaTest=this.alphaTest),this.alphaHash===!0&&(n.alphaHash=!0),this.alphaToCoverage===!0&&(n.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(n.premultipliedAlpha=!0),this.forceSinglePass===!0&&(n.forceSinglePass=!0),this.wireframe===!0&&(n.wireframe=!0),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(n.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(n.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(n.flatShading=!0),this.visible===!1&&(n.visible=!1),this.toneMapped===!1&&(n.toneMapped=!1),this.fog===!1&&(n.fog=!1),Object.keys(this.userData).length>0&&(n.userData=this.userData);function i(r){const a=[];for(const l in r){const u=r[l];delete u.metadata,a.push(u)}return a}if(t){const r=i(e.textures),a=i(e.images);r.length>0&&(n.textures=r),a.length>0&&(n.images=a)}return n}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let n=null;if(t!==null){const i=t.length;n=new Array(i);for(let r=0;r!==i;++r)n[r]=t[r].clone()}return this.clippingPlanes=n,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}onBuild(){console.warn("Material: onBuild() has been removed.")}}class Oa extends Fs{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Ct(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new po,this.combine=o_,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const pu=aX();function aX(){const s=new ArrayBuffer(4),e=new Float32Array(s),t=new Uint32Array(s),n=new Uint32Array(512),i=new Uint32Array(512);for(let u=0;u<256;++u){const h=u-127;h<-27?(n[u]=0,n[u|256]=32768,i[u]=24,i[u|256]=24):h<-14?(n[u]=1024>>-h-14,n[u|256]=1024>>-h-14|32768,i[u]=-h-1,i[u|256]=-h-1):h<=15?(n[u]=h+15<<10,n[u|256]=h+15<<10|32768,i[u]=13,i[u|256]=13):h<128?(n[u]=31744,n[u|256]=64512,i[u]=24,i[u|256]=24):(n[u]=31744,n[u|256]=64512,i[u]=13,i[u|256]=13)}const r=new Uint32Array(2048),a=new Uint32Array(64),l=new Uint32Array(64);for(let u=1;u<1024;++u){let h=u<<13,m=0;for(;(h&8388608)===0;)h<<=1,m-=8388608;h&=-8388609,m+=947912704,r[u]=h|m}for(let u=1024;u<2048;++u)r[u]=939524096+(u-1024<<13);for(let u=1;u<31;++u)a[u]=u<<23;a[31]=1199570944,a[32]=2147483648;for(let u=33;u<63;++u)a[u]=2147483648+(u-32<<23);a[63]=3347054592;for(let u=1;u<64;++u)u!==32&&(l[u]=1024);return{floatView:e,uint32View:t,baseTable:n,shiftTable:i,mantissaTable:r,exponentTable:a,offsetTable:l}}function Ra(s){Math.abs(s)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),s=xn(s,-65504,65504),pu.floatView[0]=s;const e=pu.uint32View[0],t=e>>23&511;return pu.baseTable[t]+((e&8388607)>>pu.shiftTable[t])}function Yv(s){const e=s>>10;return pu.uint32View[0]=pu.mantissaTable[pu.offsetTable[e]+(s&1023)]+pu.exponentTable[e],pu.floatView[0]}class Hd{static toHalfFloat(e){return Ra(e)}static fromHalfFloat(e){return Yv(e)}}const As=new ae,Bx=new at;let oX=0;class ni{constructor(e,t,n=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,Object.defineProperty(this,"id",{value:oX++}),this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=n,this.usage=Vy,this.updateRanges=[],this.gpuType=$i,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,t,n){e*=this.itemSize,n*=t.itemSize;for(let i=0,r=this.itemSize;i<r;i++)this.array[e+i]=t.array[n+i];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,n=this.count;t<n;t++)Bx.fromBufferAttribute(this,t),Bx.applyMatrix3(e),this.setXY(t,Bx.x,Bx.y);else if(this.itemSize===3)for(let t=0,n=this.count;t<n;t++)As.fromBufferAttribute(this,t),As.applyMatrix3(e),this.setXYZ(t,As.x,As.y,As.z);return this}applyMatrix4(e){for(let t=0,n=this.count;t<n;t++)As.fromBufferAttribute(this,t),As.applyMatrix4(e),this.setXYZ(t,As.x,As.y,As.z);return this}applyNormalMatrix(e){for(let t=0,n=this.count;t<n;t++)As.fromBufferAttribute(this,t),As.applyNormalMatrix(e),this.setXYZ(t,As.x,As.y,As.z);return this}transformDirection(e){for(let t=0,n=this.count;t<n;t++)As.fromBufferAttribute(this,t),As.transformDirection(e),this.setXYZ(t,As.x,As.y,As.z);return this}set(e,t=0){return this.array.set(e,t),this}getComponent(e,t){let n=this.array[e*this.itemSize+t];return this.normalized&&(n=ha(n,this.array)),n}setComponent(e,t,n){return this.normalized&&(n=wn(n,this.array)),this.array[e*this.itemSize+t]=n,this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=ha(t,this.array)),t}setX(e,t){return this.normalized&&(t=wn(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=ha(t,this.array)),t}setY(e,t){return this.normalized&&(t=wn(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=ha(t,this.array)),t}setZ(e,t){return this.normalized&&(t=wn(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=ha(t,this.array)),t}setW(e,t){return this.normalized&&(t=wn(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,n){return e*=this.itemSize,this.normalized&&(t=wn(t,this.array),n=wn(n,this.array)),this.array[e+0]=t,this.array[e+1]=n,this}setXYZ(e,t,n,i){return e*=this.itemSize,this.normalized&&(t=wn(t,this.array),n=wn(n,this.array),i=wn(i,this.array)),this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=i,this}setXYZW(e,t,n,i,r){return e*=this.itemSize,this.normalized&&(t=wn(t,this.array),n=wn(n,this.array),i=wn(i,this.array),r=wn(r,this.array)),this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=i,this.array[e+3]=r,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==Vy&&(e.usage=this.usage),e}}class lX extends ni{constructor(e,t,n){super(new Int8Array(e),t,n)}}class cX extends ni{constructor(e,t,n){super(new Uint8Array(e),t,n)}}class uX extends ni{constructor(e,t,n){super(new Uint8ClampedArray(e),t,n)}}class fX extends ni{constructor(e,t,n){super(new Int16Array(e),t,n)}}class uw extends ni{constructor(e,t,n){super(new Uint16Array(e),t,n)}}class hX extends ni{constructor(e,t,n){super(new Int32Array(e),t,n)}}class fw extends ni{constructor(e,t,n){super(new Uint32Array(e),t,n)}}class dX extends ni{constructor(e,t,n){super(new Uint16Array(e),t,n),this.isFloat16BufferAttribute=!0}getX(e){let t=Yv(this.array[e*this.itemSize]);return this.normalized&&(t=ha(t,this.array)),t}setX(e,t){return this.normalized&&(t=wn(t,this.array)),this.array[e*this.itemSize]=Ra(t),this}getY(e){let t=Yv(this.array[e*this.itemSize+1]);return this.normalized&&(t=ha(t,this.array)),t}setY(e,t){return this.normalized&&(t=wn(t,this.array)),this.array[e*this.itemSize+1]=Ra(t),this}getZ(e){let t=Yv(this.array[e*this.itemSize+2]);return this.normalized&&(t=ha(t,this.array)),t}setZ(e,t){return this.normalized&&(t=wn(t,this.array)),this.array[e*this.itemSize+2]=Ra(t),this}getW(e){let t=Yv(this.array[e*this.itemSize+3]);return this.normalized&&(t=ha(t,this.array)),t}setW(e,t){return this.normalized&&(t=wn(t,this.array)),this.array[e*this.itemSize+3]=Ra(t),this}setXY(e,t,n){return e*=this.itemSize,this.normalized&&(t=wn(t,this.array),n=wn(n,this.array)),this.array[e+0]=Ra(t),this.array[e+1]=Ra(n),this}setXYZ(e,t,n,i){return e*=this.itemSize,this.normalized&&(t=wn(t,this.array),n=wn(n,this.array),i=wn(i,this.array)),this.array[e+0]=Ra(t),this.array[e+1]=Ra(n),this.array[e+2]=Ra(i),this}setXYZW(e,t,n,i,r){return e*=this.itemSize,this.normalized&&(t=wn(t,this.array),n=wn(n,this.array),i=wn(i,this.array),r=wn(r,this.array)),this.array[e+0]=Ra(t),this.array[e+1]=Ra(n),this.array[e+2]=Ra(i),this.array[e+3]=Ra(r),this}}class qt extends ni{constructor(e,t,n){super(new Float32Array(e),t,n)}}let pX=0;const Po=new sn,EE=new Kn,Fm=new ae,$a=new Fr,Av=new Fr,Ys=new ae;class En extends Nc{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:pX++}),this.uuid=co(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(r8(e)?fw:uw)(e,1):this.index=e,this}setIndirect(e){return this.indirect=e,this}getIndirect(){return this.indirect}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,n=0){this.groups.push({start:e,count:t,materialIndex:n})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const n=this.attributes.normal;if(n!==void 0){const r=new bn().getNormalMatrix(e);n.applyNormalMatrix(r),n.needsUpdate=!0}const i=this.attributes.tangent;return i!==void 0&&(i.transformDirection(e),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return Po.makeRotationFromQuaternion(e),this.applyMatrix4(Po),this}rotateX(e){return Po.makeRotationX(e),this.applyMatrix4(Po),this}rotateY(e){return Po.makeRotationY(e),this.applyMatrix4(Po),this}rotateZ(e){return Po.makeRotationZ(e),this.applyMatrix4(Po),this}translate(e,t,n){return Po.makeTranslation(e,t,n),this.applyMatrix4(Po),this}scale(e,t,n){return Po.makeScale(e,t,n),this.applyMatrix4(Po),this}lookAt(e){return EE.lookAt(e),EE.updateMatrix(),this.applyMatrix4(EE.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Fm).negate(),this.translate(Fm.x,Fm.y,Fm.z),this}setFromPoints(e){const t=this.getAttribute("position");if(t===void 0){const n=[];for(let i=0,r=e.length;i<r;i++){const a=e[i];n.push(a.x,a.y,a.z||0)}this.setAttribute("position",new qt(n,3))}else{const n=Math.min(e.length,t.count);for(let i=0;i<n;i++){const r=e[i];t.setXYZ(i,r.x,r.y,r.z||0)}e.length>t.count&&console.warn("THREE.BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry."),t.needsUpdate=!0}return this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Fr);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new ae(-1/0,-1/0,-1/0),new ae(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let n=0,i=t.length;n<i;n++){const r=t[n];$a.setFromBufferAttribute(r),this.morphTargetsRelative?(Ys.addVectors(this.boundingBox.min,$a.min),this.boundingBox.expandByPoint(Ys),Ys.addVectors(this.boundingBox.max,$a.max),this.boundingBox.expandByPoint(Ys)):(this.boundingBox.expandByPoint($a.min),this.boundingBox.expandByPoint($a.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new pr);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new ae,1/0);return}if(e){const n=this.boundingSphere.center;if($a.setFromBufferAttribute(e),t)for(let r=0,a=t.length;r<a;r++){const l=t[r];Av.setFromBufferAttribute(l),this.morphTargetsRelative?(Ys.addVectors($a.min,Av.min),$a.expandByPoint(Ys),Ys.addVectors($a.max,Av.max),$a.expandByPoint(Ys)):($a.expandByPoint(Av.min),$a.expandByPoint(Av.max))}$a.getCenter(n);let i=0;for(let r=0,a=e.count;r<a;r++)Ys.fromBufferAttribute(e,r),i=Math.max(i,n.distanceToSquared(Ys));if(t)for(let r=0,a=t.length;r<a;r++){const l=t[r],u=this.morphTargetsRelative;for(let h=0,m=l.count;h<m;h++)Ys.fromBufferAttribute(l,h),u&&(Fm.fromBufferAttribute(e,h),Ys.add(Fm)),i=Math.max(i,n.distanceToSquared(Ys))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const n=t.position,i=t.normal,r=t.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new ni(new Float32Array(4*n.count),4));const a=this.getAttribute("tangent"),l=[],u=[];for(let z=0;z<n.count;z++)l[z]=new ae,u[z]=new ae;const h=new ae,m=new ae,g=new ae,v=new at,_=new at,S=new at,b=new ae,M=new ae;function A(z,O,P){h.fromBufferAttribute(n,z),m.fromBufferAttribute(n,O),g.fromBufferAttribute(n,P),v.fromBufferAttribute(r,z),_.fromBufferAttribute(r,O),S.fromBufferAttribute(r,P),m.sub(h),g.sub(h),_.sub(v),S.sub(v);const q=1/(_.x*S.y-S.x*_.y);isFinite(q)&&(b.copy(m).multiplyScalar(S.y).addScaledVector(g,-_.y).multiplyScalar(q),M.copy(g).multiplyScalar(_.x).addScaledVector(m,-S.x).multiplyScalar(q),l[z].add(b),l[O].add(b),l[P].add(b),u[z].add(M),u[O].add(M),u[P].add(M))}let C=this.groups;C.length===0&&(C=[{start:0,count:e.count}]);for(let z=0,O=C.length;z<O;++z){const P=C[z],q=P.start,ne=P.count;for(let te=q,ee=q+ne;te<ee;te+=3)A(e.getX(te+0),e.getX(te+1),e.getX(te+2))}const B=new ae,D=new ae,N=new ae,U=new ae;function F(z){N.fromBufferAttribute(i,z),U.copy(N);const O=l[z];B.copy(O),B.sub(N.multiplyScalar(N.dot(O))).normalize(),D.crossVectors(U,O);const q=D.dot(u[z])<0?-1:1;a.setXYZW(z,B.x,B.y,B.z,q)}for(let z=0,O=C.length;z<O;++z){const P=C[z],q=P.start,ne=P.count;for(let te=q,ee=q+ne;te<ee;te+=3)F(e.getX(te+0)),F(e.getX(te+1)),F(e.getX(te+2))}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let n=this.getAttribute("normal");if(n===void 0)n=new ni(new Float32Array(t.count*3),3),this.setAttribute("normal",n);else for(let v=0,_=n.count;v<_;v++)n.setXYZ(v,0,0,0);const i=new ae,r=new ae,a=new ae,l=new ae,u=new ae,h=new ae,m=new ae,g=new ae;if(e)for(let v=0,_=e.count;v<_;v+=3){const S=e.getX(v+0),b=e.getX(v+1),M=e.getX(v+2);i.fromBufferAttribute(t,S),r.fromBufferAttribute(t,b),a.fromBufferAttribute(t,M),m.subVectors(a,r),g.subVectors(i,r),m.cross(g),l.fromBufferAttribute(n,S),u.fromBufferAttribute(n,b),h.fromBufferAttribute(n,M),l.add(m),u.add(m),h.add(m),n.setXYZ(S,l.x,l.y,l.z),n.setXYZ(b,u.x,u.y,u.z),n.setXYZ(M,h.x,h.y,h.z)}else for(let v=0,_=t.count;v<_;v+=3)i.fromBufferAttribute(t,v+0),r.fromBufferAttribute(t,v+1),a.fromBufferAttribute(t,v+2),m.subVectors(a,r),g.subVectors(i,r),m.cross(g),n.setXYZ(v+0,m.x,m.y,m.z),n.setXYZ(v+1,m.x,m.y,m.z),n.setXYZ(v+2,m.x,m.y,m.z);this.normalizeNormals(),n.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let t=0,n=e.count;t<n;t++)Ys.fromBufferAttribute(e,t),Ys.normalize(),e.setXYZ(t,Ys.x,Ys.y,Ys.z)}toNonIndexed(){function e(l,u){const h=l.array,m=l.itemSize,g=l.normalized,v=new h.constructor(u.length*m);let _=0,S=0;for(let b=0,M=u.length;b<M;b++){l.isInterleavedBufferAttribute?_=u[b]*l.data.stride+l.offset:_=u[b]*m;for(let A=0;A<m;A++)v[S++]=h[_++]}return new ni(v,m,g)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new En,n=this.index.array,i=this.attributes;for(const l in i){const u=i[l],h=e(u,n);t.setAttribute(l,h)}const r=this.morphAttributes;for(const l in r){const u=[],h=r[l];for(let m=0,g=h.length;m<g;m++){const v=h[m],_=e(v,n);u.push(_)}t.morphAttributes[l]=u}t.morphTargetsRelative=this.morphTargetsRelative;const a=this.groups;for(let l=0,u=a.length;l<u;l++){const h=a[l];t.addGroup(h.start,h.count,h.materialIndex)}return t}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const u=this.parameters;for(const h in u)u[h]!==void 0&&(e[h]=u[h]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const n=this.attributes;for(const u in n){const h=n[u];e.data.attributes[u]=h.toJSON(e.data)}const i={};let r=!1;for(const u in this.morphAttributes){const h=this.morphAttributes[u],m=[];for(let g=0,v=h.length;g<v;g++){const _=h[g];m.push(_.toJSON(e.data))}m.length>0&&(i[u]=m,r=!0)}r&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const a=this.groups;a.length>0&&(e.data.groups=JSON.parse(JSON.stringify(a)));const l=this.boundingSphere;return l!==null&&(e.data.boundingSphere={center:l.center.toArray(),radius:l.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const n=e.index;n!==null&&this.setIndex(n.clone());const i=e.attributes;for(const h in i){const m=i[h];this.setAttribute(h,m.clone(t))}const r=e.morphAttributes;for(const h in r){const m=[],g=r[h];for(let v=0,_=g.length;v<_;v++)m.push(g[v].clone(t));this.morphAttributes[h]=m}this.morphTargetsRelative=e.morphTargetsRelative;const a=e.groups;for(let h=0,m=a.length;h<m;h++){const g=a[h];this.addGroup(g.start,g.count,g.materialIndex)}const l=e.boundingBox;l!==null&&(this.boundingBox=l.clone());const u=e.boundingSphere;return u!==null&&(this.boundingSphere=u.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const RD=new sn,fd=new Kg,Dx=new pr,BD=new ae,Nx=new ae,Ox=new ae,Lx=new ae,TE=new ae,Ux=new ae,DD=new ae,Px=new ae;class ki extends Kn{constructor(e=new En,t=new Oa){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,n=Object.keys(t);if(n.length>0){const i=t[n[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let r=0,a=i.length;r<a;r++){const l=i[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[l]=r}}}}getVertexPosition(e,t){const n=this.geometry,i=n.attributes.position,r=n.morphAttributes.position,a=n.morphTargetsRelative;t.fromBufferAttribute(i,e);const l=this.morphTargetInfluences;if(r&&l){Ux.set(0,0,0);for(let u=0,h=r.length;u<h;u++){const m=l[u],g=r[u];m!==0&&(TE.fromBufferAttribute(g,e),a?Ux.addScaledVector(TE,m):Ux.addScaledVector(TE.sub(t),m))}t.add(Ux)}return t}raycast(e,t){const n=this.geometry,i=this.material,r=this.matrixWorld;i!==void 0&&(n.boundingSphere===null&&n.computeBoundingSphere(),Dx.copy(n.boundingSphere),Dx.applyMatrix4(r),fd.copy(e.ray).recast(e.near),!(Dx.containsPoint(fd.origin)===!1&&(fd.intersectSphere(Dx,BD)===null||fd.origin.distanceToSquared(BD)>(e.far-e.near)**2))&&(RD.copy(r).invert(),fd.copy(e.ray).applyMatrix4(RD),!(n.boundingBox!==null&&fd.intersectsBox(n.boundingBox)===!1)&&this._computeIntersections(e,t,fd)))}_computeIntersections(e,t,n){let i;const r=this.geometry,a=this.material,l=r.index,u=r.attributes.position,h=r.attributes.uv,m=r.attributes.uv1,g=r.attributes.normal,v=r.groups,_=r.drawRange;if(l!==null)if(Array.isArray(a))for(let S=0,b=v.length;S<b;S++){const M=v[S],A=a[M.materialIndex],C=Math.max(M.start,_.start),B=Math.min(l.count,Math.min(M.start+M.count,_.start+_.count));for(let D=C,N=B;D<N;D+=3){const U=l.getX(D),F=l.getX(D+1),z=l.getX(D+2);i=Ix(this,A,e,n,h,m,g,U,F,z),i&&(i.faceIndex=Math.floor(D/3),i.face.materialIndex=M.materialIndex,t.push(i))}}else{const S=Math.max(0,_.start),b=Math.min(l.count,_.start+_.count);for(let M=S,A=b;M<A;M+=3){const C=l.getX(M),B=l.getX(M+1),D=l.getX(M+2);i=Ix(this,a,e,n,h,m,g,C,B,D),i&&(i.faceIndex=Math.floor(M/3),t.push(i))}}else if(u!==void 0)if(Array.isArray(a))for(let S=0,b=v.length;S<b;S++){const M=v[S],A=a[M.materialIndex],C=Math.max(M.start,_.start),B=Math.min(u.count,Math.min(M.start+M.count,_.start+_.count));for(let D=C,N=B;D<N;D+=3){const U=D,F=D+1,z=D+2;i=Ix(this,A,e,n,h,m,g,U,F,z),i&&(i.faceIndex=Math.floor(D/3),i.face.materialIndex=M.materialIndex,t.push(i))}}else{const S=Math.max(0,_.start),b=Math.min(u.count,_.start+_.count);for(let M=S,A=b;M<A;M+=3){const C=M,B=M+1,D=M+2;i=Ix(this,a,e,n,h,m,g,C,B,D),i&&(i.faceIndex=Math.floor(M/3),t.push(i))}}}}function mX(s,e,t,n,i,r,a,l){let u;if(e.side===da?u=n.intersectTriangle(a,r,i,!0,l):u=n.intersectTriangle(i,r,a,e.side===Rc,l),u===null)return null;Px.copy(l),Px.applyMatrix4(s.matrixWorld);const h=t.ray.origin.distanceTo(Px);return h<t.near||h>t.far?null:{distance:h,point:Px.clone(),object:s}}function Ix(s,e,t,n,i,r,a,l,u,h){s.getVertexPosition(l,Nx),s.getVertexPosition(u,Ox),s.getVertexPosition(h,Lx);const m=mX(s,e,t,n,Nx,Ox,Lx,DD);if(m){const g=new ae;Na.getBarycoord(DD,Nx,Ox,Lx,g),i&&(m.uv=Na.getInterpolatedAttribute(i,l,u,h,g,new at)),r&&(m.uv1=Na.getInterpolatedAttribute(r,l,u,h,g,new at)),a&&(m.normal=Na.getInterpolatedAttribute(a,l,u,h,g,new ae),m.normal.dot(n.direction)>0&&m.normal.multiplyScalar(-1));const v={a:l,b:u,c:h,normal:new ae,materialIndex:0};Na.getNormal(Nx,Ox,Lx,v.normal),m.face=v,m.barycoord=g}return m}class _p extends En{constructor(e=1,t=1,n=1,i=1,r=1,a=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:n,widthSegments:i,heightSegments:r,depthSegments:a};const l=this;i=Math.floor(i),r=Math.floor(r),a=Math.floor(a);const u=[],h=[],m=[],g=[];let v=0,_=0;S("z","y","x",-1,-1,n,t,e,a,r,0),S("z","y","x",1,-1,n,t,-e,a,r,1),S("x","z","y",1,1,e,n,t,i,a,2),S("x","z","y",1,-1,e,n,-t,i,a,3),S("x","y","z",1,-1,e,t,n,i,r,4),S("x","y","z",-1,-1,e,t,-n,i,r,5),this.setIndex(u),this.setAttribute("position",new qt(h,3)),this.setAttribute("normal",new qt(m,3)),this.setAttribute("uv",new qt(g,2));function S(b,M,A,C,B,D,N,U,F,z,O){const P=D/F,q=N/z,ne=D/2,te=N/2,ee=U/2,oe=F+1,H=z+1;let Y=0,Z=0;const de=new ae;for(let I=0;I<H;I++){const ie=I*q-te;for(let ue=0;ue<oe;ue++){const _e=ue*P-ne;de[b]=_e*C,de[M]=ie*B,de[A]=ee,h.push(de.x,de.y,de.z),de[b]=0,de[M]=0,de[A]=U>0?1:-1,m.push(de.x,de.y,de.z),g.push(ue/F),g.push(1-I/z),Y+=1}}for(let I=0;I<z;I++)for(let ie=0;ie<F;ie++){const ue=v+ie+oe*I,_e=v+ie+oe*(I+1),se=v+(ie+1)+oe*(I+1),xe=v+(ie+1)+oe*I;u.push(ue,_e,xe),u.push(_e,se,xe),Z+=6}l.addGroup(_,Z,O),_+=Z,v+=Y}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new _p(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function Fg(s){const e={};for(const t in s){e[t]={};for(const n in s[t]){const i=s[t][n];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?i.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[t][n]=null):e[t][n]=i.clone():Array.isArray(i)?e[t][n]=i.slice():e[t][n]=i}}return e}function sa(s){const e={};for(let t=0;t<s.length;t++){const n=Fg(s[t]);for(const i in n)e[i]=n[i]}return e}function gX(s){const e=[];for(let t=0;t<s.length;t++)e.push(s[t].clone());return e}function c8(s){const e=s.getRenderTarget();return e===null?s.outputColorSpace:e.isXRRenderTarget===!0?e.texture.colorSpace:qn.workingColorSpace}const u8={clone:Fg,merge:sa};var vX=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,yX=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class pa extends Fs{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=vX,this.fragmentShader=yX,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Fg(e.uniforms),this.uniformsGroups=gX(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const i in this.uniforms){const a=this.uniforms[i].value;a&&a.isTexture?t.uniforms[i]={type:"t",value:a.toJSON(e).uuid}:a&&a.isColor?t.uniforms[i]={type:"c",value:a.getHex()}:a&&a.isVector2?t.uniforms[i]={type:"v2",value:a.toArray()}:a&&a.isVector3?t.uniforms[i]={type:"v3",value:a.toArray()}:a&&a.isVector4?t.uniforms[i]={type:"v4",value:a.toArray()}:a&&a.isMatrix3?t.uniforms[i]={type:"m3",value:a.toArray()}:a&&a.isMatrix4?t.uniforms[i]={type:"m4",value:a.toArray()}:t.uniforms[i]={value:a}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t.lights=this.lights,t.clipping=this.clipping;const n={};for(const i in this.extensions)this.extensions[i]===!0&&(n[i]=!0);return Object.keys(n).length>0&&(t.extensions=n),t}}class AM extends Kn{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new sn,this.projectionMatrix=new sn,this.projectionMatrixInverse=new sn,this.coordinateSystem=Cl}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const wf=new ae,ND=new at,OD=new at;class Is extends AM{constructor(e=50,t=1,n=.1,i=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=n,this.far=i,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=Pg*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(ep*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return Pg*2*Math.atan(Math.tan(ep*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,t,n){wf.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),t.set(wf.x,wf.y).multiplyScalar(-e/wf.z),wf.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),n.set(wf.x,wf.y).multiplyScalar(-e/wf.z)}getViewSize(e,t){return this.getViewBounds(e,ND,OD),t.subVectors(OD,ND)}setViewOffset(e,t,n,i,r,a){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=i,this.view.width=r,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(ep*.5*this.fov)/this.zoom,n=2*t,i=this.aspect*n,r=-.5*i;const a=this.view;if(this.view!==null&&this.view.enabled){const u=a.fullWidth,h=a.fullHeight;r+=a.offsetX*i/u,t-=a.offsetY*n/h,i*=a.width/u,n*=a.height/h}const l=this.filmOffset;l!==0&&(r+=e*l/this.getFilmWidth()),this.projectionMatrix.makePerspective(r,r+i,t,t-n,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}const zm=-90,Hm=1;class f8 extends Kn{constructor(e,t,n){super(),this.type="CubeCamera",this.renderTarget=n,this.coordinateSystem=null,this.activeMipmapLevel=0;const i=new Is(zm,Hm,e,t);i.layers=this.layers,this.add(i);const r=new Is(zm,Hm,e,t);r.layers=this.layers,this.add(r);const a=new Is(zm,Hm,e,t);a.layers=this.layers,this.add(a);const l=new Is(zm,Hm,e,t);l.layers=this.layers,this.add(l);const u=new Is(zm,Hm,e,t);u.layers=this.layers,this.add(u);const h=new Is(zm,Hm,e,t);h.layers=this.layers,this.add(h)}updateCoordinateSystem(){const e=this.coordinateSystem,t=this.children.concat(),[n,i,r,a,l,u]=t;for(const h of t)this.remove(h);if(e===Cl)n.up.set(0,1,0),n.lookAt(1,0,0),i.up.set(0,1,0),i.lookAt(-1,0,0),r.up.set(0,0,-1),r.lookAt(0,1,0),a.up.set(0,0,1),a.lookAt(0,-1,0),l.up.set(0,1,0),l.lookAt(0,0,1),u.up.set(0,1,0),u.lookAt(0,0,-1);else if(e===ky)n.up.set(0,-1,0),n.lookAt(-1,0,0),i.up.set(0,-1,0),i.lookAt(1,0,0),r.up.set(0,0,1),r.lookAt(0,1,0),a.up.set(0,0,-1),a.lookAt(0,-1,0),l.up.set(0,-1,0),l.lookAt(0,0,1),u.up.set(0,-1,0),u.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const h of t)this.add(h),h.updateMatrixWorld()}update(e,t){this.parent===null&&this.updateMatrixWorld();const{renderTarget:n,activeMipmapLevel:i}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[r,a,l,u,h,m]=this.children,g=e.getRenderTarget(),v=e.getActiveCubeFace(),_=e.getActiveMipmapLevel(),S=e.xr.enabled;e.xr.enabled=!1;const b=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,e.setRenderTarget(n,0,i),e.render(t,r),e.setRenderTarget(n,1,i),e.render(t,a),e.setRenderTarget(n,2,i),e.render(t,l),e.setRenderTarget(n,3,i),e.render(t,u),e.setRenderTarget(n,4,i),e.render(t,h),n.texture.generateMipmaps=b,e.setRenderTarget(n,5,i),e.render(t,m),e.setRenderTarget(g,v,_),e.xr.enabled=S,n.texture.needsPMREMUpdate=!0}}class h_ extends pi{constructor(e=[],t=Bc,n,i,r,a,l,u,h,m){super(e,t,n,i,r,a,l,u,h,m),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class hw extends qo{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const n={width:e,height:e,depth:1},i=[n,n,n,n,n,n];this.texture=new h_(i,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=t.generateMipmaps!==void 0?t.generateMipmaps:!1,this.texture.minFilter=t.minFilter!==void 0?t.minFilter:fi}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.colorSpace=t.colorSpace,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const n={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},i=new _p(5,5,5),r=new pa({name:"CubemapFromEquirect",uniforms:Fg(n.uniforms),vertexShader:n.vertexShader,fragmentShader:n.fragmentShader,side:da,blending:Ec});r.uniforms.tEquirect.value=t;const a=new ki(i,r),l=t.minFilter;return t.minFilter===Xo&&(t.minFilter=fi),new f8(1,10,this).update(e,a),t.minFilter=l,a.geometry.dispose(),a.material.dispose(),this}clear(e,t=!0,n=!0,i=!0){const r=e.getRenderTarget();for(let a=0;a<6;a++)e.setRenderTarget(this,a),e.clear(t,n,i);e.setRenderTarget(r)}}class gu extends Kn{constructor(){super(),this.isGroup=!0,this.type="Group"}}const _X={type:"move"};class OS{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new gu,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new gu,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new ae,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new ae),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new gu,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new ae,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new ae),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const n of e.hand.values())this._getHandJoint(t,n)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,n){let i=null,r=null,a=null;const l=this._targetRay,u=this._grip,h=this._hand;if(e&&t.session.visibilityState!=="visible-blurred"){if(h&&e.hand){a=!0;for(const b of e.hand.values()){const M=t.getJointPose(b,n),A=this._getHandJoint(h,b);M!==null&&(A.matrix.fromArray(M.transform.matrix),A.matrix.decompose(A.position,A.rotation,A.scale),A.matrixWorldNeedsUpdate=!0,A.jointRadius=M.radius),A.visible=M!==null}const m=h.joints["index-finger-tip"],g=h.joints["thumb-tip"],v=m.position.distanceTo(g.position),_=.02,S=.005;h.inputState.pinching&&v>_+S?(h.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!h.inputState.pinching&&v<=_-S&&(h.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else u!==null&&e.gripSpace&&(r=t.getPose(e.gripSpace,n),r!==null&&(u.matrix.fromArray(r.transform.matrix),u.matrix.decompose(u.position,u.rotation,u.scale),u.matrixWorldNeedsUpdate=!0,r.linearVelocity?(u.hasLinearVelocity=!0,u.linearVelocity.copy(r.linearVelocity)):u.hasLinearVelocity=!1,r.angularVelocity?(u.hasAngularVelocity=!0,u.angularVelocity.copy(r.angularVelocity)):u.hasAngularVelocity=!1));l!==null&&(i=t.getPose(e.targetRaySpace,n),i===null&&r!==null&&(i=r),i!==null&&(l.matrix.fromArray(i.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,i.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(i.linearVelocity)):l.hasLinearVelocity=!1,i.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(i.angularVelocity)):l.hasAngularVelocity=!1,this.dispatchEvent(_X)))}return l!==null&&(l.visible=i!==null),u!==null&&(u.visible=r!==null),h!==null&&(h.visible=a!==null),this}_getHandJoint(e,t){if(e.joints[t.jointName]===void 0){const n=new gu;n.matrixAutoUpdate=!1,n.visible=!1,e.joints[t.jointName]=n,e.add(n)}return e.joints[t.jointName]}}class MM{constructor(e,t=25e-5){this.isFogExp2=!0,this.name="",this.color=new Ct(e),this.density=t}clone(){return new MM(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class bM{constructor(e,t=1,n=1e3){this.isFog=!0,this.name="",this.color=new Ct(e),this.near=t,this.far=n}clone(){return new bM(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class d_ extends Kn{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new po,this.environmentIntensity=1,this.environmentRotation=new po,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(t.object.backgroundIntensity=this.backgroundIntensity),t.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(t.object.environmentIntensity=this.environmentIntensity),t.object.environmentRotation=this.environmentRotation.toArray(),t}}class p_{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=Vy,this.updateRanges=[],this.version=0,this.uuid=co()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,n){e*=this.stride,n*=t.stride;for(let i=0,r=this.stride;i<r;i++)this.array[e+i]=t.array[n+i];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=co()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),n=new this.constructor(t,this.stride);return n.setUsage(this.usage),n}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=co()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const na=new ae;class rh{constructor(e,t,n,i=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=n,this.normalized=i}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,n=this.data.count;t<n;t++)na.fromBufferAttribute(this,t),na.applyMatrix4(e),this.setXYZ(t,na.x,na.y,na.z);return this}applyNormalMatrix(e){for(let t=0,n=this.count;t<n;t++)na.fromBufferAttribute(this,t),na.applyNormalMatrix(e),this.setXYZ(t,na.x,na.y,na.z);return this}transformDirection(e){for(let t=0,n=this.count;t<n;t++)na.fromBufferAttribute(this,t),na.transformDirection(e),this.setXYZ(t,na.x,na.y,na.z);return this}getComponent(e,t){let n=this.array[e*this.data.stride+this.offset+t];return this.normalized&&(n=ha(n,this.array)),n}setComponent(e,t,n){return this.normalized&&(n=wn(n,this.array)),this.data.array[e*this.data.stride+this.offset+t]=n,this}setX(e,t){return this.normalized&&(t=wn(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=wn(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=wn(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=wn(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=ha(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=ha(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=ha(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=ha(t,this.array)),t}setXY(e,t,n){return e=e*this.data.stride+this.offset,this.normalized&&(t=wn(t,this.array),n=wn(n,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this}setXYZ(e,t,n,i){return e=e*this.data.stride+this.offset,this.normalized&&(t=wn(t,this.array),n=wn(n,this.array),i=wn(i,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=i,this}setXYZW(e,t,n,i,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=wn(t,this.array),n=wn(n,this.array),i=wn(i,this.array),r=wn(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=i,this.data.array[e+3]=r,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let n=0;n<this.count;n++){const i=n*this.data.stride+this.offset;for(let r=0;r<this.itemSize;r++)t.push(this.data.array[i+r])}return new ni(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new rh(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let n=0;n<this.count;n++){const i=n*this.data.stride+this.offset;for(let r=0;r<this.itemSize;r++)t.push(this.data.array[i+r])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class dw extends Fs{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new Ct(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let Gm;const Mv=new ae,Vm=new ae,km=new ae,jm=new at,bv=new at,h8=new sn,Fx=new ae,Ev=new ae,zx=new ae,LD=new at,CE=new at,UD=new at;class d8 extends Kn{constructor(e=new dw){if(super(),this.isSprite=!0,this.type="Sprite",Gm===void 0){Gm=new En;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),n=new p_(t,5);Gm.setIndex([0,1,2,0,2,3]),Gm.setAttribute("position",new rh(n,3,0,!1)),Gm.setAttribute("uv",new rh(n,2,3,!1))}this.geometry=Gm,this.material=e,this.center=new at(.5,.5)}raycast(e,t){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Vm.setFromMatrixScale(this.matrixWorld),h8.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),km.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&Vm.multiplyScalar(-km.z);const n=this.material.rotation;let i,r;n!==0&&(r=Math.cos(n),i=Math.sin(n));const a=this.center;Hx(Fx.set(-.5,-.5,0),km,a,Vm,i,r),Hx(Ev.set(.5,-.5,0),km,a,Vm,i,r),Hx(zx.set(.5,.5,0),km,a,Vm,i,r),LD.set(0,0),CE.set(1,0),UD.set(1,1);let l=e.ray.intersectTriangle(Fx,Ev,zx,!1,Mv);if(l===null&&(Hx(Ev.set(-.5,.5,0),km,a,Vm,i,r),CE.set(0,1),l=e.ray.intersectTriangle(Fx,zx,Ev,!1,Mv),l===null))return;const u=e.ray.origin.distanceTo(Mv);u<e.near||u>e.far||t.push({distance:u,point:Mv.clone(),uv:Na.getInterpolation(Mv,Fx,Ev,zx,LD,CE,UD,new at),face:null,object:this})}copy(e,t){return super.copy(e,t),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function Hx(s,e,t,n,i,r){jm.subVectors(s,t).addScalar(.5).multiply(n),i!==void 0?(bv.x=r*jm.x-i*jm.y,bv.y=i*jm.x+r*jm.y):bv.copy(jm),s.copy(e),s.x+=bv.x,s.y+=bv.y,s.applyMatrix4(h8)}const Gx=new ae,PD=new ae;class p8 extends Kn{constructor(){super(),this.isLOD=!0,this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const t=e.levels;for(let n=0,i=t.length;n<i;n++){const r=t[n];this.addLevel(r.object.clone(),r.distance,r.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,t=0,n=0){t=Math.abs(t);const i=this.levels;let r;for(r=0;r<i.length&&!(t<i[r].distance);r++);return i.splice(r,0,{distance:t,hysteresis:n,object:e}),this.add(e),this}removeLevel(e){const t=this.levels;for(let n=0;n<t.length;n++)if(t[n].distance===e){const i=t.splice(n,1);return this.remove(i[0].object),!0}return!1}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const t=this.levels;if(t.length>0){let n,i;for(n=1,i=t.length;n<i;n++){let r=t[n].distance;if(t[n].object.visible&&(r-=r*t[n].hysteresis),e<r)break}return t[n-1].object}return null}raycast(e,t){if(this.levels.length>0){Gx.setFromMatrixPosition(this.matrixWorld);const i=e.ray.origin.distanceTo(Gx);this.getObjectForDistance(i).raycast(e,t)}}update(e){const t=this.levels;if(t.length>1){Gx.setFromMatrixPosition(e.matrixWorld),PD.setFromMatrixPosition(this.matrixWorld);const n=Gx.distanceTo(PD)/e.zoom;t[0].object.visible=!0;let i,r;for(i=1,r=t.length;i<r;i++){let a=t[i].distance;if(t[i].object.visible&&(a-=a*t[i].hysteresis),n>=a)t[i-1].object.visible=!1,t[i].object.visible=!0;else break}for(this._currentLevel=i-1;i<r;i++)t[i].object.visible=!1}}toJSON(e){const t=super.toJSON(e);this.autoUpdate===!1&&(t.object.autoUpdate=!1),t.object.levels=[];const n=this.levels;for(let i=0,r=n.length;i<r;i++){const a=n[i];t.object.levels.push({object:a.object.uuid,distance:a.distance,hysteresis:a.hysteresis})}return t}}const ID=new ae,FD=new ti,zD=new ti,xX=new ae,HD=new sn,Vx=new ae,wE=new pr,GD=new sn,RE=new Kg;class pw extends ki{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=v2,this.bindMatrix=new sn,this.bindMatrixInverse=new sn,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new Fr),this.boundingBox.makeEmpty();const t=e.getAttribute("position");for(let n=0;n<t.count;n++)this.getVertexPosition(n,Vx),this.boundingBox.expandByPoint(Vx)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new pr),this.boundingSphere.makeEmpty();const t=e.getAttribute("position");for(let n=0;n<t.count;n++)this.getVertexPosition(n,Vx),this.boundingSphere.expandByPoint(Vx)}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,t){const n=this.material,i=this.matrixWorld;n!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),wE.copy(this.boundingSphere),wE.applyMatrix4(i),e.ray.intersectsSphere(wE)!==!1&&(GD.copy(i).invert(),RE.copy(e.ray).applyMatrix4(GD),!(this.boundingBox!==null&&RE.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,t,RE)))}getVertexPosition(e,t){return super.getVertexPosition(e,t),this.applyBoneTransform(e,t),t}bind(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new ti,t=this.geometry.attributes.skinWeight;for(let n=0,i=t.count;n<i;n++){e.fromBufferAttribute(t,n);const r=1/e.manhattanLength();r!==1/0?e.multiplyScalar(r):e.set(1,0,0,0),t.setXYZW(n,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===v2?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===kU?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,t){const n=this.skeleton,i=this.geometry;FD.fromBufferAttribute(i.attributes.skinIndex,e),zD.fromBufferAttribute(i.attributes.skinWeight,e),ID.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let r=0;r<4;r++){const a=zD.getComponent(r);if(a!==0){const l=FD.getComponent(r);HD.multiplyMatrices(n.bones[l].matrixWorld,n.boneInverses[l]),t.addScaledVector(xX.copy(ID).applyMatrix4(HD),a)}}return t.applyMatrix4(this.bindMatrixInverse)}}class EM extends Kn{constructor(){super(),this.isBone=!0,this.type="Bone"}}class Rl extends pi{constructor(e=null,t=1,n=1,i,r,a,l,u,h=Js,m=Js,g,v){super(null,a,l,u,h,m,i,r,g,v),this.isDataTexture=!0,this.image={data:e,width:t,height:n},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const VD=new sn,SX=new sn;class m_{constructor(e=[],t=[]){this.uuid=co(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),t.length===0)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let n=0,i=this.bones.length;n<i;n++)this.boneInverses.push(new sn)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const n=new sn;this.bones[e]&&n.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(n)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const n=this.bones[e];n&&n.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const n=this.bones[e];n&&(n.parent&&n.parent.isBone?(n.matrix.copy(n.parent.matrixWorld).invert(),n.matrix.multiply(n.matrixWorld)):n.matrix.copy(n.matrixWorld),n.matrix.decompose(n.position,n.quaternion,n.scale))}}update(){const e=this.bones,t=this.boneInverses,n=this.boneMatrices,i=this.boneTexture;for(let r=0,a=e.length;r<a;r++){const l=e[r]?e[r].matrixWorld:SX;VD.multiplyMatrices(l,t[r]),VD.toArray(n,r*16)}i!==null&&(i.needsUpdate=!0)}clone(){return new m_(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const n=new Rl(t,e,e,ms,$i);return n.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=n,this}getBoneByName(e){for(let t=0,n=this.bones.length;t<n;t++){const i=this.bones[t];if(i.name===e)return i}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let n=0,i=e.bones.length;n<i;n++){const r=e.bones[n];let a=t[r];a===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",r),a=new EM),this.bones.push(a),this.boneInverses.push(new sn().fromArray(e.boneInverses[n]))}return this.init(),this}toJSON(){const e={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,n=this.boneInverses;for(let i=0,r=t.length;i<r;i++){const a=t[i];e.bones.push(a.uuid);const l=n[i];e.boneInverses.push(l.toArray())}return e}}class lp extends ni{constructor(e,t,n,i=1){super(e,t,n),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const Xm=new sn,kD=new sn,kx=[],jD=new Fr,AX=new sn,Tv=new ki,Cv=new pr;class mw extends ki{constructor(e,t,n){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new lp(new Float32Array(n*16),16),this.instanceColor=null,this.morphTexture=null,this.count=n,this.boundingBox=null,this.boundingSphere=null;for(let i=0;i<n;i++)this.setMatrixAt(i,AX)}computeBoundingBox(){const e=this.geometry,t=this.count;this.boundingBox===null&&(this.boundingBox=new Fr),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let n=0;n<t;n++)this.getMatrixAt(n,Xm),jD.copy(e.boundingBox).applyMatrix4(Xm),this.boundingBox.union(jD)}computeBoundingSphere(){const e=this.geometry,t=this.count;this.boundingSphere===null&&(this.boundingSphere=new pr),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let n=0;n<t;n++)this.getMatrixAt(n,Xm),Cv.copy(e.boundingSphere).applyMatrix4(Xm),this.boundingSphere.union(Cv)}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),e.morphTexture!==null&&(this.morphTexture=e.morphTexture.clone()),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,t){t.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,e*16)}getMorphAt(e,t){const n=t.morphTargetInfluences,i=this.morphTexture.source.data.data,r=n.length+1,a=e*r+1;for(let l=0;l<n.length;l++)n[l]=i[a+l]}raycast(e,t){const n=this.matrixWorld,i=this.count;if(Tv.geometry=this.geometry,Tv.material=this.material,Tv.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),Cv.copy(this.boundingSphere),Cv.applyMatrix4(n),e.ray.intersectsSphere(Cv)!==!1))for(let r=0;r<i;r++){this.getMatrixAt(r,Xm),kD.multiplyMatrices(n,Xm),Tv.matrixWorld=kD,Tv.raycast(e,kx);for(let a=0,l=kx.length;a<l;a++){const u=kx[a];u.instanceId=r,u.object=this,t.push(u)}kx.length=0}}setColorAt(e,t){this.instanceColor===null&&(this.instanceColor=new lp(new Float32Array(this.instanceMatrix.count*3).fill(1),3)),t.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,e*16)}setMorphAt(e,t){const n=t.morphTargetInfluences,i=n.length+1;this.morphTexture===null&&(this.morphTexture=new Rl(new Float32Array(i*this.count),i,this.count,c_,$i));const r=this.morphTexture.source.data.data;let a=0;for(let h=0;h<n.length;h++)a+=n[h];const l=this.geometry.morphTargetsRelative?1:1-a,u=i*e;r[u]=l,r.set(n,u+1)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"}),this.morphTexture!==null&&(this.morphTexture.dispose(),this.morphTexture=null)}}const BE=new ae,MX=new ae,bX=new bn;class Uf{constructor(e=new ae(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,n,i){return this.normal.set(e,t,n),this.constant=i,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,n){const i=BE.subVectors(n,t).cross(MX.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,t){const n=e.delta(BE),i=this.normal.dot(n);if(i===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const r=-(e.start.dot(this.normal)+this.constant)/i;return r<0||r>1?null:t.copy(e.start).addScaledVector(n,r)}intersectsLine(e){const t=this.distanceToPoint(e.start),n=this.distanceToPoint(e.end);return t<0&&n>0||n<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const n=t||bX.getNormalMatrix(e),i=this.coplanarPoint(BE).applyMatrix4(e),r=this.normal.applyMatrix3(n).normalize();return this.constant=-i.dot(r),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const hd=new pr,jx=new ae;class g_{constructor(e=new Uf,t=new Uf,n=new Uf,i=new Uf,r=new Uf,a=new Uf){this.planes=[e,t,n,i,r,a]}set(e,t,n,i,r,a){const l=this.planes;return l[0].copy(e),l[1].copy(t),l[2].copy(n),l[3].copy(i),l[4].copy(r),l[5].copy(a),this}copy(e){const t=this.planes;for(let n=0;n<6;n++)t[n].copy(e.planes[n]);return this}setFromProjectionMatrix(e,t=Cl){const n=this.planes,i=e.elements,r=i[0],a=i[1],l=i[2],u=i[3],h=i[4],m=i[5],g=i[6],v=i[7],_=i[8],S=i[9],b=i[10],M=i[11],A=i[12],C=i[13],B=i[14],D=i[15];if(n[0].setComponents(u-r,v-h,M-_,D-A).normalize(),n[1].setComponents(u+r,v+h,M+_,D+A).normalize(),n[2].setComponents(u+a,v+m,M+S,D+C).normalize(),n[3].setComponents(u-a,v-m,M-S,D-C).normalize(),n[4].setComponents(u-l,v-g,M-b,D-B).normalize(),t===Cl)n[5].setComponents(u+l,v+g,M+b,D+B).normalize();else if(t===ky)n[5].setComponents(l,g,b,B).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+t);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),hd.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const t=e.geometry;t.boundingSphere===null&&t.computeBoundingSphere(),hd.copy(t.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(hd)}intersectsSprite(e){return hd.center.set(0,0,0),hd.radius=.7071067811865476,hd.applyMatrix4(e.matrixWorld),this.intersectsSphere(hd)}intersectsSphere(e){const t=this.planes,n=e.center,i=-e.radius;for(let r=0;r<6;r++)if(t[r].distanceToPoint(n)<i)return!1;return!0}intersectsBox(e){const t=this.planes;for(let n=0;n<6;n++){const i=t[n];if(jx.x=i.normal.x>0?e.max.x:e.min.x,jx.y=i.normal.y>0?e.max.y:e.min.y,jx.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(jx)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let n=0;n<6;n++)if(t[n].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function DE(s,e){return s-e}function EX(s,e){return s.z-e.z}function TX(s,e){return e.z-s.z}class CX{constructor(){this.index=0,this.pool=[],this.list=[]}push(e,t,n,i){const r=this.pool,a=this.list;this.index>=r.length&&r.push({start:-1,count:-1,z:-1,index:-1});const l=r[this.index];a.push(l),this.index++,l.start=e,l.count=t,l.z=n,l.index=i}reset(){this.list.length=0,this.index=0}}const wa=new sn,wX=new Ct(1,1,1),NE=new g_,Xx=new Fr,dd=new pr,wv=new ae,XD=new ae,RX=new ae,OE=new CX,wr=new ki,Yx=[];function BX(s,e,t=0){const n=e.itemSize;if(s.isInterleavedBufferAttribute||s.array.constructor!==e.array.constructor){const i=s.count;for(let r=0;r<i;r++)for(let a=0;a<n;a++)e.setComponent(r+t,a,s.getComponent(r,a))}else e.array.set(s.array,t*n);e.needsUpdate=!0}function pd(s,e){if(s.constructor!==e.constructor){const t=Math.min(s.length,e.length);for(let n=0;n<t;n++)e[n]=s[n]}else{const t=Math.min(s.length,e.length);e.set(new s.constructor(s.buffer,0,t))}}class m8 extends ki{constructor(e,t,n=t*2,i){super(new En,i),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._instanceInfo=[],this._geometryInfo=[],this._availableInstanceIds=[],this._availableGeometryIds=[],this._nextIndexStart=0,this._nextVertexStart=0,this._geometryCount=0,this._visibilityChanged=!0,this._geometryInitialized=!1,this._maxInstanceCount=e,this._maxVertexCount=t,this._maxIndexCount=n,this._multiDrawCounts=new Int32Array(e),this._multiDrawStarts=new Int32Array(e),this._multiDrawCount=0,this._multiDrawInstances=null,this._matricesTexture=null,this._indirectTexture=null,this._colorsTexture=null,this._initMatricesTexture(),this._initIndirectTexture()}get maxInstanceCount(){return this._maxInstanceCount}get instanceCount(){return this._instanceInfo.length-this._availableInstanceIds.length}get unusedVertexCount(){return this._maxVertexCount-this._nextVertexStart}get unusedIndexCount(){return this._maxIndexCount-this._nextIndexStart}_initMatricesTexture(){let e=Math.sqrt(this._maxInstanceCount*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const t=new Float32Array(e*e*4),n=new Rl(t,e,e,ms,$i);this._matricesTexture=n}_initIndirectTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const t=new Uint32Array(e*e),n=new Rl(t,e,e,u_,Dc);this._indirectTexture=n}_initColorsTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const t=new Float32Array(e*e*4).fill(1),n=new Rl(t,e,e,ms,$i);n.colorSpace=qn.workingColorSpace,this._colorsTexture=n}_initializeGeometry(e){const t=this.geometry,n=this._maxVertexCount,i=this._maxIndexCount;if(this._geometryInitialized===!1){for(const r in e.attributes){const a=e.getAttribute(r),{array:l,itemSize:u,normalized:h}=a,m=new l.constructor(n*u),g=new ni(m,u,h);t.setAttribute(r,g)}if(e.getIndex()!==null){const r=n>65535?new Uint32Array(i):new Uint16Array(i);t.setIndex(new ni(r,1))}this._geometryInitialized=!0}}_validateGeometry(e){const t=this.geometry;if(!!e.getIndex()!=!!t.getIndex())throw new Error('THREE.BatchedMesh: All geometries must consistently have "index".');for(const n in t.attributes){if(!e.hasAttribute(n))throw new Error(`THREE.BatchedMesh: Added geometry missing "${n}". All geometries must have consistent attributes.`);const i=e.getAttribute(n),r=t.getAttribute(n);if(i.itemSize!==r.itemSize||i.normalized!==r.normalized)throw new Error("THREE.BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}validateInstanceId(e){const t=this._instanceInfo;if(e<0||e>=t.length||t[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid instanceId ${e}. Instance is either out of range or has been deleted.`)}validateGeometryId(e){const t=this._geometryInfo;if(e<0||e>=t.length||t[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid geometryId ${e}. Geometry is either out of range or has been deleted.`)}setCustomSort(e){return this.customSort=e,this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Fr);const e=this.boundingBox,t=this._instanceInfo;e.makeEmpty();for(let n=0,i=t.length;n<i;n++){if(t[n].active===!1)continue;const r=t[n].geometryIndex;this.getMatrixAt(n,wa),this.getBoundingBoxAt(r,Xx).applyMatrix4(wa),e.union(Xx)}}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new pr);const e=this.boundingSphere,t=this._instanceInfo;e.makeEmpty();for(let n=0,i=t.length;n<i;n++){if(t[n].active===!1)continue;const r=t[n].geometryIndex;this.getMatrixAt(n,wa),this.getBoundingSphereAt(r,dd).applyMatrix4(wa),e.union(dd)}}addInstance(e){if(this._instanceInfo.length>=this.maxInstanceCount&&this._availableInstanceIds.length===0)throw new Error("THREE.BatchedMesh: Maximum item count reached.");const n={visible:!0,active:!0,geometryIndex:e};let i=null;this._availableInstanceIds.length>0?(this._availableInstanceIds.sort(DE),i=this._availableInstanceIds.shift(),this._instanceInfo[i]=n):(i=this._instanceInfo.length,this._instanceInfo.push(n));const r=this._matricesTexture;wa.identity().toArray(r.image.data,i*16),r.needsUpdate=!0;const a=this._colorsTexture;return a&&(wX.toArray(a.image.data,i*4),a.needsUpdate=!0),this._visibilityChanged=!0,i}addGeometry(e,t=-1,n=-1){this._initializeGeometry(e),this._validateGeometry(e);const i={vertexStart:-1,vertexCount:-1,reservedVertexCount:-1,indexStart:-1,indexCount:-1,reservedIndexCount:-1,start:-1,count:-1,boundingBox:null,boundingSphere:null,active:!0},r=this._geometryInfo;i.vertexStart=this._nextVertexStart,i.reservedVertexCount=t===-1?e.getAttribute("position").count:t;const a=e.getIndex();if(a!==null&&(i.indexStart=this._nextIndexStart,i.reservedIndexCount=n===-1?a.count:n),i.indexStart!==-1&&i.indexStart+i.reservedIndexCount>this._maxIndexCount||i.vertexStart+i.reservedVertexCount>this._maxVertexCount)throw new Error("THREE.BatchedMesh: Reserved space request exceeds the maximum buffer size.");let u;return this._availableGeometryIds.length>0?(this._availableGeometryIds.sort(DE),u=this._availableGeometryIds.shift(),r[u]=i):(u=this._geometryCount,this._geometryCount++,r.push(i)),this.setGeometryAt(u,e),this._nextIndexStart=i.indexStart+i.reservedIndexCount,this._nextVertexStart=i.vertexStart+i.reservedVertexCount,u}setGeometryAt(e,t){if(e>=this._geometryCount)throw new Error("THREE.BatchedMesh: Maximum geometry count reached.");this._validateGeometry(t);const n=this.geometry,i=n.getIndex()!==null,r=n.getIndex(),a=t.getIndex(),l=this._geometryInfo[e];if(i&&a.count>l.reservedIndexCount||t.attributes.position.count>l.reservedVertexCount)throw new Error("THREE.BatchedMesh: Reserved space not large enough for provided geometry.");const u=l.vertexStart,h=l.reservedVertexCount;l.vertexCount=t.getAttribute("position").count;for(const m in n.attributes){const g=t.getAttribute(m),v=n.getAttribute(m);BX(g,v,u);const _=g.itemSize;for(let S=g.count,b=h;S<b;S++){const M=u+S;for(let A=0;A<_;A++)v.setComponent(M,A,0)}v.needsUpdate=!0,v.addUpdateRange(u*_,h*_)}if(i){const m=l.indexStart,g=l.reservedIndexCount;l.indexCount=t.getIndex().count;for(let v=0;v<a.count;v++)r.setX(m+v,u+a.getX(v));for(let v=a.count,_=g;v<_;v++)r.setX(m+v,u);r.needsUpdate=!0,r.addUpdateRange(m,l.reservedIndexCount)}return l.start=i?l.indexStart:l.vertexStart,l.count=i?l.indexCount:l.vertexCount,l.boundingBox=null,t.boundingBox!==null&&(l.boundingBox=t.boundingBox.clone()),l.boundingSphere=null,t.boundingSphere!==null&&(l.boundingSphere=t.boundingSphere.clone()),this._visibilityChanged=!0,e}deleteGeometry(e){const t=this._geometryInfo;if(e>=t.length||t[e].active===!1)return this;const n=this._instanceInfo;for(let i=0,r=n.length;i<r;i++)n[i].active&&n[i].geometryIndex===e&&this.deleteInstance(i);return t[e].active=!1,this._availableGeometryIds.push(e),this._visibilityChanged=!0,this}deleteInstance(e){return this.validateInstanceId(e),this._instanceInfo[e].active=!1,this._availableInstanceIds.push(e),this._visibilityChanged=!0,this}optimize(){let e=0,t=0;const n=this._geometryInfo,i=n.map((a,l)=>l).sort((a,l)=>n[a].vertexStart-n[l].vertexStart),r=this.geometry;for(let a=0,l=n.length;a<l;a++){const u=i[a],h=n[u];if(h.active!==!1){if(r.index!==null){if(h.indexStart!==t){const{indexStart:m,vertexStart:g,reservedIndexCount:v}=h,_=r.index,S=_.array,b=e-g;for(let M=m;M<m+v;M++)S[M]=S[M]+b;_.array.copyWithin(t,m,m+v),_.addUpdateRange(t,v),h.indexStart=t}t+=h.reservedIndexCount}if(h.vertexStart!==e){const{vertexStart:m,reservedVertexCount:g}=h,v=r.attributes;for(const _ in v){const S=v[_],{array:b,itemSize:M}=S;b.copyWithin(e*M,m*M,(m+g)*M),S.addUpdateRange(e*M,g*M)}h.vertexStart=e}e+=h.reservedVertexCount,h.start=r.index?h.indexStart:h.vertexStart,this._nextIndexStart=r.index?h.indexStart+h.reservedIndexCount:0,this._nextVertexStart=h.vertexStart+h.reservedVertexCount}}return this}getBoundingBoxAt(e,t){if(e>=this._geometryCount)return null;const n=this.geometry,i=this._geometryInfo[e];if(i.boundingBox===null){const r=new Fr,a=n.index,l=n.attributes.position;for(let u=i.start,h=i.start+i.count;u<h;u++){let m=u;a&&(m=a.getX(m)),r.expandByPoint(wv.fromBufferAttribute(l,m))}i.boundingBox=r}return t.copy(i.boundingBox),t}getBoundingSphereAt(e,t){if(e>=this._geometryCount)return null;const n=this.geometry,i=this._geometryInfo[e];if(i.boundingSphere===null){const r=new pr;this.getBoundingBoxAt(e,Xx),Xx.getCenter(r.center);const a=n.index,l=n.attributes.position;let u=0;for(let h=i.start,m=i.start+i.count;h<m;h++){let g=h;a&&(g=a.getX(g)),wv.fromBufferAttribute(l,g),u=Math.max(u,r.center.distanceToSquared(wv))}r.radius=Math.sqrt(u),i.boundingSphere=r}return t.copy(i.boundingSphere),t}setMatrixAt(e,t){this.validateInstanceId(e);const n=this._matricesTexture,i=this._matricesTexture.image.data;return t.toArray(i,e*16),n.needsUpdate=!0,this}getMatrixAt(e,t){return this.validateInstanceId(e),t.fromArray(this._matricesTexture.image.data,e*16)}setColorAt(e,t){return this.validateInstanceId(e),this._colorsTexture===null&&this._initColorsTexture(),t.toArray(this._colorsTexture.image.data,e*4),this._colorsTexture.needsUpdate=!0,this}getColorAt(e,t){return this.validateInstanceId(e),t.fromArray(this._colorsTexture.image.data,e*4)}setVisibleAt(e,t){return this.validateInstanceId(e),this._instanceInfo[e].visible===t?this:(this._instanceInfo[e].visible=t,this._visibilityChanged=!0,this)}getVisibleAt(e){return this.validateInstanceId(e),this._instanceInfo[e].visible}setGeometryIdAt(e,t){return this.validateInstanceId(e),this.validateGeometryId(t),this._instanceInfo[e].geometryIndex=t,this}getGeometryIdAt(e){return this.validateInstanceId(e),this._instanceInfo[e].geometryIndex}getGeometryRangeAt(e,t={}){this.validateGeometryId(e);const n=this._geometryInfo[e];return t.vertexStart=n.vertexStart,t.vertexCount=n.vertexCount,t.reservedVertexCount=n.reservedVertexCount,t.indexStart=n.indexStart,t.indexCount=n.indexCount,t.reservedIndexCount=n.reservedIndexCount,t.start=n.start,t.count=n.count,t}setInstanceCount(e){const t=this._availableInstanceIds,n=this._instanceInfo;for(t.sort(DE);t[t.length-1]===n.length;)n.pop(),t.pop();if(e<n.length)throw new Error(`BatchedMesh: Instance ids outside the range ${e} are being used. Cannot shrink instance count.`);const i=new Int32Array(e),r=new Int32Array(e);pd(this._multiDrawCounts,i),pd(this._multiDrawStarts,r),this._multiDrawCounts=i,this._multiDrawStarts=r,this._maxInstanceCount=e;const a=this._indirectTexture,l=this._matricesTexture,u=this._colorsTexture;a.dispose(),this._initIndirectTexture(),pd(a.image.data,this._indirectTexture.image.data),l.dispose(),this._initMatricesTexture(),pd(l.image.data,this._matricesTexture.image.data),u&&(u.dispose(),this._initColorsTexture(),pd(u.image.data,this._colorsTexture.image.data))}setGeometrySize(e,t){const n=[...this._geometryInfo].filter(l=>l.active);if(Math.max(...n.map(l=>l.vertexStart+l.reservedVertexCount))>e)throw new Error(`BatchedMesh: Geometry vertex values are being used outside the range ${t}. Cannot shrink further.`);if(this.geometry.index&&Math.max(...n.map(u=>u.indexStart+u.reservedIndexCount))>t)throw new Error(`BatchedMesh: Geometry index values are being used outside the range ${t}. Cannot shrink further.`);const r=this.geometry;r.dispose(),this._maxVertexCount=e,this._maxIndexCount=t,this._geometryInitialized&&(this._geometryInitialized=!1,this.geometry=new En,this._initializeGeometry(r));const a=this.geometry;r.index&&pd(r.index.array,a.index.array);for(const l in r.attributes)pd(r.attributes[l].array,a.attributes[l].array)}raycast(e,t){const n=this._instanceInfo,i=this._geometryInfo,r=this.matrixWorld,a=this.geometry;wr.material=this.material,wr.geometry.index=a.index,wr.geometry.attributes=a.attributes,wr.geometry.boundingBox===null&&(wr.geometry.boundingBox=new Fr),wr.geometry.boundingSphere===null&&(wr.geometry.boundingSphere=new pr);for(let l=0,u=n.length;l<u;l++){if(!n[l].visible||!n[l].active)continue;const h=n[l].geometryIndex,m=i[h];wr.geometry.setDrawRange(m.start,m.count),this.getMatrixAt(l,wr.matrixWorld).premultiply(r),this.getBoundingBoxAt(h,wr.geometry.boundingBox),this.getBoundingSphereAt(h,wr.geometry.boundingSphere),wr.raycast(e,Yx);for(let g=0,v=Yx.length;g<v;g++){const _=Yx[g];_.object=this,_.batchId=l,t.push(_)}Yx.length=0}wr.material=null,wr.geometry.index=null,wr.geometry.attributes={},wr.geometry.setDrawRange(0,1/0)}copy(e){return super.copy(e),this.geometry=e.geometry.clone(),this.perObjectFrustumCulled=e.perObjectFrustumCulled,this.sortObjects=e.sortObjects,this.boundingBox=e.boundingBox!==null?e.boundingBox.clone():null,this.boundingSphere=e.boundingSphere!==null?e.boundingSphere.clone():null,this._geometryInfo=e._geometryInfo.map(t=>({...t,boundingBox:t.boundingBox!==null?t.boundingBox.clone():null,boundingSphere:t.boundingSphere!==null?t.boundingSphere.clone():null})),this._instanceInfo=e._instanceInfo.map(t=>({...t})),this._maxInstanceCount=e._maxInstanceCount,this._maxVertexCount=e._maxVertexCount,this._maxIndexCount=e._maxIndexCount,this._geometryInitialized=e._geometryInitialized,this._geometryCount=e._geometryCount,this._multiDrawCounts=e._multiDrawCounts.slice(),this._multiDrawStarts=e._multiDrawStarts.slice(),this._matricesTexture=e._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.data.slice(),this._colorsTexture!==null&&(this._colorsTexture=e._colorsTexture.clone(),this._colorsTexture.image.data=this._colorsTexture.image.data.slice()),this}dispose(){this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this._indirectTexture.dispose(),this._indirectTexture=null,this._colorsTexture!==null&&(this._colorsTexture.dispose(),this._colorsTexture=null)}onBeforeRender(e,t,n,i,r){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const a=i.getIndex(),l=a===null?1:a.array.BYTES_PER_ELEMENT,u=this._instanceInfo,h=this._multiDrawStarts,m=this._multiDrawCounts,g=this._geometryInfo,v=this.perObjectFrustumCulled,_=this._indirectTexture,S=_.image.data;v&&(wa.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse).multiply(this.matrixWorld),NE.setFromProjectionMatrix(wa,e.coordinateSystem));let b=0;if(this.sortObjects){wa.copy(this.matrixWorld).invert(),wv.setFromMatrixPosition(n.matrixWorld).applyMatrix4(wa),XD.set(0,0,-1).transformDirection(n.matrixWorld).transformDirection(wa);for(let C=0,B=u.length;C<B;C++)if(u[C].visible&&u[C].active){const D=u[C].geometryIndex;this.getMatrixAt(C,wa),this.getBoundingSphereAt(D,dd).applyMatrix4(wa);let N=!1;if(v&&(N=!NE.intersectsSphere(dd)),!N){const U=g[D],F=RX.subVectors(dd.center,wv).dot(XD);OE.push(U.start,U.count,F,C)}}const M=OE.list,A=this.customSort;A===null?M.sort(r.transparent?TX:EX):A.call(this,M,n);for(let C=0,B=M.length;C<B;C++){const D=M[C];h[b]=D.start*l,m[b]=D.count,S[b]=D.index,b++}OE.reset()}else for(let M=0,A=u.length;M<A;M++)if(u[M].visible&&u[M].active){const C=u[M].geometryIndex;let B=!1;if(v&&(this.getMatrixAt(M,wa),this.getBoundingSphereAt(C,dd).applyMatrix4(wa),B=!NE.intersectsSphere(dd)),!B){const D=g[C];h[b]=D.start*l,m[b]=D.count,S[b]=M,b++}}_.needsUpdate=!0,this._multiDrawCount=b,this._visibilityChanged=!1}onBeforeShadow(e,t,n,i,r,a){this.onBeforeRender(e,null,i,r,a)}}class zr extends Fs{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new Ct(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const GA=new ae,VA=new ae,YD=new sn,Rv=new Kg,qx=new pr,LE=new ae,qD=new ae;class Cu extends Kn{constructor(e=new En,t=new zr){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,n=[0];for(let i=1,r=t.count;i<r;i++)GA.fromBufferAttribute(t,i-1),VA.fromBufferAttribute(t,i),n[i]=n[i-1],n[i]+=GA.distanceTo(VA);e.setAttribute("lineDistance",new qt(n,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const n=this.geometry,i=this.matrixWorld,r=e.params.Line.threshold,a=n.drawRange;if(n.boundingSphere===null&&n.computeBoundingSphere(),qx.copy(n.boundingSphere),qx.applyMatrix4(i),qx.radius+=r,e.ray.intersectsSphere(qx)===!1)return;YD.copy(i).invert(),Rv.copy(e.ray).applyMatrix4(YD);const l=r/((this.scale.x+this.scale.y+this.scale.z)/3),u=l*l,h=this.isLineSegments?2:1,m=n.index,v=n.attributes.position;if(m!==null){const _=Math.max(0,a.start),S=Math.min(m.count,a.start+a.count);for(let b=_,M=S-1;b<M;b+=h){const A=m.getX(b),C=m.getX(b+1),B=Wx(this,e,Rv,u,A,C,b);B&&t.push(B)}if(this.isLineLoop){const b=m.getX(S-1),M=m.getX(_),A=Wx(this,e,Rv,u,b,M,S-1);A&&t.push(A)}}else{const _=Math.max(0,a.start),S=Math.min(v.count,a.start+a.count);for(let b=_,M=S-1;b<M;b+=h){const A=Wx(this,e,Rv,u,b,b+1,b);A&&t.push(A)}if(this.isLineLoop){const b=Wx(this,e,Rv,u,S-1,_,S-1);b&&t.push(b)}}}updateMorphTargets(){const t=this.geometry.morphAttributes,n=Object.keys(t);if(n.length>0){const i=t[n[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let r=0,a=i.length;r<a;r++){const l=i[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[l]=r}}}}}function Wx(s,e,t,n,i,r,a){const l=s.geometry.attributes.position;if(GA.fromBufferAttribute(l,i),VA.fromBufferAttribute(l,r),t.distanceSqToSegment(GA,VA,LE,qD)>n)return;LE.applyMatrix4(s.matrixWorld);const h=e.ray.origin.distanceTo(LE);if(!(h<e.near||h>e.far))return{distance:h,point:qD.clone().applyMatrix4(s.matrixWorld),index:a,face:null,faceIndex:null,barycoord:null,object:s}}const WD=new ae,KD=new ae;class Dl extends Cu{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,n=[];for(let i=0,r=t.count;i<r;i+=2)WD.fromBufferAttribute(t,i),KD.fromBufferAttribute(t,i+1),n[i]=i===0?0:n[i-1],n[i+1]=n[i]+WD.distanceTo(KD);e.setAttribute("lineDistance",new qt(n,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class gw extends Cu{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}}class v_ extends Fs{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new Ct(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const JD=new sn,S2=new Kg,Kx=new pr,Jx=new ae;let vw=class extends Kn{constructor(e=new En,t=new v_){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,t){const n=this.geometry,i=this.matrixWorld,r=e.params.Points.threshold,a=n.drawRange;if(n.boundingSphere===null&&n.computeBoundingSphere(),Kx.copy(n.boundingSphere),Kx.applyMatrix4(i),Kx.radius+=r,e.ray.intersectsSphere(Kx)===!1)return;JD.copy(i).invert(),S2.copy(e.ray).applyMatrix4(JD);const l=r/((this.scale.x+this.scale.y+this.scale.z)/3),u=l*l,h=n.index,g=n.attributes.position;if(h!==null){const v=Math.max(0,a.start),_=Math.min(h.count,a.start+a.count);for(let S=v,b=_;S<b;S++){const M=h.getX(S);Jx.fromBufferAttribute(g,M),ZD(Jx,M,u,i,e,t,this)}}else{const v=Math.max(0,a.start),_=Math.min(g.count,a.start+a.count);for(let S=v,b=_;S<b;S++)Jx.fromBufferAttribute(g,S),ZD(Jx,S,u,i,e,t,this)}}updateMorphTargets(){const t=this.geometry.morphAttributes,n=Object.keys(t);if(n.length>0){const i=t[n[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let r=0,a=i.length;r<a;r++){const l=i[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[l]=r}}}}};function ZD(s,e,t,n,i,r,a){const l=S2.distanceSqToPoint(s);if(l<t){const u=new ae;S2.closestPointToPoint(s,u),u.applyMatrix4(n);const h=i.ray.origin.distanceTo(u);if(h<i.near||h>i.far)return;r.push({distance:h,distanceToRay:Math.sqrt(l),point:u,index:e,face:null,faceIndex:null,barycoord:null,object:a})}}class g8 extends pi{constructor(e,t,n,i,r=fi,a=fi,l,u,h){super(e,t,n,i,r,a,l,u,h),this.isVideoTexture=!0,this.generateMipmaps=!1;const m=this;function g(){m.needsUpdate=!0,e.requestVideoFrameCallback(g)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(g)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class DX extends g8{constructor(e,t,n,i,r,a,l,u){super({},e,t,n,i,r,a,l,u),this.isVideoFrameTexture=!0}update(){}clone(){return new this.constructor().copy(this)}setFrame(e){this.image=e,this.needsUpdate=!0}}class NX extends pi{constructor(e,t){super({width:e,height:t}),this.isFramebufferTexture=!0,this.magFilter=Js,this.minFilter=Js,this.generateMipmaps=!1,this.needsUpdate=!0}}class TM extends pi{constructor(e,t,n,i,r,a,l,u,h,m,g,v){super(null,a,l,u,h,m,i,r,g,v),this.isCompressedTexture=!0,this.image={width:t,height:n},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class OX extends TM{constructor(e,t,n,i,r,a){super(e,t,n,r,a),this.isCompressedArrayTexture=!0,this.image.depth=i,this.wrapR=ps,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class LX extends TM{constructor(e,t,n){super(void 0,e[0].width,e[0].height,t,n,Bc),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}}class UX extends pi{constructor(e,t,n,i,r,a,l,u,h){super(e,t,n,i,r,a,l,u,h),this.isCanvasTexture=!0,this.needsUpdate=!0}}class yw extends pi{constructor(e,t,n=Dc,i,r,a,l=Js,u=Js,h,m=Ng){if(m!==Ng&&m!==Og)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");super(null,i,r,a,l,u,m,n,h),this.isDepthTexture=!0,this.image={width:e,height:t},this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.source=new kf(Object.assign({},e.image)),this.compareFunction=e.compareFunction,this}toJSON(e){const t=super.toJSON(e);return this.compareFunction!==null&&(t.compareFunction=this.compareFunction),t}}class Nl{constructor(){this.type="Curve",this.arcLengthDivisions=200,this.needsUpdate=!1,this.cacheArcLengths=null}getPoint(){console.warn("THREE.Curve: .getPoint() not implemented.")}getPointAt(e,t){const n=this.getUtoTmapping(e);return this.getPoint(n,t)}getPoints(e=5){const t=[];for(let n=0;n<=e;n++)t.push(this.getPoint(n/e));return t}getSpacedPoints(e=5){const t=[];for(let n=0;n<=e;n++)t.push(this.getPointAt(n/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let n,i=this.getPoint(0),r=0;t.push(0);for(let a=1;a<=e;a++)n=this.getPoint(a/e),r+=n.distanceTo(i),t.push(r),i=n;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t=null){const n=this.getLengths();let i=0;const r=n.length;let a;t?a=t:a=e*n[r-1];let l=0,u=r-1,h;for(;l<=u;)if(i=Math.floor(l+(u-l)/2),h=n[i]-a,h<0)l=i+1;else if(h>0)u=i-1;else{u=i;break}if(i=u,n[i]===a)return i/(r-1);const m=n[i],v=n[i+1]-m,_=(a-m)/v;return(i+_)/(r-1)}getTangent(e,t){let i=e-1e-4,r=e+1e-4;i<0&&(i=0),r>1&&(r=1);const a=this.getPoint(i),l=this.getPoint(r),u=t||(a.isVector2?new at:new ae);return u.copy(l).sub(a).normalize(),u}getTangentAt(e,t){const n=this.getUtoTmapping(e);return this.getTangent(n,t)}computeFrenetFrames(e,t=!1){const n=new ae,i=[],r=[],a=[],l=new ae,u=new sn;for(let _=0;_<=e;_++){const S=_/e;i[_]=this.getTangentAt(S,new ae)}r[0]=new ae,a[0]=new ae;let h=Number.MAX_VALUE;const m=Math.abs(i[0].x),g=Math.abs(i[0].y),v=Math.abs(i[0].z);m<=h&&(h=m,n.set(1,0,0)),g<=h&&(h=g,n.set(0,1,0)),v<=h&&n.set(0,0,1),l.crossVectors(i[0],n).normalize(),r[0].crossVectors(i[0],l),a[0].crossVectors(i[0],r[0]);for(let _=1;_<=e;_++){if(r[_]=r[_-1].clone(),a[_]=a[_-1].clone(),l.crossVectors(i[_-1],i[_]),l.length()>Number.EPSILON){l.normalize();const S=Math.acos(xn(i[_-1].dot(i[_]),-1,1));r[_].applyMatrix4(u.makeRotationAxis(l,S))}a[_].crossVectors(i[_],r[_])}if(t===!0){let _=Math.acos(xn(r[0].dot(r[e]),-1,1));_/=e,i[0].dot(l.crossVectors(r[0],r[e]))>0&&(_=-_);for(let S=1;S<=e;S++)r[S].applyMatrix4(u.makeRotationAxis(i[S],_*S)),a[S].crossVectors(i[S],r[S])}return{tangents:i,normals:r,binormals:a}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class CM extends Nl{constructor(e=0,t=0,n=1,i=1,r=0,a=Math.PI*2,l=!1,u=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=n,this.yRadius=i,this.aStartAngle=r,this.aEndAngle=a,this.aClockwise=l,this.aRotation=u}getPoint(e,t=new at){const n=t,i=Math.PI*2;let r=this.aEndAngle-this.aStartAngle;const a=Math.abs(r)<Number.EPSILON;for(;r<0;)r+=i;for(;r>i;)r-=i;r<Number.EPSILON&&(a?r=0:r=i),this.aClockwise===!0&&!a&&(r===i?r=-i:r=r-i);const l=this.aStartAngle+e*r;let u=this.aX+this.xRadius*Math.cos(l),h=this.aY+this.yRadius*Math.sin(l);if(this.aRotation!==0){const m=Math.cos(this.aRotation),g=Math.sin(this.aRotation),v=u-this.aX,_=h-this.aY;u=v*m-_*g+this.aX,h=v*g+_*m+this.aY}return n.set(u,h)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class v8 extends CM{constructor(e,t,n,i,r,a){super(e,t,n,n,i,r,a),this.isArcCurve=!0,this.type="ArcCurve"}}function _w(){let s=0,e=0,t=0,n=0;function i(r,a,l,u){s=r,e=l,t=-3*r+3*a-2*l-u,n=2*r-2*a+l+u}return{initCatmullRom:function(r,a,l,u,h){i(a,l,h*(l-r),h*(u-a))},initNonuniformCatmullRom:function(r,a,l,u,h,m,g){let v=(a-r)/h-(l-r)/(h+m)+(l-a)/m,_=(l-a)/m-(u-a)/(m+g)+(u-l)/g;v*=m,_*=m,i(a,l,v,_)},calc:function(r){const a=r*r,l=a*r;return s+e*r+t*a+n*l}}}const Zx=new ae,UE=new _w,PE=new _w,IE=new _w;class y8 extends Nl{constructor(e=[],t=!1,n="centripetal",i=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=n,this.tension=i}getPoint(e,t=new ae){const n=t,i=this.points,r=i.length,a=(r-(this.closed?0:1))*e;let l=Math.floor(a),u=a-l;this.closed?l+=l>0?0:(Math.floor(Math.abs(l)/r)+1)*r:u===0&&l===r-1&&(l=r-2,u=1);let h,m;this.closed||l>0?h=i[(l-1)%r]:(Zx.subVectors(i[0],i[1]).add(i[0]),h=Zx);const g=i[l%r],v=i[(l+1)%r];if(this.closed||l+2<r?m=i[(l+2)%r]:(Zx.subVectors(i[r-1],i[r-2]).add(i[r-1]),m=Zx),this.curveType==="centripetal"||this.curveType==="chordal"){const _=this.curveType==="chordal"?.5:.25;let S=Math.pow(h.distanceToSquared(g),_),b=Math.pow(g.distanceToSquared(v),_),M=Math.pow(v.distanceToSquared(m),_);b<1e-4&&(b=1),S<1e-4&&(S=b),M<1e-4&&(M=b),UE.initNonuniformCatmullRom(h.x,g.x,v.x,m.x,S,b,M),PE.initNonuniformCatmullRom(h.y,g.y,v.y,m.y,S,b,M),IE.initNonuniformCatmullRom(h.z,g.z,v.z,m.z,S,b,M)}else this.curveType==="catmullrom"&&(UE.initCatmullRom(h.x,g.x,v.x,m.x,this.tension),PE.initCatmullRom(h.y,g.y,v.y,m.y,this.tension),IE.initCatmullRom(h.z,g.z,v.z,m.z,this.tension));return n.set(UE.calc(u),PE.calc(u),IE.calc(u)),n}copy(e){super.copy(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const i=e.points[t];this.points.push(i.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,n=this.points.length;t<n;t++){const i=this.points[t];e.points.push(i.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const i=e.points[t];this.points.push(new ae().fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function QD(s,e,t,n,i){const r=(n-e)*.5,a=(i-t)*.5,l=s*s,u=s*l;return(2*t-2*n+r+a)*u+(-3*t+3*n-2*r-a)*l+r*s+t}function PX(s,e){const t=1-s;return t*t*e}function IX(s,e){return 2*(1-s)*s*e}function FX(s,e){return s*s*e}function _y(s,e,t,n){return PX(s,e)+IX(s,t)+FX(s,n)}function zX(s,e){const t=1-s;return t*t*t*e}function HX(s,e){const t=1-s;return 3*t*t*s*e}function GX(s,e){return 3*(1-s)*s*s*e}function VX(s,e){return s*s*s*e}function xy(s,e,t,n,i){return zX(s,e)+HX(s,t)+GX(s,n)+VX(s,i)}class xw extends Nl{constructor(e=new at,t=new at,n=new at,i=new at){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=n,this.v3=i}getPoint(e,t=new at){const n=t,i=this.v0,r=this.v1,a=this.v2,l=this.v3;return n.set(xy(e,i.x,r.x,a.x,l.x),xy(e,i.y,r.y,a.y,l.y)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class _8 extends Nl{constructor(e=new ae,t=new ae,n=new ae,i=new ae){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=n,this.v3=i}getPoint(e,t=new ae){const n=t,i=this.v0,r=this.v1,a=this.v2,l=this.v3;return n.set(xy(e,i.x,r.x,a.x,l.x),xy(e,i.y,r.y,a.y,l.y),xy(e,i.z,r.z,a.z,l.z)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class Sw extends Nl{constructor(e=new at,t=new at){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new at){const n=t;return e===1?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new at){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class x8 extends Nl{constructor(e=new ae,t=new ae){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e,t=new ae){const n=t;return e===1?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new ae){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class Aw extends Nl{constructor(e=new at,t=new at,n=new at){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=n}getPoint(e,t=new at){const n=t,i=this.v0,r=this.v1,a=this.v2;return n.set(_y(e,i.x,r.x,a.x),_y(e,i.y,r.y,a.y)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class Mw extends Nl{constructor(e=new ae,t=new ae,n=new ae){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=n}getPoint(e,t=new ae){const n=t,i=this.v0,r=this.v1,a=this.v2;return n.set(_y(e,i.x,r.x,a.x),_y(e,i.y,r.y,a.y),_y(e,i.z,r.z,a.z)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class bw extends Nl{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,t=new at){const n=t,i=this.points,r=(i.length-1)*e,a=Math.floor(r),l=r-a,u=i[a===0?a:a-1],h=i[a],m=i[a>i.length-2?i.length-1:a+1],g=i[a>i.length-3?i.length-1:a+2];return n.set(QD(l,u.x,h.x,m.x,g.x),QD(l,u.y,h.y,m.y,g.y)),n}copy(e){super.copy(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const i=e.points[t];this.points.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,n=this.points.length;t<n;t++){const i=this.points[t];e.points.push(i.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const i=e.points[t];this.points.push(new at().fromArray(i))}return this}}var kA=Object.freeze({__proto__:null,ArcCurve:v8,CatmullRomCurve3:y8,CubicBezierCurve:xw,CubicBezierCurve3:_8,EllipseCurve:CM,LineCurve:Sw,LineCurve3:x8,QuadraticBezierCurve:Aw,QuadraticBezierCurve3:Mw,SplineCurve:bw});class S8 extends Nl{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(t)){const n=e.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new kA[n](t,e))}return this}getPoint(e,t){const n=e*this.getLength(),i=this.getCurveLengths();let r=0;for(;r<i.length;){if(i[r]>=n){const a=i[r]-n,l=this.curves[r],u=l.getLength(),h=u===0?0:1-a/u;return l.getPointAt(h,t)}r++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let n=0,i=this.curves.length;n<i;n++)t+=this.curves[n].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let n=0;n<=e;n++)t.push(this.getPoint(n/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let n;for(let i=0,r=this.curves;i<r.length;i++){const a=r[i],l=a.isEllipseCurve?e*2:a.isLineCurve||a.isLineCurve3?1:a.isSplineCurve?e*a.points.length:e,u=a.getPoints(l);for(let h=0;h<u.length;h++){const m=u[h];n&&n.equals(m)||(t.push(m),n=m)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,n=e.curves.length;t<n;t++){const i=e.curves[t];this.curves.push(i.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,n=this.curves.length;t<n;t++){const i=this.curves[t];e.curves.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,n=e.curves.length;t<n;t++){const i=e.curves[t];this.curves.push(new kA[i.type]().fromJSON(i))}return this}}class Xy extends S8{constructor(e){super(),this.type="Path",this.currentPoint=new at,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,n=e.length;t<n;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const n=new Sw(this.currentPoint.clone(),new at(e,t));return this.curves.push(n),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,n,i){const r=new Aw(this.currentPoint.clone(),new at(e,t),new at(n,i));return this.curves.push(r),this.currentPoint.set(n,i),this}bezierCurveTo(e,t,n,i,r,a){const l=new xw(this.currentPoint.clone(),new at(e,t),new at(n,i),new at(r,a));return this.curves.push(l),this.currentPoint.set(r,a),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),n=new bw(t);return this.curves.push(n),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,n,i,r,a){const l=this.currentPoint.x,u=this.currentPoint.y;return this.absarc(e+l,t+u,n,i,r,a),this}absarc(e,t,n,i,r,a){return this.absellipse(e,t,n,n,i,r,a),this}ellipse(e,t,n,i,r,a,l,u){const h=this.currentPoint.x,m=this.currentPoint.y;return this.absellipse(e+h,t+m,n,i,r,a,l,u),this}absellipse(e,t,n,i,r,a,l,u){const h=new CM(e,t,n,i,r,a,l,u);if(this.curves.length>0){const g=h.getPoint(0);g.equals(this.currentPoint)||this.lineTo(g.x,g.y)}this.curves.push(h);const m=h.getPoint(1);return this.currentPoint.copy(m),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class y_ extends En{constructor(e=[new at(0,-.5),new at(.5,0),new at(0,.5)],t=12,n=0,i=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:n,phiLength:i},t=Math.floor(t),i=xn(i,0,Math.PI*2);const r=[],a=[],l=[],u=[],h=[],m=1/t,g=new ae,v=new at,_=new ae,S=new ae,b=new ae;let M=0,A=0;for(let C=0;C<=e.length-1;C++)switch(C){case 0:M=e[C+1].x-e[C].x,A=e[C+1].y-e[C].y,_.x=A*1,_.y=-M,_.z=A*0,b.copy(_),_.normalize(),u.push(_.x,_.y,_.z);break;case e.length-1:u.push(b.x,b.y,b.z);break;default:M=e[C+1].x-e[C].x,A=e[C+1].y-e[C].y,_.x=A*1,_.y=-M,_.z=A*0,S.copy(_),_.x+=b.x,_.y+=b.y,_.z+=b.z,_.normalize(),u.push(_.x,_.y,_.z),b.copy(S)}for(let C=0;C<=t;C++){const B=n+C*m*i,D=Math.sin(B),N=Math.cos(B);for(let U=0;U<=e.length-1;U++){g.x=e[U].x*D,g.y=e[U].y,g.z=e[U].x*N,a.push(g.x,g.y,g.z),v.x=C/t,v.y=U/(e.length-1),l.push(v.x,v.y);const F=u[3*U+0]*D,z=u[3*U+1],O=u[3*U+0]*N;h.push(F,z,O)}}for(let C=0;C<t;C++)for(let B=0;B<e.length-1;B++){const D=B+C*e.length,N=D,U=D+e.length,F=D+e.length+1,z=D+1;r.push(N,U,z),r.push(F,z,U)}this.setIndex(r),this.setAttribute("position",new qt(a,3)),this.setAttribute("uv",new qt(l,2)),this.setAttribute("normal",new qt(h,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new y_(e.points,e.segments,e.phiStart,e.phiLength)}}class wM extends y_{constructor(e=1,t=1,n=4,i=8){const r=new Xy;r.absarc(0,-t/2,e,Math.PI*1.5,0),r.absarc(0,t/2,e,0,Math.PI*.5),super(r.getPoints(n),i),this.type="CapsuleGeometry",this.parameters={radius:e,length:t,capSegments:n,radialSegments:i}}static fromJSON(e){return new wM(e.radius,e.length,e.capSegments,e.radialSegments)}}class RM extends En{constructor(e=1,t=32,n=0,i=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:n,thetaLength:i},t=Math.max(3,t);const r=[],a=[],l=[],u=[],h=new ae,m=new at;a.push(0,0,0),l.push(0,0,1),u.push(.5,.5);for(let g=0,v=3;g<=t;g++,v+=3){const _=n+g/t*i;h.x=e*Math.cos(_),h.y=e*Math.sin(_),a.push(h.x,h.y,h.z),l.push(0,0,1),m.x=(a[v]/e+1)/2,m.y=(a[v+1]/e+1)/2,u.push(m.x,m.y)}for(let g=1;g<=t;g++)r.push(g,g+1,0);this.setIndex(r),this.setAttribute("position",new qt(a,3)),this.setAttribute("normal",new qt(l,3)),this.setAttribute("uv",new qt(u,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new RM(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class xp extends En{constructor(e=1,t=1,n=1,i=32,r=1,a=!1,l=0,u=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:n,radialSegments:i,heightSegments:r,openEnded:a,thetaStart:l,thetaLength:u};const h=this;i=Math.floor(i),r=Math.floor(r);const m=[],g=[],v=[],_=[];let S=0;const b=[],M=n/2;let A=0;C(),a===!1&&(e>0&&B(!0),t>0&&B(!1)),this.setIndex(m),this.setAttribute("position",new qt(g,3)),this.setAttribute("normal",new qt(v,3)),this.setAttribute("uv",new qt(_,2));function C(){const D=new ae,N=new ae;let U=0;const F=(t-e)/n;for(let z=0;z<=r;z++){const O=[],P=z/r,q=P*(t-e)+e;for(let ne=0;ne<=i;ne++){const te=ne/i,ee=te*u+l,oe=Math.sin(ee),H=Math.cos(ee);N.x=q*oe,N.y=-P*n+M,N.z=q*H,g.push(N.x,N.y,N.z),D.set(oe,F,H).normalize(),v.push(D.x,D.y,D.z),_.push(te,1-P),O.push(S++)}b.push(O)}for(let z=0;z<i;z++)for(let O=0;O<r;O++){const P=b[O][z],q=b[O+1][z],ne=b[O+1][z+1],te=b[O][z+1];(e>0||O!==0)&&(m.push(P,q,te),U+=3),(t>0||O!==r-1)&&(m.push(q,ne,te),U+=3)}h.addGroup(A,U,0),A+=U}function B(D){const N=S,U=new at,F=new ae;let z=0;const O=D===!0?e:t,P=D===!0?1:-1;for(let ne=1;ne<=i;ne++)g.push(0,M*P,0),v.push(0,P,0),_.push(.5,.5),S++;const q=S;for(let ne=0;ne<=i;ne++){const ee=ne/i*u+l,oe=Math.cos(ee),H=Math.sin(ee);F.x=O*H,F.y=M*P,F.z=O*oe,g.push(F.x,F.y,F.z),v.push(0,P,0),U.x=oe*.5+.5,U.y=H*.5*P+.5,_.push(U.x,U.y),S++}for(let ne=0;ne<i;ne++){const te=N+ne,ee=q+ne;D===!0?m.push(ee,ee+1,te):m.push(ee+1,ee,te),z+=3}h.addGroup(A,z,D===!0?1:2),A+=z}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new xp(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class BM extends xp{constructor(e=1,t=1,n=32,i=1,r=!1,a=0,l=Math.PI*2){super(0,e,t,n,i,r,a,l),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:n,heightSegments:i,openEnded:r,thetaStart:a,thetaLength:l}}static fromJSON(e){return new BM(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class uh extends En{constructor(e=[],t=[],n=1,i=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:n,detail:i};const r=[],a=[];l(i),h(n),m(),this.setAttribute("position",new qt(r,3)),this.setAttribute("normal",new qt(r.slice(),3)),this.setAttribute("uv",new qt(a,2)),i===0?this.computeVertexNormals():this.normalizeNormals();function l(C){const B=new ae,D=new ae,N=new ae;for(let U=0;U<t.length;U+=3)_(t[U+0],B),_(t[U+1],D),_(t[U+2],N),u(B,D,N,C)}function u(C,B,D,N){const U=N+1,F=[];for(let z=0;z<=U;z++){F[z]=[];const O=C.clone().lerp(D,z/U),P=B.clone().lerp(D,z/U),q=U-z;for(let ne=0;ne<=q;ne++)ne===0&&z===U?F[z][ne]=O:F[z][ne]=O.clone().lerp(P,ne/q)}for(let z=0;z<U;z++)for(let O=0;O<2*(U-z)-1;O++){const P=Math.floor(O/2);O%2===0?(v(F[z][P+1]),v(F[z+1][P]),v(F[z][P])):(v(F[z][P+1]),v(F[z+1][P+1]),v(F[z+1][P]))}}function h(C){const B=new ae;for(let D=0;D<r.length;D+=3)B.x=r[D+0],B.y=r[D+1],B.z=r[D+2],B.normalize().multiplyScalar(C),r[D+0]=B.x,r[D+1]=B.y,r[D+2]=B.z}function m(){const C=new ae;for(let B=0;B<r.length;B+=3){C.x=r[B+0],C.y=r[B+1],C.z=r[B+2];const D=M(C)/2/Math.PI+.5,N=A(C)/Math.PI+.5;a.push(D,1-N)}S(),g()}function g(){for(let C=0;C<a.length;C+=6){const B=a[C+0],D=a[C+2],N=a[C+4],U=Math.max(B,D,N),F=Math.min(B,D,N);U>.9&&F<.1&&(B<.2&&(a[C+0]+=1),D<.2&&(a[C+2]+=1),N<.2&&(a[C+4]+=1))}}function v(C){r.push(C.x,C.y,C.z)}function _(C,B){const D=C*3;B.x=e[D+0],B.y=e[D+1],B.z=e[D+2]}function S(){const C=new ae,B=new ae,D=new ae,N=new ae,U=new at,F=new at,z=new at;for(let O=0,P=0;O<r.length;O+=9,P+=6){C.set(r[O+0],r[O+1],r[O+2]),B.set(r[O+3],r[O+4],r[O+5]),D.set(r[O+6],r[O+7],r[O+8]),U.set(a[P+0],a[P+1]),F.set(a[P+2],a[P+3]),z.set(a[P+4],a[P+5]),N.copy(C).add(B).add(D).divideScalar(3);const q=M(N);b(U,P+0,C,q),b(F,P+2,B,q),b(z,P+4,D,q)}}function b(C,B,D,N){N<0&&C.x===1&&(a[B]=C.x-1),D.x===0&&D.z===0&&(a[B]=N/2/Math.PI+.5)}function M(C){return Math.atan2(C.z,-C.x)}function A(C){return Math.atan2(-C.y,Math.sqrt(C.x*C.x+C.z*C.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new uh(e.vertices,e.indices,e.radius,e.details)}}class DM extends uh{constructor(e=1,t=0){const n=(1+Math.sqrt(5))/2,i=1/n,r=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-i,-n,0,-i,n,0,i,-n,0,i,n,-i,-n,0,-i,n,0,i,-n,0,i,n,0,-n,0,-i,n,0,-i,-n,0,i,n,0,i],a=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(r,a,e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new DM(e.radius,e.detail)}}const Qx=new ae,$x=new ae,FE=new ae,eS=new Na;class A8 extends En{constructor(e=null,t=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},e!==null){const i=Math.pow(10,4),r=Math.cos(ep*t),a=e.getIndex(),l=e.getAttribute("position"),u=a?a.count:l.count,h=[0,0,0],m=["a","b","c"],g=new Array(3),v={},_=[];for(let S=0;S<u;S+=3){a?(h[0]=a.getX(S),h[1]=a.getX(S+1),h[2]=a.getX(S+2)):(h[0]=S,h[1]=S+1,h[2]=S+2);const{a:b,b:M,c:A}=eS;if(b.fromBufferAttribute(l,h[0]),M.fromBufferAttribute(l,h[1]),A.fromBufferAttribute(l,h[2]),eS.getNormal(FE),g[0]=`${Math.round(b.x*i)},${Math.round(b.y*i)},${Math.round(b.z*i)}`,g[1]=`${Math.round(M.x*i)},${Math.round(M.y*i)},${Math.round(M.z*i)}`,g[2]=`${Math.round(A.x*i)},${Math.round(A.y*i)},${Math.round(A.z*i)}`,!(g[0]===g[1]||g[1]===g[2]||g[2]===g[0]))for(let C=0;C<3;C++){const B=(C+1)%3,D=g[C],N=g[B],U=eS[m[C]],F=eS[m[B]],z=`${D}_${N}`,O=`${N}_${D}`;O in v&&v[O]?(FE.dot(v[O].normal)<=r&&(_.push(U.x,U.y,U.z),_.push(F.x,F.y,F.z)),v[O]=null):z in v||(v[z]={index0:h[C],index1:h[B],normal:FE.clone()})}}for(const S in v)if(v[S]){const{index0:b,index1:M}=v[S];Qx.fromBufferAttribute(l,b),$x.fromBufferAttribute(l,M),_.push(Qx.x,Qx.y,Qx.z),_.push($x.x,$x.y,$x.z)}this.setAttribute("position",new qt(_,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class tp extends Xy{constructor(e){super(e),this.uuid=co(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let n=0,i=this.holes.length;n<i;n++)t[n]=this.holes[n].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,n=e.holes.length;t<n;t++){const i=e.holes[t];this.holes.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,n=this.holes.length;t<n;t++){const i=this.holes[t];e.holes.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,n=e.holes.length;t<n;t++){const i=e.holes[t];this.holes.push(new Xy().fromJSON(i))}return this}}function kX(s,e,t=2){const n=e&&e.length,i=n?e[0]*t:s.length;let r=M8(s,0,i,t,!0);const a=[];if(!r||r.next===r.prev)return a;let l,u,h;if(n&&(r=WX(s,e,r,t)),s.length>80*t){l=1/0,u=1/0;let m=-1/0,g=-1/0;for(let v=t;v<i;v+=t){const _=s[v],S=s[v+1];_<l&&(l=_),S<u&&(u=S),_>m&&(m=_),S>g&&(g=S)}h=Math.max(m-l,g-u),h=h!==0?32767/h:0}return Yy(r,a,t,l,u,h,0),a}function M8(s,e,t,n,i){let r;if(i===rY(s,e,t,n)>0)for(let a=e;a<t;a+=n)r=$D(a/n|0,s[a],s[a+1],r);else for(let a=t-n;a>=e;a-=n)r=$D(a/n|0,s[a],s[a+1],r);return r&&zg(r,r.next)&&(Wy(r),r=r.next),r}function cp(s,e){if(!s)return s;e||(e=s);let t=s,n;do if(n=!1,!t.steiner&&(zg(t,t.next)||Qi(t.prev,t,t.next)===0)){if(Wy(t),t=e=t.prev,t===t.next)break;n=!0}else t=t.next;while(n||t!==e);return e}function Yy(s,e,t,n,i,r,a){if(!s)return;!a&&r&&$X(s,n,i,r);let l=s;for(;s.prev!==s.next;){const u=s.prev,h=s.next;if(r?XX(s,n,i,r):jX(s)){e.push(u.i,s.i,h.i),Wy(s),s=h.next,l=h.next;continue}if(s=h,s===l){a?a===1?(s=YX(cp(s),e),Yy(s,e,t,n,i,r,2)):a===2&&qX(s,e,t,n,i,r):Yy(cp(s),e,t,n,i,r,1);break}}}function jX(s){const e=s.prev,t=s,n=s.next;if(Qi(e,t,n)>=0)return!1;const i=e.x,r=t.x,a=n.x,l=e.y,u=t.y,h=n.y,m=Math.min(i,r,a),g=Math.min(l,u,h),v=Math.max(i,r,a),_=Math.max(l,u,h);let S=n.next;for(;S!==e;){if(S.x>=m&&S.x<=v&&S.y>=g&&S.y<=_&&qv(i,l,r,u,a,h,S.x,S.y)&&Qi(S.prev,S,S.next)>=0)return!1;S=S.next}return!0}function XX(s,e,t,n){const i=s.prev,r=s,a=s.next;if(Qi(i,r,a)>=0)return!1;const l=i.x,u=r.x,h=a.x,m=i.y,g=r.y,v=a.y,_=Math.min(l,u,h),S=Math.min(m,g,v),b=Math.max(l,u,h),M=Math.max(m,g,v),A=A2(_,S,e,t,n),C=A2(b,M,e,t,n);let B=s.prevZ,D=s.nextZ;for(;B&&B.z>=A&&D&&D.z<=C;){if(B.x>=_&&B.x<=b&&B.y>=S&&B.y<=M&&B!==i&&B!==a&&qv(l,m,u,g,h,v,B.x,B.y)&&Qi(B.prev,B,B.next)>=0||(B=B.prevZ,D.x>=_&&D.x<=b&&D.y>=S&&D.y<=M&&D!==i&&D!==a&&qv(l,m,u,g,h,v,D.x,D.y)&&Qi(D.prev,D,D.next)>=0))return!1;D=D.nextZ}for(;B&&B.z>=A;){if(B.x>=_&&B.x<=b&&B.y>=S&&B.y<=M&&B!==i&&B!==a&&qv(l,m,u,g,h,v,B.x,B.y)&&Qi(B.prev,B,B.next)>=0)return!1;B=B.prevZ}for(;D&&D.z<=C;){if(D.x>=_&&D.x<=b&&D.y>=S&&D.y<=M&&D!==i&&D!==a&&qv(l,m,u,g,h,v,D.x,D.y)&&Qi(D.prev,D,D.next)>=0)return!1;D=D.nextZ}return!0}function YX(s,e){let t=s;do{const n=t.prev,i=t.next.next;!zg(n,i)&&E8(n,t,t.next,i)&&qy(n,i)&&qy(i,n)&&(e.push(n.i,t.i,i.i),Wy(t),Wy(t.next),t=s=i),t=t.next}while(t!==s);return cp(t)}function qX(s,e,t,n,i,r){let a=s;do{let l=a.next.next;for(;l!==a.prev;){if(a.i!==l.i&&nY(a,l)){let u=T8(a,l);a=cp(a,a.next),u=cp(u,u.next),Yy(a,e,t,n,i,r,0),Yy(u,e,t,n,i,r,0);return}l=l.next}a=a.next}while(a!==s)}function WX(s,e,t,n){const i=[];for(let r=0,a=e.length;r<a;r++){const l=e[r]*n,u=r<a-1?e[r+1]*n:s.length,h=M8(s,l,u,n,!1);h===h.next&&(h.steiner=!0),i.push(tY(h))}i.sort(KX);for(let r=0;r<i.length;r++)t=JX(i[r],t);return t}function KX(s,e){let t=s.x-e.x;if(t===0&&(t=s.y-e.y,t===0)){const n=(s.next.y-s.y)/(s.next.x-s.x),i=(e.next.y-e.y)/(e.next.x-e.x);t=n-i}return t}function JX(s,e){const t=ZX(s,e);if(!t)return e;const n=T8(t,s);return cp(n,n.next),cp(t,t.next)}function ZX(s,e){let t=e;const n=s.x,i=s.y;let r=-1/0,a;if(zg(s,t))return t;do{if(zg(s,t.next))return t.next;if(i<=t.y&&i>=t.next.y&&t.next.y!==t.y){const g=t.x+(i-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(g<=n&&g>r&&(r=g,a=t.x<t.next.x?t:t.next,g===n))return a}t=t.next}while(t!==e);if(!a)return null;const l=a,u=a.x,h=a.y;let m=1/0;t=a;do{if(n>=t.x&&t.x>=u&&n!==t.x&&b8(i<h?n:r,i,u,h,i<h?r:n,i,t.x,t.y)){const g=Math.abs(i-t.y)/(n-t.x);qy(t,s)&&(g<m||g===m&&(t.x>a.x||t.x===a.x&&QX(a,t)))&&(a=t,m=g)}t=t.next}while(t!==l);return a}function QX(s,e){return Qi(s.prev,s,e.prev)<0&&Qi(e.next,s,s.next)<0}function $X(s,e,t,n){let i=s;do i.z===0&&(i.z=A2(i.x,i.y,e,t,n)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==s);i.prevZ.nextZ=null,i.prevZ=null,eY(i)}function eY(s){let e,t=1;do{let n=s,i;s=null;let r=null;for(e=0;n;){e++;let a=n,l=0;for(let h=0;h<t&&(l++,a=a.nextZ,!!a);h++);let u=t;for(;l>0||u>0&&a;)l!==0&&(u===0||!a||n.z<=a.z)?(i=n,n=n.nextZ,l--):(i=a,a=a.nextZ,u--),r?r.nextZ=i:s=i,i.prevZ=r,r=i;n=a}r.nextZ=null,t*=2}while(e>1);return s}function A2(s,e,t,n,i){return s=(s-t)*i|0,e=(e-n)*i|0,s=(s|s<<8)&16711935,s=(s|s<<4)&252645135,s=(s|s<<2)&858993459,s=(s|s<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,s|e<<1}function tY(s){let e=s,t=s;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==s);return t}function b8(s,e,t,n,i,r,a,l){return(i-a)*(e-l)>=(s-a)*(r-l)&&(s-a)*(n-l)>=(t-a)*(e-l)&&(t-a)*(r-l)>=(i-a)*(n-l)}function qv(s,e,t,n,i,r,a,l){return!(s===a&&e===l)&&b8(s,e,t,n,i,r,a,l)}function nY(s,e){return s.next.i!==e.i&&s.prev.i!==e.i&&!iY(s,e)&&(qy(s,e)&&qy(e,s)&&sY(s,e)&&(Qi(s.prev,s,e.prev)||Qi(s,e.prev,e))||zg(s,e)&&Qi(s.prev,s,s.next)>0&&Qi(e.prev,e,e.next)>0)}function Qi(s,e,t){return(e.y-s.y)*(t.x-e.x)-(e.x-s.x)*(t.y-e.y)}function zg(s,e){return s.x===e.x&&s.y===e.y}function E8(s,e,t,n){const i=nS(Qi(s,e,t)),r=nS(Qi(s,e,n)),a=nS(Qi(t,n,s)),l=nS(Qi(t,n,e));return!!(i!==r&&a!==l||i===0&&tS(s,t,e)||r===0&&tS(s,n,e)||a===0&&tS(t,s,n)||l===0&&tS(t,e,n))}function tS(s,e,t){return e.x<=Math.max(s.x,t.x)&&e.x>=Math.min(s.x,t.x)&&e.y<=Math.max(s.y,t.y)&&e.y>=Math.min(s.y,t.y)}function nS(s){return s>0?1:s<0?-1:0}function iY(s,e){let t=s;do{if(t.i!==s.i&&t.next.i!==s.i&&t.i!==e.i&&t.next.i!==e.i&&E8(t,t.next,s,e))return!0;t=t.next}while(t!==s);return!1}function qy(s,e){return Qi(s.prev,s,s.next)<0?Qi(s,e,s.next)>=0&&Qi(s,s.prev,e)>=0:Qi(s,e,s.prev)<0||Qi(s,s.next,e)<0}function sY(s,e){let t=s,n=!1;const i=(s.x+e.x)/2,r=(s.y+e.y)/2;do t.y>r!=t.next.y>r&&t.next.y!==t.y&&i<(t.next.x-t.x)*(r-t.y)/(t.next.y-t.y)+t.x&&(n=!n),t=t.next;while(t!==s);return n}function T8(s,e){const t=M2(s.i,s.x,s.y),n=M2(e.i,e.x,e.y),i=s.next,r=e.prev;return s.next=e,e.prev=s,t.next=i,i.prev=t,n.next=t,t.prev=n,r.next=n,n.prev=r,n}function $D(s,e,t,n){const i=M2(s,e,t);return n?(i.next=n.next,i.prev=n,n.next.prev=i,n.next=i):(i.prev=i,i.next=i),i}function Wy(s){s.next.prev=s.prev,s.prev.next=s.next,s.prevZ&&(s.prevZ.nextZ=s.nextZ),s.nextZ&&(s.nextZ.prevZ=s.prevZ)}function M2(s,e,t){return{i:s,x:e,y:t,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}function rY(s,e,t,n){let i=0;for(let r=e,a=t-n;r<t;r+=n)i+=(s[a]-s[r])*(s[r+1]+s[a+1]),a=r;return i}class aY{static triangulate(e,t,n=2){return kX(e,t,n)}}class Cc{static area(e){const t=e.length;let n=0;for(let i=t-1,r=0;r<t;i=r++)n+=e[i].x*e[r].y-e[r].x*e[i].y;return n*.5}static isClockWise(e){return Cc.area(e)<0}static triangulateShape(e,t){const n=[],i=[],r=[];e5(e),t5(n,e);let a=e.length;t.forEach(e5);for(let u=0;u<t.length;u++)i.push(a),a+=t[u].length,t5(n,t[u]);const l=aY.triangulate(n,i);for(let u=0;u<l.length;u+=3)r.push(l.slice(u,u+3));return r}}function e5(s){const e=s.length;e>2&&s[e-1].equals(s[0])&&s.pop()}function t5(s,e){for(let t=0;t<e.length;t++)s.push(e[t].x),s.push(e[t].y)}class NM extends En{constructor(e=new tp([new at(.5,.5),new at(-.5,.5),new at(-.5,-.5),new at(.5,-.5)]),t={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const n=this,i=[],r=[];for(let l=0,u=e.length;l<u;l++){const h=e[l];a(h)}this.setAttribute("position",new qt(i,3)),this.setAttribute("uv",new qt(r,2)),this.computeVertexNormals();function a(l){const u=[],h=t.curveSegments!==void 0?t.curveSegments:12,m=t.steps!==void 0?t.steps:1,g=t.depth!==void 0?t.depth:1;let v=t.bevelEnabled!==void 0?t.bevelEnabled:!0,_=t.bevelThickness!==void 0?t.bevelThickness:.2,S=t.bevelSize!==void 0?t.bevelSize:_-.1,b=t.bevelOffset!==void 0?t.bevelOffset:0,M=t.bevelSegments!==void 0?t.bevelSegments:3;const A=t.extrudePath,C=t.UVGenerator!==void 0?t.UVGenerator:oY;let B,D=!1,N,U,F,z;A&&(B=A.getSpacedPoints(m),D=!0,v=!1,N=A.computeFrenetFrames(m,!1),U=new ae,F=new ae,z=new ae),v||(M=0,_=0,S=0,b=0);const O=l.extractPoints(h);let P=O.shape;const q=O.holes;if(!Cc.isClockWise(P)){P=P.reverse();for(let Ye=0,le=q.length;Ye<le;Ye++){const He=q[Ye];Cc.isClockWise(He)&&(q[Ye]=He.reverse())}}function te(Ye){const He=10000000000000001e-36;let rt=Ye[0];for(let Ge=1;Ge<=Ye.length;Ge++){const Q=Ge%Ye.length,X=Ye[Q],be=X.x-rt.x,Pe=X.y-rt.y,Le=be*be+Pe*Pe,Ve=Math.max(Math.abs(X.x),Math.abs(X.y),Math.abs(rt.x),Math.abs(rt.y)),lt=He*Ve*Ve;if(Le<=lt){Ye.splice(Q,1),Ge--;continue}rt=X}}te(P),q.forEach(te);const ee=q.length,oe=P;for(let Ye=0;Ye<ee;Ye++){const le=q[Ye];P=P.concat(le)}function H(Ye,le,He){return le||console.error("THREE.ExtrudeGeometry: vec does not exist"),Ye.clone().addScaledVector(le,He)}const Y=P.length;function Z(Ye,le,He){let rt,Ge,Q;const X=Ye.x-le.x,be=Ye.y-le.y,Pe=He.x-Ye.x,Le=He.y-Ye.y,Ve=X*X+be*be,lt=X*Le-be*Pe;if(Math.abs(lt)>Number.EPSILON){const ot=Math.sqrt(Ve),ut=Math.sqrt(Pe*Pe+Le*Le),Vt=le.x-be/ot,ct=le.y+X/ot,ft=He.x-Le/ut,Tt=He.y+Pe/ut,gt=((ft-Vt)*Le-(Tt-ct)*Pe)/(X*Le-be*Pe);rt=Vt+X*gt-Ye.x,Ge=ct+be*gt-Ye.y;const vt=rt*rt+Ge*Ge;if(vt<=2)return new at(rt,Ge);Q=Math.sqrt(vt/2)}else{let ot=!1;X>Number.EPSILON?Pe>Number.EPSILON&&(ot=!0):X<-Number.EPSILON?Pe<-Number.EPSILON&&(ot=!0):Math.sign(be)===Math.sign(Le)&&(ot=!0),ot?(rt=-be,Ge=X,Q=Math.sqrt(Ve)):(rt=X,Ge=be,Q=Math.sqrt(Ve/2))}return new at(rt/Q,Ge/Q)}const de=[];for(let Ye=0,le=oe.length,He=le-1,rt=Ye+1;Ye<le;Ye++,He++,rt++)He===le&&(He=0),rt===le&&(rt=0),de[Ye]=Z(oe[Ye],oe[He],oe[rt]);const I=[];let ie,ue=de.concat();for(let Ye=0,le=ee;Ye<le;Ye++){const He=q[Ye];ie=[];for(let rt=0,Ge=He.length,Q=Ge-1,X=rt+1;rt<Ge;rt++,Q++,X++)Q===Ge&&(Q=0),X===Ge&&(X=0),ie[rt]=Z(He[rt],He[Q],He[X]);I.push(ie),ue=ue.concat(ie)}const _e=[],se=[];for(let Ye=0;Ye<M;Ye++){const le=Ye/M,He=_*Math.cos(le*Math.PI/2),rt=S*Math.sin(le*Math.PI/2)+b;for(let Ge=0,Q=oe.length;Ge<Q;Ge++){const X=H(oe[Ge],de[Ge],rt);st(X.x,X.y,-He),le==0&&_e.push(X)}for(let Ge=0,Q=ee;Ge<Q;Ge++){const X=q[Ge];ie=I[Ge];const be=[];for(let Pe=0,Le=X.length;Pe<Le;Pe++){const Ve=H(X[Pe],ie[Pe],rt);st(Ve.x,Ve.y,-He),le==0&&be.push(Ve)}le==0&&se.push(be)}}const xe=Cc.triangulateShape(_e,se),Ae=xe.length,Ee=S+b;for(let Ye=0;Ye<Y;Ye++){const le=v?H(P[Ye],ue[Ye],Ee):P[Ye];D?(F.copy(N.normals[0]).multiplyScalar(le.x),U.copy(N.binormals[0]).multiplyScalar(le.y),z.copy(B[0]).add(F).add(U),st(z.x,z.y,z.z)):st(le.x,le.y,0)}for(let Ye=1;Ye<=m;Ye++)for(let le=0;le<Y;le++){const He=v?H(P[le],ue[le],Ee):P[le];D?(F.copy(N.normals[Ye]).multiplyScalar(He.x),U.copy(N.binormals[Ye]).multiplyScalar(He.y),z.copy(B[Ye]).add(F).add(U),st(z.x,z.y,z.z)):st(He.x,He.y,g/m*Ye)}for(let Ye=M-1;Ye>=0;Ye--){const le=Ye/M,He=_*Math.cos(le*Math.PI/2),rt=S*Math.sin(le*Math.PI/2)+b;for(let Ge=0,Q=oe.length;Ge<Q;Ge++){const X=H(oe[Ge],de[Ge],rt);st(X.x,X.y,g+He)}for(let Ge=0,Q=q.length;Ge<Q;Ge++){const X=q[Ge];ie=I[Ge];for(let be=0,Pe=X.length;be<Pe;be++){const Le=H(X[be],ie[be],rt);D?st(Le.x,Le.y+B[m-1].y,B[m-1].x+He):st(Le.x,Le.y,g+He)}}}Ne(),ht();function Ne(){const Ye=i.length/3;if(v){let le=0,He=Y*le;for(let rt=0;rt<Ae;rt++){const Ge=xe[rt];_t(Ge[2]+He,Ge[1]+He,Ge[0]+He)}le=m+M*2,He=Y*le;for(let rt=0;rt<Ae;rt++){const Ge=xe[rt];_t(Ge[0]+He,Ge[1]+He,Ge[2]+He)}}else{for(let le=0;le<Ae;le++){const He=xe[le];_t(He[2],He[1],He[0])}for(let le=0;le<Ae;le++){const He=xe[le];_t(He[0]+Y*m,He[1]+Y*m,He[2]+Y*m)}}n.addGroup(Ye,i.length/3-Ye,0)}function ht(){const Ye=i.length/3;let le=0;Je(oe,le),le+=oe.length;for(let He=0,rt=q.length;He<rt;He++){const Ge=q[He];Je(Ge,le),le+=Ge.length}n.addGroup(Ye,i.length/3-Ye,1)}function Je(Ye,le){let He=Ye.length;for(;--He>=0;){const rt=He;let Ge=He-1;Ge<0&&(Ge=Ye.length-1);for(let Q=0,X=m+M*2;Q<X;Q++){const be=Y*Q,Pe=Y*(Q+1),Le=le+rt+be,Ve=le+Ge+be,lt=le+Ge+Pe,ot=le+rt+Pe;dt(Le,Ve,lt,ot)}}}function st(Ye,le,He){u.push(Ye),u.push(le),u.push(He)}function _t(Ye,le,He){ce(Ye),ce(le),ce(He);const rt=i.length/3,Ge=C.generateTopUV(n,i,rt-3,rt-2,rt-1);Ht(Ge[0]),Ht(Ge[1]),Ht(Ge[2])}function dt(Ye,le,He,rt){ce(Ye),ce(le),ce(rt),ce(le),ce(He),ce(rt);const Ge=i.length/3,Q=C.generateSideWallUV(n,i,Ge-6,Ge-3,Ge-2,Ge-1);Ht(Q[0]),Ht(Q[1]),Ht(Q[3]),Ht(Q[1]),Ht(Q[2]),Ht(Q[3])}function ce(Ye){i.push(u[Ye*3+0]),i.push(u[Ye*3+1]),i.push(u[Ye*3+2])}function Ht(Ye){r.push(Ye.x),r.push(Ye.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes,n=this.parameters.options;return lY(t,n,e)}static fromJSON(e,t){const n=[];for(let r=0,a=e.shapes.length;r<a;r++){const l=t[e.shapes[r]];n.push(l)}const i=e.options.extrudePath;return i!==void 0&&(e.options.extrudePath=new kA[i.type]().fromJSON(i)),new NM(n,e.options)}}const oY={generateTopUV:function(s,e,t,n,i){const r=e[t*3],a=e[t*3+1],l=e[n*3],u=e[n*3+1],h=e[i*3],m=e[i*3+1];return[new at(r,a),new at(l,u),new at(h,m)]},generateSideWallUV:function(s,e,t,n,i,r){const a=e[t*3],l=e[t*3+1],u=e[t*3+2],h=e[n*3],m=e[n*3+1],g=e[n*3+2],v=e[i*3],_=e[i*3+1],S=e[i*3+2],b=e[r*3],M=e[r*3+1],A=e[r*3+2];return Math.abs(l-m)<Math.abs(a-h)?[new at(a,1-u),new at(h,1-g),new at(v,1-S),new at(b,1-A)]:[new at(l,1-u),new at(m,1-g),new at(_,1-S),new at(M,1-A)]}};function lY(s,e,t){if(t.shapes=[],Array.isArray(s))for(let n=0,i=s.length;n<i;n++){const r=s[n];t.shapes.push(r.uuid)}else t.shapes.push(s.uuid);return t.options=Object.assign({},e),e.extrudePath!==void 0&&(t.options.extrudePath=e.extrudePath.toJSON()),t}class __ extends uh{constructor(e=1,t=0){const n=(1+Math.sqrt(5))/2,i=[-1,n,0,1,n,0,-1,-n,0,1,-n,0,0,-1,n,0,1,n,0,-1,-n,0,1,-n,n,0,-1,n,0,1,-n,0,-1,-n,0,1],r=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(i,r,e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new __(e.radius,e.detail)}}class x_ extends uh{constructor(e=1,t=0){const n=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],i=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(n,i,e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new x_(e.radius,e.detail)}}class fh extends En{constructor(e=1,t=1,n=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:n,heightSegments:i};const r=e/2,a=t/2,l=Math.floor(n),u=Math.floor(i),h=l+1,m=u+1,g=e/l,v=t/u,_=[],S=[],b=[],M=[];for(let A=0;A<m;A++){const C=A*v-a;for(let B=0;B<h;B++){const D=B*g-r;S.push(D,-C,0),b.push(0,0,1),M.push(B/l),M.push(1-A/u)}}for(let A=0;A<u;A++)for(let C=0;C<l;C++){const B=C+h*A,D=C+h*(A+1),N=C+1+h*(A+1),U=C+1+h*A;_.push(B,D,U),_.push(D,N,U)}this.setIndex(_),this.setAttribute("position",new qt(S,3)),this.setAttribute("normal",new qt(b,3)),this.setAttribute("uv",new qt(M,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new fh(e.width,e.height,e.widthSegments,e.heightSegments)}}class OM extends En{constructor(e=.5,t=1,n=32,i=1,r=0,a=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:n,phiSegments:i,thetaStart:r,thetaLength:a},n=Math.max(3,n),i=Math.max(1,i);const l=[],u=[],h=[],m=[];let g=e;const v=(t-e)/i,_=new ae,S=new at;for(let b=0;b<=i;b++){for(let M=0;M<=n;M++){const A=r+M/n*a;_.x=g*Math.cos(A),_.y=g*Math.sin(A),u.push(_.x,_.y,_.z),h.push(0,0,1),S.x=(_.x/t+1)/2,S.y=(_.y/t+1)/2,m.push(S.x,S.y)}g+=v}for(let b=0;b<i;b++){const M=b*(n+1);for(let A=0;A<n;A++){const C=A+M,B=C,D=C+n+1,N=C+n+2,U=C+1;l.push(B,D,U),l.push(D,N,U)}}this.setIndex(l),this.setAttribute("position",new qt(u,3)),this.setAttribute("normal",new qt(h,3)),this.setAttribute("uv",new qt(m,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new OM(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class LM extends En{constructor(e=new tp([new at(0,.5),new at(-.5,-.5),new at(.5,-.5)]),t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const n=[],i=[],r=[],a=[];let l=0,u=0;if(Array.isArray(e)===!1)h(e);else for(let m=0;m<e.length;m++)h(e[m]),this.addGroup(l,u,m),l+=u,u=0;this.setIndex(n),this.setAttribute("position",new qt(i,3)),this.setAttribute("normal",new qt(r,3)),this.setAttribute("uv",new qt(a,2));function h(m){const g=i.length/3,v=m.extractPoints(t);let _=v.shape;const S=v.holes;Cc.isClockWise(_)===!1&&(_=_.reverse());for(let M=0,A=S.length;M<A;M++){const C=S[M];Cc.isClockWise(C)===!0&&(S[M]=C.reverse())}const b=Cc.triangulateShape(_,S);for(let M=0,A=S.length;M<A;M++){const C=S[M];_=_.concat(C)}for(let M=0,A=_.length;M<A;M++){const C=_[M];i.push(C.x,C.y,0),r.push(0,0,1),a.push(C.x,C.y)}for(let M=0,A=b.length;M<A;M++){const C=b[M],B=C[0]+g,D=C[1]+g,N=C[2]+g;n.push(B,D,N),u+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes;return cY(t,e)}static fromJSON(e,t){const n=[];for(let i=0,r=e.shapes.length;i<r;i++){const a=t[e.shapes[i]];n.push(a)}return new LM(n,e.curveSegments)}}function cY(s,e){if(e.shapes=[],Array.isArray(s))for(let t=0,n=s.length;t<n;t++){const i=s[t];e.shapes.push(i.uuid)}else e.shapes.push(s.uuid);return e}class S_ extends En{constructor(e=1,t=32,n=16,i=0,r=Math.PI*2,a=0,l=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:n,phiStart:i,phiLength:r,thetaStart:a,thetaLength:l},t=Math.max(3,Math.floor(t)),n=Math.max(2,Math.floor(n));const u=Math.min(a+l,Math.PI);let h=0;const m=[],g=new ae,v=new ae,_=[],S=[],b=[],M=[];for(let A=0;A<=n;A++){const C=[],B=A/n;let D=0;A===0&&a===0?D=.5/t:A===n&&u===Math.PI&&(D=-.5/t);for(let N=0;N<=t;N++){const U=N/t;g.x=-e*Math.cos(i+U*r)*Math.sin(a+B*l),g.y=e*Math.cos(a+B*l),g.z=e*Math.sin(i+U*r)*Math.sin(a+B*l),S.push(g.x,g.y,g.z),v.copy(g).normalize(),b.push(v.x,v.y,v.z),M.push(U+D,1-B),C.push(h++)}m.push(C)}for(let A=0;A<n;A++)for(let C=0;C<t;C++){const B=m[A][C+1],D=m[A][C],N=m[A+1][C],U=m[A+1][C+1];(A!==0||a>0)&&_.push(B,D,U),(A!==n-1||u<Math.PI)&&_.push(D,N,U)}this.setIndex(_),this.setAttribute("position",new qt(S,3)),this.setAttribute("normal",new qt(b,3)),this.setAttribute("uv",new qt(M,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new S_(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class UM extends uh{constructor(e=1,t=0){const n=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],i=[2,1,0,0,3,2,1,3,0,2,3,1];super(n,i,e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new UM(e.radius,e.detail)}}class PM extends En{constructor(e=1,t=.4,n=12,i=48,r=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:n,tubularSegments:i,arc:r},n=Math.floor(n),i=Math.floor(i);const a=[],l=[],u=[],h=[],m=new ae,g=new ae,v=new ae;for(let _=0;_<=n;_++)for(let S=0;S<=i;S++){const b=S/i*r,M=_/n*Math.PI*2;g.x=(e+t*Math.cos(M))*Math.cos(b),g.y=(e+t*Math.cos(M))*Math.sin(b),g.z=t*Math.sin(M),l.push(g.x,g.y,g.z),m.x=e*Math.cos(b),m.y=e*Math.sin(b),v.subVectors(g,m).normalize(),u.push(v.x,v.y,v.z),h.push(S/i),h.push(_/n)}for(let _=1;_<=n;_++)for(let S=1;S<=i;S++){const b=(i+1)*_+S-1,M=(i+1)*(_-1)+S-1,A=(i+1)*(_-1)+S,C=(i+1)*_+S;a.push(b,M,C),a.push(M,A,C)}this.setIndex(a),this.setAttribute("position",new qt(l,3)),this.setAttribute("normal",new qt(u,3)),this.setAttribute("uv",new qt(h,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new PM(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class IM extends En{constructor(e=1,t=.4,n=64,i=8,r=2,a=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:n,radialSegments:i,p:r,q:a},n=Math.floor(n),i=Math.floor(i);const l=[],u=[],h=[],m=[],g=new ae,v=new ae,_=new ae,S=new ae,b=new ae,M=new ae,A=new ae;for(let B=0;B<=n;++B){const D=B/n*r*Math.PI*2;C(D,r,a,e,_),C(D+.01,r,a,e,S),M.subVectors(S,_),A.addVectors(S,_),b.crossVectors(M,A),A.crossVectors(b,M),b.normalize(),A.normalize();for(let N=0;N<=i;++N){const U=N/i*Math.PI*2,F=-t*Math.cos(U),z=t*Math.sin(U);g.x=_.x+(F*A.x+z*b.x),g.y=_.y+(F*A.y+z*b.y),g.z=_.z+(F*A.z+z*b.z),u.push(g.x,g.y,g.z),v.subVectors(g,_).normalize(),h.push(v.x,v.y,v.z),m.push(B/n),m.push(N/i)}}for(let B=1;B<=n;B++)for(let D=1;D<=i;D++){const N=(i+1)*(B-1)+(D-1),U=(i+1)*B+(D-1),F=(i+1)*B+D,z=(i+1)*(B-1)+D;l.push(N,U,z),l.push(U,F,z)}this.setIndex(l),this.setAttribute("position",new qt(u,3)),this.setAttribute("normal",new qt(h,3)),this.setAttribute("uv",new qt(m,2));function C(B,D,N,U,F){const z=Math.cos(B),O=Math.sin(B),P=N/D*B,q=Math.cos(P);F.x=U*(2+q)*.5*z,F.y=U*(2+q)*O*.5,F.z=U*Math.sin(P)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new IM(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class FM extends En{constructor(e=new Mw(new ae(-1,-1,0),new ae(-1,1,0),new ae(1,1,0)),t=64,n=1,i=8,r=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:n,radialSegments:i,closed:r};const a=e.computeFrenetFrames(t,r);this.tangents=a.tangents,this.normals=a.normals,this.binormals=a.binormals;const l=new ae,u=new ae,h=new at;let m=new ae;const g=[],v=[],_=[],S=[];b(),this.setIndex(S),this.setAttribute("position",new qt(g,3)),this.setAttribute("normal",new qt(v,3)),this.setAttribute("uv",new qt(_,2));function b(){for(let B=0;B<t;B++)M(B);M(r===!1?t:0),C(),A()}function M(B){m=e.getPointAt(B/t,m);const D=a.normals[B],N=a.binormals[B];for(let U=0;U<=i;U++){const F=U/i*Math.PI*2,z=Math.sin(F),O=-Math.cos(F);u.x=O*D.x+z*N.x,u.y=O*D.y+z*N.y,u.z=O*D.z+z*N.z,u.normalize(),v.push(u.x,u.y,u.z),l.x=m.x+n*u.x,l.y=m.y+n*u.y,l.z=m.z+n*u.z,g.push(l.x,l.y,l.z)}}function A(){for(let B=1;B<=t;B++)for(let D=1;D<=i;D++){const N=(i+1)*(B-1)+(D-1),U=(i+1)*B+(D-1),F=(i+1)*B+D,z=(i+1)*(B-1)+D;S.push(N,U,z),S.push(U,F,z)}}function C(){for(let B=0;B<=t;B++)for(let D=0;D<=i;D++)h.x=B/t,h.y=D/i,_.push(h.x,h.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new FM(new kA[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class C8 extends En{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const t=[],n=new Set,i=new ae,r=new ae;if(e.index!==null){const a=e.attributes.position,l=e.index;let u=e.groups;u.length===0&&(u=[{start:0,count:l.count,materialIndex:0}]);for(let h=0,m=u.length;h<m;++h){const g=u[h],v=g.start,_=g.count;for(let S=v,b=v+_;S<b;S+=3)for(let M=0;M<3;M++){const A=l.getX(S+M),C=l.getX(S+(M+1)%3);i.fromBufferAttribute(a,A),r.fromBufferAttribute(a,C),n5(i,r,n)===!0&&(t.push(i.x,i.y,i.z),t.push(r.x,r.y,r.z))}}}else{const a=e.attributes.position;for(let l=0,u=a.count/3;l<u;l++)for(let h=0;h<3;h++){const m=3*l+h,g=3*l+(h+1)%3;i.fromBufferAttribute(a,m),r.fromBufferAttribute(a,g),n5(i,r,n)===!0&&(t.push(i.x,i.y,i.z),t.push(r.x,r.y,r.z))}}this.setAttribute("position",new qt(t,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function n5(s,e,t){const n=`${s.x},${s.y},${s.z}-${e.x},${e.y},${e.z}`,i=`${e.x},${e.y},${e.z}-${s.x},${s.y},${s.z}`;return t.has(n)===!0||t.has(i)===!0?!1:(t.add(n),t.add(i),!0)}var i5=Object.freeze({__proto__:null,BoxGeometry:_p,CapsuleGeometry:wM,CircleGeometry:RM,ConeGeometry:BM,CylinderGeometry:xp,DodecahedronGeometry:DM,EdgesGeometry:A8,ExtrudeGeometry:NM,IcosahedronGeometry:__,LatheGeometry:y_,OctahedronGeometry:x_,PlaneGeometry:fh,PolyhedronGeometry:uh,RingGeometry:OM,ShapeGeometry:LM,SphereGeometry:S_,TetrahedronGeometry:UM,TorusGeometry:PM,TorusKnotGeometry:IM,TubeGeometry:FM,WireframeGeometry:C8});class w8 extends Fs{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new Ct(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class R8 extends pa{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class A_ extends Fs{constructor(e){super(),this.isMeshStandardMaterial=!0,this.type="MeshStandardMaterial",this.defines={STANDARD:""},this.color=new Ct(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ct(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ch,this.normalScale=new at(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new po,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class mo extends A_{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new at(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return xn(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new Ct(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new Ct(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new Ct(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get dispersion(){return this._dispersion}set dispersion(e){this._dispersion>0!=e>0&&this.version++,this._dispersion=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.dispersion=e.dispersion,this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class B8 extends Fs{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new Ct(16777215),this.specular=new Ct(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ct(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ch,this.normalScale=new at(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new po,this.combine=o_,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class D8 extends Fs{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Ct(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ct(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ch,this.normalScale=new at(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class N8 extends Fs{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ch,this.normalScale=new at(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class O8 extends Fs{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new Ct(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ct(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ch,this.normalScale=new at(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new po,this.combine=o_,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class Ew extends Fs{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=WU,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class Tw extends Fs{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}class L8 extends Fs{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Ct(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ch,this.normalScale=new at(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class U8 extends zr{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function Gd(s,e){return!s||s.constructor===e?s:typeof e.BYTES_PER_ELEMENT=="number"?new e(s):Array.prototype.slice.call(s)}function P8(s){return ArrayBuffer.isView(s)&&!(s instanceof DataView)}function I8(s){function e(i,r){return s[i]-s[r]}const t=s.length,n=new Array(t);for(let i=0;i!==t;++i)n[i]=i;return n.sort(e),n}function b2(s,e,t){const n=s.length,i=new s.constructor(n);for(let r=0,a=0;a!==n;++r){const l=t[r]*e;for(let u=0;u!==e;++u)i[a++]=s[l+u]}return i}function Cw(s,e,t,n){let i=1,r=s[0];for(;r!==void 0&&r[n]===void 0;)r=s[i++];if(r===void 0)return;let a=r[n];if(a!==void 0)if(Array.isArray(a))do a=r[n],a!==void 0&&(e.push(r.time),t.push(...a)),r=s[i++];while(r!==void 0);else if(a.toArray!==void 0)do a=r[n],a!==void 0&&(e.push(r.time),a.toArray(t,t.length)),r=s[i++];while(r!==void 0);else do a=r[n],a!==void 0&&(e.push(r.time),t.push(a)),r=s[i++];while(r!==void 0)}function uY(s,e,t,n,i=30){const r=s.clone();r.name=e;const a=[];for(let u=0;u<r.tracks.length;++u){const h=r.tracks[u],m=h.getValueSize(),g=[],v=[];for(let _=0;_<h.times.length;++_){const S=h.times[_]*i;if(!(S<t||S>=n)){g.push(h.times[_]);for(let b=0;b<m;++b)v.push(h.values[_*m+b])}}g.length!==0&&(h.times=Gd(g,h.times.constructor),h.values=Gd(v,h.values.constructor),a.push(h))}r.tracks=a;let l=1/0;for(let u=0;u<r.tracks.length;++u)l>r.tracks[u].times[0]&&(l=r.tracks[u].times[0]);for(let u=0;u<r.tracks.length;++u)r.tracks[u].shift(-1*l);return r.resetDuration(),r}function fY(s,e=0,t=s,n=30){n<=0&&(n=30);const i=t.tracks.length,r=e/n;for(let a=0;a<i;++a){const l=t.tracks[a],u=l.ValueTypeName;if(u==="bool"||u==="string")continue;const h=s.tracks.find(function(A){return A.name===l.name&&A.ValueTypeName===u});if(h===void 0)continue;let m=0;const g=l.getValueSize();l.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(m=g/3);let v=0;const _=h.getValueSize();h.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(v=_/3);const S=l.times.length-1;let b;if(r<=l.times[0]){const A=m,C=g-m;b=l.values.slice(A,C)}else if(r>=l.times[S]){const A=S*g+m,C=A+g-m;b=l.values.slice(A,C)}else{const A=l.createInterpolant(),C=m,B=g-m;A.evaluate(r),b=A.resultBuffer.slice(C,B)}u==="quaternion"&&new Ir().fromArray(b).normalize().conjugate().toArray(b);const M=h.times.length;for(let A=0;A<M;++A){const C=A*_+v;if(u==="quaternion")Ir.multiplyQuaternionsFlat(h.values,C,b,0,h.values,C);else{const B=_-v*2;for(let D=0;D<B;++D)h.values[C+D]-=b[D]}}}return s.blendMode=aw,s}class hY{static convertArray(e,t){return Gd(e,t)}static isTypedArray(e){return P8(e)}static getKeyframeOrder(e){return I8(e)}static sortedArray(e,t,n){return b2(e,t,n)}static flattenJSON(e,t,n,i){Cw(e,t,n,i)}static subclip(e,t,n,i,r=30){return uY(e,t,n,i,r)}static makeClipAdditive(e,t=0,n=e,i=30){return fY(e,t,n,i)}}class Jg{constructor(e,t,n,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=i!==void 0?i:new t.constructor(n),this.sampleValues=t,this.valueSize=n,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let n=this._cachedIndex,i=t[n],r=t[n-1];e:{t:{let a;n:{i:if(!(e<i)){for(let l=n+2;;){if(i===void 0){if(e<r)break i;return n=t.length,this._cachedIndex=n,this.copySampleValue_(n-1)}if(n===l)break;if(r=i,i=t[++n],e<i)break t}a=t.length;break n}if(!(e>=r)){const l=t[1];e<l&&(n=2,r=l);for(let u=n-2;;){if(r===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(n===u)break;if(i=r,r=t[--n-1],e>=r)break t}a=n,n=0;break n}break e}for(;n<a;){const l=n+a>>>1;e<t[l]?a=l:n=l+1}if(i=t[n],r=t[n-1],r===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===void 0)return n=t.length,this._cachedIndex=n,this.copySampleValue_(n-1)}this._cachedIndex=n,this.intervalChanged_(n,r,i)}return this.interpolate_(n,r,e,i)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,n=this.sampleValues,i=this.valueSize,r=e*i;for(let a=0;a!==i;++a)t[a]=n[r+a];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class F8 extends Jg{constructor(e,t,n,i){super(e,t,n,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Fd,endingEnd:Fd}}intervalChanged_(e,t,n){const i=this.parameterPositions;let r=e-2,a=e+1,l=i[r],u=i[a];if(l===void 0)switch(this.getSettings_().endingStart){case zd:r=e,l=2*t-n;break;case Hy:r=i.length-2,l=t+i[r]-i[r+1];break;default:r=e,l=n}if(u===void 0)switch(this.getSettings_().endingEnd){case zd:a=e,u=2*n-t;break;case Hy:a=1,u=n+i[1]-i[0];break;default:a=e-1,u=t}const h=(n-t)*.5,m=this.valueSize;this._weightPrev=h/(t-l),this._weightNext=h/(u-n),this._offsetPrev=r*m,this._offsetNext=a*m}interpolate_(e,t,n,i){const r=this.resultBuffer,a=this.sampleValues,l=this.valueSize,u=e*l,h=u-l,m=this._offsetPrev,g=this._offsetNext,v=this._weightPrev,_=this._weightNext,S=(n-t)/(i-t),b=S*S,M=b*S,A=-v*M+2*v*b-v*S,C=(1+v)*M+(-1.5-2*v)*b+(-.5+v)*S+1,B=(-1-_)*M+(1.5+_)*b+.5*S,D=_*M-_*b;for(let N=0;N!==l;++N)r[N]=A*a[m+N]+C*a[h+N]+B*a[u+N]+D*a[g+N];return r}}class ww extends Jg{constructor(e,t,n,i){super(e,t,n,i)}interpolate_(e,t,n,i){const r=this.resultBuffer,a=this.sampleValues,l=this.valueSize,u=e*l,h=u-l,m=(n-t)/(i-t),g=1-m;for(let v=0;v!==l;++v)r[v]=a[h+v]*g+a[u+v]*m;return r}}class z8 extends Jg{constructor(e,t,n,i){super(e,t,n,i)}interpolate_(e){return this.copySampleValue_(e-1)}}class Wo{constructor(e,t,n,i){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Gd(t,this.TimeBufferType),this.values=Gd(n,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let n;if(t.toJSON!==this.toJSON)n=t.toJSON(e);else{n={name:e.name,times:Gd(e.times,Array),values:Gd(e.values,Array)};const i=e.getInterpolation();i!==e.DefaultInterpolation&&(n.interpolation=i)}return n.type=e.ValueTypeName,n}InterpolantFactoryMethodDiscrete(e){return new z8(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new ww(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new F8(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case Lg:t=this.InterpolantFactoryMethodDiscrete;break;case Ug:t=this.InterpolantFactoryMethodLinear;break;case DS:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){const n="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(n);return console.warn("THREE.KeyframeTrack:",n),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Lg;case this.InterpolantFactoryMethodLinear:return Ug;case this.InterpolantFactoryMethodSmooth:return DS}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const t=this.times;for(let n=0,i=t.length;n!==i;++n)t[n]+=e}return this}scale(e){if(e!==1){const t=this.times;for(let n=0,i=t.length;n!==i;++n)t[n]*=e}return this}trim(e,t){const n=this.times,i=n.length;let r=0,a=i-1;for(;r!==i&&n[r]<e;)++r;for(;a!==-1&&n[a]>t;)--a;if(++a,r!==0||a!==i){r>=a&&(a=Math.max(a,1),r=a-1);const l=this.getValueSize();this.times=n.slice(r,a),this.values=this.values.slice(r*l,a*l)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const n=this.times,i=this.values,r=n.length;r===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let a=null;for(let l=0;l!==r;l++){const u=n[l];if(typeof u=="number"&&isNaN(u)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,l,u),e=!1;break}if(a!==null&&a>u){console.error("THREE.KeyframeTrack: Out of order keys.",this,l,u,a),e=!1;break}a=u}if(i!==void 0&&P8(i))for(let l=0,u=i.length;l!==u;++l){const h=i[l];if(isNaN(h)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,l,h),e=!1;break}}return e}optimize(){const e=this.times.slice(),t=this.values.slice(),n=this.getValueSize(),i=this.getInterpolation()===DS,r=e.length-1;let a=1;for(let l=1;l<r;++l){let u=!1;const h=e[l],m=e[l+1];if(h!==m&&(l!==1||h!==e[0]))if(i)u=!0;else{const g=l*n,v=g-n,_=g+n;for(let S=0;S!==n;++S){const b=t[g+S];if(b!==t[v+S]||b!==t[_+S]){u=!0;break}}}if(u){if(l!==a){e[a]=e[l];const g=l*n,v=a*n;for(let _=0;_!==n;++_)t[v+_]=t[g+_]}++a}}if(r>0){e[a]=e[r];for(let l=r*n,u=a*n,h=0;h!==n;++h)t[u+h]=t[l+h];++a}return a!==e.length?(this.times=e.slice(0,a),this.values=t.slice(0,a*n)):(this.times=e,this.values=t),this}clone(){const e=this.times.slice(),t=this.values.slice(),n=this.constructor,i=new n(this.name,e,t);return i.createInterpolant=this.createInterpolant,i}}Wo.prototype.ValueTypeName="";Wo.prototype.TimeBufferType=Float32Array;Wo.prototype.ValueBufferType=Float32Array;Wo.prototype.DefaultInterpolation=Ug;class Sp extends Wo{constructor(e,t,n){super(e,t,n)}}Sp.prototype.ValueTypeName="bool";Sp.prototype.ValueBufferType=Array;Sp.prototype.DefaultInterpolation=Lg;Sp.prototype.InterpolantFactoryMethodLinear=void 0;Sp.prototype.InterpolantFactoryMethodSmooth=void 0;class Rw extends Wo{constructor(e,t,n,i){super(e,t,n,i)}}Rw.prototype.ValueTypeName="color";class up extends Wo{constructor(e,t,n,i){super(e,t,n,i)}}up.prototype.ValueTypeName="number";class H8 extends Jg{constructor(e,t,n,i){super(e,t,n,i)}interpolate_(e,t,n,i){const r=this.resultBuffer,a=this.sampleValues,l=this.valueSize,u=(n-t)/(i-t);let h=e*l;for(let m=h+l;h!==m;h+=4)Ir.slerpFlat(r,0,a,h-l,a,h,u);return r}}class fp extends Wo{constructor(e,t,n,i){super(e,t,n,i)}InterpolantFactoryMethodLinear(e){return new H8(this.times,this.values,this.getValueSize(),e)}}fp.prototype.ValueTypeName="quaternion";fp.prototype.InterpolantFactoryMethodSmooth=void 0;class Ap extends Wo{constructor(e,t,n){super(e,t,n)}}Ap.prototype.ValueTypeName="string";Ap.prototype.ValueBufferType=Array;Ap.prototype.DefaultInterpolation=Lg;Ap.prototype.InterpolantFactoryMethodLinear=void 0;Ap.prototype.InterpolantFactoryMethodSmooth=void 0;class hp extends Wo{constructor(e,t,n,i){super(e,t,n,i)}}hp.prototype.ValueTypeName="vector";class Hg{constructor(e="",t=-1,n=[],i=_M){this.name=e,this.tracks=n,this.duration=t,this.blendMode=i,this.uuid=co(),this.duration<0&&this.resetDuration()}static parse(e){const t=[],n=e.tracks,i=1/(e.fps||1);for(let a=0,l=n.length;a!==l;++a)t.push(pY(n[a]).scale(i));const r=new this(e.name,e.duration,t,e.blendMode);return r.uuid=e.uuid,r}static toJSON(e){const t=[],n=e.tracks,i={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let r=0,a=n.length;r!==a;++r)t.push(Wo.toJSON(n[r]));return i}static CreateFromMorphTargetSequence(e,t,n,i){const r=t.length,a=[];for(let l=0;l<r;l++){let u=[],h=[];u.push((l+r-1)%r,l,(l+1)%r),h.push(0,1,0);const m=I8(u);u=b2(u,1,m),h=b2(h,1,m),!i&&u[0]===0&&(u.push(r),h.push(h[0])),a.push(new up(".morphTargetInfluences["+t[l].name+"]",u,h).scale(1/n))}return new this(e,-1,a)}static findByName(e,t){let n=e;if(!Array.isArray(e)){const i=e;n=i.geometry&&i.geometry.animations||i.animations}for(let i=0;i<n.length;i++)if(n[i].name===t)return n[i];return null}static CreateClipsFromMorphTargetSequences(e,t,n){const i={},r=/^([\w-]*?)([\d]+)$/;for(let l=0,u=e.length;l<u;l++){const h=e[l],m=h.name.match(r);if(m&&m.length>1){const g=m[1];let v=i[g];v||(i[g]=v=[]),v.push(h)}}const a=[];for(const l in i)a.push(this.CreateFromMorphTargetSequence(l,i[l],t,n));return a}static parseAnimation(e,t){if(console.warn("THREE.AnimationClip: parseAnimation() is deprecated and will be removed with r185"),!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const n=function(g,v,_,S,b){if(_.length!==0){const M=[],A=[];Cw(_,M,A,S),M.length!==0&&b.push(new g(v,M,A))}},i=[],r=e.name||"default",a=e.fps||30,l=e.blendMode;let u=e.length||-1;const h=e.hierarchy||[];for(let g=0;g<h.length;g++){const v=h[g].keys;if(!(!v||v.length===0))if(v[0].morphTargets){const _={};let S;for(S=0;S<v.length;S++)if(v[S].morphTargets)for(let b=0;b<v[S].morphTargets.length;b++)_[v[S].morphTargets[b]]=-1;for(const b in _){const M=[],A=[];for(let C=0;C!==v[S].morphTargets.length;++C){const B=v[S];M.push(B.time),A.push(B.morphTarget===b?1:0)}i.push(new up(".morphTargetInfluence["+b+"]",M,A))}u=_.length*a}else{const _=".bones["+t[g].name+"]";n(hp,_+".position",v,"pos",i),n(fp,_+".quaternion",v,"rot",i),n(hp,_+".scale",v,"scl",i)}}return i.length===0?null:new this(r,u,i,l)}resetDuration(){const e=this.tracks;let t=0;for(let n=0,i=e.length;n!==i;++n){const r=this.tracks[n];t=Math.max(t,r.times[r.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function dY(s){switch(s.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return up;case"vector":case"vector2":case"vector3":case"vector4":return hp;case"color":return Rw;case"quaternion":return fp;case"bool":case"boolean":return Sp;case"string":return Ap}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+s)}function pY(s){if(s.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=dY(s.type);if(s.times===void 0){const t=[],n=[];Cw(s.keys,t,n,"value"),s.times=t,s.values=n}return e.parse!==void 0?e.parse(s):new e(s.name,s.times,s.values,s.interpolation)}const vu={enabled:!1,files:{},add:function(s,e){this.enabled!==!1&&(this.files[s]=e)},get:function(s){if(this.enabled!==!1)return this.files[s]},remove:function(s){delete this.files[s]},clear:function(){this.files={}}};class zM{constructor(e,t,n){const i=this;let r=!1,a=0,l=0,u;const h=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=n,this.itemStart=function(m){l++,r===!1&&i.onStart!==void 0&&i.onStart(m,a,l),r=!0},this.itemEnd=function(m){a++,i.onProgress!==void 0&&i.onProgress(m,a,l),a===l&&(r=!1,i.onLoad!==void 0&&i.onLoad())},this.itemError=function(m){i.onError!==void 0&&i.onError(m)},this.resolveURL=function(m){return u?u(m):m},this.setURLModifier=function(m){return u=m,this},this.addHandler=function(m,g){return h.push(m,g),this},this.removeHandler=function(m){const g=h.indexOf(m);return g!==-1&&h.splice(g,2),this},this.getHandler=function(m){for(let g=0,v=h.length;g<v;g+=2){const _=h[g],S=h[g+1];if(_.global&&(_.lastIndex=0),_.test(m))return S}return null}}}const G8=new zM;class gr{constructor(e){this.manager=e!==void 0?e:G8,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const n=this;return new Promise(function(i,r){n.load(e,i,t,r)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}gr.DEFAULT_MATERIAL_NAME="__DEFAULT";const ou={};class mY extends Error{constructor(e,t){super(e),this.response=t}}class mr extends gr{constructor(e){super(e),this.mimeType="",this.responseType=""}load(e,t,n,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const r=vu.get(e);if(r!==void 0)return this.manager.itemStart(e),setTimeout(()=>{t&&t(r),this.manager.itemEnd(e)},0),r;if(ou[e]!==void 0){ou[e].push({onLoad:t,onProgress:n,onError:i});return}ou[e]=[],ou[e].push({onLoad:t,onProgress:n,onError:i});const a=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),l=this.mimeType,u=this.responseType;fetch(a).then(h=>{if(h.status===200||h.status===0){if(h.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||h.body===void 0||h.body.getReader===void 0)return h;const m=ou[e],g=h.body.getReader(),v=h.headers.get("X-File-Size")||h.headers.get("Content-Length"),_=v?parseInt(v):0,S=_!==0;let b=0;const M=new ReadableStream({start(A){C();function C(){g.read().then(({done:B,value:D})=>{if(B)A.close();else{b+=D.byteLength;const N=new ProgressEvent("progress",{lengthComputable:S,loaded:b,total:_});for(let U=0,F=m.length;U<F;U++){const z=m[U];z.onProgress&&z.onProgress(N)}A.enqueue(D),C()}},B=>{A.error(B)})}}});return new Response(M)}else throw new mY(`fetch for "${h.url}" responded with ${h.status}: ${h.statusText}`,h)}).then(h=>{switch(u){case"arraybuffer":return h.arrayBuffer();case"blob":return h.blob();case"document":return h.text().then(m=>new DOMParser().parseFromString(m,l));case"json":return h.json();default:if(l==="")return h.text();{const g=/charset="?([^;"\s]*)"?/i.exec(l),v=g&&g[1]?g[1].toLowerCase():void 0,_=new TextDecoder(v);return h.arrayBuffer().then(S=>_.decode(S))}}}).then(h=>{vu.add(e,h);const m=ou[e];delete ou[e];for(let g=0,v=m.length;g<v;g++){const _=m[g];_.onLoad&&_.onLoad(h)}}).catch(h=>{const m=ou[e];if(m===void 0)throw this.manager.itemError(e),h;delete ou[e];for(let g=0,v=m.length;g<v;g++){const _=m[g];_.onError&&_.onError(h)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class gY extends gr{constructor(e){super(e)}load(e,t,n,i){const r=this,a=new mr(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(l){try{t(r.parse(JSON.parse(l)))}catch(u){i?i(u):console.error(u),r.manager.itemError(e)}},n,i)}parse(e){const t=[];for(let n=0;n<e.length;n++){const i=Hg.parse(e[n]);t.push(i)}return t}}class vY extends gr{constructor(e){super(e)}load(e,t,n,i){const r=this,a=[],l=new TM,u=new mr(this.manager);u.setPath(this.path),u.setResponseType("arraybuffer"),u.setRequestHeader(this.requestHeader),u.setWithCredentials(r.withCredentials);let h=0;function m(g){u.load(e[g],function(v){const _=r.parse(v,!0);a[g]={width:_.width,height:_.height,format:_.format,mipmaps:_.mipmaps},h+=1,h===6&&(_.mipmapCount===1&&(l.minFilter=fi),l.image=a,l.format=_.format,l.needsUpdate=!0,t&&t(l))},n,i)}if(Array.isArray(e))for(let g=0,v=e.length;g<v;++g)m(g);else u.load(e,function(g){const v=r.parse(g,!0);if(v.isCubemap){const _=v.mipmaps.length/v.mipmapCount;for(let S=0;S<_;S++){a[S]={mipmaps:[]};for(let b=0;b<v.mipmapCount;b++)a[S].mipmaps.push(v.mipmaps[S*v.mipmapCount+b]),a[S].format=v.format,a[S].width=v.width,a[S].height=v.height}l.image=a}else l.image.width=v.width,l.image.height=v.height,l.mipmaps=v.mipmaps;v.mipmapCount===1&&(l.minFilter=fi),l.format=v.format,l.needsUpdate=!0,t&&t(l)},n,i);return l}}class Ky extends gr{constructor(e){super(e)}load(e,t,n,i){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const r=this,a=vu.get(e);if(a!==void 0)return r.manager.itemStart(e),setTimeout(function(){t&&t(a),r.manager.itemEnd(e)},0),a;const l=jy("img");function u(){m(),vu.add(e,this),t&&t(this),r.manager.itemEnd(e)}function h(g){m(),i&&i(g),r.manager.itemError(e),r.manager.itemEnd(e)}function m(){l.removeEventListener("load",u,!1),l.removeEventListener("error",h,!1)}return l.addEventListener("load",u,!1),l.addEventListener("error",h,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(l.crossOrigin=this.crossOrigin),r.manager.itemStart(e),l.src=e,l}}class V8 extends gr{constructor(e){super(e)}load(e,t,n,i){const r=new h_;r.colorSpace=ur;const a=new Ky(this.manager);a.setCrossOrigin(this.crossOrigin),a.setPath(this.path);let l=0;function u(h){a.load(e[h],function(m){r.images[h]=m,l++,l===6&&(r.needsUpdate=!0,t&&t(r))},void 0,i)}for(let h=0;h<e.length;++h)u(h);return r}}class Bw extends gr{constructor(e){super(e)}load(e,t,n,i){const r=this,a=new Rl,l=new mr(this.manager);return l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setPath(this.path),l.setWithCredentials(r.withCredentials),l.load(e,function(u){let h;try{h=r.parse(u)}catch(m){if(i!==void 0)i(m);else{console.error(m);return}}h.image!==void 0?a.image=h.image:h.data!==void 0&&(a.image.width=h.width,a.image.height=h.height,a.image.data=h.data),a.wrapS=h.wrapS!==void 0?h.wrapS:ps,a.wrapT=h.wrapT!==void 0?h.wrapT:ps,a.magFilter=h.magFilter!==void 0?h.magFilter:fi,a.minFilter=h.minFilter!==void 0?h.minFilter:fi,a.anisotropy=h.anisotropy!==void 0?h.anisotropy:1,h.colorSpace!==void 0&&(a.colorSpace=h.colorSpace),h.flipY!==void 0&&(a.flipY=h.flipY),h.format!==void 0&&(a.format=h.format),h.type!==void 0&&(a.type=h.type),h.mipmaps!==void 0&&(a.mipmaps=h.mipmaps,a.minFilter=Xo),h.mipmapCount===1&&(a.minFilter=fi),h.generateMipmaps!==void 0&&(a.generateMipmaps=h.generateMipmaps),a.needsUpdate=!0,t&&t(a,h)},n,i),a}}class k8 extends gr{constructor(e){super(e)}load(e,t,n,i){const r=new pi,a=new Ky(this.manager);return a.setCrossOrigin(this.crossOrigin),a.setPath(this.path),a.load(e,function(l){r.image=l,r.needsUpdate=!0,t!==void 0&&t(r)},n,i),r}}class hh extends Kn{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new Ct(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),this.target!==void 0&&(t.object.target=this.target.uuid),t}}class j8 extends hh{constructor(e,t,n){super(e,n),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(Kn.DEFAULT_UP),this.updateMatrix(),this.groundColor=new Ct(t)}copy(e,t){return super.copy(e,t),this.groundColor.copy(e.groundColor),this}}const zE=new sn,s5=new ae,r5=new ae;class Dw{constructor(e){this.camera=e,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new at(512,512),this.map=null,this.mapPass=null,this.matrix=new sn,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new g_,this._frameExtents=new at(1,1),this._viewportCount=1,this._viewports=[new ti(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,n=this.matrix;s5.setFromMatrixPosition(e.matrixWorld),t.position.copy(s5),r5.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(r5),t.updateMatrixWorld(),zE.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(zE),n.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),n.multiply(zE)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.intensity=e.intensity,this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.intensity!==1&&(e.intensity=this.intensity),this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class yY extends Dw{constructor(){super(new Is(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const t=this.camera,n=Pg*2*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height,r=e.distance||t.far;(n!==t.fov||i!==t.aspect||r!==t.far)&&(t.fov=n,t.aspect=i,t.far=r,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}let Nw=class extends hh{constructor(e,t,n=0,i=Math.PI/3,r=0,a=2){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Kn.DEFAULT_UP),this.updateMatrix(),this.target=new Kn,this.distance=n,this.angle=i,this.penumbra=r,this.decay=a,this.map=null,this.shadow=new yY}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}};const a5=new sn,Bv=new ae,HE=new ae;class _Y extends Dw{constructor(){super(new Is(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new at(4,2),this._viewportCount=6,this._viewports=[new ti(2,1,1,1),new ti(0,1,1,1),new ti(3,1,1,1),new ti(1,1,1,1),new ti(3,0,1,1),new ti(1,0,1,1)],this._cubeDirections=[new ae(1,0,0),new ae(-1,0,0),new ae(0,0,1),new ae(0,0,-1),new ae(0,1,0),new ae(0,-1,0)],this._cubeUps=[new ae(0,1,0),new ae(0,1,0),new ae(0,1,0),new ae(0,1,0),new ae(0,0,1),new ae(0,0,-1)]}updateMatrices(e,t=0){const n=this.camera,i=this.matrix,r=e.distance||n.far;r!==n.far&&(n.far=r,n.updateProjectionMatrix()),Bv.setFromMatrixPosition(e.matrixWorld),n.position.copy(Bv),HE.copy(n.position),HE.add(this._cubeDirections[t]),n.up.copy(this._cubeUps[t]),n.lookAt(HE),n.updateMatrixWorld(),i.makeTranslation(-Bv.x,-Bv.y,-Bv.z),a5.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(a5)}}class Ow extends hh{constructor(e,t,n=0,i=2){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=n,this.decay=i,this.shadow=new _Y}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class Mp extends AM{constructor(e=-1,t=1,n=1,i=-1,r=.1,a=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=n,this.bottom=i,this.near=r,this.far=a,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,n,i,r,a){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=i,this.view.width=r,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let r=n-e,a=n+e,l=i+t,u=i-t;if(this.view!==null&&this.view.enabled){const h=(this.right-this.left)/this.view.fullWidth/this.zoom,m=(this.top-this.bottom)/this.view.fullHeight/this.zoom;r+=h*this.view.offsetX,a=r+h*this.view.width,l-=m*this.view.offsetY,u=l-m*this.view.height}this.projectionMatrix.makeOrthographic(r,a,l,u,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}}class xY extends Dw{constructor(){super(new Mp(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class Lw extends hh{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Kn.DEFAULT_UP),this.updateMatrix(),this.target=new Kn,this.shadow=new xY}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class X8 extends hh{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class Y8 extends hh{constructor(e,t,n=10,i=10){super(e,t),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=n,this.height=i}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}class q8{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new ae)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const n=e.x,i=e.y,r=e.z,a=this.coefficients;return t.copy(a[0]).multiplyScalar(.282095),t.addScaledVector(a[1],.488603*i),t.addScaledVector(a[2],.488603*r),t.addScaledVector(a[3],.488603*n),t.addScaledVector(a[4],1.092548*(n*i)),t.addScaledVector(a[5],1.092548*(i*r)),t.addScaledVector(a[6],.315392*(3*r*r-1)),t.addScaledVector(a[7],1.092548*(n*r)),t.addScaledVector(a[8],.546274*(n*n-i*i)),t}getIrradianceAt(e,t){const n=e.x,i=e.y,r=e.z,a=this.coefficients;return t.copy(a[0]).multiplyScalar(.886227),t.addScaledVector(a[1],2*.511664*i),t.addScaledVector(a[2],2*.511664*r),t.addScaledVector(a[3],2*.511664*n),t.addScaledVector(a[4],2*.429043*n*i),t.addScaledVector(a[5],2*.429043*i*r),t.addScaledVector(a[6],.743125*r*r-.247708),t.addScaledVector(a[7],2*.429043*n*r),t.addScaledVector(a[8],.429043*(n*n-i*i)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let n=0;n<9;n++)this.coefficients[n].addScaledVector(e.coefficients[n],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let n=0;n<9;n++)this.coefficients[n].lerp(e.coefficients[n],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,t=0){const n=this.coefficients;for(let i=0;i<9;i++)n[i].fromArray(e,t+i*3);return this}toArray(e=[],t=0){const n=this.coefficients;for(let i=0;i<9;i++)n[i].toArray(e,t+i*3);return e}static getBasisAt(e,t){const n=e.x,i=e.y,r=e.z;t[0]=.282095,t[1]=.488603*i,t[2]=.488603*r,t[3]=.488603*n,t[4]=1.092548*n*i,t[5]=1.092548*i*r,t[6]=.315392*(3*r*r-1),t[7]=1.092548*n*r,t[8]=.546274*(n*n-i*i)}}class W8 extends hh{constructor(e=new q8,t=1){super(void 0,t),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}class HM extends gr{constructor(e){super(e),this.textures={}}load(e,t,n,i){const r=this,a=new mr(r.manager);a.setPath(r.path),a.setRequestHeader(r.requestHeader),a.setWithCredentials(r.withCredentials),a.load(e,function(l){try{t(r.parse(JSON.parse(l)))}catch(u){i?i(u):console.error(u),r.manager.itemError(e)}},n,i)}parse(e){const t=this.textures;function n(r){return t[r]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",r),t[r]}const i=this.createMaterialFromType(e.type);if(e.uuid!==void 0&&(i.uuid=e.uuid),e.name!==void 0&&(i.name=e.name),e.color!==void 0&&i.color!==void 0&&i.color.setHex(e.color),e.roughness!==void 0&&(i.roughness=e.roughness),e.metalness!==void 0&&(i.metalness=e.metalness),e.sheen!==void 0&&(i.sheen=e.sheen),e.sheenColor!==void 0&&(i.sheenColor=new Ct().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(i.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&i.emissive!==void 0&&i.emissive.setHex(e.emissive),e.specular!==void 0&&i.specular!==void 0&&i.specular.setHex(e.specular),e.specularIntensity!==void 0&&(i.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&i.specularColor!==void 0&&i.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(i.shininess=e.shininess),e.clearcoat!==void 0&&(i.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=e.clearcoatRoughness),e.dispersion!==void 0&&(i.dispersion=e.dispersion),e.iridescence!==void 0&&(i.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(i.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(i.transmission=e.transmission),e.thickness!==void 0&&(i.thickness=e.thickness),e.attenuationDistance!==void 0&&(i.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&i.attenuationColor!==void 0&&i.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(i.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(i.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(i.fog=e.fog),e.flatShading!==void 0&&(i.flatShading=e.flatShading),e.blending!==void 0&&(i.blending=e.blending),e.combine!==void 0&&(i.combine=e.combine),e.side!==void 0&&(i.side=e.side),e.shadowSide!==void 0&&(i.shadowSide=e.shadowSide),e.opacity!==void 0&&(i.opacity=e.opacity),e.transparent!==void 0&&(i.transparent=e.transparent),e.alphaTest!==void 0&&(i.alphaTest=e.alphaTest),e.alphaHash!==void 0&&(i.alphaHash=e.alphaHash),e.depthFunc!==void 0&&(i.depthFunc=e.depthFunc),e.depthTest!==void 0&&(i.depthTest=e.depthTest),e.depthWrite!==void 0&&(i.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(i.colorWrite=e.colorWrite),e.blendSrc!==void 0&&(i.blendSrc=e.blendSrc),e.blendDst!==void 0&&(i.blendDst=e.blendDst),e.blendEquation!==void 0&&(i.blendEquation=e.blendEquation),e.blendSrcAlpha!==void 0&&(i.blendSrcAlpha=e.blendSrcAlpha),e.blendDstAlpha!==void 0&&(i.blendDstAlpha=e.blendDstAlpha),e.blendEquationAlpha!==void 0&&(i.blendEquationAlpha=e.blendEquationAlpha),e.blendColor!==void 0&&i.blendColor!==void 0&&i.blendColor.setHex(e.blendColor),e.blendAlpha!==void 0&&(i.blendAlpha=e.blendAlpha),e.stencilWriteMask!==void 0&&(i.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(i.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(i.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(i.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(i.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(i.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(i.stencilZPass=e.stencilZPass),e.stencilWrite!==void 0&&(i.stencilWrite=e.stencilWrite),e.wireframe!==void 0&&(i.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(i.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(i.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(i.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(i.rotation=e.rotation),e.linewidth!==void 0&&(i.linewidth=e.linewidth),e.dashSize!==void 0&&(i.dashSize=e.dashSize),e.gapSize!==void 0&&(i.gapSize=e.gapSize),e.scale!==void 0&&(i.scale=e.scale),e.polygonOffset!==void 0&&(i.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(i.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(i.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(i.dithering=e.dithering),e.alphaToCoverage!==void 0&&(i.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(i.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(i.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(i.visible=e.visible),e.toneMapped!==void 0&&(i.toneMapped=e.toneMapped),e.userData!==void 0&&(i.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?i.vertexColors=e.vertexColors>0:i.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const r in e.uniforms){const a=e.uniforms[r];switch(i.uniforms[r]={},a.type){case"t":i.uniforms[r].value=n(a.value);break;case"c":i.uniforms[r].value=new Ct().setHex(a.value);break;case"v2":i.uniforms[r].value=new at().fromArray(a.value);break;case"v3":i.uniforms[r].value=new ae().fromArray(a.value);break;case"v4":i.uniforms[r].value=new ti().fromArray(a.value);break;case"m3":i.uniforms[r].value=new bn().fromArray(a.value);break;case"m4":i.uniforms[r].value=new sn().fromArray(a.value);break;default:i.uniforms[r].value=a.value}}if(e.defines!==void 0&&(i.defines=e.defines),e.vertexShader!==void 0&&(i.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(i.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(i.glslVersion=e.glslVersion),e.extensions!==void 0)for(const r in e.extensions)i.extensions[r]=e.extensions[r];if(e.lights!==void 0&&(i.lights=e.lights),e.clipping!==void 0&&(i.clipping=e.clipping),e.size!==void 0&&(i.size=e.size),e.sizeAttenuation!==void 0&&(i.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(i.map=n(e.map)),e.matcap!==void 0&&(i.matcap=n(e.matcap)),e.alphaMap!==void 0&&(i.alphaMap=n(e.alphaMap)),e.bumpMap!==void 0&&(i.bumpMap=n(e.bumpMap)),e.bumpScale!==void 0&&(i.bumpScale=e.bumpScale),e.normalMap!==void 0&&(i.normalMap=n(e.normalMap)),e.normalMapType!==void 0&&(i.normalMapType=e.normalMapType),e.normalScale!==void 0){let r=e.normalScale;Array.isArray(r)===!1&&(r=[r,r]),i.normalScale=new at().fromArray(r)}return e.displacementMap!==void 0&&(i.displacementMap=n(e.displacementMap)),e.displacementScale!==void 0&&(i.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(i.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(i.roughnessMap=n(e.roughnessMap)),e.metalnessMap!==void 0&&(i.metalnessMap=n(e.metalnessMap)),e.emissiveMap!==void 0&&(i.emissiveMap=n(e.emissiveMap)),e.emissiveIntensity!==void 0&&(i.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(i.specularMap=n(e.specularMap)),e.specularIntensityMap!==void 0&&(i.specularIntensityMap=n(e.specularIntensityMap)),e.specularColorMap!==void 0&&(i.specularColorMap=n(e.specularColorMap)),e.envMap!==void 0&&(i.envMap=n(e.envMap)),e.envMapRotation!==void 0&&i.envMapRotation.fromArray(e.envMapRotation),e.envMapIntensity!==void 0&&(i.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(i.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(i.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(i.lightMap=n(e.lightMap)),e.lightMapIntensity!==void 0&&(i.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(i.aoMap=n(e.aoMap)),e.aoMapIntensity!==void 0&&(i.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(i.gradientMap=n(e.gradientMap)),e.clearcoatMap!==void 0&&(i.clearcoatMap=n(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(i.clearcoatRoughnessMap=n(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(i.clearcoatNormalMap=n(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(i.clearcoatNormalScale=new at().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(i.iridescenceMap=n(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(i.iridescenceThicknessMap=n(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(i.transmissionMap=n(e.transmissionMap)),e.thicknessMap!==void 0&&(i.thicknessMap=n(e.thicknessMap)),e.anisotropyMap!==void 0&&(i.anisotropyMap=n(e.anisotropyMap)),e.sheenColorMap!==void 0&&(i.sheenColorMap=n(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(i.sheenRoughnessMap=n(e.sheenRoughnessMap)),i}setTextures(e){return this.textures=e,this}createMaterialFromType(e){return HM.createMaterialFromType(e)}static createMaterialFromType(e){const t={ShadowMaterial:w8,SpriteMaterial:dw,RawShaderMaterial:R8,ShaderMaterial:pa,PointsMaterial:v_,MeshPhysicalMaterial:mo,MeshStandardMaterial:A_,MeshPhongMaterial:B8,MeshToonMaterial:D8,MeshNormalMaterial:N8,MeshLambertMaterial:O8,MeshDepthMaterial:Ew,MeshDistanceMaterial:Tw,MeshBasicMaterial:Oa,MeshMatcapMaterial:L8,LineDashedMaterial:U8,LineBasicMaterial:zr,Material:Fs};return new t[e]}}class Kf{static extractUrlBase(e){const t=e.lastIndexOf("/");return t===-1?"./":e.slice(0,t+1)}static resolveURL(e,t){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class K8 extends En{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class J8 extends gr{constructor(e){super(e)}load(e,t,n,i){const r=this,a=new mr(r.manager);a.setPath(r.path),a.setRequestHeader(r.requestHeader),a.setWithCredentials(r.withCredentials),a.load(e,function(l){try{t(r.parse(JSON.parse(l)))}catch(u){i?i(u):console.error(u),r.manager.itemError(e)}},n,i)}parse(e){const t={},n={};function i(_,S){if(t[S]!==void 0)return t[S];const M=_.interleavedBuffers[S],A=r(_,M.buffer),C=ag(M.type,A),B=new p_(C,M.stride);return B.uuid=M.uuid,t[S]=B,B}function r(_,S){if(n[S]!==void 0)return n[S];const M=_.arrayBuffers[S],A=new Uint32Array(M).buffer;return n[S]=A,A}const a=e.isInstancedBufferGeometry?new K8:new En,l=e.data.index;if(l!==void 0){const _=ag(l.type,l.array);a.setIndex(new ni(_,1))}const u=e.data.attributes;for(const _ in u){const S=u[_];let b;if(S.isInterleavedBufferAttribute){const M=i(e.data,S.data);b=new rh(M,S.itemSize,S.offset,S.normalized)}else{const M=ag(S.type,S.array),A=S.isInstancedBufferAttribute?lp:ni;b=new A(M,S.itemSize,S.normalized)}S.name!==void 0&&(b.name=S.name),S.usage!==void 0&&b.setUsage(S.usage),a.setAttribute(_,b)}const h=e.data.morphAttributes;if(h)for(const _ in h){const S=h[_],b=[];for(let M=0,A=S.length;M<A;M++){const C=S[M];let B;if(C.isInterleavedBufferAttribute){const D=i(e.data,C.data);B=new rh(D,C.itemSize,C.offset,C.normalized)}else{const D=ag(C.type,C.array);B=new ni(D,C.itemSize,C.normalized)}C.name!==void 0&&(B.name=C.name),b.push(B)}a.morphAttributes[_]=b}e.data.morphTargetsRelative&&(a.morphTargetsRelative=!0);const g=e.data.groups||e.data.drawcalls||e.data.offsets;if(g!==void 0)for(let _=0,S=g.length;_!==S;++_){const b=g[_];a.addGroup(b.start,b.count,b.materialIndex)}const v=e.data.boundingSphere;if(v!==void 0){const _=new ae;v.center!==void 0&&_.fromArray(v.center),a.boundingSphere=new pr(_,v.radius)}return e.name&&(a.name=e.name),e.userData&&(a.userData=e.userData),a}}class SY extends gr{constructor(e){super(e)}load(e,t,n,i){const r=this,a=this.path===""?Kf.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||a;const l=new mr(this.manager);l.setPath(this.path),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,function(u){let h=null;try{h=JSON.parse(u)}catch(g){i!==void 0&&i(g),console.error("THREE:ObjectLoader: Can't parse "+e+".",g.message);return}const m=h.metadata;if(m===void 0||m.type===void 0||m.type.toLowerCase()==="geometry"){i!==void 0&&i(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}r.parse(h,t)},n,i)}async loadAsync(e,t){const n=this,i=this.path===""?Kf.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||i;const r=new mr(this.manager);r.setPath(this.path),r.setRequestHeader(this.requestHeader),r.setWithCredentials(this.withCredentials);const a=await r.loadAsync(e,t),l=JSON.parse(a),u=l.metadata;if(u===void 0||u.type===void 0||u.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await n.parseAsync(l)}parse(e,t){const n=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),r=this.parseGeometries(e.geometries,i),a=this.parseImages(e.images,function(){t!==void 0&&t(h)}),l=this.parseTextures(e.textures,a),u=this.parseMaterials(e.materials,l),h=this.parseObject(e.object,r,u,l,n),m=this.parseSkeletons(e.skeletons,h);if(this.bindSkeletons(h,m),this.bindLightTargets(h),t!==void 0){let g=!1;for(const v in a)if(a[v].data instanceof HTMLImageElement){g=!0;break}g===!1&&t(h)}return h}async parseAsync(e){const t=this.parseAnimations(e.animations),n=this.parseShapes(e.shapes),i=this.parseGeometries(e.geometries,n),r=await this.parseImagesAsync(e.images),a=this.parseTextures(e.textures,r),l=this.parseMaterials(e.materials,a),u=this.parseObject(e.object,i,l,a,t),h=this.parseSkeletons(e.skeletons,u);return this.bindSkeletons(u,h),this.bindLightTargets(u),u}parseShapes(e){const t={};if(e!==void 0)for(let n=0,i=e.length;n<i;n++){const r=new tp().fromJSON(e[n]);t[r.uuid]=r}return t}parseSkeletons(e,t){const n={},i={};if(t.traverse(function(r){r.isBone&&(i[r.uuid]=r)}),e!==void 0)for(let r=0,a=e.length;r<a;r++){const l=new m_().fromJSON(e[r],i);n[l.uuid]=l}return n}parseGeometries(e,t){const n={};if(e!==void 0){const i=new J8;for(let r=0,a=e.length;r<a;r++){let l;const u=e[r];switch(u.type){case"BufferGeometry":case"InstancedBufferGeometry":l=i.parse(u);break;default:u.type in i5?l=i5[u.type].fromJSON(u,t):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${u.type}"`)}l.uuid=u.uuid,u.name!==void 0&&(l.name=u.name),u.userData!==void 0&&(l.userData=u.userData),n[u.uuid]=l}}return n}parseMaterials(e,t){const n={},i={};if(e!==void 0){const r=new HM;r.setTextures(t);for(let a=0,l=e.length;a<l;a++){const u=e[a];n[u.uuid]===void 0&&(n[u.uuid]=r.parse(u)),i[u.uuid]=n[u.uuid]}}return i}parseAnimations(e){const t={};if(e!==void 0)for(let n=0;n<e.length;n++){const i=e[n],r=Hg.parse(i);t[r.uuid]=r}return t}parseImages(e,t){const n=this,i={};let r;function a(u){return n.manager.itemStart(u),r.load(u,function(){n.manager.itemEnd(u)},void 0,function(){n.manager.itemError(u),n.manager.itemEnd(u)})}function l(u){if(typeof u=="string"){const h=u,m=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(h)?h:n.resourcePath+h;return a(m)}else return u.data?{data:ag(u.type,u.data),width:u.width,height:u.height}:null}if(e!==void 0&&e.length>0){const u=new zM(t);r=new Ky(u),r.setCrossOrigin(this.crossOrigin);for(let h=0,m=e.length;h<m;h++){const g=e[h],v=g.url;if(Array.isArray(v)){const _=[];for(let S=0,b=v.length;S<b;S++){const M=v[S],A=l(M);A!==null&&(A instanceof HTMLImageElement?_.push(A):_.push(new Rl(A.data,A.width,A.height)))}i[g.uuid]=new kf(_)}else{const _=l(g.url);i[g.uuid]=new kf(_)}}}return i}async parseImagesAsync(e){const t=this,n={};let i;async function r(a){if(typeof a=="string"){const l=a,u=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(l)?l:t.resourcePath+l;return await i.loadAsync(u)}else return a.data?{data:ag(a.type,a.data),width:a.width,height:a.height}:null}if(e!==void 0&&e.length>0){i=new Ky(this.manager),i.setCrossOrigin(this.crossOrigin);for(let a=0,l=e.length;a<l;a++){const u=e[a],h=u.url;if(Array.isArray(h)){const m=[];for(let g=0,v=h.length;g<v;g++){const _=h[g],S=await r(_);S!==null&&(S instanceof HTMLImageElement?m.push(S):m.push(new Rl(S.data,S.width,S.height)))}n[u.uuid]=new kf(m)}else{const m=await r(u.url);n[u.uuid]=new kf(m)}}}return n}parseTextures(e,t){function n(r,a){return typeof r=="number"?r:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",r),a[r])}const i={};if(e!==void 0)for(let r=0,a=e.length;r<a;r++){const l=e[r];l.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',l.uuid),t[l.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",l.image);const u=t[l.image],h=u.data;let m;Array.isArray(h)?(m=new h_,h.length===6&&(m.needsUpdate=!0)):(h&&h.data?m=new Rl:m=new pi,h&&(m.needsUpdate=!0)),m.source=u,m.uuid=l.uuid,l.name!==void 0&&(m.name=l.name),l.mapping!==void 0&&(m.mapping=n(l.mapping,AY)),l.channel!==void 0&&(m.channel=l.channel),l.offset!==void 0&&m.offset.fromArray(l.offset),l.repeat!==void 0&&m.repeat.fromArray(l.repeat),l.center!==void 0&&m.center.fromArray(l.center),l.rotation!==void 0&&(m.rotation=l.rotation),l.wrap!==void 0&&(m.wrapS=n(l.wrap[0],o5),m.wrapT=n(l.wrap[1],o5)),l.format!==void 0&&(m.format=l.format),l.internalFormat!==void 0&&(m.internalFormat=l.internalFormat),l.type!==void 0&&(m.type=l.type),l.colorSpace!==void 0&&(m.colorSpace=l.colorSpace),l.minFilter!==void 0&&(m.minFilter=n(l.minFilter,l5)),l.magFilter!==void 0&&(m.magFilter=n(l.magFilter,l5)),l.anisotropy!==void 0&&(m.anisotropy=l.anisotropy),l.flipY!==void 0&&(m.flipY=l.flipY),l.generateMipmaps!==void 0&&(m.generateMipmaps=l.generateMipmaps),l.premultiplyAlpha!==void 0&&(m.premultiplyAlpha=l.premultiplyAlpha),l.unpackAlignment!==void 0&&(m.unpackAlignment=l.unpackAlignment),l.compareFunction!==void 0&&(m.compareFunction=l.compareFunction),l.userData!==void 0&&(m.userData=l.userData),i[l.uuid]=m}return i}parseObject(e,t,n,i,r){let a;function l(v){return t[v]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",v),t[v]}function u(v){if(v!==void 0){if(Array.isArray(v)){const _=[];for(let S=0,b=v.length;S<b;S++){const M=v[S];n[M]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",M),_.push(n[M])}return _}return n[v]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",v),n[v]}}function h(v){return i[v]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",v),i[v]}let m,g;switch(e.type){case"Scene":a=new d_,e.background!==void 0&&(Number.isInteger(e.background)?a.background=new Ct(e.background):a.background=h(e.background)),e.environment!==void 0&&(a.environment=h(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?a.fog=new bM(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(a.fog=new MM(e.fog.color,e.fog.density)),e.fog.name!==""&&(a.fog.name=e.fog.name)),e.backgroundBlurriness!==void 0&&(a.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(a.backgroundIntensity=e.backgroundIntensity),e.backgroundRotation!==void 0&&a.backgroundRotation.fromArray(e.backgroundRotation),e.environmentIntensity!==void 0&&(a.environmentIntensity=e.environmentIntensity),e.environmentRotation!==void 0&&a.environmentRotation.fromArray(e.environmentRotation);break;case"PerspectiveCamera":a=new Is(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(a.focus=e.focus),e.zoom!==void 0&&(a.zoom=e.zoom),e.filmGauge!==void 0&&(a.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(a.filmOffset=e.filmOffset),e.view!==void 0&&(a.view=Object.assign({},e.view));break;case"OrthographicCamera":a=new Mp(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(a.zoom=e.zoom),e.view!==void 0&&(a.view=Object.assign({},e.view));break;case"AmbientLight":a=new X8(e.color,e.intensity);break;case"DirectionalLight":a=new Lw(e.color,e.intensity),a.target=e.target||"";break;case"PointLight":a=new Ow(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":a=new Y8(e.color,e.intensity,e.width,e.height);break;case"SpotLight":a=new Nw(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay),a.target=e.target||"";break;case"HemisphereLight":a=new j8(e.color,e.groundColor,e.intensity);break;case"LightProbe":a=new W8().fromJSON(e);break;case"SkinnedMesh":m=l(e.geometry),g=u(e.material),a=new pw(m,g),e.bindMode!==void 0&&(a.bindMode=e.bindMode),e.bindMatrix!==void 0&&a.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(a.skeleton=e.skeleton);break;case"Mesh":m=l(e.geometry),g=u(e.material),a=new ki(m,g);break;case"InstancedMesh":m=l(e.geometry),g=u(e.material);const v=e.count,_=e.instanceMatrix,S=e.instanceColor;a=new mw(m,g,v),a.instanceMatrix=new lp(new Float32Array(_.array),16),S!==void 0&&(a.instanceColor=new lp(new Float32Array(S.array),S.itemSize));break;case"BatchedMesh":m=l(e.geometry),g=u(e.material),a=new m8(e.maxInstanceCount,e.maxVertexCount,e.maxIndexCount,g),a.geometry=m,a.perObjectFrustumCulled=e.perObjectFrustumCulled,a.sortObjects=e.sortObjects,a._drawRanges=e.drawRanges,a._reservedRanges=e.reservedRanges,a._visibility=e.visibility,a._active=e.active,a._bounds=e.bounds.map(b=>{const M=new Fr;M.min.fromArray(b.boxMin),M.max.fromArray(b.boxMax);const A=new pr;return A.radius=b.sphereRadius,A.center.fromArray(b.sphereCenter),{boxInitialized:b.boxInitialized,box:M,sphereInitialized:b.sphereInitialized,sphere:A}}),a._maxInstanceCount=e.maxInstanceCount,a._maxVertexCount=e.maxVertexCount,a._maxIndexCount=e.maxIndexCount,a._geometryInitialized=e.geometryInitialized,a._geometryCount=e.geometryCount,a._matricesTexture=h(e.matricesTexture.uuid),e.colorsTexture!==void 0&&(a._colorsTexture=h(e.colorsTexture.uuid));break;case"LOD":a=new p8;break;case"Line":a=new Cu(l(e.geometry),u(e.material));break;case"LineLoop":a=new gw(l(e.geometry),u(e.material));break;case"LineSegments":a=new Dl(l(e.geometry),u(e.material));break;case"PointCloud":case"Points":a=new vw(l(e.geometry),u(e.material));break;case"Sprite":a=new d8(u(e.material));break;case"Group":a=new gu;break;case"Bone":a=new EM;break;default:a=new Kn}if(a.uuid=e.uuid,e.name!==void 0&&(a.name=e.name),e.matrix!==void 0?(a.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(a.matrixAutoUpdate=e.matrixAutoUpdate),a.matrixAutoUpdate&&a.matrix.decompose(a.position,a.quaternion,a.scale)):(e.position!==void 0&&a.position.fromArray(e.position),e.rotation!==void 0&&a.rotation.fromArray(e.rotation),e.quaternion!==void 0&&a.quaternion.fromArray(e.quaternion),e.scale!==void 0&&a.scale.fromArray(e.scale)),e.up!==void 0&&a.up.fromArray(e.up),e.castShadow!==void 0&&(a.castShadow=e.castShadow),e.receiveShadow!==void 0&&(a.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.intensity!==void 0&&(a.shadow.intensity=e.shadow.intensity),e.shadow.bias!==void 0&&(a.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(a.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(a.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&a.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(a.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(a.visible=e.visible),e.frustumCulled!==void 0&&(a.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(a.renderOrder=e.renderOrder),e.userData!==void 0&&(a.userData=e.userData),e.layers!==void 0&&(a.layers.mask=e.layers),e.children!==void 0){const v=e.children;for(let _=0;_<v.length;_++)a.add(this.parseObject(v[_],t,n,i,r))}if(e.animations!==void 0){const v=e.animations;for(let _=0;_<v.length;_++){const S=v[_];a.animations.push(r[S])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(a.autoUpdate=e.autoUpdate);const v=e.levels;for(let _=0;_<v.length;_++){const S=v[_],b=a.getObjectByProperty("uuid",S.object);b!==void 0&&a.addLevel(b,S.distance,S.hysteresis)}}return a}bindSkeletons(e,t){Object.keys(t).length!==0&&e.traverse(function(n){if(n.isSkinnedMesh===!0&&n.skeleton!==void 0){const i=t[n.skeleton];i===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",n.skeleton):n.bind(i,n.bindMatrix)}})}bindLightTargets(e){e.traverse(function(t){if(t.isDirectionalLight||t.isSpotLight){const n=t.target,i=e.getObjectByProperty("uuid",n);i!==void 0?t.target=i:t.target=new Kn}})}}const AY={UVMapping:nh,CubeReflectionMapping:Bc,CubeRefractionMapping:ih,EquirectangularReflectionMapping:wg,EquirectangularRefractionMapping:zy,CubeUVReflectionMapping:Wg},o5={RepeatWrapping:sh,ClampToEdgeWrapping:ps,MirroredRepeatWrapping:Rg},l5={NearestFilter:Js,NearestMipmapNearestFilter:hM,NearestMipmapLinearFilter:Id,LinearFilter:fi,LinearMipmapNearestFilter:pg,LinearMipmapLinearFilter:Xo};class Z8 extends gr{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,t,n,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const r=this,a=vu.get(e);if(a!==void 0){if(r.manager.itemStart(e),a.then){a.then(h=>{t&&t(h),r.manager.itemEnd(e)}).catch(h=>{i&&i(h)});return}return setTimeout(function(){t&&t(a),r.manager.itemEnd(e)},0),a}const l={};l.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",l.headers=this.requestHeader;const u=fetch(e,l).then(function(h){return h.blob()}).then(function(h){return createImageBitmap(h,Object.assign(r.options,{colorSpaceConversion:"none"}))}).then(function(h){return vu.add(e,h),t&&t(h),r.manager.itemEnd(e),h}).catch(function(h){i&&i(h),vu.remove(e),r.manager.itemError(e),r.manager.itemEnd(e)});vu.add(e,u),r.manager.itemStart(e)}}let iS;class Uw{static getContext(){return iS===void 0&&(iS=new(window.AudioContext||window.webkitAudioContext)),iS}static setContext(e){iS=e}}class MY extends gr{constructor(e){super(e)}load(e,t,n,i){const r=this,a=new mr(this.manager);a.setResponseType("arraybuffer"),a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(u){try{const h=u.slice(0);Uw.getContext().decodeAudioData(h,function(g){t(g)}).catch(l)}catch(h){l(h)}},n,i);function l(u){i?i(u):console.error(u),r.manager.itemError(e)}}}const c5=new sn,u5=new sn,md=new sn;class bY{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Is,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Is,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,md.copy(e.projectionMatrix);const i=t.eyeSep/2,r=i*t.near/t.focus,a=t.near*Math.tan(ep*t.fov*.5)/t.zoom;let l,u;u5.elements[12]=-i,c5.elements[12]=i,l=-a*t.aspect+r,u=a*t.aspect+r,md.elements[0]=2*t.near/(u-l),md.elements[8]=(u+l)/(u-l),this.cameraL.projectionMatrix.copy(md),l=-a*t.aspect-r,u=a*t.aspect-r,md.elements[0]=2*t.near/(u-l),md.elements[8]=(u+l)/(u-l),this.cameraR.projectionMatrix.copy(md)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(u5),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(c5)}}class Q8 extends Is{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e,this.index=0}}class Pw{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=f5(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=f5();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}function f5(){return performance.now()}const gd=new ae,h5=new Ir,EY=new ae,vd=new ae;class TY extends Kn{constructor(){super(),this.type="AudioListener",this.context=Uw.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new Pw}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const t=this.context.listener,n=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(gd,h5,EY),vd.set(0,0,-1).applyQuaternion(h5),t.positionX){const i=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(gd.x,i),t.positionY.linearRampToValueAtTime(gd.y,i),t.positionZ.linearRampToValueAtTime(gd.z,i),t.forwardX.linearRampToValueAtTime(vd.x,i),t.forwardY.linearRampToValueAtTime(vd.y,i),t.forwardZ.linearRampToValueAtTime(vd.z,i),t.upX.linearRampToValueAtTime(n.x,i),t.upY.linearRampToValueAtTime(n.y,i),t.upZ.linearRampToValueAtTime(n.z,i)}else t.setPosition(gd.x,gd.y,gd.z),t.setOrientation(vd.x,vd.y,vd.z,n.x,n.y,n.z)}}class $8 extends Kn{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(e=0){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(this.context.currentTime+e),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){return this.detune=e,this.isPlaying===!0&&this.source.detune!==void 0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1,this._progress=0}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}copy(e,t){return super.copy(e,t),e.sourceType!=="buffer"?(console.warn("THREE.Audio: Audio source type cannot be copied."),this):(this.autoplay=e.autoplay,this.buffer=e.buffer,this.detune=e.detune,this.loop=e.loop,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this.offset=e.offset,this.duration=e.duration,this.playbackRate=e.playbackRate,this.hasPlaybackControl=e.hasPlaybackControl,this.sourceType=e.sourceType,this.filters=e.filters.slice(),this)}clone(e){return new this.constructor(this.listener).copy(this,e)}}const yd=new ae,d5=new Ir,CY=new ae,_d=new ae;class wY extends $8{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){return super.connect(),this.panner.connect(this.gain),this}disconnect(){return super.disconnect(),this.panner.disconnect(this.gain),this}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,n){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=n,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(yd,d5,CY),_d.set(0,0,1).applyQuaternion(d5);const t=this.panner;if(t.positionX){const n=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(yd.x,n),t.positionY.linearRampToValueAtTime(yd.y,n),t.positionZ.linearRampToValueAtTime(yd.z,n),t.orientationX.linearRampToValueAtTime(_d.x,n),t.orientationY.linearRampToValueAtTime(_d.y,n),t.orientationZ.linearRampToValueAtTime(_d.z,n)}else t.setPosition(yd.x,yd.y,yd.z),t.setOrientation(_d.x,_d.y,_d.z)}}class RY{constructor(e,t=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const t=this.getFrequencyData();for(let n=0;n<t.length;n++)e+=t[n];return e/t.length}}class e6{constructor(e,t,n){this.binding=e,this.valueSize=n;let i,r,a;switch(t){case"quaternion":i=this._slerp,r=this._slerpAdditive,a=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(n*6),this._workIndex=5;break;case"string":case"bool":i=this._select,r=this._select,a=this._setAdditiveIdentityOther,this.buffer=new Array(n*5);break;default:i=this._lerp,r=this._lerpAdditive,a=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(n*5)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=r,this._setIdentity=a,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const n=this.buffer,i=this.valueSize,r=e*i+i;let a=this.cumulativeWeight;if(a===0){for(let l=0;l!==i;++l)n[r+l]=n[l];a=t}else{a+=t;const l=t/a;this._mixBufferRegion(n,r,0,l,i)}this.cumulativeWeight=a}accumulateAdditive(e){const t=this.buffer,n=this.valueSize,i=n*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,i,0,e,n),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,n=this.buffer,i=e*t+t,r=this.cumulativeWeight,a=this.cumulativeWeightAdditive,l=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,r<1){const u=t*this._origIndex;this._mixBufferRegion(n,i,u,1-r,t)}a>0&&this._mixBufferRegionAdditive(n,i,this._addIndex*t,1,t);for(let u=t,h=t+t;u!==h;++u)if(n[u]!==n[u+t]){l.setValue(n,i);break}}saveOriginalState(){const e=this.binding,t=this.buffer,n=this.valueSize,i=n*this._origIndex;e.getValue(t,i);for(let r=n,a=i;r!==a;++r)t[r]=t[i+r%n];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let n=e;n<t;n++)this.buffer[n]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let n=0;n<this.valueSize;n++)this.buffer[t+n]=this.buffer[e+n]}_select(e,t,n,i,r){if(i>=.5)for(let a=0;a!==r;++a)e[t+a]=e[n+a]}_slerp(e,t,n,i){Ir.slerpFlat(e,t,e,t,e,n,i)}_slerpAdditive(e,t,n,i,r){const a=this._workIndex*r;Ir.multiplyQuaternionsFlat(e,a,e,t,e,n),Ir.slerpFlat(e,t,e,t,e,a,i)}_lerp(e,t,n,i,r){const a=1-i;for(let l=0;l!==r;++l){const u=t+l;e[u]=e[u]*a+e[n+l]*i}}_lerpAdditive(e,t,n,i,r){for(let a=0;a!==r;++a){const l=t+a;e[l]=e[l]+e[n+a]*i}}}const Iw="\\[\\]\\.:\\/",BY=new RegExp("["+Iw+"]","g"),Fw="[^"+Iw+"]",DY="[^"+Iw.replace("\\.","")+"]",NY=/((?:WC+[\/:])*)/.source.replace("WC",Fw),OY=/(WCOD+)?/.source.replace("WCOD",DY),LY=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",Fw),UY=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",Fw),PY=new RegExp("^"+NY+OY+LY+UY+"$"),IY=["material","materials","bones","map"];class FY{constructor(e,t,n){const i=n||$n.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,i)}getValue(e,t){this.bind();const n=this._targetGroup.nCachedObjects_,i=this._bindings[n];i!==void 0&&i.getValue(e,t)}setValue(e,t){const n=this._bindings;for(let i=this._targetGroup.nCachedObjects_,r=n.length;i!==r;++i)n[i].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].unbind()}}class $n{constructor(e,t,n){this.path=t,this.parsedPath=n||$n.parseTrackName(t),this.node=$n.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,n){return e&&e.isAnimationObjectGroup?new $n.Composite(e,t,n):new $n(e,t,n)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(BY,"")}static parseTrackName(e){const t=PY.exec(e);if(t===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const n={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},i=n.nodeName&&n.nodeName.lastIndexOf(".");if(i!==void 0&&i!==-1){const r=n.nodeName.substring(i+1);IY.indexOf(r)!==-1&&(n.nodeName=n.nodeName.substring(0,i),n.objectName=r)}if(n.propertyName===null||n.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return n}static findNode(e,t){if(t===void 0||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){const n=e.skeleton.getBoneByName(t);if(n!==void 0)return n}if(e.children){const n=function(r){for(let a=0;a<r.length;a++){const l=r[a];if(l.name===t||l.uuid===t)return l;const u=n(l.children);if(u)return u}return null},i=n(e.children);if(i)return i}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const n=this.resolvedProperty;for(let i=0,r=n.length;i!==r;++i)e[t++]=n[i]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const n=this.resolvedProperty;for(let i=0,r=n.length;i!==r;++i)n[i]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const n=this.resolvedProperty;for(let i=0,r=n.length;i!==r;++i)n[i]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const n=this.resolvedProperty;for(let i=0,r=n.length;i!==r;++i)n[i]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,n=t.objectName,i=t.propertyName;let r=t.propertyIndex;if(e||(e=$n.findNode(this.rootNode,t.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");return}if(n){let h=t.objectIndex;switch(n){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let m=0;m<e.length;m++)if(e[m].name===h){h=m;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[n]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[n]}if(h!==void 0){if(e[h]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[h]}}const a=e[i];if(a===void 0){const h=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+h+"."+i+" but it wasn't found.",e);return}let l=this.Versioning.None;this.targetObject=e,e.isMaterial===!0?l=this.Versioning.NeedsUpdate:e.isObject3D===!0&&(l=this.Versioning.MatrixWorldNeedsUpdate);let u=this.BindingType.Direct;if(r!==void 0){if(i==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[r]!==void 0&&(r=e.morphTargetDictionary[r])}u=this.BindingType.ArrayElement,this.resolvedProperty=a,this.propertyIndex=r}else a.fromArray!==void 0&&a.toArray!==void 0?(u=this.BindingType.HasFromToArray,this.resolvedProperty=a):Array.isArray(a)?(u=this.BindingType.EntireArray,this.resolvedProperty=a):this.propertyName=i;this.getValue=this.GetterByBindingType[u],this.setValue=this.SetterByBindingTypeAndVersioning[u][l]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}$n.Composite=FY;$n.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};$n.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};$n.prototype.GetterByBindingType=[$n.prototype._getValue_direct,$n.prototype._getValue_array,$n.prototype._getValue_arrayElement,$n.prototype._getValue_toArray];$n.prototype.SetterByBindingTypeAndVersioning=[[$n.prototype._setValue_direct,$n.prototype._setValue_direct_setNeedsUpdate,$n.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[$n.prototype._setValue_array,$n.prototype._setValue_array_setNeedsUpdate,$n.prototype._setValue_array_setMatrixWorldNeedsUpdate],[$n.prototype._setValue_arrayElement,$n.prototype._setValue_arrayElement_setNeedsUpdate,$n.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[$n.prototype._setValue_fromArray,$n.prototype._setValue_fromArray_setNeedsUpdate,$n.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class zY{constructor(){this.isAnimationObjectGroup=!0,this.uuid=co(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let n=0,i=arguments.length;n!==i;++n)e[arguments[n].uuid]=n;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}add(){const e=this._objects,t=this._indicesByUUID,n=this._paths,i=this._parsedPaths,r=this._bindings,a=r.length;let l,u=e.length,h=this.nCachedObjects_;for(let m=0,g=arguments.length;m!==g;++m){const v=arguments[m],_=v.uuid;let S=t[_];if(S===void 0){S=u++,t[_]=S,e.push(v);for(let b=0,M=a;b!==M;++b)r[b].push(new $n(v,n[b],i[b]))}else if(S<h){l=e[S];const b=--h,M=e[b];t[M.uuid]=S,e[S]=M,t[_]=b,e[b]=v;for(let A=0,C=a;A!==C;++A){const B=r[A],D=B[b];let N=B[S];B[S]=D,N===void 0&&(N=new $n(v,n[A],i[A])),B[b]=N}}else e[S]!==l&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=h}remove(){const e=this._objects,t=this._indicesByUUID,n=this._bindings,i=n.length;let r=this.nCachedObjects_;for(let a=0,l=arguments.length;a!==l;++a){const u=arguments[a],h=u.uuid,m=t[h];if(m!==void 0&&m>=r){const g=r++,v=e[g];t[v.uuid]=m,e[m]=v,t[h]=g,e[g]=u;for(let _=0,S=i;_!==S;++_){const b=n[_],M=b[g],A=b[m];b[m]=M,b[g]=A}}}this.nCachedObjects_=r}uncache(){const e=this._objects,t=this._indicesByUUID,n=this._bindings,i=n.length;let r=this.nCachedObjects_,a=e.length;for(let l=0,u=arguments.length;l!==u;++l){const h=arguments[l],m=h.uuid,g=t[m];if(g!==void 0)if(delete t[m],g<r){const v=--r,_=e[v],S=--a,b=e[S];t[_.uuid]=g,e[g]=_,t[b.uuid]=v,e[v]=b,e.pop();for(let M=0,A=i;M!==A;++M){const C=n[M],B=C[v],D=C[S];C[g]=B,C[v]=D,C.pop()}}else{const v=--a,_=e[v];v>0&&(t[_.uuid]=g),e[g]=_,e.pop();for(let S=0,b=i;S!==b;++S){const M=n[S];M[g]=M[v],M.pop()}}}this.nCachedObjects_=r}subscribe_(e,t){const n=this._bindingsIndicesByPath;let i=n[e];const r=this._bindings;if(i!==void 0)return r[i];const a=this._paths,l=this._parsedPaths,u=this._objects,h=u.length,m=this.nCachedObjects_,g=new Array(h);i=r.length,n[e]=i,a.push(e),l.push(t),r.push(g);for(let v=m,_=u.length;v!==_;++v){const S=u[v];g[v]=new $n(S,e,t)}return g}unsubscribe_(e){const t=this._bindingsIndicesByPath,n=t[e];if(n!==void 0){const i=this._paths,r=this._parsedPaths,a=this._bindings,l=a.length-1,u=a[l],h=e[l];t[h]=n,a[n]=u,a.pop(),r[n]=r[l],r.pop(),i[n]=i[l],i.pop()}}}class t6{constructor(e,t,n=null,i=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=n,this.blendMode=i;const r=t.tracks,a=r.length,l=new Array(a),u={endingStart:Fd,endingEnd:Fd};for(let h=0;h!==a;++h){const m=r[h].createInterpolant(null);l[h]=m,m.settings=u}this._interpolantSettings=u,this._interpolants=l,this._propertyBindings=new Array(a),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=XU,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,n=!1){if(e.fadeOut(t),this.fadeIn(t),n===!0){const i=this._clip.duration,r=e._clip.duration,a=r/i,l=i/r;e.warp(1,a,t),this.warp(l,1,t)}return this}crossFadeTo(e,t,n=!1){return e.crossFadeFrom(this,t,n)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,n){const i=this._mixer,r=i.time,a=this.timeScale;let l=this._timeScaleInterpolant;l===null&&(l=i._lendControlInterpolant(),this._timeScaleInterpolant=l);const u=l.parameterPositions,h=l.sampleValues;return u[0]=r,u[1]=r+n,h[0]=e/a,h[1]=t/a,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,n,i){if(!this.enabled){this._updateWeight(e);return}const r=this._startTime;if(r!==null){const u=(e-r)*n;u<0||n===0?t=0:(this._startTime=null,t=n*u)}t*=this._updateTimeScale(e);const a=this._updateTime(t),l=this._updateWeight(e);if(l>0){const u=this._interpolants,h=this._propertyBindings;switch(this.blendMode){case aw:for(let m=0,g=u.length;m!==g;++m)u[m].evaluate(a),h[m].accumulateAdditive(l);break;case _M:default:for(let m=0,g=u.length;m!==g;++m)u[m].evaluate(a),h[m].accumulate(i,l)}}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const n=this._weightInterpolant;if(n!==null){const i=n.evaluate(e)[0];t*=i,e>n.parameterPositions[1]&&(this.stopFading(),i===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const n=this._timeScaleInterpolant;if(n!==null){const i=n.evaluate(e)[0];t*=i,e>n.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,n=this.loop;let i=this.time+e,r=this._loopCount;const a=n===YU;if(e===0)return r===-1?i:a&&(r&1)===1?t-i:i;if(n===jU){r===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(i>=t)i=t;else if(i<0)i=0;else{this.time=i;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(r===-1&&(e>=0?(r=0,this._setEndings(!0,this.repetitions===0,a)):this._setEndings(this.repetitions===0,!0,a)),i>=t||i<0){const l=Math.floor(i/t);i-=t*l,r+=Math.abs(l);const u=this.repetitions-r;if(u<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,i=e>0?t:0,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(u===1){const h=e<0;this._setEndings(h,!h,a)}else this._setEndings(!1,!1,a);this._loopCount=r,this.time=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:l})}}else this.time=i;if(a&&(r&1)===1)return t-i}return i}_setEndings(e,t,n){const i=this._interpolantSettings;n?(i.endingStart=zd,i.endingEnd=zd):(e?i.endingStart=this.zeroSlopeAtStart?zd:Fd:i.endingStart=Hy,t?i.endingEnd=this.zeroSlopeAtEnd?zd:Fd:i.endingEnd=Hy)}_scheduleFading(e,t,n){const i=this._mixer,r=i.time;let a=this._weightInterpolant;a===null&&(a=i._lendControlInterpolant(),this._weightInterpolant=a);const l=a.parameterPositions,u=a.sampleValues;return l[0]=r,u[0]=t,l[1]=r+e,u[1]=n,this}}const HY=new Float32Array(1);class GY extends Nc{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const n=e._localRoot||this._root,i=e._clip.tracks,r=i.length,a=e._propertyBindings,l=e._interpolants,u=n.uuid,h=this._bindingsByRootAndName;let m=h[u];m===void 0&&(m={},h[u]=m);for(let g=0;g!==r;++g){const v=i[g],_=v.name;let S=m[_];if(S!==void 0)++S.referenceCount,a[g]=S;else{if(S=a[g],S!==void 0){S._cacheIndex===null&&(++S.referenceCount,this._addInactiveBinding(S,u,_));continue}const b=t&&t._propertyBindings[g].binding.parsedPath;S=new e6($n.create(n,_,b),v.ValueTypeName,v.getValueSize()),++S.referenceCount,this._addInactiveBinding(S,u,_),a[g]=S}l[g].resultBuffer=S.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const n=(e._localRoot||this._root).uuid,i=e._clip.uuid,r=this._actionsByClip[i];this._bindAction(e,r&&r.knownActions[0]),this._addInactiveAction(e,i,n)}const t=e._propertyBindings;for(let n=0,i=t.length;n!==i;++n){const r=t[n];r.useCount++===0&&(this._lendBinding(r),r.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let n=0,i=t.length;n!==i;++n){const r=t[n];--r.useCount===0&&(r.restoreOriginalState(),this._takeBackBinding(r))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return t!==null&&t<this._nActiveActions}_addInactiveAction(e,t,n){const i=this._actions,r=this._actionsByClip;let a=r[t];if(a===void 0)a={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,r[t]=a;else{const l=a.knownActions;e._byClipCacheIndex=l.length,l.push(e)}e._cacheIndex=i.length,i.push(e),a.actionByRoot[n]=e}_removeInactiveAction(e){const t=this._actions,n=t[t.length-1],i=e._cacheIndex;n._cacheIndex=i,t[i]=n,t.pop(),e._cacheIndex=null;const r=e._clip.uuid,a=this._actionsByClip,l=a[r],u=l.knownActions,h=u[u.length-1],m=e._byClipCacheIndex;h._byClipCacheIndex=m,u[m]=h,u.pop(),e._byClipCacheIndex=null;const g=l.actionByRoot,v=(e._localRoot||this._root).uuid;delete g[v],u.length===0&&delete a[r],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let n=0,i=t.length;n!==i;++n){const r=t[n];--r.referenceCount===0&&this._removeInactiveBinding(r)}}_lendAction(e){const t=this._actions,n=e._cacheIndex,i=this._nActiveActions++,r=t[i];e._cacheIndex=i,t[i]=e,r._cacheIndex=n,t[n]=r}_takeBackAction(e){const t=this._actions,n=e._cacheIndex,i=--this._nActiveActions,r=t[i];e._cacheIndex=i,t[i]=e,r._cacheIndex=n,t[n]=r}_addInactiveBinding(e,t,n){const i=this._bindingsByRootAndName,r=this._bindings;let a=i[t];a===void 0&&(a={},i[t]=a),a[n]=e,e._cacheIndex=r.length,r.push(e)}_removeInactiveBinding(e){const t=this._bindings,n=e.binding,i=n.rootNode.uuid,r=n.path,a=this._bindingsByRootAndName,l=a[i],u=t[t.length-1],h=e._cacheIndex;u._cacheIndex=h,t[h]=u,t.pop(),delete l[r],Object.keys(l).length===0&&delete a[i]}_lendBinding(e){const t=this._bindings,n=e._cacheIndex,i=this._nActiveBindings++,r=t[i];e._cacheIndex=i,t[i]=e,r._cacheIndex=n,t[n]=r}_takeBackBinding(e){const t=this._bindings,n=e._cacheIndex,i=--this._nActiveBindings,r=t[i];e._cacheIndex=i,t[i]=e,r._cacheIndex=n,t[n]=r}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let n=e[t];return n===void 0&&(n=new ww(new Float32Array(2),new Float32Array(2),1,HY),n.__cacheIndex=t,e[t]=n),n}_takeBackControlInterpolant(e){const t=this._controlInterpolants,n=e.__cacheIndex,i=--this._nActiveControlInterpolants,r=t[i];e.__cacheIndex=i,t[i]=e,r.__cacheIndex=n,t[n]=r}clipAction(e,t,n){const i=t||this._root,r=i.uuid;let a=typeof e=="string"?Hg.findByName(i,e):e;const l=a!==null?a.uuid:e,u=this._actionsByClip[l];let h=null;if(n===void 0&&(a!==null?n=a.blendMode:n=_M),u!==void 0){const g=u.actionByRoot[r];if(g!==void 0&&g.blendMode===n)return g;h=u.knownActions[0],a===null&&(a=h._clip)}if(a===null)return null;const m=new t6(this,a,t,n);return this._bindAction(m,h),this._addInactiveAction(m,l,r),m}existingAction(e,t){const n=t||this._root,i=n.uuid,r=typeof e=="string"?Hg.findByName(n,e):e,a=r?r.uuid:e,l=this._actionsByClip[a];return l!==void 0&&l.actionByRoot[i]||null}stopAllAction(){const e=this._actions,t=this._nActiveActions;for(let n=t-1;n>=0;--n)e[n].stop();return this}update(e){e*=this.timeScale;const t=this._actions,n=this._nActiveActions,i=this.time+=e,r=Math.sign(e),a=this._accuIndex^=1;for(let h=0;h!==n;++h)t[h]._update(i,e,r,a);const l=this._bindings,u=this._nActiveBindings;for(let h=0;h!==u;++h)l[h].apply(a);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,n=e.uuid,i=this._actionsByClip,r=i[n];if(r!==void 0){const a=r.knownActions;for(let l=0,u=a.length;l!==u;++l){const h=a[l];this._deactivateAction(h);const m=h._cacheIndex,g=t[t.length-1];h._cacheIndex=null,h._byClipCacheIndex=null,g._cacheIndex=m,t[m]=g,t.pop(),this._removeInactiveBindingsForAction(h)}delete i[n]}}uncacheRoot(e){const t=e.uuid,n=this._actionsByClip;for(const a in n){const l=n[a].actionByRoot,u=l[t];u!==void 0&&(this._deactivateAction(u),this._removeInactiveAction(u))}const i=this._bindingsByRootAndName,r=i[t];if(r!==void 0)for(const a in r){const l=r[a];l.restoreOriginalState(),this._removeInactiveBinding(l)}}uncacheAction(e,t){const n=this.existingAction(e,t);n!==null&&(this._deactivateAction(n),this._removeInactiveAction(n))}}class VY extends xM{constructor(e=1,t=1,n=1,i={}){super(e,t,i),this.isRenderTarget3D=!0,this.depth=n,this.texture=new SM(null,e,t,n),this.texture.isRenderTargetTexture=!0}}class kY extends xM{constructor(e=1,t=1,n=1,i={}){super(e,t,i),this.isRenderTargetArray=!0,this.depth=n,this.texture=new f_(null,e,t,n),this.texture.isRenderTargetTexture=!0}}class zw{constructor(e){this.value=e}clone(){return new zw(this.value.clone===void 0?this.value:this.value.clone())}}let jY=0;class XY extends Nc{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:jY++}),this.name="",this.usage=Vy,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const t=this.uniforms.indexOf(e);return t!==-1&&this.uniforms.splice(t,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){this.dispatchEvent({type:"dispose"})}copy(e){this.name=e.name,this.usage=e.usage;const t=e.uniforms;this.uniforms.length=0;for(let n=0,i=t.length;n<i;n++){const r=Array.isArray(t[n])?t[n]:[t[n]];for(let a=0;a<r.length;a++)this.uniforms.push(r[a].clone())}return this}clone(){return new this.constructor().copy(this)}}class YY extends p_{constructor(e,t,n=1){super(e,t),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=n}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}class qY{constructor(e,t,n,i,r){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=t,this.itemSize=n,this.elementSize=i,this.count=r,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,t){return this.type=e,this.elementSize=t,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}const p5=new sn;class Hw{constructor(e,t,n=0,i=1/0){this.ray=new Kg(e,t),this.near=n,this.far=i,this.camera=null,this.layers=new Ig,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}setFromXRController(e){return p5.identity().extractRotation(e.matrixWorld),this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(p5),this}intersectObject(e,t=!0,n=[]){return E2(e,this,n,t),n.sort(m5),n}intersectObjects(e,t=!0,n=[]){for(let i=0,r=e.length;i<r;i++)E2(e[i],this,n,t);return n.sort(m5),n}}function m5(s,e){return s.distance-e.distance}function E2(s,e,t,n){let i=!0;if(s.layers.test(e.layers)&&s.raycast(e,t)===!1&&(i=!1),i===!0&&n===!0){const r=s.children;for(let a=0,l=r.length;a<l;a++)E2(r[a],e,t,!0)}}class WY{constructor(e=1,t=0,n=0){this.radius=e,this.phi=t,this.theta=n}set(e,t,n){return this.radius=e,this.phi=t,this.theta=n,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=xn(this.phi,1e-6,Math.PI-1e-6),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,n){return this.radius=Math.sqrt(e*e+t*t+n*n),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,n),this.phi=Math.acos(xn(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class KY{constructor(e=1,t=0,n=0){this.radius=e,this.theta=t,this.y=n}set(e,t,n){return this.radius=e,this.theta=t,this.y=n,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,n){return this.radius=Math.sqrt(e*e+n*n),this.theta=Math.atan2(e,n),this.y=t,this}clone(){return new this.constructor().copy(this)}}class Gw{constructor(e,t,n,i){Gw.prototype.isMatrix2=!0,this.elements=[1,0,0,1],e!==void 0&&this.set(e,t,n,i)}identity(){return this.set(1,0,0,1),this}fromArray(e,t=0){for(let n=0;n<4;n++)this.elements[n]=e[n+t];return this}set(e,t,n,i){const r=this.elements;return r[0]=e,r[2]=t,r[1]=n,r[3]=i,this}}const g5=new at;class JY{constructor(e=new at(1/0,1/0),t=new at(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const n=g5.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,g5).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const v5=new ae,sS=new ae;class ZY{constructor(e=new ae,t=new ae){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){v5.subVectors(e,this.start),sS.subVectors(this.end,this.start);const n=sS.dot(sS);let r=sS.dot(v5)/n;return t&&(r=xn(r,0,1)),r}closestPointToPoint(e,t,n){const i=this.closestPointToPointParameter(e,t);return this.delta(n).multiplyScalar(i).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const y5=new ae;class QY extends Kn{constructor(e,t){super(),this.light=e,this.matrixAutoUpdate=!1,this.color=t,this.type="SpotLightHelper";const n=new En,i=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let a=0,l=1,u=32;a<u;a++,l++){const h=a/u*Math.PI*2,m=l/u*Math.PI*2;i.push(Math.cos(h),Math.sin(h),1,Math.cos(m),Math.sin(m),1)}n.setAttribute("position",new qt(i,3));const r=new zr({fog:!1,toneMapped:!1});this.cone=new Dl(n,r),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),this.parent?(this.parent.updateWorldMatrix(!0),this.matrix.copy(this.parent.matrixWorld).invert().multiply(this.light.matrixWorld)):this.matrix.copy(this.light.matrixWorld),this.matrixWorld.copy(this.light.matrixWorld);const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),y5.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(y5),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const Rf=new ae,rS=new sn,GE=new sn;class $Y extends Dl{constructor(e){const t=n6(e),n=new En,i=[],r=[],a=new Ct(0,0,1),l=new Ct(0,1,0);for(let h=0;h<t.length;h++){const m=t[h];m.parent&&m.parent.isBone&&(i.push(0,0,0),i.push(0,0,0),r.push(a.r,a.g,a.b),r.push(l.r,l.g,l.b))}n.setAttribute("position",new qt(i,3)),n.setAttribute("color",new qt(r,3));const u=new zr({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(n,u),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const t=this.bones,n=this.geometry,i=n.getAttribute("position");GE.copy(this.root.matrixWorld).invert();for(let r=0,a=0;r<t.length;r++){const l=t[r];l.parent&&l.parent.isBone&&(rS.multiplyMatrices(GE,l.matrixWorld),Rf.setFromMatrixPosition(rS),i.setXYZ(a,Rf.x,Rf.y,Rf.z),rS.multiplyMatrices(GE,l.parent.matrixWorld),Rf.setFromMatrixPosition(rS),i.setXYZ(a+1,Rf.x,Rf.y,Rf.z),a+=2)}n.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function n6(s){const e=[];s.isBone===!0&&e.push(s);for(let t=0;t<s.children.length;t++)e.push(...n6(s.children[t]));return e}class eq extends ki{constructor(e,t,n){const i=new S_(t,4,2),r=new Oa({wireframe:!0,fog:!1,toneMapped:!1});super(i,r),this.light=e,this.color=n,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const tq=new ae,_5=new Ct,x5=new Ct;class nq extends Kn{constructor(e,t,n){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,this.type="HemisphereLightHelper";const i=new x_(t);i.rotateY(Math.PI*.5),this.material=new Oa({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const r=i.getAttribute("position"),a=new Float32Array(r.count*3);i.setAttribute("color",new ni(a,3)),this.add(new ki(i,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const t=e.geometry.getAttribute("color");_5.copy(this.light.color),x5.copy(this.light.groundColor);for(let n=0,i=t.count;n<i;n++){const r=n<i/2?_5:x5;t.setXYZ(n,r.r,r.g,r.b)}t.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(tq.setFromMatrixPosition(this.light.matrixWorld).negate())}}class iq extends Dl{constructor(e=10,t=10,n=4473924,i=8947848){n=new Ct(n),i=new Ct(i);const r=t/2,a=e/t,l=e/2,u=[],h=[];for(let v=0,_=0,S=-l;v<=t;v++,S+=a){u.push(-l,0,S,l,0,S),u.push(S,0,-l,S,0,l);const b=v===r?n:i;b.toArray(h,_),_+=3,b.toArray(h,_),_+=3,b.toArray(h,_),_+=3,b.toArray(h,_),_+=3}const m=new En;m.setAttribute("position",new qt(u,3)),m.setAttribute("color",new qt(h,3));const g=new zr({vertexColors:!0,toneMapped:!1});super(m,g),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class sq extends Dl{constructor(e=10,t=16,n=8,i=64,r=4473924,a=8947848){r=new Ct(r),a=new Ct(a);const l=[],u=[];if(t>1)for(let g=0;g<t;g++){const v=g/t*(Math.PI*2),_=Math.sin(v)*e,S=Math.cos(v)*e;l.push(0,0,0),l.push(_,0,S);const b=g&1?r:a;u.push(b.r,b.g,b.b),u.push(b.r,b.g,b.b)}for(let g=0;g<n;g++){const v=g&1?r:a,_=e-e/n*g;for(let S=0;S<i;S++){let b=S/i*(Math.PI*2),M=Math.sin(b)*_,A=Math.cos(b)*_;l.push(M,0,A),u.push(v.r,v.g,v.b),b=(S+1)/i*(Math.PI*2),M=Math.sin(b)*_,A=Math.cos(b)*_,l.push(M,0,A),u.push(v.r,v.g,v.b)}}const h=new En;h.setAttribute("position",new qt(l,3)),h.setAttribute("color",new qt(u,3));const m=new zr({vertexColors:!0,toneMapped:!1});super(h,m),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const S5=new ae,aS=new ae,A5=new ae;class rq extends Kn{constructor(e,t,n){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,this.type="DirectionalLightHelper",t===void 0&&(t=1);let i=new En;i.setAttribute("position",new qt([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const r=new zr({fog:!1,toneMapped:!1});this.lightPlane=new Cu(i,r),this.add(this.lightPlane),i=new En,i.setAttribute("position",new qt([0,0,0,0,0,1],3)),this.targetLine=new Cu(i,r),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),S5.setFromMatrixPosition(this.light.matrixWorld),aS.setFromMatrixPosition(this.light.target.matrixWorld),A5.subVectors(aS,S5),this.lightPlane.lookAt(aS),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(aS),this.targetLine.scale.z=A5.length()}}const oS=new ae,is=new AM;class aq extends Dl{constructor(e){const t=new En,n=new zr({color:16777215,vertexColors:!0,toneMapped:!1}),i=[],r=[],a={};l("n1","n2"),l("n2","n4"),l("n4","n3"),l("n3","n1"),l("f1","f2"),l("f2","f4"),l("f4","f3"),l("f3","f1"),l("n1","f1"),l("n2","f2"),l("n3","f3"),l("n4","f4"),l("p","n1"),l("p","n2"),l("p","n3"),l("p","n4"),l("u1","u2"),l("u2","u3"),l("u3","u1"),l("c","t"),l("p","c"),l("cn1","cn2"),l("cn3","cn4"),l("cf1","cf2"),l("cf3","cf4");function l(S,b){u(S),u(b)}function u(S){i.push(0,0,0),r.push(0,0,0),a[S]===void 0&&(a[S]=[]),a[S].push(i.length/3-1)}t.setAttribute("position",new qt(i,3)),t.setAttribute("color",new qt(r,3)),super(t,n),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=a,this.update();const h=new Ct(16755200),m=new Ct(16711680),g=new Ct(43775),v=new Ct(16777215),_=new Ct(3355443);this.setColors(h,m,g,v,_)}setColors(e,t,n,i,r){const l=this.geometry.getAttribute("color");l.setXYZ(0,e.r,e.g,e.b),l.setXYZ(1,e.r,e.g,e.b),l.setXYZ(2,e.r,e.g,e.b),l.setXYZ(3,e.r,e.g,e.b),l.setXYZ(4,e.r,e.g,e.b),l.setXYZ(5,e.r,e.g,e.b),l.setXYZ(6,e.r,e.g,e.b),l.setXYZ(7,e.r,e.g,e.b),l.setXYZ(8,e.r,e.g,e.b),l.setXYZ(9,e.r,e.g,e.b),l.setXYZ(10,e.r,e.g,e.b),l.setXYZ(11,e.r,e.g,e.b),l.setXYZ(12,e.r,e.g,e.b),l.setXYZ(13,e.r,e.g,e.b),l.setXYZ(14,e.r,e.g,e.b),l.setXYZ(15,e.r,e.g,e.b),l.setXYZ(16,e.r,e.g,e.b),l.setXYZ(17,e.r,e.g,e.b),l.setXYZ(18,e.r,e.g,e.b),l.setXYZ(19,e.r,e.g,e.b),l.setXYZ(20,e.r,e.g,e.b),l.setXYZ(21,e.r,e.g,e.b),l.setXYZ(22,e.r,e.g,e.b),l.setXYZ(23,e.r,e.g,e.b),l.setXYZ(24,t.r,t.g,t.b),l.setXYZ(25,t.r,t.g,t.b),l.setXYZ(26,t.r,t.g,t.b),l.setXYZ(27,t.r,t.g,t.b),l.setXYZ(28,t.r,t.g,t.b),l.setXYZ(29,t.r,t.g,t.b),l.setXYZ(30,t.r,t.g,t.b),l.setXYZ(31,t.r,t.g,t.b),l.setXYZ(32,n.r,n.g,n.b),l.setXYZ(33,n.r,n.g,n.b),l.setXYZ(34,n.r,n.g,n.b),l.setXYZ(35,n.r,n.g,n.b),l.setXYZ(36,n.r,n.g,n.b),l.setXYZ(37,n.r,n.g,n.b),l.setXYZ(38,i.r,i.g,i.b),l.setXYZ(39,i.r,i.g,i.b),l.setXYZ(40,r.r,r.g,r.b),l.setXYZ(41,r.r,r.g,r.b),l.setXYZ(42,r.r,r.g,r.b),l.setXYZ(43,r.r,r.g,r.b),l.setXYZ(44,r.r,r.g,r.b),l.setXYZ(45,r.r,r.g,r.b),l.setXYZ(46,r.r,r.g,r.b),l.setXYZ(47,r.r,r.g,r.b),l.setXYZ(48,r.r,r.g,r.b),l.setXYZ(49,r.r,r.g,r.b),l.needsUpdate=!0}update(){const e=this.geometry,t=this.pointMap,n=1,i=1;is.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse);const r=this.camera.coordinateSystem===Cl?-1:0;us("c",t,e,is,0,0,r),us("t",t,e,is,0,0,1),us("n1",t,e,is,-1,-1,r),us("n2",t,e,is,n,-1,r),us("n3",t,e,is,-1,i,r),us("n4",t,e,is,n,i,r),us("f1",t,e,is,-1,-1,1),us("f2",t,e,is,n,-1,1),us("f3",t,e,is,-1,i,1),us("f4",t,e,is,n,i,1),us("u1",t,e,is,n*.7,i*1.1,r),us("u2",t,e,is,-1*.7,i*1.1,r),us("u3",t,e,is,0,i*2,r),us("cf1",t,e,is,-1,0,1),us("cf2",t,e,is,n,0,1),us("cf3",t,e,is,0,-1,1),us("cf4",t,e,is,0,i,1),us("cn1",t,e,is,-1,0,r),us("cn2",t,e,is,n,0,r),us("cn3",t,e,is,0,-1,r),us("cn4",t,e,is,0,i,r),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function us(s,e,t,n,i,r,a){oS.set(i,r,a).unproject(n);const l=e[s];if(l!==void 0){const u=t.getAttribute("position");for(let h=0,m=l.length;h<m;h++)u.setXYZ(l[h],oS.x,oS.y,oS.z)}}const lS=new Fr;class oq extends Dl{constructor(e,t=16776960){const n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new Float32Array(8*3),r=new En;r.setIndex(new ni(n,1)),r.setAttribute("position",new ni(i,3)),super(r,new zr({color:t,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(){if(this.object!==void 0&&lS.setFromObject(this.object),lS.isEmpty())return;const e=lS.min,t=lS.max,n=this.geometry.attributes.position,i=n.array;i[0]=t.x,i[1]=t.y,i[2]=t.z,i[3]=e.x,i[4]=t.y,i[5]=t.z,i[6]=e.x,i[7]=e.y,i[8]=t.z,i[9]=t.x,i[10]=e.y,i[11]=t.z,i[12]=t.x,i[13]=t.y,i[14]=e.z,i[15]=e.x,i[16]=t.y,i[17]=e.z,i[18]=e.x,i[19]=e.y,i[20]=e.z,i[21]=t.x,i[22]=e.y,i[23]=e.z,n.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,t){return super.copy(e,t),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class lq extends Dl{constructor(e,t=16776960){const n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],r=new En;r.setIndex(new ni(n,1)),r.setAttribute("position",new qt(i,3)),super(r,new zr({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class cq extends Cu{constructor(e,t=1,n=16776960){const i=n,r=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],a=new En;a.setAttribute("position",new qt(r,3)),a.computeBoundingSphere(),super(a,new zr({color:i,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=t;const l=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],u=new En;u.setAttribute("position",new qt(l,3)),u.computeBoundingSphere(),this.add(new ki(u,new Oa({color:i,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const M5=new ae;let cS,VE;class uq extends Kn{constructor(e=new ae(0,0,1),t=new ae(0,0,0),n=1,i=16776960,r=n*.2,a=r*.2){super(),this.type="ArrowHelper",cS===void 0&&(cS=new En,cS.setAttribute("position",new qt([0,0,0,0,1,0],3)),VE=new xp(0,.5,1,5,1),VE.translate(0,-.5,0)),this.position.copy(t),this.line=new Cu(cS,new zr({color:i,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new ki(VE,new Oa({color:i,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(n,r,a)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{M5.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(M5,t)}}setLength(e,t=e*.2,n=t*.2){this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(n,t,n),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class fq extends Dl{constructor(e=1){const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],n=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],i=new En;i.setAttribute("position",new qt(t,3)),i.setAttribute("color",new qt(n,3));const r=new zr({vertexColors:!0,toneMapped:!1});super(i,r),this.type="AxesHelper"}setColors(e,t,n){const i=new Ct,r=this.geometry.attributes.color.array;return i.set(e),i.toArray(r,0),i.toArray(r,3),i.set(t),i.toArray(r,6),i.toArray(r,9),i.set(n),i.toArray(r,12),i.toArray(r,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class hq{constructor(){this.type="ShapePath",this.color=new Ct,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new Xy,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,n,i){return this.currentPath.quadraticCurveTo(e,t,n,i),this}bezierCurveTo(e,t,n,i,r,a){return this.currentPath.bezierCurveTo(e,t,n,i,r,a),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function t(A){const C=[];for(let B=0,D=A.length;B<D;B++){const N=A[B],U=new tp;U.curves=N.curves,C.push(U)}return C}function n(A,C){const B=C.length;let D=!1;for(let N=B-1,U=0;U<B;N=U++){let F=C[N],z=C[U],O=z.x-F.x,P=z.y-F.y;if(Math.abs(P)>Number.EPSILON){if(P<0&&(F=C[U],O=-O,z=C[N],P=-P),A.y<F.y||A.y>z.y)continue;if(A.y===F.y){if(A.x===F.x)return!0}else{const q=P*(A.x-F.x)-O*(A.y-F.y);if(q===0)return!0;if(q<0)continue;D=!D}}else{if(A.y!==F.y)continue;if(z.x<=A.x&&A.x<=F.x||F.x<=A.x&&A.x<=z.x)return!0}}return D}const i=Cc.isClockWise,r=this.subPaths;if(r.length===0)return[];let a,l,u;const h=[];if(r.length===1)return l=r[0],u=new tp,u.curves=l.curves,h.push(u),h;let m=!i(r[0].getPoints());m=e?!m:m;const g=[],v=[];let _=[],S=0,b;v[S]=void 0,_[S]=[];for(let A=0,C=r.length;A<C;A++)l=r[A],b=l.getPoints(),a=i(b),a=e?!a:a,a?(!m&&v[S]&&S++,v[S]={s:new tp,p:b},v[S].s.curves=l.curves,m&&S++,_[S]=[]):_[S].push({h:l,p:b[0]});if(!v[0])return t(r);if(v.length>1){let A=!1,C=0;for(let B=0,D=v.length;B<D;B++)g[B]=[];for(let B=0,D=v.length;B<D;B++){const N=_[B];for(let U=0;U<N.length;U++){const F=N[U];let z=!0;for(let O=0;O<v.length;O++)n(F.p,v[O].p)&&(B!==O&&C++,z?(z=!1,g[O].push(F)):A=!0);z&&g[B].push(F)}}C>0&&A===!1&&(_=g)}let M;for(let A=0,C=v.length;A<C;A++){u=v[A].s,h.push(u),M=_[A];for(let B=0,D=M.length;B<D;B++)u.holes.push(M[B].h)}return h}}class dq extends Nc{constructor(e,t=null){super(),this.object=e,this.domElement=t,this.enabled=!0,this.state=-1,this.keys={},this.mouseButtons={LEFT:null,MIDDLE:null,RIGHT:null},this.touches={ONE:null,TWO:null}}connect(e){if(e===void 0){console.warn("THREE.Controls: connect() now requires an element.");return}this.domElement!==null&&this.disconnect(),this.domElement=e}disconnect(){}dispose(){}update(){}}function pq(s,e){const t=s.image&&s.image.width?s.image.width/s.image.height:1;return t>e?(s.repeat.x=1,s.repeat.y=t/e,s.offset.x=0,s.offset.y=(1-s.repeat.y)/2):(s.repeat.x=e/t,s.repeat.y=1,s.offset.x=(1-s.repeat.x)/2,s.offset.y=0),s}function mq(s,e){const t=s.image&&s.image.width?s.image.width/s.image.height:1;return t>e?(s.repeat.x=e/t,s.repeat.y=1,s.offset.x=(1-s.repeat.x)/2,s.offset.y=0):(s.repeat.x=1,s.repeat.y=t/e,s.offset.x=0,s.offset.y=(1-s.repeat.y)/2),s}function gq(s){return s.repeat.x=1,s.repeat.y=1,s.offset.x=0,s.offset.y=0,s}function T2(s,e,t,n){const i=vq(n);switch(t){case ew:return s*e;case nw:return s*e;case iw:return s*e*2;case c_:return s*e/i.components*i.byteLength;case u_:return s*e/i.components*i.byteLength;case sw:return s*e*2/i.components*i.byteLength;case vM:return s*e*2/i.components*i.byteLength;case tw:return s*e*3/i.components*i.byteLength;case ms:return s*e*4/i.components*i.byteLength;case yM:return s*e*4/i.components*i.byteLength;case dy:case py:return Math.floor((s+3)/4)*Math.floor((e+3)/4)*8;case my:case gy:return Math.floor((s+3)/4)*Math.floor((e+3)/4)*16;case mA:case vA:return Math.max(s,16)*Math.max(e,8)/4;case pA:case gA:return Math.max(s,8)*Math.max(e,8)/2;case yA:case _A:return Math.floor((s+3)/4)*Math.floor((e+3)/4)*8;case xA:return Math.floor((s+3)/4)*Math.floor((e+3)/4)*16;case SA:return Math.floor((s+3)/4)*Math.floor((e+3)/4)*16;case AA:return Math.floor((s+4)/5)*Math.floor((e+3)/4)*16;case MA:return Math.floor((s+4)/5)*Math.floor((e+4)/5)*16;case bA:return Math.floor((s+5)/6)*Math.floor((e+4)/5)*16;case EA:return Math.floor((s+5)/6)*Math.floor((e+5)/6)*16;case TA:return Math.floor((s+7)/8)*Math.floor((e+4)/5)*16;case CA:return Math.floor((s+7)/8)*Math.floor((e+5)/6)*16;case wA:return Math.floor((s+7)/8)*Math.floor((e+7)/8)*16;case RA:return Math.floor((s+9)/10)*Math.floor((e+4)/5)*16;case BA:return Math.floor((s+9)/10)*Math.floor((e+5)/6)*16;case DA:return Math.floor((s+9)/10)*Math.floor((e+7)/8)*16;case NA:return Math.floor((s+9)/10)*Math.floor((e+9)/10)*16;case OA:return Math.floor((s+11)/12)*Math.floor((e+9)/10)*16;case LA:return Math.floor((s+11)/12)*Math.floor((e+11)/12)*16;case vy:case UA:case PA:return Math.ceil(s/4)*Math.ceil(e/4)*16;case rw:case IA:return Math.ceil(s/4)*Math.ceil(e/4)*8;case FA:case zA:return Math.ceil(s/4)*Math.ceil(e/4)*16}throw new Error(`Unable to determine texture byte length for ${t} format.`)}function vq(s){switch(s){case za:case dM:return{byteLength:1,components:1};case Bg:case pM:case Ks:return{byteLength:2,components:1};case mM:case gM:return{byteLength:2,components:4};case Dc:case l_:case $i:return{byteLength:4,components:1};case $C:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${s}.`)}class yq{static contain(e,t){return pq(e,t)}static cover(e,t){return mq(e,t)}static fill(e){return gq(e)}static getByteLength(e,t,n,i){return T2(e,t,n,i)}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:qg}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=qg);/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */function i6(){let s=null,e=!1,t=null,n=null;function i(r,a){t(r,a),n=s.requestAnimationFrame(i)}return{start:function(){e!==!0&&t!==null&&(n=s.requestAnimationFrame(i),e=!0)},stop:function(){s.cancelAnimationFrame(n),e=!1},setAnimationLoop:function(r){t=r},setContext:function(r){s=r}}}function _q(s){const e=new WeakMap;function t(l,u){const h=l.array,m=l.usage,g=h.byteLength,v=s.createBuffer();s.bindBuffer(u,v),s.bufferData(u,h,m),l.onUploadCallback();let _;if(h instanceof Float32Array)_=s.FLOAT;else if(h instanceof Uint16Array)l.isFloat16BufferAttribute?_=s.HALF_FLOAT:_=s.UNSIGNED_SHORT;else if(h instanceof Int16Array)_=s.SHORT;else if(h instanceof Uint32Array)_=s.UNSIGNED_INT;else if(h instanceof Int32Array)_=s.INT;else if(h instanceof Int8Array)_=s.BYTE;else if(h instanceof Uint8Array)_=s.UNSIGNED_BYTE;else if(h instanceof Uint8ClampedArray)_=s.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+h);return{buffer:v,type:_,bytesPerElement:h.BYTES_PER_ELEMENT,version:l.version,size:g}}function n(l,u,h){const m=u.array,g=u.updateRanges;if(s.bindBuffer(h,l),g.length===0)s.bufferSubData(h,0,m);else{g.sort((_,S)=>_.start-S.start);let v=0;for(let _=1;_<g.length;_++){const S=g[v],b=g[_];b.start<=S.start+S.count+1?S.count=Math.max(S.count,b.start+b.count-S.start):(++v,g[v]=b)}g.length=v+1;for(let _=0,S=g.length;_<S;_++){const b=g[_];s.bufferSubData(h,b.start*m.BYTES_PER_ELEMENT,m,b.start,b.count)}u.clearUpdateRanges()}u.onUploadCallback()}function i(l){return l.isInterleavedBufferAttribute&&(l=l.data),e.get(l)}function r(l){l.isInterleavedBufferAttribute&&(l=l.data);const u=e.get(l);u&&(s.deleteBuffer(u.buffer),e.delete(l))}function a(l,u){if(l.isInterleavedBufferAttribute&&(l=l.data),l.isGLBufferAttribute){const m=e.get(l);(!m||m.version<l.version)&&e.set(l,{buffer:l.buffer,type:l.type,bytesPerElement:l.elementSize,version:l.version});return}const h=e.get(l);if(h===void 0)e.set(l,t(l,u));else if(h.version<l.version){if(h.size!==l.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");n(h.buffer,l,u),h.version=l.version}}return{get:i,remove:r,update:a}}var xq=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,Sq=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,Aq=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,Mq=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,bq=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,Eq=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,Tq=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,Cq=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,wq=`#ifdef USE_BATCHING
	#if ! defined( GL_ANGLE_multi_draw )
	#define gl_DrawID _gl_DrawID
	uniform int _gl_DrawID;
	#endif
	uniform highp sampler2D batchingTexture;
	uniform highp usampler2D batchingIdTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
	float getIndirectIndex( const in int i ) {
		int size = textureSize( batchingIdTexture, 0 ).x;
		int x = i % size;
		int y = i / size;
		return float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );
	}
#endif
#ifdef USE_BATCHING_COLOR
	uniform sampler2D batchingColorTexture;
	vec3 getBatchingColor( const in float i ) {
		int size = textureSize( batchingColorTexture, 0 ).x;
		int j = int( i );
		int x = j % size;
		int y = j / size;
		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;
	}
#endif`,Rq=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );
#endif`,Bq=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,Dq=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,Nq=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,Oq=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,Lq=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,Uq=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,Pq=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,Iq=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,Fq=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,zq=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,Hq=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,Gq=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	varying vec3 vColor;
#endif`,Vq=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif
#ifdef USE_BATCHING_COLOR
	vec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );
	vColor.xyz *= batchingColor.xyz;
#endif`,kq=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,jq=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,Xq=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,Yq=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,qq=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,Wq=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	#ifdef DECODE_VIDEO_TEXTURE_EMISSIVE
		emissiveColor = sRGBTransferEOTF( emissiveColor );
	#endif
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,Kq=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,Jq="gl_FragColor = linearToOutputTexel( gl_FragColor );",Zq=`vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferEOTF( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,Qq=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,$q=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,eW=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,tW=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,nW=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,iW=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,sW=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,rW=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,aW=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,oW=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,lW=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,cW=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,uW=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,fW=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if ( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,hW=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,dW=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,pW=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,mW=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,gW=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,vW=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,yW=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,_W=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,xW=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,SW=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,AW=`#if defined( USE_LOGDEPTHBUF )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,MW=`#if defined( USE_LOGDEPTHBUF )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,bW=`#ifdef USE_LOGDEPTHBUF
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,EW=`#ifdef USE_LOGDEPTHBUF
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,TW=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = sRGBTransferEOTF( sampledDiffuseColor );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,CW=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,wW=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,RW=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,BW=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,DW=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,NW=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,OW=`#if defined( USE_MORPHCOLORS )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,LW=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,UW=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	#endif
	uniform sampler2DArray morphTargetsTexture;
	uniform ivec2 morphTargetsTextureSize;
	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
		int y = texelIndex / morphTargetsTextureSize.x;
		int x = texelIndex - y * morphTargetsTextureSize.x;
		ivec3 morphUV = ivec3( x, y, morphTargetIndex );
		return texelFetch( morphTargetsTexture, morphUV, 0 );
	}
#endif`,PW=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,IW=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,FW=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,zW=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,HW=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,GW=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,VW=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,kW=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,jW=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,XW=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,YW=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,qW=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,WW=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;
const float Inv255 = 1. / 255.;
const vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );
const vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );
const vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );
const vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );
vec4 packDepthToRGBA( const in float v ) {
	if( v <= 0.0 )
		return vec4( 0., 0., 0., 0. );
	if( v >= 1.0 )
		return vec4( 1., 1., 1., 1. );
	float vuf;
	float af = modf( v * PackFactors.a, vuf );
	float bf = modf( vuf * ShiftRight8, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );
}
vec3 packDepthToRGB( const in float v ) {
	if( v <= 0.0 )
		return vec3( 0., 0., 0. );
	if( v >= 1.0 )
		return vec3( 1., 1., 1. );
	float vuf;
	float bf = modf( v * PackFactors.b, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec3( vuf * Inv255, gf * PackUpscale, bf );
}
vec2 packDepthToRG( const in float v ) {
	if( v <= 0.0 )
		return vec2( 0., 0. );
	if( v >= 1.0 )
		return vec2( 1., 1. );
	float vuf;
	float gf = modf( v * 256., vuf );
	return vec2( vuf * Inv255, gf );
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors4 );
}
float unpackRGBToDepth( const in vec3 v ) {
	return dot( v, UnpackFactors3 );
}
float unpackRGToDepth( const in vec2 v ) {
	return v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;
}
vec4 pack2HalfToRGBA( const in vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( const in vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,KW=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,JW=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,ZW=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,QW=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,$W=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,eK=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,tK=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		
		float lightToPositionLength = length( lightToPosition );
		if ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {
			float dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );			dp += shadowBias;
			vec3 bd3D = normalize( lightToPosition );
			vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
			#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
				vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
				shadow = (
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
				) * ( 1.0 / 9.0 );
			#else
				shadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
			#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
#endif`,nK=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,iK=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,sK=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,rK=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,aK=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,oK=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,lK=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,cK=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,uK=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,fK=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,hK=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 CineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,dK=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,pK=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		#else
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,mK=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,gK=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,vK=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,yK=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const _K=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,xK=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,SK=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,AK=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,MK=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,bK=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,EK=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,TK=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#elif DEPTH_PACKING == 3202
		gl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );
	#elif DEPTH_PACKING == 3203
		gl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );
	#endif
}`,CK=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,wK=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,RK=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,BK=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,DK=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,NK=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,OK=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,LK=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,UK=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,PK=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,IK=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,FK=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,zK=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,HK=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,GK=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,VK=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,kK=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,jK=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,XK=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,YK=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,qK=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,WK=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,KK=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,JK=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,ZK=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix[ 3 ];
	vec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,QK=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,Dn={alphahash_fragment:xq,alphahash_pars_fragment:Sq,alphamap_fragment:Aq,alphamap_pars_fragment:Mq,alphatest_fragment:bq,alphatest_pars_fragment:Eq,aomap_fragment:Tq,aomap_pars_fragment:Cq,batching_pars_vertex:wq,batching_vertex:Rq,begin_vertex:Bq,beginnormal_vertex:Dq,bsdfs:Nq,iridescence_fragment:Oq,bumpmap_pars_fragment:Lq,clipping_planes_fragment:Uq,clipping_planes_pars_fragment:Pq,clipping_planes_pars_vertex:Iq,clipping_planes_vertex:Fq,color_fragment:zq,color_pars_fragment:Hq,color_pars_vertex:Gq,color_vertex:Vq,common:kq,cube_uv_reflection_fragment:jq,defaultnormal_vertex:Xq,displacementmap_pars_vertex:Yq,displacementmap_vertex:qq,emissivemap_fragment:Wq,emissivemap_pars_fragment:Kq,colorspace_fragment:Jq,colorspace_pars_fragment:Zq,envmap_fragment:Qq,envmap_common_pars_fragment:$q,envmap_pars_fragment:eW,envmap_pars_vertex:tW,envmap_physical_pars_fragment:hW,envmap_vertex:nW,fog_vertex:iW,fog_pars_vertex:sW,fog_fragment:rW,fog_pars_fragment:aW,gradientmap_pars_fragment:oW,lightmap_pars_fragment:lW,lights_lambert_fragment:cW,lights_lambert_pars_fragment:uW,lights_pars_begin:fW,lights_toon_fragment:dW,lights_toon_pars_fragment:pW,lights_phong_fragment:mW,lights_phong_pars_fragment:gW,lights_physical_fragment:vW,lights_physical_pars_fragment:yW,lights_fragment_begin:_W,lights_fragment_maps:xW,lights_fragment_end:SW,logdepthbuf_fragment:AW,logdepthbuf_pars_fragment:MW,logdepthbuf_pars_vertex:bW,logdepthbuf_vertex:EW,map_fragment:TW,map_pars_fragment:CW,map_particle_fragment:wW,map_particle_pars_fragment:RW,metalnessmap_fragment:BW,metalnessmap_pars_fragment:DW,morphinstance_vertex:NW,morphcolor_vertex:OW,morphnormal_vertex:LW,morphtarget_pars_vertex:UW,morphtarget_vertex:PW,normal_fragment_begin:IW,normal_fragment_maps:FW,normal_pars_fragment:zW,normal_pars_vertex:HW,normal_vertex:GW,normalmap_pars_fragment:VW,clearcoat_normal_fragment_begin:kW,clearcoat_normal_fragment_maps:jW,clearcoat_pars_fragment:XW,iridescence_pars_fragment:YW,opaque_fragment:qW,packing:WW,premultiplied_alpha_fragment:KW,project_vertex:JW,dithering_fragment:ZW,dithering_pars_fragment:QW,roughnessmap_fragment:$W,roughnessmap_pars_fragment:eK,shadowmap_pars_fragment:tK,shadowmap_pars_vertex:nK,shadowmap_vertex:iK,shadowmask_pars_fragment:sK,skinbase_vertex:rK,skinning_pars_vertex:aK,skinning_vertex:oK,skinnormal_vertex:lK,specularmap_fragment:cK,specularmap_pars_fragment:uK,tonemapping_fragment:fK,tonemapping_pars_fragment:hK,transmission_fragment:dK,transmission_pars_fragment:pK,uv_pars_fragment:mK,uv_pars_vertex:gK,uv_vertex:vK,worldpos_vertex:yK,background_vert:_K,background_frag:xK,backgroundCube_vert:SK,backgroundCube_frag:AK,cube_vert:MK,cube_frag:bK,depth_vert:EK,depth_frag:TK,distanceRGBA_vert:CK,distanceRGBA_frag:wK,equirect_vert:RK,equirect_frag:BK,linedashed_vert:DK,linedashed_frag:NK,meshbasic_vert:OK,meshbasic_frag:LK,meshlambert_vert:UK,meshlambert_frag:PK,meshmatcap_vert:IK,meshmatcap_frag:FK,meshnormal_vert:zK,meshnormal_frag:HK,meshphong_vert:GK,meshphong_frag:VK,meshphysical_vert:kK,meshphysical_frag:jK,meshtoon_vert:XK,meshtoon_frag:YK,points_vert:qK,points_frag:WK,shadow_vert:KK,shadow_frag:JK,sprite_vert:ZK,sprite_frag:QK},Dt={common:{diffuse:{value:new Ct(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new bn},alphaMap:{value:null},alphaMapTransform:{value:new bn},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new bn}},envmap:{envMap:{value:null},envMapRotation:{value:new bn},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new bn}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new bn}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new bn},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new bn},normalScale:{value:new at(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new bn},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new bn}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new bn}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new bn}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Ct(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Ct(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new bn},alphaTest:{value:0},uvTransform:{value:new bn}},sprite:{diffuse:{value:new Ct(16777215)},opacity:{value:1},center:{value:new at(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new bn},alphaMap:{value:null},alphaMapTransform:{value:new bn},alphaTest:{value:0}}},Tl={basic:{uniforms:sa([Dt.common,Dt.specularmap,Dt.envmap,Dt.aomap,Dt.lightmap,Dt.fog]),vertexShader:Dn.meshbasic_vert,fragmentShader:Dn.meshbasic_frag},lambert:{uniforms:sa([Dt.common,Dt.specularmap,Dt.envmap,Dt.aomap,Dt.lightmap,Dt.emissivemap,Dt.bumpmap,Dt.normalmap,Dt.displacementmap,Dt.fog,Dt.lights,{emissive:{value:new Ct(0)}}]),vertexShader:Dn.meshlambert_vert,fragmentShader:Dn.meshlambert_frag},phong:{uniforms:sa([Dt.common,Dt.specularmap,Dt.envmap,Dt.aomap,Dt.lightmap,Dt.emissivemap,Dt.bumpmap,Dt.normalmap,Dt.displacementmap,Dt.fog,Dt.lights,{emissive:{value:new Ct(0)},specular:{value:new Ct(1118481)},shininess:{value:30}}]),vertexShader:Dn.meshphong_vert,fragmentShader:Dn.meshphong_frag},standard:{uniforms:sa([Dt.common,Dt.envmap,Dt.aomap,Dt.lightmap,Dt.emissivemap,Dt.bumpmap,Dt.normalmap,Dt.displacementmap,Dt.roughnessmap,Dt.metalnessmap,Dt.fog,Dt.lights,{emissive:{value:new Ct(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Dn.meshphysical_vert,fragmentShader:Dn.meshphysical_frag},toon:{uniforms:sa([Dt.common,Dt.aomap,Dt.lightmap,Dt.emissivemap,Dt.bumpmap,Dt.normalmap,Dt.displacementmap,Dt.gradientmap,Dt.fog,Dt.lights,{emissive:{value:new Ct(0)}}]),vertexShader:Dn.meshtoon_vert,fragmentShader:Dn.meshtoon_frag},matcap:{uniforms:sa([Dt.common,Dt.bumpmap,Dt.normalmap,Dt.displacementmap,Dt.fog,{matcap:{value:null}}]),vertexShader:Dn.meshmatcap_vert,fragmentShader:Dn.meshmatcap_frag},points:{uniforms:sa([Dt.points,Dt.fog]),vertexShader:Dn.points_vert,fragmentShader:Dn.points_frag},dashed:{uniforms:sa([Dt.common,Dt.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Dn.linedashed_vert,fragmentShader:Dn.linedashed_frag},depth:{uniforms:sa([Dt.common,Dt.displacementmap]),vertexShader:Dn.depth_vert,fragmentShader:Dn.depth_frag},normal:{uniforms:sa([Dt.common,Dt.bumpmap,Dt.normalmap,Dt.displacementmap,{opacity:{value:1}}]),vertexShader:Dn.meshnormal_vert,fragmentShader:Dn.meshnormal_frag},sprite:{uniforms:sa([Dt.sprite,Dt.fog]),vertexShader:Dn.sprite_vert,fragmentShader:Dn.sprite_frag},background:{uniforms:{uvTransform:{value:new bn},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:Dn.background_vert,fragmentShader:Dn.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new bn}},vertexShader:Dn.backgroundCube_vert,fragmentShader:Dn.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Dn.cube_vert,fragmentShader:Dn.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Dn.equirect_vert,fragmentShader:Dn.equirect_frag},distanceRGBA:{uniforms:sa([Dt.common,Dt.displacementmap,{referencePosition:{value:new ae},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Dn.distanceRGBA_vert,fragmentShader:Dn.distanceRGBA_frag},shadow:{uniforms:sa([Dt.lights,Dt.fog,{color:{value:new Ct(0)},opacity:{value:1}}]),vertexShader:Dn.shadow_vert,fragmentShader:Dn.shadow_frag}};Tl.physical={uniforms:sa([Tl.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new bn},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new bn},clearcoatNormalScale:{value:new at(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new bn},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new bn},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new bn},sheen:{value:0},sheenColor:{value:new Ct(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new bn},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new bn},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new bn},transmissionSamplerSize:{value:new at},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new bn},attenuationDistance:{value:0},attenuationColor:{value:new Ct(0)},specularColor:{value:new Ct(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new bn},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new bn},anisotropyVector:{value:new at},anisotropyMap:{value:null},anisotropyMapTransform:{value:new bn}}]),vertexShader:Dn.meshphysical_vert,fragmentShader:Dn.meshphysical_frag};const uS={r:0,b:0,g:0},xd=new po,$K=new sn;function eJ(s,e,t,n,i,r,a){const l=new Ct(0);let u=r===!0?0:1,h,m,g=null,v=0,_=null;function S(B){let D=B.isScene===!0?B.background:null;return D&&D.isTexture&&(D=(B.backgroundBlurriness>0?t:e).get(D)),D}function b(B){let D=!1;const N=S(B);N===null?A(l,u):N&&N.isColor&&(A(N,1),D=!0);const U=s.xr.getEnvironmentBlendMode();U==="additive"?n.buffers.color.setClear(0,0,0,1,a):U==="alpha-blend"&&n.buffers.color.setClear(0,0,0,0,a),(s.autoClear||D)&&(n.buffers.depth.setTest(!0),n.buffers.depth.setMask(!0),n.buffers.color.setMask(!0),s.clear(s.autoClearColor,s.autoClearDepth,s.autoClearStencil))}function M(B,D){const N=S(D);N&&(N.isCubeTexture||N.mapping===Wg)?(m===void 0&&(m=new ki(new _p(1,1,1),new pa({name:"BackgroundCubeMaterial",uniforms:Fg(Tl.backgroundCube.uniforms),vertexShader:Tl.backgroundCube.vertexShader,fragmentShader:Tl.backgroundCube.fragmentShader,side:da,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),m.geometry.deleteAttribute("normal"),m.geometry.deleteAttribute("uv"),m.onBeforeRender=function(U,F,z){this.matrixWorld.copyPosition(z.matrixWorld)},Object.defineProperty(m.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(m)),xd.copy(D.backgroundRotation),xd.x*=-1,xd.y*=-1,xd.z*=-1,N.isCubeTexture&&N.isRenderTargetTexture===!1&&(xd.y*=-1,xd.z*=-1),m.material.uniforms.envMap.value=N,m.material.uniforms.flipEnvMap.value=N.isCubeTexture&&N.isRenderTargetTexture===!1?-1:1,m.material.uniforms.backgroundBlurriness.value=D.backgroundBlurriness,m.material.uniforms.backgroundIntensity.value=D.backgroundIntensity,m.material.uniforms.backgroundRotation.value.setFromMatrix4($K.makeRotationFromEuler(xd)),m.material.toneMapped=qn.getTransfer(N.colorSpace)!==Si,(g!==N||v!==N.version||_!==s.toneMapping)&&(m.material.needsUpdate=!0,g=N,v=N.version,_=s.toneMapping),m.layers.enableAll(),B.unshift(m,m.geometry,m.material,0,0,null)):N&&N.isTexture&&(h===void 0&&(h=new ki(new fh(2,2),new pa({name:"BackgroundMaterial",uniforms:Fg(Tl.background.uniforms),vertexShader:Tl.background.vertexShader,fragmentShader:Tl.background.fragmentShader,side:Rc,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),h.geometry.deleteAttribute("normal"),Object.defineProperty(h.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(h)),h.material.uniforms.t2D.value=N,h.material.uniforms.backgroundIntensity.value=D.backgroundIntensity,h.material.toneMapped=qn.getTransfer(N.colorSpace)!==Si,N.matrixAutoUpdate===!0&&N.updateMatrix(),h.material.uniforms.uvTransform.value.copy(N.matrix),(g!==N||v!==N.version||_!==s.toneMapping)&&(h.material.needsUpdate=!0,g=N,v=N.version,_=s.toneMapping),h.layers.enableAll(),B.unshift(h,h.geometry,h.material,0,0,null))}function A(B,D){B.getRGB(uS,c8(s)),n.buffers.color.setClear(uS.r,uS.g,uS.b,D,a)}function C(){m!==void 0&&(m.geometry.dispose(),m.material.dispose(),m=void 0),h!==void 0&&(h.geometry.dispose(),h.material.dispose(),h=void 0)}return{getClearColor:function(){return l},setClearColor:function(B,D=1){l.set(B),u=D,A(l,u)},getClearAlpha:function(){return u},setClearAlpha:function(B){u=B,A(l,u)},render:b,addToRenderList:M,dispose:C}}function tJ(s,e){const t=s.getParameter(s.MAX_VERTEX_ATTRIBS),n={},i=v(null);let r=i,a=!1;function l(P,q,ne,te,ee){let oe=!1;const H=g(te,ne,q);r!==H&&(r=H,h(r.object)),oe=_(P,te,ne,ee),oe&&S(P,te,ne,ee),ee!==null&&e.update(ee,s.ELEMENT_ARRAY_BUFFER),(oe||a)&&(a=!1,D(P,q,ne,te),ee!==null&&s.bindBuffer(s.ELEMENT_ARRAY_BUFFER,e.get(ee).buffer))}function u(){return s.createVertexArray()}function h(P){return s.bindVertexArray(P)}function m(P){return s.deleteVertexArray(P)}function g(P,q,ne){const te=ne.wireframe===!0;let ee=n[P.id];ee===void 0&&(ee={},n[P.id]=ee);let oe=ee[q.id];oe===void 0&&(oe={},ee[q.id]=oe);let H=oe[te];return H===void 0&&(H=v(u()),oe[te]=H),H}function v(P){const q=[],ne=[],te=[];for(let ee=0;ee<t;ee++)q[ee]=0,ne[ee]=0,te[ee]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:q,enabledAttributes:ne,attributeDivisors:te,object:P,attributes:{},index:null}}function _(P,q,ne,te){const ee=r.attributes,oe=q.attributes;let H=0;const Y=ne.getAttributes();for(const Z in Y)if(Y[Z].location>=0){const I=ee[Z];let ie=oe[Z];if(ie===void 0&&(Z==="instanceMatrix"&&P.instanceMatrix&&(ie=P.instanceMatrix),Z==="instanceColor"&&P.instanceColor&&(ie=P.instanceColor)),I===void 0||I.attribute!==ie||ie&&I.data!==ie.data)return!0;H++}return r.attributesNum!==H||r.index!==te}function S(P,q,ne,te){const ee={},oe=q.attributes;let H=0;const Y=ne.getAttributes();for(const Z in Y)if(Y[Z].location>=0){let I=oe[Z];I===void 0&&(Z==="instanceMatrix"&&P.instanceMatrix&&(I=P.instanceMatrix),Z==="instanceColor"&&P.instanceColor&&(I=P.instanceColor));const ie={};ie.attribute=I,I&&I.data&&(ie.data=I.data),ee[Z]=ie,H++}r.attributes=ee,r.attributesNum=H,r.index=te}function b(){const P=r.newAttributes;for(let q=0,ne=P.length;q<ne;q++)P[q]=0}function M(P){A(P,0)}function A(P,q){const ne=r.newAttributes,te=r.enabledAttributes,ee=r.attributeDivisors;ne[P]=1,te[P]===0&&(s.enableVertexAttribArray(P),te[P]=1),ee[P]!==q&&(s.vertexAttribDivisor(P,q),ee[P]=q)}function C(){const P=r.newAttributes,q=r.enabledAttributes;for(let ne=0,te=q.length;ne<te;ne++)q[ne]!==P[ne]&&(s.disableVertexAttribArray(ne),q[ne]=0)}function B(P,q,ne,te,ee,oe,H){H===!0?s.vertexAttribIPointer(P,q,ne,ee,oe):s.vertexAttribPointer(P,q,ne,te,ee,oe)}function D(P,q,ne,te){b();const ee=te.attributes,oe=ne.getAttributes(),H=q.defaultAttributeValues;for(const Y in oe){const Z=oe[Y];if(Z.location>=0){let de=ee[Y];if(de===void 0&&(Y==="instanceMatrix"&&P.instanceMatrix&&(de=P.instanceMatrix),Y==="instanceColor"&&P.instanceColor&&(de=P.instanceColor)),de!==void 0){const I=de.normalized,ie=de.itemSize,ue=e.get(de);if(ue===void 0)continue;const _e=ue.buffer,se=ue.type,xe=ue.bytesPerElement,Ae=se===s.INT||se===s.UNSIGNED_INT||de.gpuType===l_;if(de.isInterleavedBufferAttribute){const Ee=de.data,Ne=Ee.stride,ht=de.offset;if(Ee.isInstancedInterleavedBuffer){for(let Je=0;Je<Z.locationSize;Je++)A(Z.location+Je,Ee.meshPerAttribute);P.isInstancedMesh!==!0&&te._maxInstanceCount===void 0&&(te._maxInstanceCount=Ee.meshPerAttribute*Ee.count)}else for(let Je=0;Je<Z.locationSize;Je++)M(Z.location+Je);s.bindBuffer(s.ARRAY_BUFFER,_e);for(let Je=0;Je<Z.locationSize;Je++)B(Z.location+Je,ie/Z.locationSize,se,I,Ne*xe,(ht+ie/Z.locationSize*Je)*xe,Ae)}else{if(de.isInstancedBufferAttribute){for(let Ee=0;Ee<Z.locationSize;Ee++)A(Z.location+Ee,de.meshPerAttribute);P.isInstancedMesh!==!0&&te._maxInstanceCount===void 0&&(te._maxInstanceCount=de.meshPerAttribute*de.count)}else for(let Ee=0;Ee<Z.locationSize;Ee++)M(Z.location+Ee);s.bindBuffer(s.ARRAY_BUFFER,_e);for(let Ee=0;Ee<Z.locationSize;Ee++)B(Z.location+Ee,ie/Z.locationSize,se,I,ie*xe,ie/Z.locationSize*Ee*xe,Ae)}}else if(H!==void 0){const I=H[Y];if(I!==void 0)switch(I.length){case 2:s.vertexAttrib2fv(Z.location,I);break;case 3:s.vertexAttrib3fv(Z.location,I);break;case 4:s.vertexAttrib4fv(Z.location,I);break;default:s.vertexAttrib1fv(Z.location,I)}}}}C()}function N(){z();for(const P in n){const q=n[P];for(const ne in q){const te=q[ne];for(const ee in te)m(te[ee].object),delete te[ee];delete q[ne]}delete n[P]}}function U(P){if(n[P.id]===void 0)return;const q=n[P.id];for(const ne in q){const te=q[ne];for(const ee in te)m(te[ee].object),delete te[ee];delete q[ne]}delete n[P.id]}function F(P){for(const q in n){const ne=n[q];if(ne[P.id]===void 0)continue;const te=ne[P.id];for(const ee in te)m(te[ee].object),delete te[ee];delete ne[P.id]}}function z(){O(),a=!0,r!==i&&(r=i,h(r.object))}function O(){i.geometry=null,i.program=null,i.wireframe=!1}return{setup:l,reset:z,resetDefaultState:O,dispose:N,releaseStatesOfGeometry:U,releaseStatesOfProgram:F,initAttributes:b,enableAttribute:M,disableUnusedAttributes:C}}function nJ(s,e,t){let n;function i(h){n=h}function r(h,m){s.drawArrays(n,h,m),t.update(m,n,1)}function a(h,m,g){g!==0&&(s.drawArraysInstanced(n,h,m,g),t.update(m,n,g))}function l(h,m,g){if(g===0)return;e.get("WEBGL_multi_draw").multiDrawArraysWEBGL(n,h,0,m,0,g);let _=0;for(let S=0;S<g;S++)_+=m[S];t.update(_,n,1)}function u(h,m,g,v){if(g===0)return;const _=e.get("WEBGL_multi_draw");if(_===null)for(let S=0;S<h.length;S++)a(h[S],m[S],v[S]);else{_.multiDrawArraysInstancedWEBGL(n,h,0,m,0,v,0,g);let S=0;for(let b=0;b<g;b++)S+=m[b]*v[b];t.update(S,n,1)}}this.setMode=i,this.render=r,this.renderInstances=a,this.renderMultiDraw=l,this.renderMultiDrawInstances=u}function iJ(s,e,t,n){let i;function r(){if(i!==void 0)return i;if(e.has("EXT_texture_filter_anisotropic")===!0){const F=e.get("EXT_texture_filter_anisotropic");i=s.getParameter(F.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else i=0;return i}function a(F){return!(F!==ms&&n.convert(F)!==s.getParameter(s.IMPLEMENTATION_COLOR_READ_FORMAT))}function l(F){const z=F===Ks&&(e.has("EXT_color_buffer_half_float")||e.has("EXT_color_buffer_float"));return!(F!==za&&n.convert(F)!==s.getParameter(s.IMPLEMENTATION_COLOR_READ_TYPE)&&F!==$i&&!z)}function u(F){if(F==="highp"){if(s.getShaderPrecisionFormat(s.VERTEX_SHADER,s.HIGH_FLOAT).precision>0&&s.getShaderPrecisionFormat(s.FRAGMENT_SHADER,s.HIGH_FLOAT).precision>0)return"highp";F="mediump"}return F==="mediump"&&s.getShaderPrecisionFormat(s.VERTEX_SHADER,s.MEDIUM_FLOAT).precision>0&&s.getShaderPrecisionFormat(s.FRAGMENT_SHADER,s.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let h=t.precision!==void 0?t.precision:"highp";const m=u(h);m!==h&&(console.warn("THREE.WebGLRenderer:",h,"not supported, using",m,"instead."),h=m);const g=t.logarithmicDepthBuffer===!0,v=t.reverseDepthBuffer===!0&&e.has("EXT_clip_control"),_=s.getParameter(s.MAX_TEXTURE_IMAGE_UNITS),S=s.getParameter(s.MAX_VERTEX_TEXTURE_IMAGE_UNITS),b=s.getParameter(s.MAX_TEXTURE_SIZE),M=s.getParameter(s.MAX_CUBE_MAP_TEXTURE_SIZE),A=s.getParameter(s.MAX_VERTEX_ATTRIBS),C=s.getParameter(s.MAX_VERTEX_UNIFORM_VECTORS),B=s.getParameter(s.MAX_VARYING_VECTORS),D=s.getParameter(s.MAX_FRAGMENT_UNIFORM_VECTORS),N=S>0,U=s.getParameter(s.MAX_SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:r,getMaxPrecision:u,textureFormatReadable:a,textureTypeReadable:l,precision:h,logarithmicDepthBuffer:g,reverseDepthBuffer:v,maxTextures:_,maxVertexTextures:S,maxTextureSize:b,maxCubemapSize:M,maxAttributes:A,maxVertexUniforms:C,maxVaryings:B,maxFragmentUniforms:D,vertexTextures:N,maxSamples:U}}function sJ(s){const e=this;let t=null,n=0,i=!1,r=!1;const a=new Uf,l=new bn,u={value:null,needsUpdate:!1};this.uniform=u,this.numPlanes=0,this.numIntersection=0,this.init=function(g,v){const _=g.length!==0||v||n!==0||i;return i=v,n=g.length,_},this.beginShadows=function(){r=!0,m(null)},this.endShadows=function(){r=!1},this.setGlobalState=function(g,v){t=m(g,v,0)},this.setState=function(g,v,_){const S=g.clippingPlanes,b=g.clipIntersection,M=g.clipShadows,A=s.get(g);if(!i||S===null||S.length===0||r&&!M)r?m(null):h();else{const C=r?0:n,B=C*4;let D=A.clippingState||null;u.value=D,D=m(S,v,B,_);for(let N=0;N!==B;++N)D[N]=t[N];A.clippingState=D,this.numIntersection=b?this.numPlanes:0,this.numPlanes+=C}};function h(){u.value!==t&&(u.value=t,u.needsUpdate=n>0),e.numPlanes=n,e.numIntersection=0}function m(g,v,_,S){const b=g!==null?g.length:0;let M=null;if(b!==0){if(M=u.value,S!==!0||M===null){const A=_+b*4,C=v.matrixWorldInverse;l.getNormalMatrix(C),(M===null||M.length<A)&&(M=new Float32Array(A));for(let B=0,D=_;B!==b;++B,D+=4)a.copy(g[B]).applyMatrix4(C,l),a.normal.toArray(M,D),M[D+3]=a.constant}u.value=M,u.needsUpdate=!0}return e.numPlanes=b,e.numIntersection=0,M}}function rJ(s){let e=new WeakMap;function t(a,l){return l===wg?a.mapping=Bc:l===zy&&(a.mapping=ih),a}function n(a){if(a&&a.isTexture){const l=a.mapping;if(l===wg||l===zy)if(e.has(a)){const u=e.get(a).texture;return t(u,a.mapping)}else{const u=a.image;if(u&&u.height>0){const h=new hw(u.height);return h.fromEquirectangularTexture(s,a),e.set(a,h),a.addEventListener("dispose",i),t(h.texture,a.mapping)}else return null}}return a}function i(a){const l=a.target;l.removeEventListener("dispose",i);const u=e.get(l);u!==void 0&&(e.delete(l),u.dispose())}function r(){e=new WeakMap}return{get:n,dispose:r}}const og=4,b5=[.125,.215,.35,.446,.526,.582],Dd=20,kE=new Mp,E5=new Ct;let jE=null,XE=0,YE=0,qE=!1;const Bd=(1+Math.sqrt(5))/2,Ym=1/Bd,T5=[new ae(-Bd,Ym,0),new ae(Bd,Ym,0),new ae(-Ym,0,Bd),new ae(Ym,0,Bd),new ae(0,Bd,-Ym),new ae(0,Bd,Ym),new ae(-1,1,-1),new ae(1,1,-1),new ae(-1,1,1),new ae(1,1,1)],aJ=new ae;class C2{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,n=.1,i=100,r={}){const{size:a=256,position:l=aJ}=r;jE=this._renderer.getRenderTarget(),XE=this._renderer.getActiveCubeFace(),YE=this._renderer.getActiveMipmapLevel(),qE=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(a);const u=this._allocateTargets();return u.depthBuffer=!0,this._sceneToCubeUV(e,n,i,u,l),t>0&&this._blur(u,0,0,t),this._applyPMREM(u),this._cleanup(u),u}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=R5(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=w5(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(jE,XE,YE),this._renderer.xr.enabled=qE,e.scissorTest=!1,fS(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===Bc||e.mapping===ih?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),jE=this._renderer.getRenderTarget(),XE=this._renderer.getActiveCubeFace(),YE=this._renderer.getActiveMipmapLevel(),qE=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const n=t||this._allocateTargets();return this._textureToCubeUV(e,n),this._applyPMREM(n),this._cleanup(n),n}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,n={magFilter:fi,minFilter:fi,generateMipmaps:!1,type:Ks,format:ms,colorSpace:Bl,depthBuffer:!1},i=C5(e,t,n);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=C5(e,t,n);const{_lodMax:r}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=oJ(r)),this._blurMaterial=lJ(r,e,t)}return i}_compileMaterial(e){const t=new ki(this._lodPlanes[0],e);this._renderer.compile(t,kE)}_sceneToCubeUV(e,t,n,i,r){const u=new Is(90,1,t,n),h=[1,-1,1,1,1,1],m=[1,1,1,-1,-1,-1],g=this._renderer,v=g.autoClear,_=g.toneMapping;g.getClearColor(E5),g.toneMapping=Tc,g.autoClear=!1;const S=new Oa({name:"PMREM.Background",side:da,depthWrite:!1,depthTest:!1}),b=new ki(new _p,S);let M=!1;const A=e.background;A?A.isColor&&(S.color.copy(A),e.background=null,M=!0):(S.color.copy(E5),M=!0);for(let C=0;C<6;C++){const B=C%3;B===0?(u.up.set(0,h[C],0),u.position.set(r.x,r.y,r.z),u.lookAt(r.x+m[C],r.y,r.z)):B===1?(u.up.set(0,0,h[C]),u.position.set(r.x,r.y,r.z),u.lookAt(r.x,r.y+m[C],r.z)):(u.up.set(0,h[C],0),u.position.set(r.x,r.y,r.z),u.lookAt(r.x,r.y,r.z+m[C]));const D=this._cubeSize;fS(i,B*D,C>2?D:0,D,D),g.setRenderTarget(i),M&&g.render(b,u),g.render(e,u)}b.geometry.dispose(),b.material.dispose(),g.toneMapping=_,g.autoClear=v,e.background=A}_textureToCubeUV(e,t){const n=this._renderer,i=e.mapping===Bc||e.mapping===ih;i?(this._cubemapMaterial===null&&(this._cubemapMaterial=R5()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=w5());const r=i?this._cubemapMaterial:this._equirectMaterial,a=new ki(this._lodPlanes[0],r),l=r.uniforms;l.envMap.value=e;const u=this._cubeSize;fS(t,0,0,3*u,2*u),n.setRenderTarget(t),n.render(a,kE)}_applyPMREM(e){const t=this._renderer,n=t.autoClear;t.autoClear=!1;const i=this._lodPlanes.length;for(let r=1;r<i;r++){const a=Math.sqrt(this._sigmas[r]*this._sigmas[r]-this._sigmas[r-1]*this._sigmas[r-1]),l=T5[(i-r-1)%T5.length];this._blur(e,r-1,r,a,l)}t.autoClear=n}_blur(e,t,n,i,r){const a=this._pingPongRenderTarget;this._halfBlur(e,a,t,n,i,"latitudinal",r),this._halfBlur(a,e,n,n,i,"longitudinal",r)}_halfBlur(e,t,n,i,r,a,l){const u=this._renderer,h=this._blurMaterial;a!=="latitudinal"&&a!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const m=3,g=new ki(this._lodPlanes[i],h),v=h.uniforms,_=this._sizeLods[n]-1,S=isFinite(r)?Math.PI/(2*_):2*Math.PI/(2*Dd-1),b=r/S,M=isFinite(r)?1+Math.floor(m*b):Dd;M>Dd&&console.warn(`sigmaRadians, ${r}, is too large and will clip, as it requested ${M} samples when the maximum is set to ${Dd}`);const A=[];let C=0;for(let F=0;F<Dd;++F){const z=F/b,O=Math.exp(-z*z/2);A.push(O),F===0?C+=O:F<M&&(C+=2*O)}for(let F=0;F<A.length;F++)A[F]=A[F]/C;v.envMap.value=e.texture,v.samples.value=M,v.weights.value=A,v.latitudinal.value=a==="latitudinal",l&&(v.poleAxis.value=l);const{_lodMax:B}=this;v.dTheta.value=S,v.mipInt.value=B-n;const D=this._sizeLods[i],N=3*D*(i>B-og?i-B+og:0),U=4*(this._cubeSize-D);fS(t,N,U,3*D,2*D),u.setRenderTarget(t),u.render(g,kE)}}function oJ(s){const e=[],t=[],n=[];let i=s;const r=s-og+1+b5.length;for(let a=0;a<r;a++){const l=Math.pow(2,i);t.push(l);let u=1/l;a>s-og?u=b5[a-s+og-1]:a===0&&(u=0),n.push(u);const h=1/(l-2),m=-h,g=1+h,v=[m,m,g,m,g,g,m,m,g,g,m,g],_=6,S=6,b=3,M=2,A=1,C=new Float32Array(b*S*_),B=new Float32Array(M*S*_),D=new Float32Array(A*S*_);for(let U=0;U<_;U++){const F=U%3*2/3-1,z=U>2?0:-1,O=[F,z,0,F+2/3,z,0,F+2/3,z+1,0,F,z,0,F+2/3,z+1,0,F,z+1,0];C.set(O,b*S*U),B.set(v,M*S*U);const P=[U,U,U,U,U,U];D.set(P,A*S*U)}const N=new En;N.setAttribute("position",new ni(C,b)),N.setAttribute("uv",new ni(B,M)),N.setAttribute("faceIndex",new ni(D,A)),e.push(N),i>og&&i--}return{lodPlanes:e,sizeLods:t,sigmas:n}}function C5(s,e,t){const n=new qo(s,e,t);return n.texture.mapping=Wg,n.texture.name="PMREM.cubeUv",n.scissorTest=!0,n}function fS(s,e,t,n,i){s.viewport.set(e,t,n,i),s.scissor.set(e,t,n,i)}function lJ(s,e,t){const n=new Float32Array(Dd),i=new ae(0,1,0);return new pa({name:"SphericalGaussianBlur",defines:{n:Dd,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${s}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:n},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:Vw(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:Ec,depthTest:!1,depthWrite:!1})}function w5(){return new pa({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:Vw(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:Ec,depthTest:!1,depthWrite:!1})}function R5(){return new pa({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:Vw(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:Ec,depthTest:!1,depthWrite:!1})}function Vw(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function cJ(s){let e=new WeakMap,t=null;function n(l){if(l&&l.isTexture){const u=l.mapping,h=u===wg||u===zy,m=u===Bc||u===ih;if(h||m){let g=e.get(l);const v=g!==void 0?g.texture.pmremVersion:0;if(l.isRenderTargetTexture&&l.pmremVersion!==v)return t===null&&(t=new C2(s)),g=h?t.fromEquirectangular(l,g):t.fromCubemap(l,g),g.texture.pmremVersion=l.pmremVersion,e.set(l,g),g.texture;if(g!==void 0)return g.texture;{const _=l.image;return h&&_&&_.height>0||m&&_&&i(_)?(t===null&&(t=new C2(s)),g=h?t.fromEquirectangular(l):t.fromCubemap(l),g.texture.pmremVersion=l.pmremVersion,e.set(l,g),l.addEventListener("dispose",r),g.texture):null}}}return l}function i(l){let u=0;const h=6;for(let m=0;m<h;m++)l[m]!==void 0&&u++;return u===h}function r(l){const u=l.target;u.removeEventListener("dispose",r);const h=e.get(u);h!==void 0&&(e.delete(u),h.dispose())}function a(){e=new WeakMap,t!==null&&(t.dispose(),t=null)}return{get:n,dispose:a}}function uJ(s){const e={};function t(n){if(e[n]!==void 0)return e[n];let i;switch(n){case"WEBGL_depth_texture":i=s.getExtension("WEBGL_depth_texture")||s.getExtension("MOZ_WEBGL_depth_texture")||s.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=s.getExtension("EXT_texture_filter_anisotropic")||s.getExtension("MOZ_EXT_texture_filter_anisotropic")||s.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=s.getExtension("WEBGL_compressed_texture_s3tc")||s.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||s.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=s.getExtension("WEBGL_compressed_texture_pvrtc")||s.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=s.getExtension(n)}return e[n]=i,i}return{has:function(n){return t(n)!==null},init:function(){t("EXT_color_buffer_float"),t("WEBGL_clip_cull_distance"),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture"),t("WEBGL_render_shared_exponent")},get:function(n){const i=t(n);return i===null&&NS("THREE.WebGLRenderer: "+n+" extension not supported."),i}}}function fJ(s,e,t,n){const i={},r=new WeakMap;function a(g){const v=g.target;v.index!==null&&e.remove(v.index);for(const S in v.attributes)e.remove(v.attributes[S]);v.removeEventListener("dispose",a),delete i[v.id];const _=r.get(v);_&&(e.remove(_),r.delete(v)),n.releaseStatesOfGeometry(v),v.isInstancedBufferGeometry===!0&&delete v._maxInstanceCount,t.memory.geometries--}function l(g,v){return i[v.id]===!0||(v.addEventListener("dispose",a),i[v.id]=!0,t.memory.geometries++),v}function u(g){const v=g.attributes;for(const _ in v)e.update(v[_],s.ARRAY_BUFFER)}function h(g){const v=[],_=g.index,S=g.attributes.position;let b=0;if(_!==null){const C=_.array;b=_.version;for(let B=0,D=C.length;B<D;B+=3){const N=C[B+0],U=C[B+1],F=C[B+2];v.push(N,U,U,F,F,N)}}else if(S!==void 0){const C=S.array;b=S.version;for(let B=0,D=C.length/3-1;B<D;B+=3){const N=B+0,U=B+1,F=B+2;v.push(N,U,U,F,F,N)}}else return;const M=new(r8(v)?fw:uw)(v,1);M.version=b;const A=r.get(g);A&&e.remove(A),r.set(g,M)}function m(g){const v=r.get(g);if(v){const _=g.index;_!==null&&v.version<_.version&&h(g)}else h(g);return r.get(g)}return{get:l,update:u,getWireframeAttribute:m}}function hJ(s,e,t){let n;function i(v){n=v}let r,a;function l(v){r=v.type,a=v.bytesPerElement}function u(v,_){s.drawElements(n,_,r,v*a),t.update(_,n,1)}function h(v,_,S){S!==0&&(s.drawElementsInstanced(n,_,r,v*a,S),t.update(_,n,S))}function m(v,_,S){if(S===0)return;e.get("WEBGL_multi_draw").multiDrawElementsWEBGL(n,_,0,r,v,0,S);let M=0;for(let A=0;A<S;A++)M+=_[A];t.update(M,n,1)}function g(v,_,S,b){if(S===0)return;const M=e.get("WEBGL_multi_draw");if(M===null)for(let A=0;A<v.length;A++)h(v[A]/a,_[A],b[A]);else{M.multiDrawElementsInstancedWEBGL(n,_,0,r,v,0,b,0,S);let A=0;for(let C=0;C<S;C++)A+=_[C]*b[C];t.update(A,n,1)}}this.setMode=i,this.setIndex=l,this.render=u,this.renderInstances=h,this.renderMultiDraw=m,this.renderMultiDrawInstances=g}function dJ(s){const e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function n(r,a,l){switch(t.calls++,a){case s.TRIANGLES:t.triangles+=l*(r/3);break;case s.LINES:t.lines+=l*(r/2);break;case s.LINE_STRIP:t.lines+=l*(r-1);break;case s.LINE_LOOP:t.lines+=l*r;break;case s.POINTS:t.points+=l*r;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",a);break}}function i(){t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:e,render:t,programs:null,autoReset:!0,reset:i,update:n}}function pJ(s,e,t){const n=new WeakMap,i=new ti;function r(a,l,u){const h=a.morphTargetInfluences,m=l.morphAttributes.position||l.morphAttributes.normal||l.morphAttributes.color,g=m!==void 0?m.length:0;let v=n.get(l);if(v===void 0||v.count!==g){let P=function(){z.dispose(),n.delete(l),l.removeEventListener("dispose",P)};var _=P;v!==void 0&&v.texture.dispose();const S=l.morphAttributes.position!==void 0,b=l.morphAttributes.normal!==void 0,M=l.morphAttributes.color!==void 0,A=l.morphAttributes.position||[],C=l.morphAttributes.normal||[],B=l.morphAttributes.color||[];let D=0;S===!0&&(D=1),b===!0&&(D=2),M===!0&&(D=3);let N=l.attributes.position.count*D,U=1;N>e.maxTextureSize&&(U=Math.ceil(N/e.maxTextureSize),N=e.maxTextureSize);const F=new Float32Array(N*U*4*g),z=new f_(F,N,U,g);z.type=$i,z.needsUpdate=!0;const O=D*4;for(let q=0;q<g;q++){const ne=A[q],te=C[q],ee=B[q],oe=N*U*4*q;for(let H=0;H<ne.count;H++){const Y=H*O;S===!0&&(i.fromBufferAttribute(ne,H),F[oe+Y+0]=i.x,F[oe+Y+1]=i.y,F[oe+Y+2]=i.z,F[oe+Y+3]=0),b===!0&&(i.fromBufferAttribute(te,H),F[oe+Y+4]=i.x,F[oe+Y+5]=i.y,F[oe+Y+6]=i.z,F[oe+Y+7]=0),M===!0&&(i.fromBufferAttribute(ee,H),F[oe+Y+8]=i.x,F[oe+Y+9]=i.y,F[oe+Y+10]=i.z,F[oe+Y+11]=ee.itemSize===4?i.w:1)}}v={count:g,texture:z,size:new at(N,U)},n.set(l,v),l.addEventListener("dispose",P)}if(a.isInstancedMesh===!0&&a.morphTexture!==null)u.getUniforms().setValue(s,"morphTexture",a.morphTexture,t);else{let S=0;for(let M=0;M<h.length;M++)S+=h[M];const b=l.morphTargetsRelative?1:1-S;u.getUniforms().setValue(s,"morphTargetBaseInfluence",b),u.getUniforms().setValue(s,"morphTargetInfluences",h)}u.getUniforms().setValue(s,"morphTargetsTexture",v.texture,t),u.getUniforms().setValue(s,"morphTargetsTextureSize",v.size)}return{update:r}}function mJ(s,e,t,n){let i=new WeakMap;function r(u){const h=n.render.frame,m=u.geometry,g=e.get(u,m);if(i.get(g)!==h&&(e.update(g),i.set(g,h)),u.isInstancedMesh&&(u.hasEventListener("dispose",l)===!1&&u.addEventListener("dispose",l),i.get(u)!==h&&(t.update(u.instanceMatrix,s.ARRAY_BUFFER),u.instanceColor!==null&&t.update(u.instanceColor,s.ARRAY_BUFFER),i.set(u,h))),u.isSkinnedMesh){const v=u.skeleton;i.get(v)!==h&&(v.update(),i.set(v,h))}return g}function a(){i=new WeakMap}function l(u){const h=u.target;h.removeEventListener("dispose",l),t.remove(h.instanceMatrix),h.instanceColor!==null&&t.remove(h.instanceColor)}return{update:r,dispose:a}}const s6=new pi,B5=new yw(1,1),r6=new f_,a6=new SM,o6=new h_,D5=[],N5=[],O5=new Float32Array(16),L5=new Float32Array(9),U5=new Float32Array(4);function Zg(s,e,t){const n=s[0];if(n<=0||n>0)return s;const i=e*t;let r=D5[i];if(r===void 0&&(r=new Float32Array(i),D5[i]=r),e!==0){n.toArray(r,0);for(let a=1,l=0;a!==e;++a)l+=t,s[a].toArray(r,l)}return r}function zs(s,e){if(s.length!==e.length)return!1;for(let t=0,n=s.length;t<n;t++)if(s[t]!==e[t])return!1;return!0}function Hs(s,e){for(let t=0,n=e.length;t<n;t++)s[t]=e[t]}function GM(s,e){let t=N5[e];t===void 0&&(t=new Int32Array(e),N5[e]=t);for(let n=0;n!==e;++n)t[n]=s.allocateTextureUnit();return t}function gJ(s,e){const t=this.cache;t[0]!==e&&(s.uniform1f(this.addr,e),t[0]=e)}function vJ(s,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(s.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(zs(t,e))return;s.uniform2fv(this.addr,e),Hs(t,e)}}function yJ(s,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(s.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(s.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(zs(t,e))return;s.uniform3fv(this.addr,e),Hs(t,e)}}function _J(s,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(s.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(zs(t,e))return;s.uniform4fv(this.addr,e),Hs(t,e)}}function xJ(s,e){const t=this.cache,n=e.elements;if(n===void 0){if(zs(t,e))return;s.uniformMatrix2fv(this.addr,!1,e),Hs(t,e)}else{if(zs(t,n))return;U5.set(n),s.uniformMatrix2fv(this.addr,!1,U5),Hs(t,n)}}function SJ(s,e){const t=this.cache,n=e.elements;if(n===void 0){if(zs(t,e))return;s.uniformMatrix3fv(this.addr,!1,e),Hs(t,e)}else{if(zs(t,n))return;L5.set(n),s.uniformMatrix3fv(this.addr,!1,L5),Hs(t,n)}}function AJ(s,e){const t=this.cache,n=e.elements;if(n===void 0){if(zs(t,e))return;s.uniformMatrix4fv(this.addr,!1,e),Hs(t,e)}else{if(zs(t,n))return;O5.set(n),s.uniformMatrix4fv(this.addr,!1,O5),Hs(t,n)}}function MJ(s,e){const t=this.cache;t[0]!==e&&(s.uniform1i(this.addr,e),t[0]=e)}function bJ(s,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(s.uniform2i(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(zs(t,e))return;s.uniform2iv(this.addr,e),Hs(t,e)}}function EJ(s,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(s.uniform3i(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(zs(t,e))return;s.uniform3iv(this.addr,e),Hs(t,e)}}function TJ(s,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(s.uniform4i(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(zs(t,e))return;s.uniform4iv(this.addr,e),Hs(t,e)}}function CJ(s,e){const t=this.cache;t[0]!==e&&(s.uniform1ui(this.addr,e),t[0]=e)}function wJ(s,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(s.uniform2ui(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(zs(t,e))return;s.uniform2uiv(this.addr,e),Hs(t,e)}}function RJ(s,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(s.uniform3ui(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(zs(t,e))return;s.uniform3uiv(this.addr,e),Hs(t,e)}}function BJ(s,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(s.uniform4ui(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(zs(t,e))return;s.uniform4uiv(this.addr,e),Hs(t,e)}}function DJ(s,e,t){const n=this.cache,i=t.allocateTextureUnit();n[0]!==i&&(s.uniform1i(this.addr,i),n[0]=i);let r;this.type===s.SAMPLER_2D_SHADOW?(B5.compareFunction=lw,r=B5):r=s6,t.setTexture2D(e||r,i)}function NJ(s,e,t){const n=this.cache,i=t.allocateTextureUnit();n[0]!==i&&(s.uniform1i(this.addr,i),n[0]=i),t.setTexture3D(e||a6,i)}function OJ(s,e,t){const n=this.cache,i=t.allocateTextureUnit();n[0]!==i&&(s.uniform1i(this.addr,i),n[0]=i),t.setTextureCube(e||o6,i)}function LJ(s,e,t){const n=this.cache,i=t.allocateTextureUnit();n[0]!==i&&(s.uniform1i(this.addr,i),n[0]=i),t.setTexture2DArray(e||r6,i)}function UJ(s){switch(s){case 5126:return gJ;case 35664:return vJ;case 35665:return yJ;case 35666:return _J;case 35674:return xJ;case 35675:return SJ;case 35676:return AJ;case 5124:case 35670:return MJ;case 35667:case 35671:return bJ;case 35668:case 35672:return EJ;case 35669:case 35673:return TJ;case 5125:return CJ;case 36294:return wJ;case 36295:return RJ;case 36296:return BJ;case 35678:case 36198:case 36298:case 36306:case 35682:return DJ;case 35679:case 36299:case 36307:return NJ;case 35680:case 36300:case 36308:case 36293:return OJ;case 36289:case 36303:case 36311:case 36292:return LJ}}function PJ(s,e){s.uniform1fv(this.addr,e)}function IJ(s,e){const t=Zg(e,this.size,2);s.uniform2fv(this.addr,t)}function FJ(s,e){const t=Zg(e,this.size,3);s.uniform3fv(this.addr,t)}function zJ(s,e){const t=Zg(e,this.size,4);s.uniform4fv(this.addr,t)}function HJ(s,e){const t=Zg(e,this.size,4);s.uniformMatrix2fv(this.addr,!1,t)}function GJ(s,e){const t=Zg(e,this.size,9);s.uniformMatrix3fv(this.addr,!1,t)}function VJ(s,e){const t=Zg(e,this.size,16);s.uniformMatrix4fv(this.addr,!1,t)}function kJ(s,e){s.uniform1iv(this.addr,e)}function jJ(s,e){s.uniform2iv(this.addr,e)}function XJ(s,e){s.uniform3iv(this.addr,e)}function YJ(s,e){s.uniform4iv(this.addr,e)}function qJ(s,e){s.uniform1uiv(this.addr,e)}function WJ(s,e){s.uniform2uiv(this.addr,e)}function KJ(s,e){s.uniform3uiv(this.addr,e)}function JJ(s,e){s.uniform4uiv(this.addr,e)}function ZJ(s,e,t){const n=this.cache,i=e.length,r=GM(t,i);zs(n,r)||(s.uniform1iv(this.addr,r),Hs(n,r));for(let a=0;a!==i;++a)t.setTexture2D(e[a]||s6,r[a])}function QJ(s,e,t){const n=this.cache,i=e.length,r=GM(t,i);zs(n,r)||(s.uniform1iv(this.addr,r),Hs(n,r));for(let a=0;a!==i;++a)t.setTexture3D(e[a]||a6,r[a])}function $J(s,e,t){const n=this.cache,i=e.length,r=GM(t,i);zs(n,r)||(s.uniform1iv(this.addr,r),Hs(n,r));for(let a=0;a!==i;++a)t.setTextureCube(e[a]||o6,r[a])}function eZ(s,e,t){const n=this.cache,i=e.length,r=GM(t,i);zs(n,r)||(s.uniform1iv(this.addr,r),Hs(n,r));for(let a=0;a!==i;++a)t.setTexture2DArray(e[a]||r6,r[a])}function tZ(s){switch(s){case 5126:return PJ;case 35664:return IJ;case 35665:return FJ;case 35666:return zJ;case 35674:return HJ;case 35675:return GJ;case 35676:return VJ;case 5124:case 35670:return kJ;case 35667:case 35671:return jJ;case 35668:case 35672:return XJ;case 35669:case 35673:return YJ;case 5125:return qJ;case 36294:return WJ;case 36295:return KJ;case 36296:return JJ;case 35678:case 36198:case 36298:case 36306:case 35682:return ZJ;case 35679:case 36299:case 36307:return QJ;case 35680:case 36300:case 36308:case 36293:return $J;case 36289:case 36303:case 36311:case 36292:return eZ}}class nZ{constructor(e,t,n){this.id=e,this.addr=n,this.cache=[],this.type=t.type,this.setValue=UJ(t.type)}}class iZ{constructor(e,t,n){this.id=e,this.addr=n,this.cache=[],this.type=t.type,this.size=t.size,this.setValue=tZ(t.type)}}class sZ{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,n){const i=this.seq;for(let r=0,a=i.length;r!==a;++r){const l=i[r];l.setValue(e,t[l.id],n)}}}const WE=/(\w+)(\])?(\[|\.)?/g;function P5(s,e){s.seq.push(e),s.map[e.id]=e}function rZ(s,e,t){const n=s.name,i=n.length;for(WE.lastIndex=0;;){const r=WE.exec(n),a=WE.lastIndex;let l=r[1];const u=r[2]==="]",h=r[3];if(u&&(l=l|0),h===void 0||h==="["&&a+2===i){P5(t,h===void 0?new nZ(l,s,e):new iZ(l,s,e));break}else{let g=t.map[l];g===void 0&&(g=new sZ(l),P5(t,g)),t=g}}}class LS{constructor(e,t){this.seq=[],this.map={};const n=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let i=0;i<n;++i){const r=e.getActiveUniform(t,i),a=e.getUniformLocation(t,r.name);rZ(r,a,this)}}setValue(e,t,n,i){const r=this.map[t];r!==void 0&&r.setValue(e,n,i)}setOptional(e,t,n){const i=t[n];i!==void 0&&this.setValue(e,n,i)}static upload(e,t,n,i){for(let r=0,a=t.length;r!==a;++r){const l=t[r],u=n[l.id];u.needsUpdate!==!1&&l.setValue(e,u.value,i)}}static seqWithValue(e,t){const n=[];for(let i=0,r=e.length;i!==r;++i){const a=e[i];a.id in t&&n.push(a)}return n}}function I5(s,e,t){const n=s.createShader(e);return s.shaderSource(n,t),s.compileShader(n),n}const aZ=37297;let oZ=0;function lZ(s,e){const t=s.split(`
`),n=[],i=Math.max(e-6,0),r=Math.min(e+6,t.length);for(let a=i;a<r;a++){const l=a+1;n.push(`${l===e?">":" "} ${l}: ${t[a]}`)}return n.join(`
`)}const F5=new bn;function cZ(s){qn._getMatrix(F5,qn.workingColorSpace,s);const e=`mat3( ${F5.elements.map(t=>t.toFixed(4))} )`;switch(qn.getTransfer(s)){case Gy:return[e,"LinearTransferOETF"];case Si:return[e,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space: ",s),[e,"LinearTransferOETF"]}}function z5(s,e,t){const n=s.getShaderParameter(e,s.COMPILE_STATUS),i=s.getShaderInfoLog(e).trim();if(n&&i==="")return"";const r=/ERROR: 0:(\d+)/.exec(i);if(r){const a=parseInt(r[1]);return t.toUpperCase()+`

`+i+`

`+lZ(s.getShaderSource(e),a)}else return i}function uZ(s,e){const t=cZ(e);return[`vec4 ${s}( vec4 value ) {`,`	return ${t[1]}( vec4( value.rgb * ${t[0]}, value.a ) );`,"}"].join(`
`)}function fZ(s,e){let t;switch(e){case IU:t="Linear";break;case FU:t="Reinhard";break;case zU:t="Cineon";break;case QC:t="ACESFilmic";break;case GU:t="AgX";break;case VU:t="Neutral";break;case HU:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+s+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}const hS=new ae;function hZ(){qn.getLuminanceCoefficients(hS);const s=hS.x.toFixed(4),e=hS.y.toFixed(4),t=hS.z.toFixed(4);return["float luminance( const in vec3 rgb ) {",`	const vec3 weights = vec3( ${s}, ${e}, ${t} );`,"	return dot( weights, rgb );","}"].join(`
`)}function dZ(s){return[s.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",s.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(Wv).join(`
`)}function pZ(s){const e=[];for(const t in s){const n=s[t];n!==!1&&e.push("#define "+t+" "+n)}return e.join(`
`)}function mZ(s,e){const t={},n=s.getProgramParameter(e,s.ACTIVE_ATTRIBUTES);for(let i=0;i<n;i++){const r=s.getActiveAttrib(e,i),a=r.name;let l=1;r.type===s.FLOAT_MAT2&&(l=2),r.type===s.FLOAT_MAT3&&(l=3),r.type===s.FLOAT_MAT4&&(l=4),t[a]={type:r.type,location:s.getAttribLocation(e,a),locationSize:l}}return t}function Wv(s){return s!==""}function H5(s,e){const t=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return s.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,t).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function G5(s,e){return s.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const gZ=/^[ \t]*#include +<([\w\d./]+)>/gm;function w2(s){return s.replace(gZ,yZ)}const vZ=new Map;function yZ(s,e){let t=Dn[e];if(t===void 0){const n=vZ.get(e);if(n!==void 0)t=Dn[n],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,n);else throw new Error("Can not resolve #include <"+e+">")}return w2(t)}const _Z=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function V5(s){return s.replace(_Z,xZ)}function xZ(s,e,t,n){let i="";for(let r=parseInt(e);r<parseInt(t);r++)i+=n.replace(/\[\s*i\s*\]/g,"[ "+r+" ]").replace(/UNROLLED_LOOP_INDEX/g,r);return i}function k5(s){let e=`precision ${s.precision} float;
	precision ${s.precision} int;
	precision ${s.precision} sampler2D;
	precision ${s.precision} samplerCube;
	precision ${s.precision} sampler3D;
	precision ${s.precision} sampler2DArray;
	precision ${s.precision} sampler2DShadow;
	precision ${s.precision} samplerCubeShadow;
	precision ${s.precision} sampler2DArrayShadow;
	precision ${s.precision} isampler2D;
	precision ${s.precision} isampler3D;
	precision ${s.precision} isamplerCube;
	precision ${s.precision} isampler2DArray;
	precision ${s.precision} usampler2D;
	precision ${s.precision} usampler3D;
	precision ${s.precision} usamplerCube;
	precision ${s.precision} usampler2DArray;
	`;return s.precision==="highp"?e+=`
#define HIGH_PRECISION`:s.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:s.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function SZ(s){let e="SHADOWMAP_TYPE_BASIC";return s.shadowMapType===fM?e="SHADOWMAP_TYPE_PCF":s.shadowMapType===hy?e="SHADOWMAP_TYPE_PCF_SOFT":s.shadowMapType===El&&(e="SHADOWMAP_TYPE_VSM"),e}function AZ(s){let e="ENVMAP_TYPE_CUBE";if(s.envMap)switch(s.envMapMode){case Bc:case ih:e="ENVMAP_TYPE_CUBE";break;case Wg:e="ENVMAP_TYPE_CUBE_UV";break}return e}function MZ(s){let e="ENVMAP_MODE_REFLECTION";if(s.envMap)switch(s.envMapMode){case ih:e="ENVMAP_MODE_REFRACTION";break}return e}function bZ(s){let e="ENVMAP_BLENDING_NONE";if(s.envMap)switch(s.combine){case o_:e="ENVMAP_BLENDING_MULTIPLY";break;case UU:e="ENVMAP_BLENDING_MIX";break;case PU:e="ENVMAP_BLENDING_ADD";break}return e}function EZ(s){const e=s.envMapCubeUVHeight;if(e===null)return null;const t=Math.log2(e)-2,n=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),7*16)),texelHeight:n,maxMip:t}}function TZ(s,e,t,n){const i=s.getContext(),r=t.defines;let a=t.vertexShader,l=t.fragmentShader;const u=SZ(t),h=AZ(t),m=MZ(t),g=bZ(t),v=EZ(t),_=dZ(t),S=pZ(r),b=i.createProgram();let M,A,C=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(M=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,S].filter(Wv).join(`
`),M.length>0&&(M+=`
`),A=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,S].filter(Wv).join(`
`),A.length>0&&(A+=`
`)):(M=[k5(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,S,t.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",t.batching?"#define USE_BATCHING":"",t.batchingColor?"#define USE_BATCHING_COLOR":"",t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.instancingMorph?"#define USE_INSTANCING_MORPH":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+m:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.displacementMap?"#define USE_DISPLACEMENTMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.mapUv?"#define MAP_UV "+t.mapUv:"",t.alphaMapUv?"#define ALPHAMAP_UV "+t.alphaMapUv:"",t.lightMapUv?"#define LIGHTMAP_UV "+t.lightMapUv:"",t.aoMapUv?"#define AOMAP_UV "+t.aoMapUv:"",t.emissiveMapUv?"#define EMISSIVEMAP_UV "+t.emissiveMapUv:"",t.bumpMapUv?"#define BUMPMAP_UV "+t.bumpMapUv:"",t.normalMapUv?"#define NORMALMAP_UV "+t.normalMapUv:"",t.displacementMapUv?"#define DISPLACEMENTMAP_UV "+t.displacementMapUv:"",t.metalnessMapUv?"#define METALNESSMAP_UV "+t.metalnessMapUv:"",t.roughnessMapUv?"#define ROUGHNESSMAP_UV "+t.roughnessMapUv:"",t.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+t.anisotropyMapUv:"",t.clearcoatMapUv?"#define CLEARCOATMAP_UV "+t.clearcoatMapUv:"",t.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+t.clearcoatNormalMapUv:"",t.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+t.clearcoatRoughnessMapUv:"",t.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+t.iridescenceMapUv:"",t.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+t.iridescenceThicknessMapUv:"",t.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+t.sheenColorMapUv:"",t.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+t.sheenRoughnessMapUv:"",t.specularMapUv?"#define SPECULARMAP_UV "+t.specularMapUv:"",t.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+t.specularColorMapUv:"",t.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+t.specularIntensityMapUv:"",t.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+t.transmissionMapUv:"",t.thicknessMapUv?"#define THICKNESSMAP_UV "+t.thicknessMapUv:"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.morphColors?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+u:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(Wv).join(`
`),A=[k5(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,S,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+h:"",t.envMap?"#define "+m:"",t.envMap?"#define "+g:"",v?"#define CUBEUV_TEXEL_WIDTH "+v.texelWidth:"",v?"#define CUBEUV_TEXEL_HEIGHT "+v.texelHeight:"",v?"#define CUBEUV_MAX_MIP "+v.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.dispersion?"#define USE_DISPERSION":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor||t.batchingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+u:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",t.decodeVideoTextureEmissive?"#define DECODE_VIDEO_TEXTURE_EMISSIVE":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==Tc?"#define TONE_MAPPING":"",t.toneMapping!==Tc?Dn.tonemapping_pars_fragment:"",t.toneMapping!==Tc?fZ("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",Dn.colorspace_pars_fragment,uZ("linearToOutputTexel",t.outputColorSpace),hZ(),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter(Wv).join(`
`)),a=w2(a),a=H5(a,t),a=G5(a,t),l=w2(l),l=H5(l,t),l=G5(l,t),a=V5(a),l=V5(l),t.isRawShaderMaterial!==!0&&(C=`#version 300 es
`,M=[_,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+M,A=["#define varying in",t.glslVersion===x2?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===x2?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+A);const B=C+M+a,D=C+A+l,N=I5(i,i.VERTEX_SHADER,B),U=I5(i,i.FRAGMENT_SHADER,D);i.attachShader(b,N),i.attachShader(b,U),t.index0AttributeName!==void 0?i.bindAttribLocation(b,0,t.index0AttributeName):t.morphTargets===!0&&i.bindAttribLocation(b,0,"position"),i.linkProgram(b);function F(q){if(s.debug.checkShaderErrors){const ne=i.getProgramInfoLog(b).trim(),te=i.getShaderInfoLog(N).trim(),ee=i.getShaderInfoLog(U).trim();let oe=!0,H=!0;if(i.getProgramParameter(b,i.LINK_STATUS)===!1)if(oe=!1,typeof s.debug.onShaderError=="function")s.debug.onShaderError(i,b,N,U);else{const Y=z5(i,N,"vertex"),Z=z5(i,U,"fragment");console.error("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(b,i.VALIDATE_STATUS)+`

Material Name: `+q.name+`
Material Type: `+q.type+`

Program Info Log: `+ne+`
`+Y+`
`+Z)}else ne!==""?console.warn("THREE.WebGLProgram: Program Info Log:",ne):(te===""||ee==="")&&(H=!1);H&&(q.diagnostics={runnable:oe,programLog:ne,vertexShader:{log:te,prefix:M},fragmentShader:{log:ee,prefix:A}})}i.deleteShader(N),i.deleteShader(U),z=new LS(i,b),O=mZ(i,b)}let z;this.getUniforms=function(){return z===void 0&&F(this),z};let O;this.getAttributes=function(){return O===void 0&&F(this),O};let P=t.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return P===!1&&(P=i.getProgramParameter(b,aZ)),P},this.destroy=function(){n.releaseStatesOfProgram(this),i.deleteProgram(b),this.program=void 0},this.type=t.shaderType,this.name=t.shaderName,this.id=oZ++,this.cacheKey=e,this.usedTimes=1,this.program=b,this.vertexShader=N,this.fragmentShader=U,this}let CZ=0;class wZ{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,n=e.fragmentShader,i=this._getShaderStage(t),r=this._getShaderStage(n),a=this._getShaderCacheForMaterial(e);return a.has(i)===!1&&(a.add(i),i.usedTimes++),a.has(r)===!1&&(a.add(r),r.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const n of t)n.usedTimes--,n.usedTimes===0&&this.shaderCache.delete(n.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let n=t.get(e);return n===void 0&&(n=new Set,t.set(e,n)),n}_getShaderStage(e){const t=this.shaderCache;let n=t.get(e);return n===void 0&&(n=new RZ(e),t.set(e,n)),n}}class RZ{constructor(e){this.id=CZ++,this.code=e,this.usedTimes=0}}function BZ(s,e,t,n,i,r,a){const l=new Ig,u=new wZ,h=new Set,m=[],g=i.logarithmicDepthBuffer,v=i.vertexTextures;let _=i.precision;const S={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function b(O){return h.add(O),O===0?"uv":`uv${O}`}function M(O,P,q,ne,te){const ee=ne.fog,oe=te.geometry,H=O.isMeshStandardMaterial?ne.environment:null,Y=(O.isMeshStandardMaterial?t:e).get(O.envMap||H),Z=Y&&Y.mapping===Wg?Y.image.height:null,de=S[O.type];O.precision!==null&&(_=i.getMaxPrecision(O.precision),_!==O.precision&&console.warn("THREE.WebGLProgram.getParameters:",O.precision,"not supported, using",_,"instead."));const I=oe.morphAttributes.position||oe.morphAttributes.normal||oe.morphAttributes.color,ie=I!==void 0?I.length:0;let ue=0;oe.morphAttributes.position!==void 0&&(ue=1),oe.morphAttributes.normal!==void 0&&(ue=2),oe.morphAttributes.color!==void 0&&(ue=3);let _e,se,xe,Ae;if(de){const Et=Tl[de];_e=Et.vertexShader,se=Et.fragmentShader}else _e=O.vertexShader,se=O.fragmentShader,u.update(O),xe=u.getVertexShaderID(O),Ae=u.getFragmentShaderID(O);const Ee=s.getRenderTarget(),Ne=s.state.buffers.depth.getReversed(),ht=te.isInstancedMesh===!0,Je=te.isBatchedMesh===!0,st=!!O.map,_t=!!O.matcap,dt=!!Y,ce=!!O.aoMap,Ht=!!O.lightMap,Ye=!!O.bumpMap,le=!!O.normalMap,He=!!O.displacementMap,rt=!!O.emissiveMap,Ge=!!O.metalnessMap,Q=!!O.roughnessMap,X=O.anisotropy>0,be=O.clearcoat>0,Pe=O.dispersion>0,Le=O.iridescence>0,Ve=O.sheen>0,lt=O.transmission>0,ot=X&&!!O.anisotropyMap,ut=be&&!!O.clearcoatMap,Vt=be&&!!O.clearcoatNormalMap,ct=be&&!!O.clearcoatRoughnessMap,ft=Le&&!!O.iridescenceMap,Tt=Le&&!!O.iridescenceThicknessMap,gt=Ve&&!!O.sheenColorMap,vt=Ve&&!!O.sheenRoughnessMap,Wt=!!O.specularMap,wt=!!O.specularColorMap,Yt=!!O.specularIntensityMap,he=lt&&!!O.transmissionMap,Fe=lt&&!!O.thicknessMap,Ie=!!O.gradientMap,We=!!O.alphaMap,xt=O.alphaTest>0,Mt=!!O.alphaHash,Qt=!!O.extensions;let Sn=Tc;O.toneMapped&&(Ee===null||Ee.isXRRenderTarget===!0)&&(Sn=s.toneMapping);const Jn={shaderID:de,shaderType:O.type,shaderName:O.name,vertexShader:_e,fragmentShader:se,defines:O.defines,customVertexShaderID:xe,customFragmentShaderID:Ae,isRawShaderMaterial:O.isRawShaderMaterial===!0,glslVersion:O.glslVersion,precision:_,batching:Je,batchingColor:Je&&te._colorsTexture!==null,instancing:ht,instancingColor:ht&&te.instanceColor!==null,instancingMorph:ht&&te.morphTexture!==null,supportsVertexTextures:v,outputColorSpace:Ee===null?s.outputColorSpace:Ee.isXRRenderTarget===!0?Ee.texture.colorSpace:Bl,alphaToCoverage:!!O.alphaToCoverage,map:st,matcap:_t,envMap:dt,envMapMode:dt&&Y.mapping,envMapCubeUVHeight:Z,aoMap:ce,lightMap:Ht,bumpMap:Ye,normalMap:le,displacementMap:v&&He,emissiveMap:rt,normalMapObjectSpace:le&&O.normalMapType===JU,normalMapTangentSpace:le&&O.normalMapType===ch,metalnessMap:Ge,roughnessMap:Q,anisotropy:X,anisotropyMap:ot,clearcoat:be,clearcoatMap:ut,clearcoatNormalMap:Vt,clearcoatRoughnessMap:ct,dispersion:Pe,iridescence:Le,iridescenceMap:ft,iridescenceThicknessMap:Tt,sheen:Ve,sheenColorMap:gt,sheenRoughnessMap:vt,specularMap:Wt,specularColorMap:wt,specularIntensityMap:Yt,transmission:lt,transmissionMap:he,thicknessMap:Fe,gradientMap:Ie,opaque:O.transparent===!1&&O.blending===Qd&&O.alphaToCoverage===!1,alphaMap:We,alphaTest:xt,alphaHash:Mt,combine:O.combine,mapUv:st&&b(O.map.channel),aoMapUv:ce&&b(O.aoMap.channel),lightMapUv:Ht&&b(O.lightMap.channel),bumpMapUv:Ye&&b(O.bumpMap.channel),normalMapUv:le&&b(O.normalMap.channel),displacementMapUv:He&&b(O.displacementMap.channel),emissiveMapUv:rt&&b(O.emissiveMap.channel),metalnessMapUv:Ge&&b(O.metalnessMap.channel),roughnessMapUv:Q&&b(O.roughnessMap.channel),anisotropyMapUv:ot&&b(O.anisotropyMap.channel),clearcoatMapUv:ut&&b(O.clearcoatMap.channel),clearcoatNormalMapUv:Vt&&b(O.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:ct&&b(O.clearcoatRoughnessMap.channel),iridescenceMapUv:ft&&b(O.iridescenceMap.channel),iridescenceThicknessMapUv:Tt&&b(O.iridescenceThicknessMap.channel),sheenColorMapUv:gt&&b(O.sheenColorMap.channel),sheenRoughnessMapUv:vt&&b(O.sheenRoughnessMap.channel),specularMapUv:Wt&&b(O.specularMap.channel),specularColorMapUv:wt&&b(O.specularColorMap.channel),specularIntensityMapUv:Yt&&b(O.specularIntensityMap.channel),transmissionMapUv:he&&b(O.transmissionMap.channel),thicknessMapUv:Fe&&b(O.thicknessMap.channel),alphaMapUv:We&&b(O.alphaMap.channel),vertexTangents:!!oe.attributes.tangent&&(le||X),vertexColors:O.vertexColors,vertexAlphas:O.vertexColors===!0&&!!oe.attributes.color&&oe.attributes.color.itemSize===4,pointsUvs:te.isPoints===!0&&!!oe.attributes.uv&&(st||We),fog:!!ee,useFog:O.fog===!0,fogExp2:!!ee&&ee.isFogExp2,flatShading:O.flatShading===!0,sizeAttenuation:O.sizeAttenuation===!0,logarithmicDepthBuffer:g,reverseDepthBuffer:Ne,skinning:te.isSkinnedMesh===!0,morphTargets:oe.morphAttributes.position!==void 0,morphNormals:oe.morphAttributes.normal!==void 0,morphColors:oe.morphAttributes.color!==void 0,morphTargetsCount:ie,morphTextureStride:ue,numDirLights:P.directional.length,numPointLights:P.point.length,numSpotLights:P.spot.length,numSpotLightMaps:P.spotLightMap.length,numRectAreaLights:P.rectArea.length,numHemiLights:P.hemi.length,numDirLightShadows:P.directionalShadowMap.length,numPointLightShadows:P.pointShadowMap.length,numSpotLightShadows:P.spotShadowMap.length,numSpotLightShadowsWithMaps:P.numSpotLightShadowsWithMaps,numLightProbes:P.numLightProbes,numClippingPlanes:a.numPlanes,numClipIntersection:a.numIntersection,dithering:O.dithering,shadowMapEnabled:s.shadowMap.enabled&&q.length>0,shadowMapType:s.shadowMap.type,toneMapping:Sn,decodeVideoTexture:st&&O.map.isVideoTexture===!0&&qn.getTransfer(O.map.colorSpace)===Si,decodeVideoTextureEmissive:rt&&O.emissiveMap.isVideoTexture===!0&&qn.getTransfer(O.emissiveMap.colorSpace)===Si,premultipliedAlpha:O.premultipliedAlpha,doubleSided:O.side===Vo,flipSided:O.side===da,useDepthPacking:O.depthPacking>=0,depthPacking:O.depthPacking||0,index0AttributeName:O.index0AttributeName,extensionClipCullDistance:Qt&&O.extensions.clipCullDistance===!0&&n.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(Qt&&O.extensions.multiDraw===!0||Je)&&n.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:n.has("KHR_parallel_shader_compile"),customProgramCacheKey:O.customProgramCacheKey()};return Jn.vertexUv1s=h.has(1),Jn.vertexUv2s=h.has(2),Jn.vertexUv3s=h.has(3),h.clear(),Jn}function A(O){const P=[];if(O.shaderID?P.push(O.shaderID):(P.push(O.customVertexShaderID),P.push(O.customFragmentShaderID)),O.defines!==void 0)for(const q in O.defines)P.push(q),P.push(O.defines[q]);return O.isRawShaderMaterial===!1&&(C(P,O),B(P,O),P.push(s.outputColorSpace)),P.push(O.customProgramCacheKey),P.join()}function C(O,P){O.push(P.precision),O.push(P.outputColorSpace),O.push(P.envMapMode),O.push(P.envMapCubeUVHeight),O.push(P.mapUv),O.push(P.alphaMapUv),O.push(P.lightMapUv),O.push(P.aoMapUv),O.push(P.bumpMapUv),O.push(P.normalMapUv),O.push(P.displacementMapUv),O.push(P.emissiveMapUv),O.push(P.metalnessMapUv),O.push(P.roughnessMapUv),O.push(P.anisotropyMapUv),O.push(P.clearcoatMapUv),O.push(P.clearcoatNormalMapUv),O.push(P.clearcoatRoughnessMapUv),O.push(P.iridescenceMapUv),O.push(P.iridescenceThicknessMapUv),O.push(P.sheenColorMapUv),O.push(P.sheenRoughnessMapUv),O.push(P.specularMapUv),O.push(P.specularColorMapUv),O.push(P.specularIntensityMapUv),O.push(P.transmissionMapUv),O.push(P.thicknessMapUv),O.push(P.combine),O.push(P.fogExp2),O.push(P.sizeAttenuation),O.push(P.morphTargetsCount),O.push(P.morphAttributeCount),O.push(P.numDirLights),O.push(P.numPointLights),O.push(P.numSpotLights),O.push(P.numSpotLightMaps),O.push(P.numHemiLights),O.push(P.numRectAreaLights),O.push(P.numDirLightShadows),O.push(P.numPointLightShadows),O.push(P.numSpotLightShadows),O.push(P.numSpotLightShadowsWithMaps),O.push(P.numLightProbes),O.push(P.shadowMapType),O.push(P.toneMapping),O.push(P.numClippingPlanes),O.push(P.numClipIntersection),O.push(P.depthPacking)}function B(O,P){l.disableAll(),P.supportsVertexTextures&&l.enable(0),P.instancing&&l.enable(1),P.instancingColor&&l.enable(2),P.instancingMorph&&l.enable(3),P.matcap&&l.enable(4),P.envMap&&l.enable(5),P.normalMapObjectSpace&&l.enable(6),P.normalMapTangentSpace&&l.enable(7),P.clearcoat&&l.enable(8),P.iridescence&&l.enable(9),P.alphaTest&&l.enable(10),P.vertexColors&&l.enable(11),P.vertexAlphas&&l.enable(12),P.vertexUv1s&&l.enable(13),P.vertexUv2s&&l.enable(14),P.vertexUv3s&&l.enable(15),P.vertexTangents&&l.enable(16),P.anisotropy&&l.enable(17),P.alphaHash&&l.enable(18),P.batching&&l.enable(19),P.dispersion&&l.enable(20),P.batchingColor&&l.enable(21),O.push(l.mask),l.disableAll(),P.fog&&l.enable(0),P.useFog&&l.enable(1),P.flatShading&&l.enable(2),P.logarithmicDepthBuffer&&l.enable(3),P.reverseDepthBuffer&&l.enable(4),P.skinning&&l.enable(5),P.morphTargets&&l.enable(6),P.morphNormals&&l.enable(7),P.morphColors&&l.enable(8),P.premultipliedAlpha&&l.enable(9),P.shadowMapEnabled&&l.enable(10),P.doubleSided&&l.enable(11),P.flipSided&&l.enable(12),P.useDepthPacking&&l.enable(13),P.dithering&&l.enable(14),P.transmission&&l.enable(15),P.sheen&&l.enable(16),P.opaque&&l.enable(17),P.pointsUvs&&l.enable(18),P.decodeVideoTexture&&l.enable(19),P.decodeVideoTextureEmissive&&l.enable(20),P.alphaToCoverage&&l.enable(21),O.push(l.mask)}function D(O){const P=S[O.type];let q;if(P){const ne=Tl[P];q=u8.clone(ne.uniforms)}else q=O.uniforms;return q}function N(O,P){let q;for(let ne=0,te=m.length;ne<te;ne++){const ee=m[ne];if(ee.cacheKey===P){q=ee,++q.usedTimes;break}}return q===void 0&&(q=new TZ(s,P,O,r),m.push(q)),q}function U(O){if(--O.usedTimes===0){const P=m.indexOf(O);m[P]=m[m.length-1],m.pop(),O.destroy()}}function F(O){u.remove(O)}function z(){u.dispose()}return{getParameters:M,getProgramCacheKey:A,getUniforms:D,acquireProgram:N,releaseProgram:U,releaseShaderCache:F,programs:m,dispose:z}}function DZ(){let s=new WeakMap;function e(a){return s.has(a)}function t(a){let l=s.get(a);return l===void 0&&(l={},s.set(a,l)),l}function n(a){s.delete(a)}function i(a,l,u){s.get(a)[l]=u}function r(){s=new WeakMap}return{has:e,get:t,remove:n,update:i,dispose:r}}function NZ(s,e){return s.groupOrder!==e.groupOrder?s.groupOrder-e.groupOrder:s.renderOrder!==e.renderOrder?s.renderOrder-e.renderOrder:s.material.id!==e.material.id?s.material.id-e.material.id:s.z!==e.z?s.z-e.z:s.id-e.id}function j5(s,e){return s.groupOrder!==e.groupOrder?s.groupOrder-e.groupOrder:s.renderOrder!==e.renderOrder?s.renderOrder-e.renderOrder:s.z!==e.z?e.z-s.z:s.id-e.id}function X5(){const s=[];let e=0;const t=[],n=[],i=[];function r(){e=0,t.length=0,n.length=0,i.length=0}function a(g,v,_,S,b,M){let A=s[e];return A===void 0?(A={id:g.id,object:g,geometry:v,material:_,groupOrder:S,renderOrder:g.renderOrder,z:b,group:M},s[e]=A):(A.id=g.id,A.object=g,A.geometry=v,A.material=_,A.groupOrder=S,A.renderOrder=g.renderOrder,A.z=b,A.group=M),e++,A}function l(g,v,_,S,b,M){const A=a(g,v,_,S,b,M);_.transmission>0?n.push(A):_.transparent===!0?i.push(A):t.push(A)}function u(g,v,_,S,b,M){const A=a(g,v,_,S,b,M);_.transmission>0?n.unshift(A):_.transparent===!0?i.unshift(A):t.unshift(A)}function h(g,v){t.length>1&&t.sort(g||NZ),n.length>1&&n.sort(v||j5),i.length>1&&i.sort(v||j5)}function m(){for(let g=e,v=s.length;g<v;g++){const _=s[g];if(_.id===null)break;_.id=null,_.object=null,_.geometry=null,_.material=null,_.group=null}}return{opaque:t,transmissive:n,transparent:i,init:r,push:l,unshift:u,finish:m,sort:h}}function OZ(){let s=new WeakMap;function e(n,i){const r=s.get(n);let a;return r===void 0?(a=new X5,s.set(n,[a])):i>=r.length?(a=new X5,r.push(a)):a=r[i],a}function t(){s=new WeakMap}return{get:e,dispose:t}}function LZ(){const s={};return{get:function(e){if(s[e.id]!==void 0)return s[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new ae,color:new Ct};break;case"SpotLight":t={position:new ae,direction:new ae,color:new Ct,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new ae,color:new Ct,distance:0,decay:0};break;case"HemisphereLight":t={direction:new ae,skyColor:new Ct,groundColor:new Ct};break;case"RectAreaLight":t={color:new Ct,position:new ae,halfWidth:new ae,halfHeight:new ae};break}return s[e.id]=t,t}}}function UZ(){const s={};return{get:function(e){if(s[e.id]!==void 0)return s[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new at};break;case"SpotLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new at};break;case"PointLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new at,shadowCameraNear:1,shadowCameraFar:1e3};break}return s[e.id]=t,t}}}let PZ=0;function IZ(s,e){return(e.castShadow?2:0)-(s.castShadow?2:0)+(e.map?1:0)-(s.map?1:0)}function FZ(s){const e=new LZ,t=UZ(),n={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let h=0;h<9;h++)n.probe.push(new ae);const i=new ae,r=new sn,a=new sn;function l(h){let m=0,g=0,v=0;for(let O=0;O<9;O++)n.probe[O].set(0,0,0);let _=0,S=0,b=0,M=0,A=0,C=0,B=0,D=0,N=0,U=0,F=0;h.sort(IZ);for(let O=0,P=h.length;O<P;O++){const q=h[O],ne=q.color,te=q.intensity,ee=q.distance,oe=q.shadow&&q.shadow.map?q.shadow.map.texture:null;if(q.isAmbientLight)m+=ne.r*te,g+=ne.g*te,v+=ne.b*te;else if(q.isLightProbe){for(let H=0;H<9;H++)n.probe[H].addScaledVector(q.sh.coefficients[H],te);F++}else if(q.isDirectionalLight){const H=e.get(q);if(H.color.copy(q.color).multiplyScalar(q.intensity),q.castShadow){const Y=q.shadow,Z=t.get(q);Z.shadowIntensity=Y.intensity,Z.shadowBias=Y.bias,Z.shadowNormalBias=Y.normalBias,Z.shadowRadius=Y.radius,Z.shadowMapSize=Y.mapSize,n.directionalShadow[_]=Z,n.directionalShadowMap[_]=oe,n.directionalShadowMatrix[_]=q.shadow.matrix,C++}n.directional[_]=H,_++}else if(q.isSpotLight){const H=e.get(q);H.position.setFromMatrixPosition(q.matrixWorld),H.color.copy(ne).multiplyScalar(te),H.distance=ee,H.coneCos=Math.cos(q.angle),H.penumbraCos=Math.cos(q.angle*(1-q.penumbra)),H.decay=q.decay,n.spot[b]=H;const Y=q.shadow;if(q.map&&(n.spotLightMap[N]=q.map,N++,Y.updateMatrices(q),q.castShadow&&U++),n.spotLightMatrix[b]=Y.matrix,q.castShadow){const Z=t.get(q);Z.shadowIntensity=Y.intensity,Z.shadowBias=Y.bias,Z.shadowNormalBias=Y.normalBias,Z.shadowRadius=Y.radius,Z.shadowMapSize=Y.mapSize,n.spotShadow[b]=Z,n.spotShadowMap[b]=oe,D++}b++}else if(q.isRectAreaLight){const H=e.get(q);H.color.copy(ne).multiplyScalar(te),H.halfWidth.set(q.width*.5,0,0),H.halfHeight.set(0,q.height*.5,0),n.rectArea[M]=H,M++}else if(q.isPointLight){const H=e.get(q);if(H.color.copy(q.color).multiplyScalar(q.intensity),H.distance=q.distance,H.decay=q.decay,q.castShadow){const Y=q.shadow,Z=t.get(q);Z.shadowIntensity=Y.intensity,Z.shadowBias=Y.bias,Z.shadowNormalBias=Y.normalBias,Z.shadowRadius=Y.radius,Z.shadowMapSize=Y.mapSize,Z.shadowCameraNear=Y.camera.near,Z.shadowCameraFar=Y.camera.far,n.pointShadow[S]=Z,n.pointShadowMap[S]=oe,n.pointShadowMatrix[S]=q.shadow.matrix,B++}n.point[S]=H,S++}else if(q.isHemisphereLight){const H=e.get(q);H.skyColor.copy(q.color).multiplyScalar(te),H.groundColor.copy(q.groundColor).multiplyScalar(te),n.hemi[A]=H,A++}}M>0&&(s.has("OES_texture_float_linear")===!0?(n.rectAreaLTC1=Dt.LTC_FLOAT_1,n.rectAreaLTC2=Dt.LTC_FLOAT_2):(n.rectAreaLTC1=Dt.LTC_HALF_1,n.rectAreaLTC2=Dt.LTC_HALF_2)),n.ambient[0]=m,n.ambient[1]=g,n.ambient[2]=v;const z=n.hash;(z.directionalLength!==_||z.pointLength!==S||z.spotLength!==b||z.rectAreaLength!==M||z.hemiLength!==A||z.numDirectionalShadows!==C||z.numPointShadows!==B||z.numSpotShadows!==D||z.numSpotMaps!==N||z.numLightProbes!==F)&&(n.directional.length=_,n.spot.length=b,n.rectArea.length=M,n.point.length=S,n.hemi.length=A,n.directionalShadow.length=C,n.directionalShadowMap.length=C,n.pointShadow.length=B,n.pointShadowMap.length=B,n.spotShadow.length=D,n.spotShadowMap.length=D,n.directionalShadowMatrix.length=C,n.pointShadowMatrix.length=B,n.spotLightMatrix.length=D+N-U,n.spotLightMap.length=N,n.numSpotLightShadowsWithMaps=U,n.numLightProbes=F,z.directionalLength=_,z.pointLength=S,z.spotLength=b,z.rectAreaLength=M,z.hemiLength=A,z.numDirectionalShadows=C,z.numPointShadows=B,z.numSpotShadows=D,z.numSpotMaps=N,z.numLightProbes=F,n.version=PZ++)}function u(h,m){let g=0,v=0,_=0,S=0,b=0;const M=m.matrixWorldInverse;for(let A=0,C=h.length;A<C;A++){const B=h[A];if(B.isDirectionalLight){const D=n.directional[g];D.direction.setFromMatrixPosition(B.matrixWorld),i.setFromMatrixPosition(B.target.matrixWorld),D.direction.sub(i),D.direction.transformDirection(M),g++}else if(B.isSpotLight){const D=n.spot[_];D.position.setFromMatrixPosition(B.matrixWorld),D.position.applyMatrix4(M),D.direction.setFromMatrixPosition(B.matrixWorld),i.setFromMatrixPosition(B.target.matrixWorld),D.direction.sub(i),D.direction.transformDirection(M),_++}else if(B.isRectAreaLight){const D=n.rectArea[S];D.position.setFromMatrixPosition(B.matrixWorld),D.position.applyMatrix4(M),a.identity(),r.copy(B.matrixWorld),r.premultiply(M),a.extractRotation(r),D.halfWidth.set(B.width*.5,0,0),D.halfHeight.set(0,B.height*.5,0),D.halfWidth.applyMatrix4(a),D.halfHeight.applyMatrix4(a),S++}else if(B.isPointLight){const D=n.point[v];D.position.setFromMatrixPosition(B.matrixWorld),D.position.applyMatrix4(M),v++}else if(B.isHemisphereLight){const D=n.hemi[b];D.direction.setFromMatrixPosition(B.matrixWorld),D.direction.transformDirection(M),b++}}}return{setup:l,setupView:u,state:n}}function Y5(s){const e=new FZ(s),t=[],n=[];function i(m){h.camera=m,t.length=0,n.length=0}function r(m){t.push(m)}function a(m){n.push(m)}function l(){e.setup(t)}function u(m){e.setupView(t,m)}const h={lightsArray:t,shadowsArray:n,camera:null,lights:e,transmissionRenderTarget:{}};return{init:i,state:h,setupLights:l,setupLightsView:u,pushLight:r,pushShadow:a}}function zZ(s){let e=new WeakMap;function t(i,r=0){const a=e.get(i);let l;return a===void 0?(l=new Y5(s),e.set(i,[l])):r>=a.length?(l=new Y5(s),a.push(l)):l=a[r],l}function n(){e=new WeakMap}return{get:t,dispose:n}}const HZ=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,GZ=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function VZ(s,e,t){let n=new g_;const i=new at,r=new at,a=new ti,l=new Ew({depthPacking:KU}),u=new Tw,h={},m=t.maxTextureSize,g={[Rc]:da,[da]:Rc,[Vo]:Vo},v=new pa({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new at},radius:{value:4}},vertexShader:HZ,fragmentShader:GZ}),_=v.clone();_.defines.HORIZONTAL_PASS=1;const S=new En;S.setAttribute("position",new ni(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const b=new ki(S,v),M=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=fM;let A=this.type;this.render=function(U,F,z){if(M.enabled===!1||M.autoUpdate===!1&&M.needsUpdate===!1||U.length===0)return;const O=s.getRenderTarget(),P=s.getActiveCubeFace(),q=s.getActiveMipmapLevel(),ne=s.state;ne.setBlending(Ec),ne.buffers.color.setClear(1,1,1,1),ne.buffers.depth.setTest(!0),ne.setScissorTest(!1);const te=A!==El&&this.type===El,ee=A===El&&this.type!==El;for(let oe=0,H=U.length;oe<H;oe++){const Y=U[oe],Z=Y.shadow;if(Z===void 0){console.warn("THREE.WebGLShadowMap:",Y,"has no shadow.");continue}if(Z.autoUpdate===!1&&Z.needsUpdate===!1)continue;i.copy(Z.mapSize);const de=Z.getFrameExtents();if(i.multiply(de),r.copy(Z.mapSize),(i.x>m||i.y>m)&&(i.x>m&&(r.x=Math.floor(m/de.x),i.x=r.x*de.x,Z.mapSize.x=r.x),i.y>m&&(r.y=Math.floor(m/de.y),i.y=r.y*de.y,Z.mapSize.y=r.y)),Z.map===null||te===!0||ee===!0){const ie=this.type!==El?{minFilter:Js,magFilter:Js}:{};Z.map!==null&&Z.map.dispose(),Z.map=new qo(i.x,i.y,ie),Z.map.texture.name=Y.name+".shadowMap",Z.camera.updateProjectionMatrix()}s.setRenderTarget(Z.map),s.clear();const I=Z.getViewportCount();for(let ie=0;ie<I;ie++){const ue=Z.getViewport(ie);a.set(r.x*ue.x,r.y*ue.y,r.x*ue.z,r.y*ue.w),ne.viewport(a),Z.updateMatrices(Y,ie),n=Z.getFrustum(),D(F,z,Z.camera,Y,this.type)}Z.isPointLightShadow!==!0&&this.type===El&&C(Z,z),Z.needsUpdate=!1}A=this.type,M.needsUpdate=!1,s.setRenderTarget(O,P,q)};function C(U,F){const z=e.update(b);v.defines.VSM_SAMPLES!==U.blurSamples&&(v.defines.VSM_SAMPLES=U.blurSamples,_.defines.VSM_SAMPLES=U.blurSamples,v.needsUpdate=!0,_.needsUpdate=!0),U.mapPass===null&&(U.mapPass=new qo(i.x,i.y)),v.uniforms.shadow_pass.value=U.map.texture,v.uniforms.resolution.value=U.mapSize,v.uniforms.radius.value=U.radius,s.setRenderTarget(U.mapPass),s.clear(),s.renderBufferDirect(F,null,z,v,b,null),_.uniforms.shadow_pass.value=U.mapPass.texture,_.uniforms.resolution.value=U.mapSize,_.uniforms.radius.value=U.radius,s.setRenderTarget(U.map),s.clear(),s.renderBufferDirect(F,null,z,_,b,null)}function B(U,F,z,O){let P=null;const q=z.isPointLight===!0?U.customDistanceMaterial:U.customDepthMaterial;if(q!==void 0)P=q;else if(P=z.isPointLight===!0?u:l,s.localClippingEnabled&&F.clipShadows===!0&&Array.isArray(F.clippingPlanes)&&F.clippingPlanes.length!==0||F.displacementMap&&F.displacementScale!==0||F.alphaMap&&F.alphaTest>0||F.map&&F.alphaTest>0){const ne=P.uuid,te=F.uuid;let ee=h[ne];ee===void 0&&(ee={},h[ne]=ee);let oe=ee[te];oe===void 0&&(oe=P.clone(),ee[te]=oe,F.addEventListener("dispose",N)),P=oe}if(P.visible=F.visible,P.wireframe=F.wireframe,O===El?P.side=F.shadowSide!==null?F.shadowSide:F.side:P.side=F.shadowSide!==null?F.shadowSide:g[F.side],P.alphaMap=F.alphaMap,P.alphaTest=F.alphaTest,P.map=F.map,P.clipShadows=F.clipShadows,P.clippingPlanes=F.clippingPlanes,P.clipIntersection=F.clipIntersection,P.displacementMap=F.displacementMap,P.displacementScale=F.displacementScale,P.displacementBias=F.displacementBias,P.wireframeLinewidth=F.wireframeLinewidth,P.linewidth=F.linewidth,z.isPointLight===!0&&P.isMeshDistanceMaterial===!0){const ne=s.properties.get(P);ne.light=z}return P}function D(U,F,z,O,P){if(U.visible===!1)return;if(U.layers.test(F.layers)&&(U.isMesh||U.isLine||U.isPoints)&&(U.castShadow||U.receiveShadow&&P===El)&&(!U.frustumCulled||n.intersectsObject(U))){U.modelViewMatrix.multiplyMatrices(z.matrixWorldInverse,U.matrixWorld);const te=e.update(U),ee=U.material;if(Array.isArray(ee)){const oe=te.groups;for(let H=0,Y=oe.length;H<Y;H++){const Z=oe[H],de=ee[Z.materialIndex];if(de&&de.visible){const I=B(U,de,O,P);U.onBeforeShadow(s,U,F,z,te,I,Z),s.renderBufferDirect(z,null,te,I,U,Z),U.onAfterShadow(s,U,F,z,te,I,Z)}}}else if(ee.visible){const oe=B(U,ee,O,P);U.onBeforeShadow(s,U,F,z,te,oe,null),s.renderBufferDirect(z,null,te,oe,U,null),U.onAfterShadow(s,U,F,z,te,oe,null)}}const ne=U.children;for(let te=0,ee=ne.length;te<ee;te++)D(ne[te],F,z,O,P)}function N(U){U.target.removeEventListener("dispose",N);for(const z in h){const O=h[z],P=U.target.uuid;P in O&&(O[P].dispose(),delete O[P])}}}const kZ={[oA]:lA,[cA]:hA,[uA]:dA,[op]:fA,[lA]:oA,[hA]:cA,[dA]:uA,[fA]:op};function jZ(s,e){function t(){let he=!1;const Fe=new ti;let Ie=null;const We=new ti(0,0,0,0);return{setMask:function(xt){Ie!==xt&&!he&&(s.colorMask(xt,xt,xt,xt),Ie=xt)},setLocked:function(xt){he=xt},setClear:function(xt,Mt,Qt,Sn,Jn){Jn===!0&&(xt*=Sn,Mt*=Sn,Qt*=Sn),Fe.set(xt,Mt,Qt,Sn),We.equals(Fe)===!1&&(s.clearColor(xt,Mt,Qt,Sn),We.copy(Fe))},reset:function(){he=!1,Ie=null,We.set(-1,0,0,0)}}}function n(){let he=!1,Fe=!1,Ie=null,We=null,xt=null;return{setReversed:function(Mt){if(Fe!==Mt){const Qt=e.get("EXT_clip_control");Mt?Qt.clipControlEXT(Qt.LOWER_LEFT_EXT,Qt.ZERO_TO_ONE_EXT):Qt.clipControlEXT(Qt.LOWER_LEFT_EXT,Qt.NEGATIVE_ONE_TO_ONE_EXT),Fe=Mt;const Sn=xt;xt=null,this.setClear(Sn)}},getReversed:function(){return Fe},setTest:function(Mt){Mt?Ee(s.DEPTH_TEST):Ne(s.DEPTH_TEST)},setMask:function(Mt){Ie!==Mt&&!he&&(s.depthMask(Mt),Ie=Mt)},setFunc:function(Mt){if(Fe&&(Mt=kZ[Mt]),We!==Mt){switch(Mt){case oA:s.depthFunc(s.NEVER);break;case lA:s.depthFunc(s.ALWAYS);break;case cA:s.depthFunc(s.LESS);break;case op:s.depthFunc(s.LEQUAL);break;case uA:s.depthFunc(s.EQUAL);break;case fA:s.depthFunc(s.GEQUAL);break;case hA:s.depthFunc(s.GREATER);break;case dA:s.depthFunc(s.NOTEQUAL);break;default:s.depthFunc(s.LEQUAL)}We=Mt}},setLocked:function(Mt){he=Mt},setClear:function(Mt){xt!==Mt&&(Fe&&(Mt=1-Mt),s.clearDepth(Mt),xt=Mt)},reset:function(){he=!1,Ie=null,We=null,xt=null,Fe=!1}}}function i(){let he=!1,Fe=null,Ie=null,We=null,xt=null,Mt=null,Qt=null,Sn=null,Jn=null;return{setTest:function(Et){he||(Et?Ee(s.STENCIL_TEST):Ne(s.STENCIL_TEST))},setMask:function(Et){Fe!==Et&&!he&&(s.stencilMask(Et),Fe=Et)},setFunc:function(Et,Lt,$t){(Ie!==Et||We!==Lt||xt!==$t)&&(s.stencilFunc(Et,Lt,$t),Ie=Et,We=Lt,xt=$t)},setOp:function(Et,Lt,$t){(Mt!==Et||Qt!==Lt||Sn!==$t)&&(s.stencilOp(Et,Lt,$t),Mt=Et,Qt=Lt,Sn=$t)},setLocked:function(Et){he=Et},setClear:function(Et){Jn!==Et&&(s.clearStencil(Et),Jn=Et)},reset:function(){he=!1,Fe=null,Ie=null,We=null,xt=null,Mt=null,Qt=null,Sn=null,Jn=null}}}const r=new t,a=new n,l=new i,u=new WeakMap,h=new WeakMap;let m={},g={},v=new WeakMap,_=[],S=null,b=!1,M=null,A=null,C=null,B=null,D=null,N=null,U=null,F=new Ct(0,0,0),z=0,O=!1,P=null,q=null,ne=null,te=null,ee=null;const oe=s.getParameter(s.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let H=!1,Y=0;const Z=s.getParameter(s.VERSION);Z.indexOf("WebGL")!==-1?(Y=parseFloat(/^WebGL (\d)/.exec(Z)[1]),H=Y>=1):Z.indexOf("OpenGL ES")!==-1&&(Y=parseFloat(/^OpenGL ES (\d)/.exec(Z)[1]),H=Y>=2);let de=null,I={};const ie=s.getParameter(s.SCISSOR_BOX),ue=s.getParameter(s.VIEWPORT),_e=new ti().fromArray(ie),se=new ti().fromArray(ue);function xe(he,Fe,Ie,We){const xt=new Uint8Array(4),Mt=s.createTexture();s.bindTexture(he,Mt),s.texParameteri(he,s.TEXTURE_MIN_FILTER,s.NEAREST),s.texParameteri(he,s.TEXTURE_MAG_FILTER,s.NEAREST);for(let Qt=0;Qt<Ie;Qt++)he===s.TEXTURE_3D||he===s.TEXTURE_2D_ARRAY?s.texImage3D(Fe,0,s.RGBA,1,1,We,0,s.RGBA,s.UNSIGNED_BYTE,xt):s.texImage2D(Fe+Qt,0,s.RGBA,1,1,0,s.RGBA,s.UNSIGNED_BYTE,xt);return Mt}const Ae={};Ae[s.TEXTURE_2D]=xe(s.TEXTURE_2D,s.TEXTURE_2D,1),Ae[s.TEXTURE_CUBE_MAP]=xe(s.TEXTURE_CUBE_MAP,s.TEXTURE_CUBE_MAP_POSITIVE_X,6),Ae[s.TEXTURE_2D_ARRAY]=xe(s.TEXTURE_2D_ARRAY,s.TEXTURE_2D_ARRAY,1,1),Ae[s.TEXTURE_3D]=xe(s.TEXTURE_3D,s.TEXTURE_3D,1,1),r.setClear(0,0,0,1),a.setClear(1),l.setClear(0),Ee(s.DEPTH_TEST),a.setFunc(op),Ye(!1),le(p2),Ee(s.CULL_FACE),ce(Ec);function Ee(he){m[he]!==!0&&(s.enable(he),m[he]=!0)}function Ne(he){m[he]!==!1&&(s.disable(he),m[he]=!1)}function ht(he,Fe){return g[he]!==Fe?(s.bindFramebuffer(he,Fe),g[he]=Fe,he===s.DRAW_FRAMEBUFFER&&(g[s.FRAMEBUFFER]=Fe),he===s.FRAMEBUFFER&&(g[s.DRAW_FRAMEBUFFER]=Fe),!0):!1}function Je(he,Fe){let Ie=_,We=!1;if(he){Ie=v.get(Fe),Ie===void 0&&(Ie=[],v.set(Fe,Ie));const xt=he.textures;if(Ie.length!==xt.length||Ie[0]!==s.COLOR_ATTACHMENT0){for(let Mt=0,Qt=xt.length;Mt<Qt;Mt++)Ie[Mt]=s.COLOR_ATTACHMENT0+Mt;Ie.length=xt.length,We=!0}}else Ie[0]!==s.BACK&&(Ie[0]=s.BACK,We=!0);We&&s.drawBuffers(Ie)}function st(he){return S!==he?(s.useProgram(he),S=he,!0):!1}const _t={[Pf]:s.FUNC_ADD,[yU]:s.FUNC_SUBTRACT,[_U]:s.FUNC_REVERSE_SUBTRACT};_t[xU]=s.MIN,_t[SU]=s.MAX;const dt={[AU]:s.ZERO,[MU]:s.ONE,[bU]:s.SRC_COLOR,[rA]:s.SRC_ALPHA,[BU]:s.SRC_ALPHA_SATURATE,[wU]:s.DST_COLOR,[TU]:s.DST_ALPHA,[EU]:s.ONE_MINUS_SRC_COLOR,[aA]:s.ONE_MINUS_SRC_ALPHA,[RU]:s.ONE_MINUS_DST_COLOR,[CU]:s.ONE_MINUS_DST_ALPHA,[DU]:s.CONSTANT_COLOR,[NU]:s.ONE_MINUS_CONSTANT_COLOR,[OU]:s.CONSTANT_ALPHA,[LU]:s.ONE_MINUS_CONSTANT_ALPHA};function ce(he,Fe,Ie,We,xt,Mt,Qt,Sn,Jn,Et){if(he===Ec){b===!0&&(Ne(s.BLEND),b=!1);return}if(b===!1&&(Ee(s.BLEND),b=!0),he!==vU){if(he!==M||Et!==O){if((A!==Pf||D!==Pf)&&(s.blendEquation(s.FUNC_ADD),A=Pf,D=Pf),Et)switch(he){case Qd:s.blendFuncSeparate(s.ONE,s.ONE_MINUS_SRC_ALPHA,s.ONE,s.ONE_MINUS_SRC_ALPHA);break;case sA:s.blendFunc(s.ONE,s.ONE);break;case m2:s.blendFuncSeparate(s.ZERO,s.ONE_MINUS_SRC_COLOR,s.ZERO,s.ONE);break;case g2:s.blendFuncSeparate(s.ZERO,s.SRC_COLOR,s.ZERO,s.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",he);break}else switch(he){case Qd:s.blendFuncSeparate(s.SRC_ALPHA,s.ONE_MINUS_SRC_ALPHA,s.ONE,s.ONE_MINUS_SRC_ALPHA);break;case sA:s.blendFunc(s.SRC_ALPHA,s.ONE);break;case m2:s.blendFuncSeparate(s.ZERO,s.ONE_MINUS_SRC_COLOR,s.ZERO,s.ONE);break;case g2:s.blendFunc(s.ZERO,s.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",he);break}C=null,B=null,N=null,U=null,F.set(0,0,0),z=0,M=he,O=Et}return}xt=xt||Fe,Mt=Mt||Ie,Qt=Qt||We,(Fe!==A||xt!==D)&&(s.blendEquationSeparate(_t[Fe],_t[xt]),A=Fe,D=xt),(Ie!==C||We!==B||Mt!==N||Qt!==U)&&(s.blendFuncSeparate(dt[Ie],dt[We],dt[Mt],dt[Qt]),C=Ie,B=We,N=Mt,U=Qt),(Sn.equals(F)===!1||Jn!==z)&&(s.blendColor(Sn.r,Sn.g,Sn.b,Jn),F.copy(Sn),z=Jn),M=he,O=!1}function Ht(he,Fe){he.side===Vo?Ne(s.CULL_FACE):Ee(s.CULL_FACE);let Ie=he.side===da;Fe&&(Ie=!Ie),Ye(Ie),he.blending===Qd&&he.transparent===!1?ce(Ec):ce(he.blending,he.blendEquation,he.blendSrc,he.blendDst,he.blendEquationAlpha,he.blendSrcAlpha,he.blendDstAlpha,he.blendColor,he.blendAlpha,he.premultipliedAlpha),a.setFunc(he.depthFunc),a.setTest(he.depthTest),a.setMask(he.depthWrite),r.setMask(he.colorWrite);const We=he.stencilWrite;l.setTest(We),We&&(l.setMask(he.stencilWriteMask),l.setFunc(he.stencilFunc,he.stencilRef,he.stencilFuncMask),l.setOp(he.stencilFail,he.stencilZFail,he.stencilZPass)),rt(he.polygonOffset,he.polygonOffsetFactor,he.polygonOffsetUnits),he.alphaToCoverage===!0?Ee(s.SAMPLE_ALPHA_TO_COVERAGE):Ne(s.SAMPLE_ALPHA_TO_COVERAGE)}function Ye(he){P!==he&&(he?s.frontFace(s.CW):s.frontFace(s.CCW),P=he)}function le(he){he!==pU?(Ee(s.CULL_FACE),he!==q&&(he===p2?s.cullFace(s.BACK):he===mU?s.cullFace(s.FRONT):s.cullFace(s.FRONT_AND_BACK))):Ne(s.CULL_FACE),q=he}function He(he){he!==ne&&(H&&s.lineWidth(he),ne=he)}function rt(he,Fe,Ie){he?(Ee(s.POLYGON_OFFSET_FILL),(te!==Fe||ee!==Ie)&&(s.polygonOffset(Fe,Ie),te=Fe,ee=Ie)):Ne(s.POLYGON_OFFSET_FILL)}function Ge(he){he?Ee(s.SCISSOR_TEST):Ne(s.SCISSOR_TEST)}function Q(he){he===void 0&&(he=s.TEXTURE0+oe-1),de!==he&&(s.activeTexture(he),de=he)}function X(he,Fe,Ie){Ie===void 0&&(de===null?Ie=s.TEXTURE0+oe-1:Ie=de);let We=I[Ie];We===void 0&&(We={type:void 0,texture:void 0},I[Ie]=We),(We.type!==he||We.texture!==Fe)&&(de!==Ie&&(s.activeTexture(Ie),de=Ie),s.bindTexture(he,Fe||Ae[he]),We.type=he,We.texture=Fe)}function be(){const he=I[de];he!==void 0&&he.type!==void 0&&(s.bindTexture(he.type,null),he.type=void 0,he.texture=void 0)}function Pe(){try{s.compressedTexImage2D(...arguments)}catch(he){console.error("THREE.WebGLState:",he)}}function Le(){try{s.compressedTexImage3D(...arguments)}catch(he){console.error("THREE.WebGLState:",he)}}function Ve(){try{s.texSubImage2D(...arguments)}catch(he){console.error("THREE.WebGLState:",he)}}function lt(){try{s.texSubImage3D(...arguments)}catch(he){console.error("THREE.WebGLState:",he)}}function ot(){try{s.compressedTexSubImage2D(...arguments)}catch(he){console.error("THREE.WebGLState:",he)}}function ut(){try{s.compressedTexSubImage3D(...arguments)}catch(he){console.error("THREE.WebGLState:",he)}}function Vt(){try{s.texStorage2D(...arguments)}catch(he){console.error("THREE.WebGLState:",he)}}function ct(){try{s.texStorage3D(...arguments)}catch(he){console.error("THREE.WebGLState:",he)}}function ft(){try{s.texImage2D(...arguments)}catch(he){console.error("THREE.WebGLState:",he)}}function Tt(){try{s.texImage3D(...arguments)}catch(he){console.error("THREE.WebGLState:",he)}}function gt(he){_e.equals(he)===!1&&(s.scissor(he.x,he.y,he.z,he.w),_e.copy(he))}function vt(he){se.equals(he)===!1&&(s.viewport(he.x,he.y,he.z,he.w),se.copy(he))}function Wt(he,Fe){let Ie=h.get(Fe);Ie===void 0&&(Ie=new WeakMap,h.set(Fe,Ie));let We=Ie.get(he);We===void 0&&(We=s.getUniformBlockIndex(Fe,he.name),Ie.set(he,We))}function wt(he,Fe){const We=h.get(Fe).get(he);u.get(Fe)!==We&&(s.uniformBlockBinding(Fe,We,he.__bindingPointIndex),u.set(Fe,We))}function Yt(){s.disable(s.BLEND),s.disable(s.CULL_FACE),s.disable(s.DEPTH_TEST),s.disable(s.POLYGON_OFFSET_FILL),s.disable(s.SCISSOR_TEST),s.disable(s.STENCIL_TEST),s.disable(s.SAMPLE_ALPHA_TO_COVERAGE),s.blendEquation(s.FUNC_ADD),s.blendFunc(s.ONE,s.ZERO),s.blendFuncSeparate(s.ONE,s.ZERO,s.ONE,s.ZERO),s.blendColor(0,0,0,0),s.colorMask(!0,!0,!0,!0),s.clearColor(0,0,0,0),s.depthMask(!0),s.depthFunc(s.LESS),a.setReversed(!1),s.clearDepth(1),s.stencilMask(4294967295),s.stencilFunc(s.ALWAYS,0,4294967295),s.stencilOp(s.KEEP,s.KEEP,s.KEEP),s.clearStencil(0),s.cullFace(s.BACK),s.frontFace(s.CCW),s.polygonOffset(0,0),s.activeTexture(s.TEXTURE0),s.bindFramebuffer(s.FRAMEBUFFER,null),s.bindFramebuffer(s.DRAW_FRAMEBUFFER,null),s.bindFramebuffer(s.READ_FRAMEBUFFER,null),s.useProgram(null),s.lineWidth(1),s.scissor(0,0,s.canvas.width,s.canvas.height),s.viewport(0,0,s.canvas.width,s.canvas.height),m={},de=null,I={},g={},v=new WeakMap,_=[],S=null,b=!1,M=null,A=null,C=null,B=null,D=null,N=null,U=null,F=new Ct(0,0,0),z=0,O=!1,P=null,q=null,ne=null,te=null,ee=null,_e.set(0,0,s.canvas.width,s.canvas.height),se.set(0,0,s.canvas.width,s.canvas.height),r.reset(),a.reset(),l.reset()}return{buffers:{color:r,depth:a,stencil:l},enable:Ee,disable:Ne,bindFramebuffer:ht,drawBuffers:Je,useProgram:st,setBlending:ce,setMaterial:Ht,setFlipSided:Ye,setCullFace:le,setLineWidth:He,setPolygonOffset:rt,setScissorTest:Ge,activeTexture:Q,bindTexture:X,unbindTexture:be,compressedTexImage2D:Pe,compressedTexImage3D:Le,texImage2D:ft,texImage3D:Tt,updateUBOMapping:Wt,uniformBlockBinding:wt,texStorage2D:Vt,texStorage3D:ct,texSubImage2D:Ve,texSubImage3D:lt,compressedTexSubImage2D:ot,compressedTexSubImage3D:ut,scissor:gt,viewport:vt,reset:Yt}}function XZ(s,e,t,n,i,r,a){const l=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,u=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),h=new at,m=new WeakMap;let g;const v=new WeakMap;let _=!1;try{_=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function S(Q,X){return _?new OffscreenCanvas(Q,X):jy("canvas")}function b(Q,X,be){let Pe=1;const Le=Ge(Q);if((Le.width>be||Le.height>be)&&(Pe=be/Math.max(Le.width,Le.height)),Pe<1)if(typeof HTMLImageElement<"u"&&Q instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&Q instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&Q instanceof ImageBitmap||typeof VideoFrame<"u"&&Q instanceof VideoFrame){const Ve=Math.floor(Pe*Le.width),lt=Math.floor(Pe*Le.height);g===void 0&&(g=S(Ve,lt));const ot=X?S(Ve,lt):g;return ot.width=Ve,ot.height=lt,ot.getContext("2d").drawImage(Q,0,0,Ve,lt),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+Le.width+"x"+Le.height+") to ("+Ve+"x"+lt+")."),ot}else return"data"in Q&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+Le.width+"x"+Le.height+")."),Q;return Q}function M(Q){return Q.generateMipmaps}function A(Q){s.generateMipmap(Q)}function C(Q){return Q.isWebGLCubeRenderTarget?s.TEXTURE_CUBE_MAP:Q.isWebGL3DRenderTarget?s.TEXTURE_3D:Q.isWebGLArrayRenderTarget||Q.isCompressedArrayTexture?s.TEXTURE_2D_ARRAY:s.TEXTURE_2D}function B(Q,X,be,Pe,Le=!1){if(Q!==null){if(s[Q]!==void 0)return s[Q];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+Q+"'")}let Ve=X;if(X===s.RED&&(be===s.FLOAT&&(Ve=s.R32F),be===s.HALF_FLOAT&&(Ve=s.R16F),be===s.UNSIGNED_BYTE&&(Ve=s.R8)),X===s.RED_INTEGER&&(be===s.UNSIGNED_BYTE&&(Ve=s.R8UI),be===s.UNSIGNED_SHORT&&(Ve=s.R16UI),be===s.UNSIGNED_INT&&(Ve=s.R32UI),be===s.BYTE&&(Ve=s.R8I),be===s.SHORT&&(Ve=s.R16I),be===s.INT&&(Ve=s.R32I)),X===s.RG&&(be===s.FLOAT&&(Ve=s.RG32F),be===s.HALF_FLOAT&&(Ve=s.RG16F),be===s.UNSIGNED_BYTE&&(Ve=s.RG8)),X===s.RG_INTEGER&&(be===s.UNSIGNED_BYTE&&(Ve=s.RG8UI),be===s.UNSIGNED_SHORT&&(Ve=s.RG16UI),be===s.UNSIGNED_INT&&(Ve=s.RG32UI),be===s.BYTE&&(Ve=s.RG8I),be===s.SHORT&&(Ve=s.RG16I),be===s.INT&&(Ve=s.RG32I)),X===s.RGB_INTEGER&&(be===s.UNSIGNED_BYTE&&(Ve=s.RGB8UI),be===s.UNSIGNED_SHORT&&(Ve=s.RGB16UI),be===s.UNSIGNED_INT&&(Ve=s.RGB32UI),be===s.BYTE&&(Ve=s.RGB8I),be===s.SHORT&&(Ve=s.RGB16I),be===s.INT&&(Ve=s.RGB32I)),X===s.RGBA_INTEGER&&(be===s.UNSIGNED_BYTE&&(Ve=s.RGBA8UI),be===s.UNSIGNED_SHORT&&(Ve=s.RGBA16UI),be===s.UNSIGNED_INT&&(Ve=s.RGBA32UI),be===s.BYTE&&(Ve=s.RGBA8I),be===s.SHORT&&(Ve=s.RGBA16I),be===s.INT&&(Ve=s.RGBA32I)),X===s.RGB&&be===s.UNSIGNED_INT_5_9_9_9_REV&&(Ve=s.RGB9_E5),X===s.RGBA){const lt=Le?Gy:qn.getTransfer(Pe);be===s.FLOAT&&(Ve=s.RGBA32F),be===s.HALF_FLOAT&&(Ve=s.RGBA16F),be===s.UNSIGNED_BYTE&&(Ve=lt===Si?s.SRGB8_ALPHA8:s.RGBA8),be===s.UNSIGNED_SHORT_4_4_4_4&&(Ve=s.RGBA4),be===s.UNSIGNED_SHORT_5_5_5_1&&(Ve=s.RGB5_A1)}return(Ve===s.R16F||Ve===s.R32F||Ve===s.RG16F||Ve===s.RG32F||Ve===s.RGBA16F||Ve===s.RGBA32F)&&e.get("EXT_color_buffer_float"),Ve}function D(Q,X){let be;return Q?X===null||X===Dc||X===Dg?be=s.DEPTH24_STENCIL8:X===$i?be=s.DEPTH32F_STENCIL8:X===Bg&&(be=s.DEPTH24_STENCIL8,console.warn("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):X===null||X===Dc||X===Dg?be=s.DEPTH_COMPONENT24:X===$i?be=s.DEPTH_COMPONENT32F:X===Bg&&(be=s.DEPTH_COMPONENT16),be}function N(Q,X){return M(Q)===!0||Q.isFramebufferTexture&&Q.minFilter!==Js&&Q.minFilter!==fi?Math.log2(Math.max(X.width,X.height))+1:Q.mipmaps!==void 0&&Q.mipmaps.length>0?Q.mipmaps.length:Q.isCompressedTexture&&Array.isArray(Q.image)?X.mipmaps.length:1}function U(Q){const X=Q.target;X.removeEventListener("dispose",U),z(X),X.isVideoTexture&&m.delete(X)}function F(Q){const X=Q.target;X.removeEventListener("dispose",F),P(X)}function z(Q){const X=n.get(Q);if(X.__webglInit===void 0)return;const be=Q.source,Pe=v.get(be);if(Pe){const Le=Pe[X.__cacheKey];Le.usedTimes--,Le.usedTimes===0&&O(Q),Object.keys(Pe).length===0&&v.delete(be)}n.remove(Q)}function O(Q){const X=n.get(Q);s.deleteTexture(X.__webglTexture);const be=Q.source,Pe=v.get(be);delete Pe[X.__cacheKey],a.memory.textures--}function P(Q){const X=n.get(Q);if(Q.depthTexture&&(Q.depthTexture.dispose(),n.remove(Q.depthTexture)),Q.isWebGLCubeRenderTarget)for(let Pe=0;Pe<6;Pe++){if(Array.isArray(X.__webglFramebuffer[Pe]))for(let Le=0;Le<X.__webglFramebuffer[Pe].length;Le++)s.deleteFramebuffer(X.__webglFramebuffer[Pe][Le]);else s.deleteFramebuffer(X.__webglFramebuffer[Pe]);X.__webglDepthbuffer&&s.deleteRenderbuffer(X.__webglDepthbuffer[Pe])}else{if(Array.isArray(X.__webglFramebuffer))for(let Pe=0;Pe<X.__webglFramebuffer.length;Pe++)s.deleteFramebuffer(X.__webglFramebuffer[Pe]);else s.deleteFramebuffer(X.__webglFramebuffer);if(X.__webglDepthbuffer&&s.deleteRenderbuffer(X.__webglDepthbuffer),X.__webglMultisampledFramebuffer&&s.deleteFramebuffer(X.__webglMultisampledFramebuffer),X.__webglColorRenderbuffer)for(let Pe=0;Pe<X.__webglColorRenderbuffer.length;Pe++)X.__webglColorRenderbuffer[Pe]&&s.deleteRenderbuffer(X.__webglColorRenderbuffer[Pe]);X.__webglDepthRenderbuffer&&s.deleteRenderbuffer(X.__webglDepthRenderbuffer)}const be=Q.textures;for(let Pe=0,Le=be.length;Pe<Le;Pe++){const Ve=n.get(be[Pe]);Ve.__webglTexture&&(s.deleteTexture(Ve.__webglTexture),a.memory.textures--),n.remove(be[Pe])}n.remove(Q)}let q=0;function ne(){q=0}function te(){const Q=q;return Q>=i.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+Q+" texture units while this GPU supports only "+i.maxTextures),q+=1,Q}function ee(Q){const X=[];return X.push(Q.wrapS),X.push(Q.wrapT),X.push(Q.wrapR||0),X.push(Q.magFilter),X.push(Q.minFilter),X.push(Q.anisotropy),X.push(Q.internalFormat),X.push(Q.format),X.push(Q.type),X.push(Q.generateMipmaps),X.push(Q.premultiplyAlpha),X.push(Q.flipY),X.push(Q.unpackAlignment),X.push(Q.colorSpace),X.join()}function oe(Q,X){const be=n.get(Q);if(Q.isVideoTexture&&He(Q),Q.isRenderTargetTexture===!1&&Q.version>0&&be.__version!==Q.version){const Pe=Q.image;if(Pe===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(Pe.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{se(be,Q,X);return}}t.bindTexture(s.TEXTURE_2D,be.__webglTexture,s.TEXTURE0+X)}function H(Q,X){const be=n.get(Q);if(Q.version>0&&be.__version!==Q.version){se(be,Q,X);return}t.bindTexture(s.TEXTURE_2D_ARRAY,be.__webglTexture,s.TEXTURE0+X)}function Y(Q,X){const be=n.get(Q);if(Q.version>0&&be.__version!==Q.version){se(be,Q,X);return}t.bindTexture(s.TEXTURE_3D,be.__webglTexture,s.TEXTURE0+X)}function Z(Q,X){const be=n.get(Q);if(Q.version>0&&be.__version!==Q.version){xe(be,Q,X);return}t.bindTexture(s.TEXTURE_CUBE_MAP,be.__webglTexture,s.TEXTURE0+X)}const de={[sh]:s.REPEAT,[ps]:s.CLAMP_TO_EDGE,[Rg]:s.MIRRORED_REPEAT},I={[Js]:s.NEAREST,[hM]:s.NEAREST_MIPMAP_NEAREST,[Id]:s.NEAREST_MIPMAP_LINEAR,[fi]:s.LINEAR,[pg]:s.LINEAR_MIPMAP_NEAREST,[Xo]:s.LINEAR_MIPMAP_LINEAR},ie={[ZU]:s.NEVER,[i8]:s.ALWAYS,[QU]:s.LESS,[lw]:s.LEQUAL,[$U]:s.EQUAL,[n8]:s.GEQUAL,[e8]:s.GREATER,[t8]:s.NOTEQUAL};function ue(Q,X){if(X.type===$i&&e.has("OES_texture_float_linear")===!1&&(X.magFilter===fi||X.magFilter===pg||X.magFilter===Id||X.magFilter===Xo||X.minFilter===fi||X.minFilter===pg||X.minFilter===Id||X.minFilter===Xo)&&console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),s.texParameteri(Q,s.TEXTURE_WRAP_S,de[X.wrapS]),s.texParameteri(Q,s.TEXTURE_WRAP_T,de[X.wrapT]),(Q===s.TEXTURE_3D||Q===s.TEXTURE_2D_ARRAY)&&s.texParameteri(Q,s.TEXTURE_WRAP_R,de[X.wrapR]),s.texParameteri(Q,s.TEXTURE_MAG_FILTER,I[X.magFilter]),s.texParameteri(Q,s.TEXTURE_MIN_FILTER,I[X.minFilter]),X.compareFunction&&(s.texParameteri(Q,s.TEXTURE_COMPARE_MODE,s.COMPARE_REF_TO_TEXTURE),s.texParameteri(Q,s.TEXTURE_COMPARE_FUNC,ie[X.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){if(X.magFilter===Js||X.minFilter!==Id&&X.minFilter!==Xo||X.type===$i&&e.has("OES_texture_float_linear")===!1)return;if(X.anisotropy>1||n.get(X).__currentAnisotropy){const be=e.get("EXT_texture_filter_anisotropic");s.texParameterf(Q,be.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(X.anisotropy,i.getMaxAnisotropy())),n.get(X).__currentAnisotropy=X.anisotropy}}}function _e(Q,X){let be=!1;Q.__webglInit===void 0&&(Q.__webglInit=!0,X.addEventListener("dispose",U));const Pe=X.source;let Le=v.get(Pe);Le===void 0&&(Le={},v.set(Pe,Le));const Ve=ee(X);if(Ve!==Q.__cacheKey){Le[Ve]===void 0&&(Le[Ve]={texture:s.createTexture(),usedTimes:0},a.memory.textures++,be=!0),Le[Ve].usedTimes++;const lt=Le[Q.__cacheKey];lt!==void 0&&(Le[Q.__cacheKey].usedTimes--,lt.usedTimes===0&&O(X)),Q.__cacheKey=Ve,Q.__webglTexture=Le[Ve].texture}return be}function se(Q,X,be){let Pe=s.TEXTURE_2D;(X.isDataArrayTexture||X.isCompressedArrayTexture)&&(Pe=s.TEXTURE_2D_ARRAY),X.isData3DTexture&&(Pe=s.TEXTURE_3D);const Le=_e(Q,X),Ve=X.source;t.bindTexture(Pe,Q.__webglTexture,s.TEXTURE0+be);const lt=n.get(Ve);if(Ve.version!==lt.__version||Le===!0){t.activeTexture(s.TEXTURE0+be);const ot=qn.getPrimaries(qn.workingColorSpace),ut=X.colorSpace===du?null:qn.getPrimaries(X.colorSpace),Vt=X.colorSpace===du||ot===ut?s.NONE:s.BROWSER_DEFAULT_WEBGL;s.pixelStorei(s.UNPACK_FLIP_Y_WEBGL,X.flipY),s.pixelStorei(s.UNPACK_PREMULTIPLY_ALPHA_WEBGL,X.premultiplyAlpha),s.pixelStorei(s.UNPACK_ALIGNMENT,X.unpackAlignment),s.pixelStorei(s.UNPACK_COLORSPACE_CONVERSION_WEBGL,Vt);let ct=b(X.image,!1,i.maxTextureSize);ct=rt(X,ct);const ft=r.convert(X.format,X.colorSpace),Tt=r.convert(X.type);let gt=B(X.internalFormat,ft,Tt,X.colorSpace,X.isVideoTexture);ue(Pe,X);let vt;const Wt=X.mipmaps,wt=X.isVideoTexture!==!0,Yt=lt.__version===void 0||Le===!0,he=Ve.dataReady,Fe=N(X,ct);if(X.isDepthTexture)gt=D(X.format===Og,X.type),Yt&&(wt?t.texStorage2D(s.TEXTURE_2D,1,gt,ct.width,ct.height):t.texImage2D(s.TEXTURE_2D,0,gt,ct.width,ct.height,0,ft,Tt,null));else if(X.isDataTexture)if(Wt.length>0){wt&&Yt&&t.texStorage2D(s.TEXTURE_2D,Fe,gt,Wt[0].width,Wt[0].height);for(let Ie=0,We=Wt.length;Ie<We;Ie++)vt=Wt[Ie],wt?he&&t.texSubImage2D(s.TEXTURE_2D,Ie,0,0,vt.width,vt.height,ft,Tt,vt.data):t.texImage2D(s.TEXTURE_2D,Ie,gt,vt.width,vt.height,0,ft,Tt,vt.data);X.generateMipmaps=!1}else wt?(Yt&&t.texStorage2D(s.TEXTURE_2D,Fe,gt,ct.width,ct.height),he&&t.texSubImage2D(s.TEXTURE_2D,0,0,0,ct.width,ct.height,ft,Tt,ct.data)):t.texImage2D(s.TEXTURE_2D,0,gt,ct.width,ct.height,0,ft,Tt,ct.data);else if(X.isCompressedTexture)if(X.isCompressedArrayTexture){wt&&Yt&&t.texStorage3D(s.TEXTURE_2D_ARRAY,Fe,gt,Wt[0].width,Wt[0].height,ct.depth);for(let Ie=0,We=Wt.length;Ie<We;Ie++)if(vt=Wt[Ie],X.format!==ms)if(ft!==null)if(wt){if(he)if(X.layerUpdates.size>0){const xt=T2(vt.width,vt.height,X.format,X.type);for(const Mt of X.layerUpdates){const Qt=vt.data.subarray(Mt*xt/vt.data.BYTES_PER_ELEMENT,(Mt+1)*xt/vt.data.BYTES_PER_ELEMENT);t.compressedTexSubImage3D(s.TEXTURE_2D_ARRAY,Ie,0,0,Mt,vt.width,vt.height,1,ft,Qt)}X.clearLayerUpdates()}else t.compressedTexSubImage3D(s.TEXTURE_2D_ARRAY,Ie,0,0,0,vt.width,vt.height,ct.depth,ft,vt.data)}else t.compressedTexImage3D(s.TEXTURE_2D_ARRAY,Ie,gt,vt.width,vt.height,ct.depth,0,vt.data,0,0);else console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else wt?he&&t.texSubImage3D(s.TEXTURE_2D_ARRAY,Ie,0,0,0,vt.width,vt.height,ct.depth,ft,Tt,vt.data):t.texImage3D(s.TEXTURE_2D_ARRAY,Ie,gt,vt.width,vt.height,ct.depth,0,ft,Tt,vt.data)}else{wt&&Yt&&t.texStorage2D(s.TEXTURE_2D,Fe,gt,Wt[0].width,Wt[0].height);for(let Ie=0,We=Wt.length;Ie<We;Ie++)vt=Wt[Ie],X.format!==ms?ft!==null?wt?he&&t.compressedTexSubImage2D(s.TEXTURE_2D,Ie,0,0,vt.width,vt.height,ft,vt.data):t.compressedTexImage2D(s.TEXTURE_2D,Ie,gt,vt.width,vt.height,0,vt.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):wt?he&&t.texSubImage2D(s.TEXTURE_2D,Ie,0,0,vt.width,vt.height,ft,Tt,vt.data):t.texImage2D(s.TEXTURE_2D,Ie,gt,vt.width,vt.height,0,ft,Tt,vt.data)}else if(X.isDataArrayTexture)if(wt){if(Yt&&t.texStorage3D(s.TEXTURE_2D_ARRAY,Fe,gt,ct.width,ct.height,ct.depth),he)if(X.layerUpdates.size>0){const Ie=T2(ct.width,ct.height,X.format,X.type);for(const We of X.layerUpdates){const xt=ct.data.subarray(We*Ie/ct.data.BYTES_PER_ELEMENT,(We+1)*Ie/ct.data.BYTES_PER_ELEMENT);t.texSubImage3D(s.TEXTURE_2D_ARRAY,0,0,0,We,ct.width,ct.height,1,ft,Tt,xt)}X.clearLayerUpdates()}else t.texSubImage3D(s.TEXTURE_2D_ARRAY,0,0,0,0,ct.width,ct.height,ct.depth,ft,Tt,ct.data)}else t.texImage3D(s.TEXTURE_2D_ARRAY,0,gt,ct.width,ct.height,ct.depth,0,ft,Tt,ct.data);else if(X.isData3DTexture)wt?(Yt&&t.texStorage3D(s.TEXTURE_3D,Fe,gt,ct.width,ct.height,ct.depth),he&&t.texSubImage3D(s.TEXTURE_3D,0,0,0,0,ct.width,ct.height,ct.depth,ft,Tt,ct.data)):t.texImage3D(s.TEXTURE_3D,0,gt,ct.width,ct.height,ct.depth,0,ft,Tt,ct.data);else if(X.isFramebufferTexture){if(Yt)if(wt)t.texStorage2D(s.TEXTURE_2D,Fe,gt,ct.width,ct.height);else{let Ie=ct.width,We=ct.height;for(let xt=0;xt<Fe;xt++)t.texImage2D(s.TEXTURE_2D,xt,gt,Ie,We,0,ft,Tt,null),Ie>>=1,We>>=1}}else if(Wt.length>0){if(wt&&Yt){const Ie=Ge(Wt[0]);t.texStorage2D(s.TEXTURE_2D,Fe,gt,Ie.width,Ie.height)}for(let Ie=0,We=Wt.length;Ie<We;Ie++)vt=Wt[Ie],wt?he&&t.texSubImage2D(s.TEXTURE_2D,Ie,0,0,ft,Tt,vt):t.texImage2D(s.TEXTURE_2D,Ie,gt,ft,Tt,vt);X.generateMipmaps=!1}else if(wt){if(Yt){const Ie=Ge(ct);t.texStorage2D(s.TEXTURE_2D,Fe,gt,Ie.width,Ie.height)}he&&t.texSubImage2D(s.TEXTURE_2D,0,0,0,ft,Tt,ct)}else t.texImage2D(s.TEXTURE_2D,0,gt,ft,Tt,ct);M(X)&&A(Pe),lt.__version=Ve.version,X.onUpdate&&X.onUpdate(X)}Q.__version=X.version}function xe(Q,X,be){if(X.image.length!==6)return;const Pe=_e(Q,X),Le=X.source;t.bindTexture(s.TEXTURE_CUBE_MAP,Q.__webglTexture,s.TEXTURE0+be);const Ve=n.get(Le);if(Le.version!==Ve.__version||Pe===!0){t.activeTexture(s.TEXTURE0+be);const lt=qn.getPrimaries(qn.workingColorSpace),ot=X.colorSpace===du?null:qn.getPrimaries(X.colorSpace),ut=X.colorSpace===du||lt===ot?s.NONE:s.BROWSER_DEFAULT_WEBGL;s.pixelStorei(s.UNPACK_FLIP_Y_WEBGL,X.flipY),s.pixelStorei(s.UNPACK_PREMULTIPLY_ALPHA_WEBGL,X.premultiplyAlpha),s.pixelStorei(s.UNPACK_ALIGNMENT,X.unpackAlignment),s.pixelStorei(s.UNPACK_COLORSPACE_CONVERSION_WEBGL,ut);const Vt=X.isCompressedTexture||X.image[0].isCompressedTexture,ct=X.image[0]&&X.image[0].isDataTexture,ft=[];for(let We=0;We<6;We++)!Vt&&!ct?ft[We]=b(X.image[We],!0,i.maxCubemapSize):ft[We]=ct?X.image[We].image:X.image[We],ft[We]=rt(X,ft[We]);const Tt=ft[0],gt=r.convert(X.format,X.colorSpace),vt=r.convert(X.type),Wt=B(X.internalFormat,gt,vt,X.colorSpace),wt=X.isVideoTexture!==!0,Yt=Ve.__version===void 0||Pe===!0,he=Le.dataReady;let Fe=N(X,Tt);ue(s.TEXTURE_CUBE_MAP,X);let Ie;if(Vt){wt&&Yt&&t.texStorage2D(s.TEXTURE_CUBE_MAP,Fe,Wt,Tt.width,Tt.height);for(let We=0;We<6;We++){Ie=ft[We].mipmaps;for(let xt=0;xt<Ie.length;xt++){const Mt=Ie[xt];X.format!==ms?gt!==null?wt?he&&t.compressedTexSubImage2D(s.TEXTURE_CUBE_MAP_POSITIVE_X+We,xt,0,0,Mt.width,Mt.height,gt,Mt.data):t.compressedTexImage2D(s.TEXTURE_CUBE_MAP_POSITIVE_X+We,xt,Wt,Mt.width,Mt.height,0,Mt.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):wt?he&&t.texSubImage2D(s.TEXTURE_CUBE_MAP_POSITIVE_X+We,xt,0,0,Mt.width,Mt.height,gt,vt,Mt.data):t.texImage2D(s.TEXTURE_CUBE_MAP_POSITIVE_X+We,xt,Wt,Mt.width,Mt.height,0,gt,vt,Mt.data)}}}else{if(Ie=X.mipmaps,wt&&Yt){Ie.length>0&&Fe++;const We=Ge(ft[0]);t.texStorage2D(s.TEXTURE_CUBE_MAP,Fe,Wt,We.width,We.height)}for(let We=0;We<6;We++)if(ct){wt?he&&t.texSubImage2D(s.TEXTURE_CUBE_MAP_POSITIVE_X+We,0,0,0,ft[We].width,ft[We].height,gt,vt,ft[We].data):t.texImage2D(s.TEXTURE_CUBE_MAP_POSITIVE_X+We,0,Wt,ft[We].width,ft[We].height,0,gt,vt,ft[We].data);for(let xt=0;xt<Ie.length;xt++){const Qt=Ie[xt].image[We].image;wt?he&&t.texSubImage2D(s.TEXTURE_CUBE_MAP_POSITIVE_X+We,xt+1,0,0,Qt.width,Qt.height,gt,vt,Qt.data):t.texImage2D(s.TEXTURE_CUBE_MAP_POSITIVE_X+We,xt+1,Wt,Qt.width,Qt.height,0,gt,vt,Qt.data)}}else{wt?he&&t.texSubImage2D(s.TEXTURE_CUBE_MAP_POSITIVE_X+We,0,0,0,gt,vt,ft[We]):t.texImage2D(s.TEXTURE_CUBE_MAP_POSITIVE_X+We,0,Wt,gt,vt,ft[We]);for(let xt=0;xt<Ie.length;xt++){const Mt=Ie[xt];wt?he&&t.texSubImage2D(s.TEXTURE_CUBE_MAP_POSITIVE_X+We,xt+1,0,0,gt,vt,Mt.image[We]):t.texImage2D(s.TEXTURE_CUBE_MAP_POSITIVE_X+We,xt+1,Wt,gt,vt,Mt.image[We])}}}M(X)&&A(s.TEXTURE_CUBE_MAP),Ve.__version=Le.version,X.onUpdate&&X.onUpdate(X)}Q.__version=X.version}function Ae(Q,X,be,Pe,Le,Ve){const lt=r.convert(be.format,be.colorSpace),ot=r.convert(be.type),ut=B(be.internalFormat,lt,ot,be.colorSpace),Vt=n.get(X),ct=n.get(be);if(ct.__renderTarget=X,!Vt.__hasExternalTextures){const ft=Math.max(1,X.width>>Ve),Tt=Math.max(1,X.height>>Ve);Le===s.TEXTURE_3D||Le===s.TEXTURE_2D_ARRAY?t.texImage3D(Le,Ve,ut,ft,Tt,X.depth,0,lt,ot,null):t.texImage2D(Le,Ve,ut,ft,Tt,0,lt,ot,null)}t.bindFramebuffer(s.FRAMEBUFFER,Q),le(X)?l.framebufferTexture2DMultisampleEXT(s.FRAMEBUFFER,Pe,Le,ct.__webglTexture,0,Ye(X)):(Le===s.TEXTURE_2D||Le>=s.TEXTURE_CUBE_MAP_POSITIVE_X&&Le<=s.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&s.framebufferTexture2D(s.FRAMEBUFFER,Pe,Le,ct.__webglTexture,Ve),t.bindFramebuffer(s.FRAMEBUFFER,null)}function Ee(Q,X,be){if(s.bindRenderbuffer(s.RENDERBUFFER,Q),X.depthBuffer){const Pe=X.depthTexture,Le=Pe&&Pe.isDepthTexture?Pe.type:null,Ve=D(X.stencilBuffer,Le),lt=X.stencilBuffer?s.DEPTH_STENCIL_ATTACHMENT:s.DEPTH_ATTACHMENT,ot=Ye(X);le(X)?l.renderbufferStorageMultisampleEXT(s.RENDERBUFFER,ot,Ve,X.width,X.height):be?s.renderbufferStorageMultisample(s.RENDERBUFFER,ot,Ve,X.width,X.height):s.renderbufferStorage(s.RENDERBUFFER,Ve,X.width,X.height),s.framebufferRenderbuffer(s.FRAMEBUFFER,lt,s.RENDERBUFFER,Q)}else{const Pe=X.textures;for(let Le=0;Le<Pe.length;Le++){const Ve=Pe[Le],lt=r.convert(Ve.format,Ve.colorSpace),ot=r.convert(Ve.type),ut=B(Ve.internalFormat,lt,ot,Ve.colorSpace),Vt=Ye(X);be&&le(X)===!1?s.renderbufferStorageMultisample(s.RENDERBUFFER,Vt,ut,X.width,X.height):le(X)?l.renderbufferStorageMultisampleEXT(s.RENDERBUFFER,Vt,ut,X.width,X.height):s.renderbufferStorage(s.RENDERBUFFER,ut,X.width,X.height)}}s.bindRenderbuffer(s.RENDERBUFFER,null)}function Ne(Q,X){if(X&&X.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(s.FRAMEBUFFER,Q),!(X.depthTexture&&X.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");const Pe=n.get(X.depthTexture);Pe.__renderTarget=X,(!Pe.__webglTexture||X.depthTexture.image.width!==X.width||X.depthTexture.image.height!==X.height)&&(X.depthTexture.image.width=X.width,X.depthTexture.image.height=X.height,X.depthTexture.needsUpdate=!0),oe(X.depthTexture,0);const Le=Pe.__webglTexture,Ve=Ye(X);if(X.depthTexture.format===Ng)le(X)?l.framebufferTexture2DMultisampleEXT(s.FRAMEBUFFER,s.DEPTH_ATTACHMENT,s.TEXTURE_2D,Le,0,Ve):s.framebufferTexture2D(s.FRAMEBUFFER,s.DEPTH_ATTACHMENT,s.TEXTURE_2D,Le,0);else if(X.depthTexture.format===Og)le(X)?l.framebufferTexture2DMultisampleEXT(s.FRAMEBUFFER,s.DEPTH_STENCIL_ATTACHMENT,s.TEXTURE_2D,Le,0,Ve):s.framebufferTexture2D(s.FRAMEBUFFER,s.DEPTH_STENCIL_ATTACHMENT,s.TEXTURE_2D,Le,0);else throw new Error("Unknown depthTexture format")}function ht(Q){const X=n.get(Q),be=Q.isWebGLCubeRenderTarget===!0;if(X.__boundDepthTexture!==Q.depthTexture){const Pe=Q.depthTexture;if(X.__depthDisposeCallback&&X.__depthDisposeCallback(),Pe){const Le=()=>{delete X.__boundDepthTexture,delete X.__depthDisposeCallback,Pe.removeEventListener("dispose",Le)};Pe.addEventListener("dispose",Le),X.__depthDisposeCallback=Le}X.__boundDepthTexture=Pe}if(Q.depthTexture&&!X.__autoAllocateDepthBuffer){if(be)throw new Error("target.depthTexture not supported in Cube render targets");Ne(X.__webglFramebuffer,Q)}else if(be){X.__webglDepthbuffer=[];for(let Pe=0;Pe<6;Pe++)if(t.bindFramebuffer(s.FRAMEBUFFER,X.__webglFramebuffer[Pe]),X.__webglDepthbuffer[Pe]===void 0)X.__webglDepthbuffer[Pe]=s.createRenderbuffer(),Ee(X.__webglDepthbuffer[Pe],Q,!1);else{const Le=Q.stencilBuffer?s.DEPTH_STENCIL_ATTACHMENT:s.DEPTH_ATTACHMENT,Ve=X.__webglDepthbuffer[Pe];s.bindRenderbuffer(s.RENDERBUFFER,Ve),s.framebufferRenderbuffer(s.FRAMEBUFFER,Le,s.RENDERBUFFER,Ve)}}else if(t.bindFramebuffer(s.FRAMEBUFFER,X.__webglFramebuffer),X.__webglDepthbuffer===void 0)X.__webglDepthbuffer=s.createRenderbuffer(),Ee(X.__webglDepthbuffer,Q,!1);else{const Pe=Q.stencilBuffer?s.DEPTH_STENCIL_ATTACHMENT:s.DEPTH_ATTACHMENT,Le=X.__webglDepthbuffer;s.bindRenderbuffer(s.RENDERBUFFER,Le),s.framebufferRenderbuffer(s.FRAMEBUFFER,Pe,s.RENDERBUFFER,Le)}t.bindFramebuffer(s.FRAMEBUFFER,null)}function Je(Q,X,be){const Pe=n.get(Q);X!==void 0&&Ae(Pe.__webglFramebuffer,Q,Q.texture,s.COLOR_ATTACHMENT0,s.TEXTURE_2D,0),be!==void 0&&ht(Q)}function st(Q){const X=Q.texture,be=n.get(Q),Pe=n.get(X);Q.addEventListener("dispose",F);const Le=Q.textures,Ve=Q.isWebGLCubeRenderTarget===!0,lt=Le.length>1;if(lt||(Pe.__webglTexture===void 0&&(Pe.__webglTexture=s.createTexture()),Pe.__version=X.version,a.memory.textures++),Ve){be.__webglFramebuffer=[];for(let ot=0;ot<6;ot++)if(X.mipmaps&&X.mipmaps.length>0){be.__webglFramebuffer[ot]=[];for(let ut=0;ut<X.mipmaps.length;ut++)be.__webglFramebuffer[ot][ut]=s.createFramebuffer()}else be.__webglFramebuffer[ot]=s.createFramebuffer()}else{if(X.mipmaps&&X.mipmaps.length>0){be.__webglFramebuffer=[];for(let ot=0;ot<X.mipmaps.length;ot++)be.__webglFramebuffer[ot]=s.createFramebuffer()}else be.__webglFramebuffer=s.createFramebuffer();if(lt)for(let ot=0,ut=Le.length;ot<ut;ot++){const Vt=n.get(Le[ot]);Vt.__webglTexture===void 0&&(Vt.__webglTexture=s.createTexture(),a.memory.textures++)}if(Q.samples>0&&le(Q)===!1){be.__webglMultisampledFramebuffer=s.createFramebuffer(),be.__webglColorRenderbuffer=[],t.bindFramebuffer(s.FRAMEBUFFER,be.__webglMultisampledFramebuffer);for(let ot=0;ot<Le.length;ot++){const ut=Le[ot];be.__webglColorRenderbuffer[ot]=s.createRenderbuffer(),s.bindRenderbuffer(s.RENDERBUFFER,be.__webglColorRenderbuffer[ot]);const Vt=r.convert(ut.format,ut.colorSpace),ct=r.convert(ut.type),ft=B(ut.internalFormat,Vt,ct,ut.colorSpace,Q.isXRRenderTarget===!0),Tt=Ye(Q);s.renderbufferStorageMultisample(s.RENDERBUFFER,Tt,ft,Q.width,Q.height),s.framebufferRenderbuffer(s.FRAMEBUFFER,s.COLOR_ATTACHMENT0+ot,s.RENDERBUFFER,be.__webglColorRenderbuffer[ot])}s.bindRenderbuffer(s.RENDERBUFFER,null),Q.depthBuffer&&(be.__webglDepthRenderbuffer=s.createRenderbuffer(),Ee(be.__webglDepthRenderbuffer,Q,!0)),t.bindFramebuffer(s.FRAMEBUFFER,null)}}if(Ve){t.bindTexture(s.TEXTURE_CUBE_MAP,Pe.__webglTexture),ue(s.TEXTURE_CUBE_MAP,X);for(let ot=0;ot<6;ot++)if(X.mipmaps&&X.mipmaps.length>0)for(let ut=0;ut<X.mipmaps.length;ut++)Ae(be.__webglFramebuffer[ot][ut],Q,X,s.COLOR_ATTACHMENT0,s.TEXTURE_CUBE_MAP_POSITIVE_X+ot,ut);else Ae(be.__webglFramebuffer[ot],Q,X,s.COLOR_ATTACHMENT0,s.TEXTURE_CUBE_MAP_POSITIVE_X+ot,0);M(X)&&A(s.TEXTURE_CUBE_MAP),t.unbindTexture()}else if(lt){for(let ot=0,ut=Le.length;ot<ut;ot++){const Vt=Le[ot],ct=n.get(Vt);t.bindTexture(s.TEXTURE_2D,ct.__webglTexture),ue(s.TEXTURE_2D,Vt),Ae(be.__webglFramebuffer,Q,Vt,s.COLOR_ATTACHMENT0+ot,s.TEXTURE_2D,0),M(Vt)&&A(s.TEXTURE_2D)}t.unbindTexture()}else{let ot=s.TEXTURE_2D;if((Q.isWebGL3DRenderTarget||Q.isWebGLArrayRenderTarget)&&(ot=Q.isWebGL3DRenderTarget?s.TEXTURE_3D:s.TEXTURE_2D_ARRAY),t.bindTexture(ot,Pe.__webglTexture),ue(ot,X),X.mipmaps&&X.mipmaps.length>0)for(let ut=0;ut<X.mipmaps.length;ut++)Ae(be.__webglFramebuffer[ut],Q,X,s.COLOR_ATTACHMENT0,ot,ut);else Ae(be.__webglFramebuffer,Q,X,s.COLOR_ATTACHMENT0,ot,0);M(X)&&A(ot),t.unbindTexture()}Q.depthBuffer&&ht(Q)}function _t(Q){const X=Q.textures;for(let be=0,Pe=X.length;be<Pe;be++){const Le=X[be];if(M(Le)){const Ve=C(Q),lt=n.get(Le).__webglTexture;t.bindTexture(Ve,lt),A(Ve),t.unbindTexture()}}}const dt=[],ce=[];function Ht(Q){if(Q.samples>0){if(le(Q)===!1){const X=Q.textures,be=Q.width,Pe=Q.height;let Le=s.COLOR_BUFFER_BIT;const Ve=Q.stencilBuffer?s.DEPTH_STENCIL_ATTACHMENT:s.DEPTH_ATTACHMENT,lt=n.get(Q),ot=X.length>1;if(ot)for(let ut=0;ut<X.length;ut++)t.bindFramebuffer(s.FRAMEBUFFER,lt.__webglMultisampledFramebuffer),s.framebufferRenderbuffer(s.FRAMEBUFFER,s.COLOR_ATTACHMENT0+ut,s.RENDERBUFFER,null),t.bindFramebuffer(s.FRAMEBUFFER,lt.__webglFramebuffer),s.framebufferTexture2D(s.DRAW_FRAMEBUFFER,s.COLOR_ATTACHMENT0+ut,s.TEXTURE_2D,null,0);t.bindFramebuffer(s.READ_FRAMEBUFFER,lt.__webglMultisampledFramebuffer),t.bindFramebuffer(s.DRAW_FRAMEBUFFER,lt.__webglFramebuffer);for(let ut=0;ut<X.length;ut++){if(Q.resolveDepthBuffer&&(Q.depthBuffer&&(Le|=s.DEPTH_BUFFER_BIT),Q.stencilBuffer&&Q.resolveStencilBuffer&&(Le|=s.STENCIL_BUFFER_BIT)),ot){s.framebufferRenderbuffer(s.READ_FRAMEBUFFER,s.COLOR_ATTACHMENT0,s.RENDERBUFFER,lt.__webglColorRenderbuffer[ut]);const Vt=n.get(X[ut]).__webglTexture;s.framebufferTexture2D(s.DRAW_FRAMEBUFFER,s.COLOR_ATTACHMENT0,s.TEXTURE_2D,Vt,0)}s.blitFramebuffer(0,0,be,Pe,0,0,be,Pe,Le,s.NEAREST),u===!0&&(dt.length=0,ce.length=0,dt.push(s.COLOR_ATTACHMENT0+ut),Q.depthBuffer&&Q.resolveDepthBuffer===!1&&(dt.push(Ve),ce.push(Ve),s.invalidateFramebuffer(s.DRAW_FRAMEBUFFER,ce)),s.invalidateFramebuffer(s.READ_FRAMEBUFFER,dt))}if(t.bindFramebuffer(s.READ_FRAMEBUFFER,null),t.bindFramebuffer(s.DRAW_FRAMEBUFFER,null),ot)for(let ut=0;ut<X.length;ut++){t.bindFramebuffer(s.FRAMEBUFFER,lt.__webglMultisampledFramebuffer),s.framebufferRenderbuffer(s.FRAMEBUFFER,s.COLOR_ATTACHMENT0+ut,s.RENDERBUFFER,lt.__webglColorRenderbuffer[ut]);const Vt=n.get(X[ut]).__webglTexture;t.bindFramebuffer(s.FRAMEBUFFER,lt.__webglFramebuffer),s.framebufferTexture2D(s.DRAW_FRAMEBUFFER,s.COLOR_ATTACHMENT0+ut,s.TEXTURE_2D,Vt,0)}t.bindFramebuffer(s.DRAW_FRAMEBUFFER,lt.__webglMultisampledFramebuffer)}else if(Q.depthBuffer&&Q.resolveDepthBuffer===!1&&u){const X=Q.stencilBuffer?s.DEPTH_STENCIL_ATTACHMENT:s.DEPTH_ATTACHMENT;s.invalidateFramebuffer(s.DRAW_FRAMEBUFFER,[X])}}}function Ye(Q){return Math.min(i.maxSamples,Q.samples)}function le(Q){const X=n.get(Q);return Q.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&X.__useRenderToTexture!==!1}function He(Q){const X=a.render.frame;m.get(Q)!==X&&(m.set(Q,X),Q.update())}function rt(Q,X){const be=Q.colorSpace,Pe=Q.format,Le=Q.type;return Q.isCompressedTexture===!0||Q.isVideoTexture===!0||be!==Bl&&be!==du&&(qn.getTransfer(be)===Si?(Pe!==ms||Le!==za)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",be)),X}function Ge(Q){return typeof HTMLImageElement<"u"&&Q instanceof HTMLImageElement?(h.width=Q.naturalWidth||Q.width,h.height=Q.naturalHeight||Q.height):typeof VideoFrame<"u"&&Q instanceof VideoFrame?(h.width=Q.displayWidth,h.height=Q.displayHeight):(h.width=Q.width,h.height=Q.height),h}this.allocateTextureUnit=te,this.resetTextureUnits=ne,this.setTexture2D=oe,this.setTexture2DArray=H,this.setTexture3D=Y,this.setTextureCube=Z,this.rebindTextures=Je,this.setupRenderTarget=st,this.updateRenderTargetMipmap=_t,this.updateMultisampleRenderTarget=Ht,this.setupDepthRenderbuffer=ht,this.setupFrameBufferTexture=Ae,this.useMultisampledRTT=le}function l6(s,e){function t(n,i=du){let r;const a=qn.getTransfer(i);if(n===za)return s.UNSIGNED_BYTE;if(n===mM)return s.UNSIGNED_SHORT_4_4_4_4;if(n===gM)return s.UNSIGNED_SHORT_5_5_5_1;if(n===$C)return s.UNSIGNED_INT_5_9_9_9_REV;if(n===dM)return s.BYTE;if(n===pM)return s.SHORT;if(n===Bg)return s.UNSIGNED_SHORT;if(n===l_)return s.INT;if(n===Dc)return s.UNSIGNED_INT;if(n===$i)return s.FLOAT;if(n===Ks)return s.HALF_FLOAT;if(n===ew)return s.ALPHA;if(n===tw)return s.RGB;if(n===ms)return s.RGBA;if(n===nw)return s.LUMINANCE;if(n===iw)return s.LUMINANCE_ALPHA;if(n===Ng)return s.DEPTH_COMPONENT;if(n===Og)return s.DEPTH_STENCIL;if(n===c_)return s.RED;if(n===u_)return s.RED_INTEGER;if(n===sw)return s.RG;if(n===vM)return s.RG_INTEGER;if(n===yM)return s.RGBA_INTEGER;if(n===dy||n===py||n===my||n===gy)if(a===Si)if(r=e.get("WEBGL_compressed_texture_s3tc_srgb"),r!==null){if(n===dy)return r.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(n===py)return r.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(n===my)return r.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(n===gy)return r.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(r=e.get("WEBGL_compressed_texture_s3tc"),r!==null){if(n===dy)return r.COMPRESSED_RGB_S3TC_DXT1_EXT;if(n===py)return r.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(n===my)return r.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(n===gy)return r.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(n===pA||n===mA||n===gA||n===vA)if(r=e.get("WEBGL_compressed_texture_pvrtc"),r!==null){if(n===pA)return r.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(n===mA)return r.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(n===gA)return r.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(n===vA)return r.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(n===yA||n===_A||n===xA)if(r=e.get("WEBGL_compressed_texture_etc"),r!==null){if(n===yA||n===_A)return a===Si?r.COMPRESSED_SRGB8_ETC2:r.COMPRESSED_RGB8_ETC2;if(n===xA)return a===Si?r.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:r.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(n===SA||n===AA||n===MA||n===bA||n===EA||n===TA||n===CA||n===wA||n===RA||n===BA||n===DA||n===NA||n===OA||n===LA)if(r=e.get("WEBGL_compressed_texture_astc"),r!==null){if(n===SA)return a===Si?r.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:r.COMPRESSED_RGBA_ASTC_4x4_KHR;if(n===AA)return a===Si?r.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:r.COMPRESSED_RGBA_ASTC_5x4_KHR;if(n===MA)return a===Si?r.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:r.COMPRESSED_RGBA_ASTC_5x5_KHR;if(n===bA)return a===Si?r.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:r.COMPRESSED_RGBA_ASTC_6x5_KHR;if(n===EA)return a===Si?r.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:r.COMPRESSED_RGBA_ASTC_6x6_KHR;if(n===TA)return a===Si?r.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:r.COMPRESSED_RGBA_ASTC_8x5_KHR;if(n===CA)return a===Si?r.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:r.COMPRESSED_RGBA_ASTC_8x6_KHR;if(n===wA)return a===Si?r.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:r.COMPRESSED_RGBA_ASTC_8x8_KHR;if(n===RA)return a===Si?r.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:r.COMPRESSED_RGBA_ASTC_10x5_KHR;if(n===BA)return a===Si?r.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:r.COMPRESSED_RGBA_ASTC_10x6_KHR;if(n===DA)return a===Si?r.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:r.COMPRESSED_RGBA_ASTC_10x8_KHR;if(n===NA)return a===Si?r.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:r.COMPRESSED_RGBA_ASTC_10x10_KHR;if(n===OA)return a===Si?r.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:r.COMPRESSED_RGBA_ASTC_12x10_KHR;if(n===LA)return a===Si?r.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:r.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(n===vy||n===UA||n===PA)if(r=e.get("EXT_texture_compression_bptc"),r!==null){if(n===vy)return a===Si?r.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:r.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(n===UA)return r.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(n===PA)return r.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(n===rw||n===IA||n===FA||n===zA)if(r=e.get("EXT_texture_compression_rgtc"),r!==null){if(n===vy)return r.COMPRESSED_RED_RGTC1_EXT;if(n===IA)return r.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(n===FA)return r.COMPRESSED_RED_GREEN_RGTC2_EXT;if(n===zA)return r.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return n===Dg?s.UNSIGNED_INT_24_8:s[n]!==void 0?s[n]:null}return{convert:t}}const YZ=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,qZ=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class WZ{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,t,n){if(this.texture===null){const i=new pi,r=e.properties.get(i);r.__webglTexture=t.texture,(t.depthNear!==n.depthNear||t.depthFar!==n.depthFar)&&(this.depthNear=t.depthNear,this.depthFar=t.depthFar),this.texture=i}}getMesh(e){if(this.texture!==null&&this.mesh===null){const t=e.cameras[0].viewport,n=new pa({vertexShader:YZ,fragmentShader:qZ,uniforms:{depthColor:{value:this.texture},depthWidth:{value:t.z},depthHeight:{value:t.w}}});this.mesh=new ki(new fh(20,20),n)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class KZ extends Nc{constructor(e,t){super();const n=this;let i=null,r=1,a=null,l="local-floor",u=1,h=null,m=null,g=null,v=null,_=null,S=null;const b=new WZ,M=t.getContextAttributes();let A=null,C=null;const B=[],D=[],N=new at;let U=null;const F=new Is;F.viewport=new ti;const z=new Is;z.viewport=new ti;const O=[F,z],P=new Q8;let q=null,ne=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(se){let xe=B[se];return xe===void 0&&(xe=new OS,B[se]=xe),xe.getTargetRaySpace()},this.getControllerGrip=function(se){let xe=B[se];return xe===void 0&&(xe=new OS,B[se]=xe),xe.getGripSpace()},this.getHand=function(se){let xe=B[se];return xe===void 0&&(xe=new OS,B[se]=xe),xe.getHandSpace()};function te(se){const xe=D.indexOf(se.inputSource);if(xe===-1)return;const Ae=B[xe];Ae!==void 0&&(Ae.update(se.inputSource,se.frame,h||a),Ae.dispatchEvent({type:se.type,data:se.inputSource}))}function ee(){i.removeEventListener("select",te),i.removeEventListener("selectstart",te),i.removeEventListener("selectend",te),i.removeEventListener("squeeze",te),i.removeEventListener("squeezestart",te),i.removeEventListener("squeezeend",te),i.removeEventListener("end",ee),i.removeEventListener("inputsourceschange",oe);for(let se=0;se<B.length;se++){const xe=D[se];xe!==null&&(D[se]=null,B[se].disconnect(xe))}q=null,ne=null,b.reset(),e.setRenderTarget(A),_=null,v=null,g=null,i=null,C=null,_e.stop(),n.isPresenting=!1,e.setPixelRatio(U),e.setSize(N.width,N.height,!1),n.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(se){r=se,n.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(se){l=se,n.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return h||a},this.setReferenceSpace=function(se){h=se},this.getBaseLayer=function(){return v!==null?v:_},this.getBinding=function(){return g},this.getFrame=function(){return S},this.getSession=function(){return i},this.setSession=async function(se){if(i=se,i!==null){if(A=e.getRenderTarget(),i.addEventListener("select",te),i.addEventListener("selectstart",te),i.addEventListener("selectend",te),i.addEventListener("squeeze",te),i.addEventListener("squeezestart",te),i.addEventListener("squeezeend",te),i.addEventListener("end",ee),i.addEventListener("inputsourceschange",oe),M.xrCompatible!==!0&&await t.makeXRCompatible(),U=e.getPixelRatio(),e.getSize(N),typeof XRWebGLBinding<"u"&&"createProjectionLayer"in XRWebGLBinding.prototype){let Ae=null,Ee=null,Ne=null;M.depth&&(Ne=M.stencil?t.DEPTH24_STENCIL8:t.DEPTH_COMPONENT24,Ae=M.stencil?Og:Ng,Ee=M.stencil?Dg:Dc);const ht={colorFormat:t.RGBA8,depthFormat:Ne,scaleFactor:r};g=new XRWebGLBinding(i,t),v=g.createProjectionLayer(ht),i.updateRenderState({layers:[v]}),e.setPixelRatio(1),e.setSize(v.textureWidth,v.textureHeight,!1),C=new qo(v.textureWidth,v.textureHeight,{format:ms,type:za,depthTexture:new yw(v.textureWidth,v.textureHeight,Ee,void 0,void 0,void 0,void 0,void 0,void 0,Ae),stencilBuffer:M.stencil,colorSpace:e.outputColorSpace,samples:M.antialias?4:0,resolveDepthBuffer:v.ignoreDepthValues===!1,resolveStencilBuffer:v.ignoreDepthValues===!1})}else{const Ae={antialias:M.antialias,alpha:!0,depth:M.depth,stencil:M.stencil,framebufferScaleFactor:r};_=new XRWebGLLayer(i,t,Ae),i.updateRenderState({baseLayer:_}),e.setPixelRatio(1),e.setSize(_.framebufferWidth,_.framebufferHeight,!1),C=new qo(_.framebufferWidth,_.framebufferHeight,{format:ms,type:za,colorSpace:e.outputColorSpace,stencilBuffer:M.stencil,resolveDepthBuffer:_.ignoreDepthValues===!1,resolveStencilBuffer:_.ignoreDepthValues===!1})}C.isXRRenderTarget=!0,this.setFoveation(u),h=null,a=await i.requestReferenceSpace(l),_e.setContext(i),_e.start(),n.isPresenting=!0,n.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(i!==null)return i.environmentBlendMode},this.getDepthTexture=function(){return b.getDepthTexture()};function oe(se){for(let xe=0;xe<se.removed.length;xe++){const Ae=se.removed[xe],Ee=D.indexOf(Ae);Ee>=0&&(D[Ee]=null,B[Ee].disconnect(Ae))}for(let xe=0;xe<se.added.length;xe++){const Ae=se.added[xe];let Ee=D.indexOf(Ae);if(Ee===-1){for(let ht=0;ht<B.length;ht++)if(ht>=D.length){D.push(Ae),Ee=ht;break}else if(D[ht]===null){D[ht]=Ae,Ee=ht;break}if(Ee===-1)break}const Ne=B[Ee];Ne&&Ne.connect(Ae)}}const H=new ae,Y=new ae;function Z(se,xe,Ae){H.setFromMatrixPosition(xe.matrixWorld),Y.setFromMatrixPosition(Ae.matrixWorld);const Ee=H.distanceTo(Y),Ne=xe.projectionMatrix.elements,ht=Ae.projectionMatrix.elements,Je=Ne[14]/(Ne[10]-1),st=Ne[14]/(Ne[10]+1),_t=(Ne[9]+1)/Ne[5],dt=(Ne[9]-1)/Ne[5],ce=(Ne[8]-1)/Ne[0],Ht=(ht[8]+1)/ht[0],Ye=Je*ce,le=Je*Ht,He=Ee/(-ce+Ht),rt=He*-ce;if(xe.matrixWorld.decompose(se.position,se.quaternion,se.scale),se.translateX(rt),se.translateZ(He),se.matrixWorld.compose(se.position,se.quaternion,se.scale),se.matrixWorldInverse.copy(se.matrixWorld).invert(),Ne[10]===-1)se.projectionMatrix.copy(xe.projectionMatrix),se.projectionMatrixInverse.copy(xe.projectionMatrixInverse);else{const Ge=Je+He,Q=st+He,X=Ye-rt,be=le+(Ee-rt),Pe=_t*st/Q*Ge,Le=dt*st/Q*Ge;se.projectionMatrix.makePerspective(X,be,Pe,Le,Ge,Q),se.projectionMatrixInverse.copy(se.projectionMatrix).invert()}}function de(se,xe){xe===null?se.matrixWorld.copy(se.matrix):se.matrixWorld.multiplyMatrices(xe.matrixWorld,se.matrix),se.matrixWorldInverse.copy(se.matrixWorld).invert()}this.updateCamera=function(se){if(i===null)return;let xe=se.near,Ae=se.far;b.texture!==null&&(b.depthNear>0&&(xe=b.depthNear),b.depthFar>0&&(Ae=b.depthFar)),P.near=z.near=F.near=xe,P.far=z.far=F.far=Ae,(q!==P.near||ne!==P.far)&&(i.updateRenderState({depthNear:P.near,depthFar:P.far}),q=P.near,ne=P.far),F.layers.mask=se.layers.mask|2,z.layers.mask=se.layers.mask|4,P.layers.mask=F.layers.mask|z.layers.mask;const Ee=se.parent,Ne=P.cameras;de(P,Ee);for(let ht=0;ht<Ne.length;ht++)de(Ne[ht],Ee);Ne.length===2?Z(P,F,z):P.projectionMatrix.copy(F.projectionMatrix),I(se,P,Ee)};function I(se,xe,Ae){Ae===null?se.matrix.copy(xe.matrixWorld):(se.matrix.copy(Ae.matrixWorld),se.matrix.invert(),se.matrix.multiply(xe.matrixWorld)),se.matrix.decompose(se.position,se.quaternion,se.scale),se.updateMatrixWorld(!0),se.projectionMatrix.copy(xe.projectionMatrix),se.projectionMatrixInverse.copy(xe.projectionMatrixInverse),se.isPerspectiveCamera&&(se.fov=Pg*2*Math.atan(1/se.projectionMatrix.elements[5]),se.zoom=1)}this.getCamera=function(){return P},this.getFoveation=function(){if(!(v===null&&_===null))return u},this.setFoveation=function(se){u=se,v!==null&&(v.fixedFoveation=se),_!==null&&_.fixedFoveation!==void 0&&(_.fixedFoveation=se)},this.hasDepthSensing=function(){return b.texture!==null},this.getDepthSensingMesh=function(){return b.getMesh(P)};let ie=null;function ue(se,xe){if(m=xe.getViewerPose(h||a),S=xe,m!==null){const Ae=m.views;_!==null&&(e.setRenderTargetFramebuffer(C,_.framebuffer),e.setRenderTarget(C));let Ee=!1;Ae.length!==P.cameras.length&&(P.cameras.length=0,Ee=!0);for(let Je=0;Je<Ae.length;Je++){const st=Ae[Je];let _t=null;if(_!==null)_t=_.getViewport(st);else{const ce=g.getViewSubImage(v,st);_t=ce.viewport,Je===0&&(e.setRenderTargetTextures(C,ce.colorTexture,ce.depthStencilTexture),e.setRenderTarget(C))}let dt=O[Je];dt===void 0&&(dt=new Is,dt.layers.enable(Je),dt.viewport=new ti,O[Je]=dt),dt.matrix.fromArray(st.transform.matrix),dt.matrix.decompose(dt.position,dt.quaternion,dt.scale),dt.projectionMatrix.fromArray(st.projectionMatrix),dt.projectionMatrixInverse.copy(dt.projectionMatrix).invert(),dt.viewport.set(_t.x,_t.y,_t.width,_t.height),Je===0&&(P.matrix.copy(dt.matrix),P.matrix.decompose(P.position,P.quaternion,P.scale)),Ee===!0&&P.cameras.push(dt)}const Ne=i.enabledFeatures;if(Ne&&Ne.includes("depth-sensing")&&i.depthUsage=="gpu-optimized"&&g){const Je=g.getDepthInformation(Ae[0]);Je&&Je.isValid&&Je.texture&&b.init(e,Je,i.renderState)}}for(let Ae=0;Ae<B.length;Ae++){const Ee=D[Ae],Ne=B[Ae];Ee!==null&&Ne!==void 0&&Ne.update(Ee,xe,h||a)}ie&&ie(se,xe),xe.detectedPlanes&&n.dispatchEvent({type:"planesdetected",data:xe}),S=null}const _e=new i6;_e.setAnimationLoop(ue),this.setAnimationLoop=function(se){ie=se},this.dispose=function(){}}}const Sd=new po,JZ=new sn;function ZZ(s,e){function t(M,A){M.matrixAutoUpdate===!0&&M.updateMatrix(),A.value.copy(M.matrix)}function n(M,A){A.color.getRGB(M.fogColor.value,c8(s)),A.isFog?(M.fogNear.value=A.near,M.fogFar.value=A.far):A.isFogExp2&&(M.fogDensity.value=A.density)}function i(M,A,C,B,D){A.isMeshBasicMaterial||A.isMeshLambertMaterial?r(M,A):A.isMeshToonMaterial?(r(M,A),g(M,A)):A.isMeshPhongMaterial?(r(M,A),m(M,A)):A.isMeshStandardMaterial?(r(M,A),v(M,A),A.isMeshPhysicalMaterial&&_(M,A,D)):A.isMeshMatcapMaterial?(r(M,A),S(M,A)):A.isMeshDepthMaterial?r(M,A):A.isMeshDistanceMaterial?(r(M,A),b(M,A)):A.isMeshNormalMaterial?r(M,A):A.isLineBasicMaterial?(a(M,A),A.isLineDashedMaterial&&l(M,A)):A.isPointsMaterial?u(M,A,C,B):A.isSpriteMaterial?h(M,A):A.isShadowMaterial?(M.color.value.copy(A.color),M.opacity.value=A.opacity):A.isShaderMaterial&&(A.uniformsNeedUpdate=!1)}function r(M,A){M.opacity.value=A.opacity,A.color&&M.diffuse.value.copy(A.color),A.emissive&&M.emissive.value.copy(A.emissive).multiplyScalar(A.emissiveIntensity),A.map&&(M.map.value=A.map,t(A.map,M.mapTransform)),A.alphaMap&&(M.alphaMap.value=A.alphaMap,t(A.alphaMap,M.alphaMapTransform)),A.bumpMap&&(M.bumpMap.value=A.bumpMap,t(A.bumpMap,M.bumpMapTransform),M.bumpScale.value=A.bumpScale,A.side===da&&(M.bumpScale.value*=-1)),A.normalMap&&(M.normalMap.value=A.normalMap,t(A.normalMap,M.normalMapTransform),M.normalScale.value.copy(A.normalScale),A.side===da&&M.normalScale.value.negate()),A.displacementMap&&(M.displacementMap.value=A.displacementMap,t(A.displacementMap,M.displacementMapTransform),M.displacementScale.value=A.displacementScale,M.displacementBias.value=A.displacementBias),A.emissiveMap&&(M.emissiveMap.value=A.emissiveMap,t(A.emissiveMap,M.emissiveMapTransform)),A.specularMap&&(M.specularMap.value=A.specularMap,t(A.specularMap,M.specularMapTransform)),A.alphaTest>0&&(M.alphaTest.value=A.alphaTest);const C=e.get(A),B=C.envMap,D=C.envMapRotation;B&&(M.envMap.value=B,Sd.copy(D),Sd.x*=-1,Sd.y*=-1,Sd.z*=-1,B.isCubeTexture&&B.isRenderTargetTexture===!1&&(Sd.y*=-1,Sd.z*=-1),M.envMapRotation.value.setFromMatrix4(JZ.makeRotationFromEuler(Sd)),M.flipEnvMap.value=B.isCubeTexture&&B.isRenderTargetTexture===!1?-1:1,M.reflectivity.value=A.reflectivity,M.ior.value=A.ior,M.refractionRatio.value=A.refractionRatio),A.lightMap&&(M.lightMap.value=A.lightMap,M.lightMapIntensity.value=A.lightMapIntensity,t(A.lightMap,M.lightMapTransform)),A.aoMap&&(M.aoMap.value=A.aoMap,M.aoMapIntensity.value=A.aoMapIntensity,t(A.aoMap,M.aoMapTransform))}function a(M,A){M.diffuse.value.copy(A.color),M.opacity.value=A.opacity,A.map&&(M.map.value=A.map,t(A.map,M.mapTransform))}function l(M,A){M.dashSize.value=A.dashSize,M.totalSize.value=A.dashSize+A.gapSize,M.scale.value=A.scale}function u(M,A,C,B){M.diffuse.value.copy(A.color),M.opacity.value=A.opacity,M.size.value=A.size*C,M.scale.value=B*.5,A.map&&(M.map.value=A.map,t(A.map,M.uvTransform)),A.alphaMap&&(M.alphaMap.value=A.alphaMap,t(A.alphaMap,M.alphaMapTransform)),A.alphaTest>0&&(M.alphaTest.value=A.alphaTest)}function h(M,A){M.diffuse.value.copy(A.color),M.opacity.value=A.opacity,M.rotation.value=A.rotation,A.map&&(M.map.value=A.map,t(A.map,M.mapTransform)),A.alphaMap&&(M.alphaMap.value=A.alphaMap,t(A.alphaMap,M.alphaMapTransform)),A.alphaTest>0&&(M.alphaTest.value=A.alphaTest)}function m(M,A){M.specular.value.copy(A.specular),M.shininess.value=Math.max(A.shininess,1e-4)}function g(M,A){A.gradientMap&&(M.gradientMap.value=A.gradientMap)}function v(M,A){M.metalness.value=A.metalness,A.metalnessMap&&(M.metalnessMap.value=A.metalnessMap,t(A.metalnessMap,M.metalnessMapTransform)),M.roughness.value=A.roughness,A.roughnessMap&&(M.roughnessMap.value=A.roughnessMap,t(A.roughnessMap,M.roughnessMapTransform)),A.envMap&&(M.envMapIntensity.value=A.envMapIntensity)}function _(M,A,C){M.ior.value=A.ior,A.sheen>0&&(M.sheenColor.value.copy(A.sheenColor).multiplyScalar(A.sheen),M.sheenRoughness.value=A.sheenRoughness,A.sheenColorMap&&(M.sheenColorMap.value=A.sheenColorMap,t(A.sheenColorMap,M.sheenColorMapTransform)),A.sheenRoughnessMap&&(M.sheenRoughnessMap.value=A.sheenRoughnessMap,t(A.sheenRoughnessMap,M.sheenRoughnessMapTransform))),A.clearcoat>0&&(M.clearcoat.value=A.clearcoat,M.clearcoatRoughness.value=A.clearcoatRoughness,A.clearcoatMap&&(M.clearcoatMap.value=A.clearcoatMap,t(A.clearcoatMap,M.clearcoatMapTransform)),A.clearcoatRoughnessMap&&(M.clearcoatRoughnessMap.value=A.clearcoatRoughnessMap,t(A.clearcoatRoughnessMap,M.clearcoatRoughnessMapTransform)),A.clearcoatNormalMap&&(M.clearcoatNormalMap.value=A.clearcoatNormalMap,t(A.clearcoatNormalMap,M.clearcoatNormalMapTransform),M.clearcoatNormalScale.value.copy(A.clearcoatNormalScale),A.side===da&&M.clearcoatNormalScale.value.negate())),A.dispersion>0&&(M.dispersion.value=A.dispersion),A.iridescence>0&&(M.iridescence.value=A.iridescence,M.iridescenceIOR.value=A.iridescenceIOR,M.iridescenceThicknessMinimum.value=A.iridescenceThicknessRange[0],M.iridescenceThicknessMaximum.value=A.iridescenceThicknessRange[1],A.iridescenceMap&&(M.iridescenceMap.value=A.iridescenceMap,t(A.iridescenceMap,M.iridescenceMapTransform)),A.iridescenceThicknessMap&&(M.iridescenceThicknessMap.value=A.iridescenceThicknessMap,t(A.iridescenceThicknessMap,M.iridescenceThicknessMapTransform))),A.transmission>0&&(M.transmission.value=A.transmission,M.transmissionSamplerMap.value=C.texture,M.transmissionSamplerSize.value.set(C.width,C.height),A.transmissionMap&&(M.transmissionMap.value=A.transmissionMap,t(A.transmissionMap,M.transmissionMapTransform)),M.thickness.value=A.thickness,A.thicknessMap&&(M.thicknessMap.value=A.thicknessMap,t(A.thicknessMap,M.thicknessMapTransform)),M.attenuationDistance.value=A.attenuationDistance,M.attenuationColor.value.copy(A.attenuationColor)),A.anisotropy>0&&(M.anisotropyVector.value.set(A.anisotropy*Math.cos(A.anisotropyRotation),A.anisotropy*Math.sin(A.anisotropyRotation)),A.anisotropyMap&&(M.anisotropyMap.value=A.anisotropyMap,t(A.anisotropyMap,M.anisotropyMapTransform))),M.specularIntensity.value=A.specularIntensity,M.specularColor.value.copy(A.specularColor),A.specularColorMap&&(M.specularColorMap.value=A.specularColorMap,t(A.specularColorMap,M.specularColorMapTransform)),A.specularIntensityMap&&(M.specularIntensityMap.value=A.specularIntensityMap,t(A.specularIntensityMap,M.specularIntensityMapTransform))}function S(M,A){A.matcap&&(M.matcap.value=A.matcap)}function b(M,A){const C=e.get(A).light;M.referencePosition.value.setFromMatrixPosition(C.matrixWorld),M.nearDistance.value=C.shadow.camera.near,M.farDistance.value=C.shadow.camera.far}return{refreshFogUniforms:n,refreshMaterialUniforms:i}}function QZ(s,e,t,n){let i={},r={},a=[];const l=s.getParameter(s.MAX_UNIFORM_BUFFER_BINDINGS);function u(C,B){const D=B.program;n.uniformBlockBinding(C,D)}function h(C,B){let D=i[C.id];D===void 0&&(S(C),D=m(C),i[C.id]=D,C.addEventListener("dispose",M));const N=B.program;n.updateUBOMapping(C,N);const U=e.render.frame;r[C.id]!==U&&(v(C),r[C.id]=U)}function m(C){const B=g();C.__bindingPointIndex=B;const D=s.createBuffer(),N=C.__size,U=C.usage;return s.bindBuffer(s.UNIFORM_BUFFER,D),s.bufferData(s.UNIFORM_BUFFER,N,U),s.bindBuffer(s.UNIFORM_BUFFER,null),s.bindBufferBase(s.UNIFORM_BUFFER,B,D),D}function g(){for(let C=0;C<l;C++)if(a.indexOf(C)===-1)return a.push(C),C;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function v(C){const B=i[C.id],D=C.uniforms,N=C.__cache;s.bindBuffer(s.UNIFORM_BUFFER,B);for(let U=0,F=D.length;U<F;U++){const z=Array.isArray(D[U])?D[U]:[D[U]];for(let O=0,P=z.length;O<P;O++){const q=z[O];if(_(q,U,O,N)===!0){const ne=q.__offset,te=Array.isArray(q.value)?q.value:[q.value];let ee=0;for(let oe=0;oe<te.length;oe++){const H=te[oe],Y=b(H);typeof H=="number"||typeof H=="boolean"?(q.__data[0]=H,s.bufferSubData(s.UNIFORM_BUFFER,ne+ee,q.__data)):H.isMatrix3?(q.__data[0]=H.elements[0],q.__data[1]=H.elements[1],q.__data[2]=H.elements[2],q.__data[3]=0,q.__data[4]=H.elements[3],q.__data[5]=H.elements[4],q.__data[6]=H.elements[5],q.__data[7]=0,q.__data[8]=H.elements[6],q.__data[9]=H.elements[7],q.__data[10]=H.elements[8],q.__data[11]=0):(H.toArray(q.__data,ee),ee+=Y.storage/Float32Array.BYTES_PER_ELEMENT)}s.bufferSubData(s.UNIFORM_BUFFER,ne,q.__data)}}}s.bindBuffer(s.UNIFORM_BUFFER,null)}function _(C,B,D,N){const U=C.value,F=B+"_"+D;if(N[F]===void 0)return typeof U=="number"||typeof U=="boolean"?N[F]=U:N[F]=U.clone(),!0;{const z=N[F];if(typeof U=="number"||typeof U=="boolean"){if(z!==U)return N[F]=U,!0}else if(z.equals(U)===!1)return z.copy(U),!0}return!1}function S(C){const B=C.uniforms;let D=0;const N=16;for(let F=0,z=B.length;F<z;F++){const O=Array.isArray(B[F])?B[F]:[B[F]];for(let P=0,q=O.length;P<q;P++){const ne=O[P],te=Array.isArray(ne.value)?ne.value:[ne.value];for(let ee=0,oe=te.length;ee<oe;ee++){const H=te[ee],Y=b(H),Z=D%N,de=Z%Y.boundary,I=Z+de;D+=de,I!==0&&N-I<Y.storage&&(D+=N-I),ne.__data=new Float32Array(Y.storage/Float32Array.BYTES_PER_ELEMENT),ne.__offset=D,D+=Y.storage}}}const U=D%N;return U>0&&(D+=N-U),C.__size=D,C.__cache={},this}function b(C){const B={boundary:0,storage:0};return typeof C=="number"||typeof C=="boolean"?(B.boundary=4,B.storage=4):C.isVector2?(B.boundary=8,B.storage=8):C.isVector3||C.isColor?(B.boundary=16,B.storage=12):C.isVector4?(B.boundary=16,B.storage=16):C.isMatrix3?(B.boundary=48,B.storage=48):C.isMatrix4?(B.boundary=64,B.storage=64):C.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",C),B}function M(C){const B=C.target;B.removeEventListener("dispose",M);const D=a.indexOf(B.__bindingPointIndex);a.splice(D,1),s.deleteBuffer(i[B.id]),delete i[B.id],delete r[B.id]}function A(){for(const C in i)s.deleteBuffer(i[C]);a=[],i={},r={}}return{bind:u,update:h,dispose:A}}class kw{constructor(e={}){const{canvas:t=a8(),context:n=null,depth:i=!0,stencil:r=!1,alpha:a=!1,antialias:l=!1,premultipliedAlpha:u=!0,preserveDrawingBuffer:h=!1,powerPreference:m="default",failIfMajorPerformanceCaveat:g=!1,reverseDepthBuffer:v=!1}=e;this.isWebGLRenderer=!0;let _;if(n!==null){if(typeof WebGLRenderingContext<"u"&&n instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");_=n.getContextAttributes().alpha}else _=a;const S=new Uint32Array(4),b=new Int32Array(4);let M=null,A=null;const C=[],B=[];this.domElement=t,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.toneMapping=Tc,this.toneMappingExposure=1,this.transmissionResolutionScale=1;const D=this;let N=!1;this._outputColorSpace=ur;let U=0,F=0,z=null,O=-1,P=null;const q=new ti,ne=new ti;let te=null;const ee=new Ct(0);let oe=0,H=t.width,Y=t.height,Z=1,de=null,I=null;const ie=new ti(0,0,H,Y),ue=new ti(0,0,H,Y);let _e=!1;const se=new g_;let xe=!1,Ae=!1;const Ee=new sn,Ne=new sn,ht=new ae,Je=new ti,st={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let _t=!1;function dt(){return z===null?Z:1}let ce=n;function Ht(j,re){return t.getContext(j,re)}try{const j={alpha:!0,depth:i,stencil:r,antialias:l,premultipliedAlpha:u,preserveDrawingBuffer:h,powerPreference:m,failIfMajorPerformanceCaveat:g};if("setAttribute"in t&&t.setAttribute("data-engine",`three.js r${qg}`),t.addEventListener("webglcontextlost",We,!1),t.addEventListener("webglcontextrestored",xt,!1),t.addEventListener("webglcontextcreationerror",Mt,!1),ce===null){const re="webgl2";if(ce=Ht(re,j),ce===null)throw Ht(re)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(j){throw console.error("THREE.WebGLRenderer: "+j.message),j}let Ye,le,He,rt,Ge,Q,X,be,Pe,Le,Ve,lt,ot,ut,Vt,ct,ft,Tt,gt,vt,Wt,wt,Yt,he;function Fe(){Ye=new uJ(ce),Ye.init(),wt=new l6(ce,Ye),le=new iJ(ce,Ye,e,wt),He=new jZ(ce,Ye),le.reverseDepthBuffer&&v&&He.buffers.depth.setReversed(!0),rt=new dJ(ce),Ge=new DZ,Q=new XZ(ce,Ye,He,Ge,le,wt,rt),X=new rJ(D),be=new cJ(D),Pe=new _q(ce),Yt=new tJ(ce,Pe),Le=new fJ(ce,Pe,rt,Yt),Ve=new mJ(ce,Le,Pe,rt),gt=new pJ(ce,le,Q),ct=new sJ(Ge),lt=new BZ(D,X,be,Ye,le,Yt,ct),ot=new ZZ(D,Ge),ut=new OZ,Vt=new zZ(Ye),Tt=new eJ(D,X,be,He,Ve,_,u),ft=new VZ(D,Ve,le),he=new QZ(ce,rt,le,He),vt=new nJ(ce,Ye,rt),Wt=new hJ(ce,Ye,rt),rt.programs=lt.programs,D.capabilities=le,D.extensions=Ye,D.properties=Ge,D.renderLists=ut,D.shadowMap=ft,D.state=He,D.info=rt}Fe();const Ie=new KZ(D,ce);this.xr=Ie,this.getContext=function(){return ce},this.getContextAttributes=function(){return ce.getContextAttributes()},this.forceContextLoss=function(){const j=Ye.get("WEBGL_lose_context");j&&j.loseContext()},this.forceContextRestore=function(){const j=Ye.get("WEBGL_lose_context");j&&j.restoreContext()},this.getPixelRatio=function(){return Z},this.setPixelRatio=function(j){j!==void 0&&(Z=j,this.setSize(H,Y,!1))},this.getSize=function(j){return j.set(H,Y)},this.setSize=function(j,re,pe=!0){if(Ie.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}H=j,Y=re,t.width=Math.floor(j*Z),t.height=Math.floor(re*Z),pe===!0&&(t.style.width=j+"px",t.style.height=re+"px"),this.setViewport(0,0,j,re)},this.getDrawingBufferSize=function(j){return j.set(H*Z,Y*Z).floor()},this.setDrawingBufferSize=function(j,re,pe){H=j,Y=re,Z=pe,t.width=Math.floor(j*pe),t.height=Math.floor(re*pe),this.setViewport(0,0,j,re)},this.getCurrentViewport=function(j){return j.copy(q)},this.getViewport=function(j){return j.copy(ie)},this.setViewport=function(j,re,pe,fe){j.isVector4?ie.set(j.x,j.y,j.z,j.w):ie.set(j,re,pe,fe),He.viewport(q.copy(ie).multiplyScalar(Z).round())},this.getScissor=function(j){return j.copy(ue)},this.setScissor=function(j,re,pe,fe){j.isVector4?ue.set(j.x,j.y,j.z,j.w):ue.set(j,re,pe,fe),He.scissor(ne.copy(ue).multiplyScalar(Z).round())},this.getScissorTest=function(){return _e},this.setScissorTest=function(j){He.setScissorTest(_e=j)},this.setOpaqueSort=function(j){de=j},this.setTransparentSort=function(j){I=j},this.getClearColor=function(j){return j.copy(Tt.getClearColor())},this.setClearColor=function(){Tt.setClearColor(...arguments)},this.getClearAlpha=function(){return Tt.getClearAlpha()},this.setClearAlpha=function(){Tt.setClearAlpha(...arguments)},this.clear=function(j=!0,re=!0,pe=!0){let fe=0;if(j){let ye=!1;if(z!==null){const Re=z.texture.format;ye=Re===yM||Re===vM||Re===u_}if(ye){const Re=z.texture.type,qe=Re===za||Re===Dc||Re===Bg||Re===Dg||Re===mM||Re===gM,Ze=Tt.getClearColor(),tt=Tt.getClearAlpha(),St=Ze.r,At=Ze.g,bt=Ze.b;qe?(S[0]=St,S[1]=At,S[2]=bt,S[3]=tt,ce.clearBufferuiv(ce.COLOR,0,S)):(b[0]=St,b[1]=At,b[2]=bt,b[3]=tt,ce.clearBufferiv(ce.COLOR,0,b))}else fe|=ce.COLOR_BUFFER_BIT}re&&(fe|=ce.DEPTH_BUFFER_BIT),pe&&(fe|=ce.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),ce.clear(fe)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",We,!1),t.removeEventListener("webglcontextrestored",xt,!1),t.removeEventListener("webglcontextcreationerror",Mt,!1),Tt.dispose(),ut.dispose(),Vt.dispose(),Ge.dispose(),X.dispose(),be.dispose(),Ve.dispose(),Yt.dispose(),he.dispose(),lt.dispose(),Ie.dispose(),Ie.removeEventListener("sessionstart",pt),Ie.removeEventListener("sessionend",Ut),Rt.stop()};function We(j){j.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),N=!0}function xt(){console.log("THREE.WebGLRenderer: Context Restored."),N=!1;const j=rt.autoReset,re=ft.enabled,pe=ft.autoUpdate,fe=ft.needsUpdate,ye=ft.type;Fe(),rt.autoReset=j,ft.enabled=re,ft.autoUpdate=pe,ft.needsUpdate=fe,ft.type=ye}function Mt(j){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",j.statusMessage)}function Qt(j){const re=j.target;re.removeEventListener("dispose",Qt),Sn(re)}function Sn(j){Jn(j),Ge.remove(j)}function Jn(j){const re=Ge.get(j).programs;re!==void 0&&(re.forEach(function(pe){lt.releaseProgram(pe)}),j.isShaderMaterial&&lt.releaseShaderCache(j))}this.renderBufferDirect=function(j,re,pe,fe,ye,Re){re===null&&(re=st);const qe=ye.isMesh&&ye.matrixWorld.determinant()<0,Ze=ge(j,re,pe,fe,ye);He.setMaterial(fe,qe);let tt=pe.index,St=1;if(fe.wireframe===!0){if(tt=Le.getWireframeAttribute(pe),tt===void 0)return;St=2}const At=pe.drawRange,bt=pe.attributes.position;let jt=At.start*St,Xt=(At.start+At.count)*St;Re!==null&&(jt=Math.max(jt,Re.start*St),Xt=Math.min(Xt,(Re.start+Re.count)*St)),tt!==null?(jt=Math.max(jt,0),Xt=Math.min(Xt,tt.count)):bt!=null&&(jt=Math.max(jt,0),Xt=Math.min(Xt,bt.count));const Hn=Xt-jt;if(Hn<0||Hn===1/0)return;Yt.setup(ye,fe,Ze,pe,tt);let Pt,Jt=vt;if(tt!==null&&(Pt=Pe.get(tt),Jt=Wt,Jt.setIndex(Pt)),ye.isMesh)fe.wireframe===!0?(He.setLineWidth(fe.wireframeLinewidth*dt()),Jt.setMode(ce.LINES)):Jt.setMode(ce.TRIANGLES);else if(ye.isLine){let It=fe.linewidth;It===void 0&&(It=1),He.setLineWidth(It*dt()),ye.isLineSegments?Jt.setMode(ce.LINES):ye.isLineLoop?Jt.setMode(ce.LINE_LOOP):Jt.setMode(ce.LINE_STRIP)}else ye.isPoints?Jt.setMode(ce.POINTS):ye.isSprite&&Jt.setMode(ce.TRIANGLES);if(ye.isBatchedMesh)if(ye._multiDrawInstances!==null)NS("THREE.WebGLRenderer: renderMultiDrawInstances has been deprecated and will be removed in r184. Append to renderMultiDraw arguments and use indirection."),Jt.renderMultiDrawInstances(ye._multiDrawStarts,ye._multiDrawCounts,ye._multiDrawCount,ye._multiDrawInstances);else if(Ye.get("WEBGL_multi_draw"))Jt.renderMultiDraw(ye._multiDrawStarts,ye._multiDrawCounts,ye._multiDrawCount);else{const It=ye._multiDrawStarts,ci=ye._multiDrawCounts,fn=ye._multiDrawCount,mn=tt?Pe.get(tt).bytesPerElement:1,mi=Ge.get(fe).currentProgram.getUniforms();for(let rn=0;rn<fn;rn++)mi.setValue(ce,"_gl_DrawID",rn),Jt.render(It[rn]/mn,ci[rn])}else if(ye.isInstancedMesh)Jt.renderInstances(jt,Hn,ye.count);else if(pe.isInstancedBufferGeometry){const It=pe._maxInstanceCount!==void 0?pe._maxInstanceCount:1/0,ci=Math.min(pe.instanceCount,It);Jt.renderInstances(jt,Hn,ci)}else Jt.render(jt,Hn)};function Et(j,re,pe){j.transparent===!0&&j.side===Vo&&j.forceSinglePass===!1?(j.side=da,j.needsUpdate=!0,tn(j,re,pe),j.side=Rc,j.needsUpdate=!0,tn(j,re,pe),j.side=Vo):tn(j,re,pe)}this.compile=function(j,re,pe=null){pe===null&&(pe=j),A=Vt.get(pe),A.init(re),B.push(A),pe.traverseVisible(function(ye){ye.isLight&&ye.layers.test(re.layers)&&(A.pushLight(ye),ye.castShadow&&A.pushShadow(ye))}),j!==pe&&j.traverseVisible(function(ye){ye.isLight&&ye.layers.test(re.layers)&&(A.pushLight(ye),ye.castShadow&&A.pushShadow(ye))}),A.setupLights();const fe=new Set;return j.traverse(function(ye){if(!(ye.isMesh||ye.isPoints||ye.isLine||ye.isSprite))return;const Re=ye.material;if(Re)if(Array.isArray(Re))for(let qe=0;qe<Re.length;qe++){const Ze=Re[qe];Et(Ze,pe,ye),fe.add(Ze)}else Et(Re,pe,ye),fe.add(Re)}),A=B.pop(),fe},this.compileAsync=function(j,re,pe=null){const fe=this.compile(j,re,pe);return new Promise(ye=>{function Re(){if(fe.forEach(function(qe){Ge.get(qe).currentProgram.isReady()&&fe.delete(qe)}),fe.size===0){ye(j);return}setTimeout(Re,10)}Ye.get("KHR_parallel_shader_compile")!==null?Re():setTimeout(Re,10)})};let Lt=null;function $t(j){Lt&&Lt(j)}function pt(){Rt.stop()}function Ut(){Rt.start()}const Rt=new i6;Rt.setAnimationLoop($t),typeof self<"u"&&Rt.setContext(self),this.setAnimationLoop=function(j){Lt=j,Ie.setAnimationLoop(j),j===null?Rt.stop():Rt.start()},Ie.addEventListener("sessionstart",pt),Ie.addEventListener("sessionend",Ut),this.render=function(j,re){if(re!==void 0&&re.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(N===!0)return;if(j.matrixWorldAutoUpdate===!0&&j.updateMatrixWorld(),re.parent===null&&re.matrixWorldAutoUpdate===!0&&re.updateMatrixWorld(),Ie.enabled===!0&&Ie.isPresenting===!0&&(Ie.cameraAutoUpdate===!0&&Ie.updateCamera(re),re=Ie.getCamera()),j.isScene===!0&&j.onBeforeRender(D,j,re,z),A=Vt.get(j,B.length),A.init(re),B.push(A),Ne.multiplyMatrices(re.projectionMatrix,re.matrixWorldInverse),se.setFromProjectionMatrix(Ne),Ae=this.localClippingEnabled,xe=ct.init(this.clippingPlanes,Ae),M=ut.get(j,C.length),M.init(),C.push(M),Ie.enabled===!0&&Ie.isPresenting===!0){const Re=D.xr.getDepthSensingMesh();Re!==null&&kt(Re,re,-1/0,D.sortObjects)}kt(j,re,0,D.sortObjects),M.finish(),D.sortObjects===!0&&M.sort(de,I),_t=Ie.enabled===!1||Ie.isPresenting===!1||Ie.hasDepthSensing()===!1,_t&&Tt.addToRenderList(M,j),this.info.render.frame++,xe===!0&&ct.beginShadows();const pe=A.state.shadowsArray;ft.render(pe,j,re),xe===!0&&ct.endShadows(),this.info.autoReset===!0&&this.info.reset();const fe=M.opaque,ye=M.transmissive;if(A.setupLights(),re.isArrayCamera){const Re=re.cameras;if(ye.length>0)for(let qe=0,Ze=Re.length;qe<Ze;qe++){const tt=Re[qe];en(fe,ye,j,tt)}_t&&Tt.render(j);for(let qe=0,Ze=Re.length;qe<Ze;qe++){const tt=Re[qe];ii(M,j,tt,tt.viewport)}}else ye.length>0&&en(fe,ye,j,re),_t&&Tt.render(j),ii(M,j,re);z!==null&&F===0&&(Q.updateMultisampleRenderTarget(z),Q.updateRenderTargetMipmap(z)),j.isScene===!0&&j.onAfterRender(D,j,re),Yt.resetDefaultState(),O=-1,P=null,B.pop(),B.length>0?(A=B[B.length-1],xe===!0&&ct.setGlobalState(D.clippingPlanes,A.state.camera)):A=null,C.pop(),C.length>0?M=C[C.length-1]:M=null};function kt(j,re,pe,fe){if(j.visible===!1)return;if(j.layers.test(re.layers)){if(j.isGroup)pe=j.renderOrder;else if(j.isLOD)j.autoUpdate===!0&&j.update(re);else if(j.isLight)A.pushLight(j),j.castShadow&&A.pushShadow(j);else if(j.isSprite){if(!j.frustumCulled||se.intersectsSprite(j)){fe&&Je.setFromMatrixPosition(j.matrixWorld).applyMatrix4(Ne);const qe=Ve.update(j),Ze=j.material;Ze.visible&&M.push(j,qe,Ze,pe,Je.z,null)}}else if((j.isMesh||j.isLine||j.isPoints)&&(!j.frustumCulled||se.intersectsObject(j))){const qe=Ve.update(j),Ze=j.material;if(fe&&(j.boundingSphere!==void 0?(j.boundingSphere===null&&j.computeBoundingSphere(),Je.copy(j.boundingSphere.center)):(qe.boundingSphere===null&&qe.computeBoundingSphere(),Je.copy(qe.boundingSphere.center)),Je.applyMatrix4(j.matrixWorld).applyMatrix4(Ne)),Array.isArray(Ze)){const tt=qe.groups;for(let St=0,At=tt.length;St<At;St++){const bt=tt[St],jt=Ze[bt.materialIndex];jt&&jt.visible&&M.push(j,qe,jt,pe,Je.z,bt)}}else Ze.visible&&M.push(j,qe,Ze,pe,Je.z,null)}}const Re=j.children;for(let qe=0,Ze=Re.length;qe<Ze;qe++)kt(Re[qe],re,pe,fe)}function ii(j,re,pe,fe){const ye=j.opaque,Re=j.transmissive,qe=j.transparent;A.setupLightsView(pe),xe===!0&&ct.setGlobalState(D.clippingPlanes,pe),fe&&He.viewport(q.copy(fe)),ye.length>0&&Nt(ye,re,pe),Re.length>0&&Nt(Re,re,pe),qe.length>0&&Nt(qe,re,pe),He.buffers.depth.setTest(!0),He.buffers.depth.setMask(!0),He.buffers.color.setMask(!0),He.setPolygonOffset(!1)}function en(j,re,pe,fe){if((pe.isScene===!0?pe.overrideMaterial:null)!==null)return;A.state.transmissionRenderTarget[fe.id]===void 0&&(A.state.transmissionRenderTarget[fe.id]=new qo(1,1,{generateMipmaps:!0,type:Ye.has("EXT_color_buffer_half_float")||Ye.has("EXT_color_buffer_float")?Ks:za,minFilter:Xo,samples:4,stencilBuffer:r,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:qn.workingColorSpace}));const Re=A.state.transmissionRenderTarget[fe.id],qe=fe.viewport||q;Re.setSize(qe.z*D.transmissionResolutionScale,qe.w*D.transmissionResolutionScale);const Ze=D.getRenderTarget();D.setRenderTarget(Re),D.getClearColor(ee),oe=D.getClearAlpha(),oe<1&&D.setClearColor(16777215,.5),D.clear(),_t&&Tt.render(pe);const tt=D.toneMapping;D.toneMapping=Tc;const St=fe.viewport;if(fe.viewport!==void 0&&(fe.viewport=void 0),A.setupLightsView(fe),xe===!0&&ct.setGlobalState(D.clippingPlanes,fe),Nt(j,pe,fe),Q.updateMultisampleRenderTarget(Re),Q.updateRenderTargetMipmap(Re),Ye.has("WEBGL_multisampled_render_to_texture")===!1){let At=!1;for(let bt=0,jt=re.length;bt<jt;bt++){const Xt=re[bt],Hn=Xt.object,Pt=Xt.geometry,Jt=Xt.material,It=Xt.group;if(Jt.side===Vo&&Hn.layers.test(fe.layers)){const ci=Jt.side;Jt.side=da,Jt.needsUpdate=!0,ei(Hn,pe,fe,Pt,Jt,It),Jt.side=ci,Jt.needsUpdate=!0,At=!0}}At===!0&&(Q.updateMultisampleRenderTarget(Re),Q.updateRenderTargetMipmap(Re))}D.setRenderTarget(Ze),D.setClearColor(ee,oe),St!==void 0&&(fe.viewport=St),D.toneMapping=tt}function Nt(j,re,pe){const fe=re.isScene===!0?re.overrideMaterial:null;for(let ye=0,Re=j.length;ye<Re;ye++){const qe=j[ye],Ze=qe.object,tt=qe.geometry,St=qe.group;let At=qe.material;At.allowOverride===!0&&fe!==null&&(At=fe),Ze.layers.test(pe.layers)&&ei(Ze,re,pe,tt,At,St)}}function ei(j,re,pe,fe,ye,Re){j.onBeforeRender(D,re,pe,fe,ye,Re),j.modelViewMatrix.multiplyMatrices(pe.matrixWorldInverse,j.matrixWorld),j.normalMatrix.getNormalMatrix(j.modelViewMatrix),ye.onBeforeRender(D,re,pe,fe,j,Re),ye.transparent===!0&&ye.side===Vo&&ye.forceSinglePass===!1?(ye.side=da,ye.needsUpdate=!0,D.renderBufferDirect(pe,re,fe,ye,j,Re),ye.side=Rc,ye.needsUpdate=!0,D.renderBufferDirect(pe,re,fe,ye,j,Re),ye.side=Vo):D.renderBufferDirect(pe,re,fe,ye,j,Re),j.onAfterRender(D,re,pe,fe,ye,Re)}function tn(j,re,pe){re.isScene!==!0&&(re=st);const fe=Ge.get(j),ye=A.state.lights,Re=A.state.shadowsArray,qe=ye.state.version,Ze=lt.getParameters(j,ye.state,Re,re,pe),tt=lt.getProgramCacheKey(Ze);let St=fe.programs;fe.environment=j.isMeshStandardMaterial?re.environment:null,fe.fog=re.fog,fe.envMap=(j.isMeshStandardMaterial?be:X).get(j.envMap||fe.environment),fe.envMapRotation=fe.environment!==null&&j.envMap===null?re.environmentRotation:j.envMapRotation,St===void 0&&(j.addEventListener("dispose",Qt),St=new Map,fe.programs=St);let At=St.get(tt);if(At!==void 0){if(fe.currentProgram===At&&fe.lightsStateVersion===qe)return W(j,Ze),At}else Ze.uniforms=lt.getUniforms(j),j.onBeforeCompile(Ze,D),At=lt.acquireProgram(Ze,tt),St.set(tt,At),fe.uniforms=Ze.uniforms;const bt=fe.uniforms;return(!j.isShaderMaterial&&!j.isRawShaderMaterial||j.clipping===!0)&&(bt.clippingPlanes=ct.uniform),W(j,Ze),fe.needsLights=Be(j),fe.lightsStateVersion=qe,fe.needsLights&&(bt.ambientLightColor.value=ye.state.ambient,bt.lightProbe.value=ye.state.probe,bt.directionalLights.value=ye.state.directional,bt.directionalLightShadows.value=ye.state.directionalShadow,bt.spotLights.value=ye.state.spot,bt.spotLightShadows.value=ye.state.spotShadow,bt.rectAreaLights.value=ye.state.rectArea,bt.ltc_1.value=ye.state.rectAreaLTC1,bt.ltc_2.value=ye.state.rectAreaLTC2,bt.pointLights.value=ye.state.point,bt.pointLightShadows.value=ye.state.pointShadow,bt.hemisphereLights.value=ye.state.hemi,bt.directionalShadowMap.value=ye.state.directionalShadowMap,bt.directionalShadowMatrix.value=ye.state.directionalShadowMatrix,bt.spotShadowMap.value=ye.state.spotShadowMap,bt.spotLightMatrix.value=ye.state.spotLightMatrix,bt.spotLightMap.value=ye.state.spotLightMap,bt.pointShadowMap.value=ye.state.pointShadowMap,bt.pointShadowMatrix.value=ye.state.pointShadowMatrix),fe.currentProgram=At,fe.uniformsList=null,At}function V(j){if(j.uniformsList===null){const re=j.currentProgram.getUniforms();j.uniformsList=LS.seqWithValue(re.seq,j.uniforms)}return j.uniformsList}function W(j,re){const pe=Ge.get(j);pe.outputColorSpace=re.outputColorSpace,pe.batching=re.batching,pe.batchingColor=re.batchingColor,pe.instancing=re.instancing,pe.instancingColor=re.instancingColor,pe.instancingMorph=re.instancingMorph,pe.skinning=re.skinning,pe.morphTargets=re.morphTargets,pe.morphNormals=re.morphNormals,pe.morphColors=re.morphColors,pe.morphTargetsCount=re.morphTargetsCount,pe.numClippingPlanes=re.numClippingPlanes,pe.numIntersection=re.numClipIntersection,pe.vertexAlphas=re.vertexAlphas,pe.vertexTangents=re.vertexTangents,pe.toneMapping=re.toneMapping}function ge(j,re,pe,fe,ye){re.isScene!==!0&&(re=st),Q.resetTextureUnits();const Re=re.fog,qe=fe.isMeshStandardMaterial?re.environment:null,Ze=z===null?D.outputColorSpace:z.isXRRenderTarget===!0?z.texture.colorSpace:Bl,tt=(fe.isMeshStandardMaterial?be:X).get(fe.envMap||qe),St=fe.vertexColors===!0&&!!pe.attributes.color&&pe.attributes.color.itemSize===4,At=!!pe.attributes.tangent&&(!!fe.normalMap||fe.anisotropy>0),bt=!!pe.morphAttributes.position,jt=!!pe.morphAttributes.normal,Xt=!!pe.morphAttributes.color;let Hn=Tc;fe.toneMapped&&(z===null||z.isXRRenderTarget===!0)&&(Hn=D.toneMapping);const Pt=pe.morphAttributes.position||pe.morphAttributes.normal||pe.morphAttributes.color,Jt=Pt!==void 0?Pt.length:0,It=Ge.get(fe),ci=A.state.lights;if(xe===!0&&(Ae===!0||j!==P)){const gi=j===P&&fe.id===O;ct.setState(fe,j,gi)}let fn=!1;fe.version===It.__version?(It.needsLights&&It.lightsStateVersion!==ci.state.version||It.outputColorSpace!==Ze||ye.isBatchedMesh&&It.batching===!1||!ye.isBatchedMesh&&It.batching===!0||ye.isBatchedMesh&&It.batchingColor===!0&&ye.colorTexture===null||ye.isBatchedMesh&&It.batchingColor===!1&&ye.colorTexture!==null||ye.isInstancedMesh&&It.instancing===!1||!ye.isInstancedMesh&&It.instancing===!0||ye.isSkinnedMesh&&It.skinning===!1||!ye.isSkinnedMesh&&It.skinning===!0||ye.isInstancedMesh&&It.instancingColor===!0&&ye.instanceColor===null||ye.isInstancedMesh&&It.instancingColor===!1&&ye.instanceColor!==null||ye.isInstancedMesh&&It.instancingMorph===!0&&ye.morphTexture===null||ye.isInstancedMesh&&It.instancingMorph===!1&&ye.morphTexture!==null||It.envMap!==tt||fe.fog===!0&&It.fog!==Re||It.numClippingPlanes!==void 0&&(It.numClippingPlanes!==ct.numPlanes||It.numIntersection!==ct.numIntersection)||It.vertexAlphas!==St||It.vertexTangents!==At||It.morphTargets!==bt||It.morphNormals!==jt||It.morphColors!==Xt||It.toneMapping!==Hn||It.morphTargetsCount!==Jt)&&(fn=!0):(fn=!0,It.__version=fe.version);let mn=It.currentProgram;fn===!0&&(mn=tn(fe,re,ye));let mi=!1,rn=!1,Tn=!1;const An=mn.getUniforms(),Ci=It.uniforms;if(He.useProgram(mn.program)&&(mi=!0,rn=!0,Tn=!0),fe.id!==O&&(O=fe.id,rn=!0),mi||P!==j){He.buffers.depth.getReversed()?(Ee.copy(j.projectionMatrix),Xj(Ee),Yj(Ee),An.setValue(ce,"projectionMatrix",Ee)):An.setValue(ce,"projectionMatrix",j.projectionMatrix),An.setValue(ce,"viewMatrix",j.matrixWorldInverse);const gs=An.map.cameraPosition;gs!==void 0&&gs.setValue(ce,ht.setFromMatrixPosition(j.matrixWorld)),le.logarithmicDepthBuffer&&An.setValue(ce,"logDepthBufFC",2/(Math.log(j.far+1)/Math.LN2)),(fe.isMeshPhongMaterial||fe.isMeshToonMaterial||fe.isMeshLambertMaterial||fe.isMeshBasicMaterial||fe.isMeshStandardMaterial||fe.isShaderMaterial)&&An.setValue(ce,"isOrthographic",j.isOrthographicCamera===!0),P!==j&&(P=j,rn=!0,Tn=!0)}if(ye.isSkinnedMesh){An.setOptional(ce,ye,"bindMatrix"),An.setOptional(ce,ye,"bindMatrixInverse");const gi=ye.skeleton;gi&&(gi.boneTexture===null&&gi.computeBoneTexture(),An.setValue(ce,"boneTexture",gi.boneTexture,Q))}ye.isBatchedMesh&&(An.setOptional(ce,ye,"batchingTexture"),An.setValue(ce,"batchingTexture",ye._matricesTexture,Q),An.setOptional(ce,ye,"batchingIdTexture"),An.setValue(ce,"batchingIdTexture",ye._indirectTexture,Q),An.setOptional(ce,ye,"batchingColorTexture"),ye._colorsTexture!==null&&An.setValue(ce,"batchingColorTexture",ye._colorsTexture,Q));const kn=pe.morphAttributes;if((kn.position!==void 0||kn.normal!==void 0||kn.color!==void 0)&&gt.update(ye,pe,mn),(rn||It.receiveShadow!==ye.receiveShadow)&&(It.receiveShadow=ye.receiveShadow,An.setValue(ce,"receiveShadow",ye.receiveShadow)),fe.isMeshGouraudMaterial&&fe.envMap!==null&&(Ci.envMap.value=tt,Ci.flipEnvMap.value=tt.isCubeTexture&&tt.isRenderTargetTexture===!1?-1:1),fe.isMeshStandardMaterial&&fe.envMap===null&&re.environment!==null&&(Ci.envMapIntensity.value=re.environmentIntensity),rn&&(An.setValue(ce,"toneMappingExposure",D.toneMappingExposure),It.needsLights&&Te(Ci,Tn),Re&&fe.fog===!0&&ot.refreshFogUniforms(Ci,Re),ot.refreshMaterialUniforms(Ci,fe,Z,Y,A.state.transmissionRenderTarget[j.id]),LS.upload(ce,V(It),Ci,Q)),fe.isShaderMaterial&&fe.uniformsNeedUpdate===!0&&(LS.upload(ce,V(It),Ci,Q),fe.uniformsNeedUpdate=!1),fe.isSpriteMaterial&&An.setValue(ce,"center",ye.center),An.setValue(ce,"modelViewMatrix",ye.modelViewMatrix),An.setValue(ce,"normalMatrix",ye.normalMatrix),An.setValue(ce,"modelMatrix",ye.matrixWorld),fe.isShaderMaterial||fe.isRawShaderMaterial){const gi=fe.uniformsGroups;for(let gs=0,Qs=gi.length;gs<Qs;gs++){const go=gi[gs];he.update(go,mn),he.bind(go,mn)}}return mn}function Te(j,re){j.ambientLightColor.needsUpdate=re,j.lightProbe.needsUpdate=re,j.directionalLights.needsUpdate=re,j.directionalLightShadows.needsUpdate=re,j.pointLights.needsUpdate=re,j.pointLightShadows.needsUpdate=re,j.spotLights.needsUpdate=re,j.spotLightShadows.needsUpdate=re,j.rectAreaLights.needsUpdate=re,j.hemisphereLights.needsUpdate=re}function Be(j){return j.isMeshLambertMaterial||j.isMeshToonMaterial||j.isMeshPhongMaterial||j.isMeshStandardMaterial||j.isShadowMaterial||j.isShaderMaterial&&j.lights===!0}this.getActiveCubeFace=function(){return U},this.getActiveMipmapLevel=function(){return F},this.getRenderTarget=function(){return z},this.setRenderTargetTextures=function(j,re,pe){const fe=Ge.get(j);fe.__autoAllocateDepthBuffer=j.resolveDepthBuffer===!1,fe.__autoAllocateDepthBuffer===!1&&(fe.__useRenderToTexture=!1),Ge.get(j.texture).__webglTexture=re,Ge.get(j.depthTexture).__webglTexture=fe.__autoAllocateDepthBuffer?void 0:pe,fe.__hasExternalTextures=!0},this.setRenderTargetFramebuffer=function(j,re){const pe=Ge.get(j);pe.__webglFramebuffer=re,pe.__useDefaultFramebuffer=re===void 0};const ke=ce.createFramebuffer();this.setRenderTarget=function(j,re=0,pe=0){z=j,U=re,F=pe;let fe=!0,ye=null,Re=!1,qe=!1;if(j){const tt=Ge.get(j);if(tt.__useDefaultFramebuffer!==void 0)He.bindFramebuffer(ce.FRAMEBUFFER,null),fe=!1;else if(tt.__webglFramebuffer===void 0)Q.setupRenderTarget(j);else if(tt.__hasExternalTextures)Q.rebindTextures(j,Ge.get(j.texture).__webglTexture,Ge.get(j.depthTexture).__webglTexture);else if(j.depthBuffer){const bt=j.depthTexture;if(tt.__boundDepthTexture!==bt){if(bt!==null&&Ge.has(bt)&&(j.width!==bt.image.width||j.height!==bt.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");Q.setupDepthRenderbuffer(j)}}const St=j.texture;(St.isData3DTexture||St.isDataArrayTexture||St.isCompressedArrayTexture)&&(qe=!0);const At=Ge.get(j).__webglFramebuffer;j.isWebGLCubeRenderTarget?(Array.isArray(At[re])?ye=At[re][pe]:ye=At[re],Re=!0):j.samples>0&&Q.useMultisampledRTT(j)===!1?ye=Ge.get(j).__webglMultisampledFramebuffer:Array.isArray(At)?ye=At[pe]:ye=At,q.copy(j.viewport),ne.copy(j.scissor),te=j.scissorTest}else q.copy(ie).multiplyScalar(Z).floor(),ne.copy(ue).multiplyScalar(Z).floor(),te=_e;if(pe!==0&&(ye=ke),He.bindFramebuffer(ce.FRAMEBUFFER,ye)&&fe&&He.drawBuffers(j,ye),He.viewport(q),He.scissor(ne),He.setScissorTest(te),Re){const tt=Ge.get(j.texture);ce.framebufferTexture2D(ce.FRAMEBUFFER,ce.COLOR_ATTACHMENT0,ce.TEXTURE_CUBE_MAP_POSITIVE_X+re,tt.__webglTexture,pe)}else if(qe){const tt=Ge.get(j.texture),St=re;ce.framebufferTextureLayer(ce.FRAMEBUFFER,ce.COLOR_ATTACHMENT0,tt.__webglTexture,pe,St)}else if(j!==null&&pe!==0){const tt=Ge.get(j.texture);ce.framebufferTexture2D(ce.FRAMEBUFFER,ce.COLOR_ATTACHMENT0,ce.TEXTURE_2D,tt.__webglTexture,pe)}O=-1},this.readRenderTargetPixels=function(j,re,pe,fe,ye,Re,qe){if(!(j&&j.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let Ze=Ge.get(j).__webglFramebuffer;if(j.isWebGLCubeRenderTarget&&qe!==void 0&&(Ze=Ze[qe]),Ze){He.bindFramebuffer(ce.FRAMEBUFFER,Ze);try{const tt=j.texture,St=tt.format,At=tt.type;if(!le.textureFormatReadable(St)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!le.textureTypeReadable(At)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}re>=0&&re<=j.width-fe&&pe>=0&&pe<=j.height-ye&&ce.readPixels(re,pe,fe,ye,wt.convert(St),wt.convert(At),Re)}finally{const tt=z!==null?Ge.get(z).__webglFramebuffer:null;He.bindFramebuffer(ce.FRAMEBUFFER,tt)}}},this.readRenderTargetPixelsAsync=async function(j,re,pe,fe,ye,Re,qe){if(!(j&&j.isWebGLRenderTarget))throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let Ze=Ge.get(j).__webglFramebuffer;if(j.isWebGLCubeRenderTarget&&qe!==void 0&&(Ze=Ze[qe]),Ze)if(re>=0&&re<=j.width-fe&&pe>=0&&pe<=j.height-ye){He.bindFramebuffer(ce.FRAMEBUFFER,Ze);const tt=j.texture,St=tt.format,At=tt.type;if(!le.textureFormatReadable(St))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!le.textureTypeReadable(At))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");const bt=ce.createBuffer();ce.bindBuffer(ce.PIXEL_PACK_BUFFER,bt),ce.bufferData(ce.PIXEL_PACK_BUFFER,Re.byteLength,ce.STREAM_READ),ce.readPixels(re,pe,fe,ye,wt.convert(St),wt.convert(At),0);const jt=z!==null?Ge.get(z).__webglFramebuffer:null;He.bindFramebuffer(ce.FRAMEBUFFER,jt);const Xt=ce.fenceSync(ce.SYNC_GPU_COMMANDS_COMPLETE,0);return ce.flush(),await jj(ce,Xt,4),ce.bindBuffer(ce.PIXEL_PACK_BUFFER,bt),ce.getBufferSubData(ce.PIXEL_PACK_BUFFER,0,Re),ce.deleteBuffer(bt),ce.deleteSync(Xt),Re}else throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")},this.copyFramebufferToTexture=function(j,re=null,pe=0){const fe=Math.pow(2,-pe),ye=Math.floor(j.image.width*fe),Re=Math.floor(j.image.height*fe),qe=re!==null?re.x:0,Ze=re!==null?re.y:0;Q.setTexture2D(j,0),ce.copyTexSubImage2D(ce.TEXTURE_2D,pe,0,0,qe,Ze,ye,Re),He.unbindTexture()};const nt=ce.createFramebuffer(),Ke=ce.createFramebuffer();this.copyTextureToTexture=function(j,re,pe=null,fe=null,ye=0,Re=null){Re===null&&(ye!==0?(NS("WebGLRenderer: copyTextureToTexture function signature has changed to support src and dst mipmap levels."),Re=ye,ye=0):Re=0);let qe,Ze,tt,St,At,bt,jt,Xt,Hn;const Pt=j.isCompressedTexture?j.mipmaps[Re]:j.image;if(pe!==null)qe=pe.max.x-pe.min.x,Ze=pe.max.y-pe.min.y,tt=pe.isBox3?pe.max.z-pe.min.z:1,St=pe.min.x,At=pe.min.y,bt=pe.isBox3?pe.min.z:0;else{const kn=Math.pow(2,-ye);qe=Math.floor(Pt.width*kn),Ze=Math.floor(Pt.height*kn),j.isDataArrayTexture?tt=Pt.depth:j.isData3DTexture?tt=Math.floor(Pt.depth*kn):tt=1,St=0,At=0,bt=0}fe!==null?(jt=fe.x,Xt=fe.y,Hn=fe.z):(jt=0,Xt=0,Hn=0);const Jt=wt.convert(re.format),It=wt.convert(re.type);let ci;re.isData3DTexture?(Q.setTexture3D(re,0),ci=ce.TEXTURE_3D):re.isDataArrayTexture||re.isCompressedArrayTexture?(Q.setTexture2DArray(re,0),ci=ce.TEXTURE_2D_ARRAY):(Q.setTexture2D(re,0),ci=ce.TEXTURE_2D),ce.pixelStorei(ce.UNPACK_FLIP_Y_WEBGL,re.flipY),ce.pixelStorei(ce.UNPACK_PREMULTIPLY_ALPHA_WEBGL,re.premultiplyAlpha),ce.pixelStorei(ce.UNPACK_ALIGNMENT,re.unpackAlignment);const fn=ce.getParameter(ce.UNPACK_ROW_LENGTH),mn=ce.getParameter(ce.UNPACK_IMAGE_HEIGHT),mi=ce.getParameter(ce.UNPACK_SKIP_PIXELS),rn=ce.getParameter(ce.UNPACK_SKIP_ROWS),Tn=ce.getParameter(ce.UNPACK_SKIP_IMAGES);ce.pixelStorei(ce.UNPACK_ROW_LENGTH,Pt.width),ce.pixelStorei(ce.UNPACK_IMAGE_HEIGHT,Pt.height),ce.pixelStorei(ce.UNPACK_SKIP_PIXELS,St),ce.pixelStorei(ce.UNPACK_SKIP_ROWS,At),ce.pixelStorei(ce.UNPACK_SKIP_IMAGES,bt);const An=j.isDataArrayTexture||j.isData3DTexture,Ci=re.isDataArrayTexture||re.isData3DTexture;if(j.isDepthTexture){const kn=Ge.get(j),gi=Ge.get(re),gs=Ge.get(kn.__renderTarget),Qs=Ge.get(gi.__renderTarget);He.bindFramebuffer(ce.READ_FRAMEBUFFER,gs.__webglFramebuffer),He.bindFramebuffer(ce.DRAW_FRAMEBUFFER,Qs.__webglFramebuffer);for(let go=0;go<tt;go++)An&&(ce.framebufferTextureLayer(ce.READ_FRAMEBUFFER,ce.COLOR_ATTACHMENT0,Ge.get(j).__webglTexture,ye,bt+go),ce.framebufferTextureLayer(ce.DRAW_FRAMEBUFFER,ce.COLOR_ATTACHMENT0,Ge.get(re).__webglTexture,Re,Hn+go)),ce.blitFramebuffer(St,At,qe,Ze,jt,Xt,qe,Ze,ce.DEPTH_BUFFER_BIT,ce.NEAREST);He.bindFramebuffer(ce.READ_FRAMEBUFFER,null),He.bindFramebuffer(ce.DRAW_FRAMEBUFFER,null)}else if(ye!==0||j.isRenderTargetTexture||Ge.has(j)){const kn=Ge.get(j),gi=Ge.get(re);He.bindFramebuffer(ce.READ_FRAMEBUFFER,nt),He.bindFramebuffer(ce.DRAW_FRAMEBUFFER,Ke);for(let gs=0;gs<tt;gs++)An?ce.framebufferTextureLayer(ce.READ_FRAMEBUFFER,ce.COLOR_ATTACHMENT0,kn.__webglTexture,ye,bt+gs):ce.framebufferTexture2D(ce.READ_FRAMEBUFFER,ce.COLOR_ATTACHMENT0,ce.TEXTURE_2D,kn.__webglTexture,ye),Ci?ce.framebufferTextureLayer(ce.DRAW_FRAMEBUFFER,ce.COLOR_ATTACHMENT0,gi.__webglTexture,Re,Hn+gs):ce.framebufferTexture2D(ce.DRAW_FRAMEBUFFER,ce.COLOR_ATTACHMENT0,ce.TEXTURE_2D,gi.__webglTexture,Re),ye!==0?ce.blitFramebuffer(St,At,qe,Ze,jt,Xt,qe,Ze,ce.COLOR_BUFFER_BIT,ce.NEAREST):Ci?ce.copyTexSubImage3D(ci,Re,jt,Xt,Hn+gs,St,At,qe,Ze):ce.copyTexSubImage2D(ci,Re,jt,Xt,St,At,qe,Ze);He.bindFramebuffer(ce.READ_FRAMEBUFFER,null),He.bindFramebuffer(ce.DRAW_FRAMEBUFFER,null)}else Ci?j.isDataTexture||j.isData3DTexture?ce.texSubImage3D(ci,Re,jt,Xt,Hn,qe,Ze,tt,Jt,It,Pt.data):re.isCompressedArrayTexture?ce.compressedTexSubImage3D(ci,Re,jt,Xt,Hn,qe,Ze,tt,Jt,Pt.data):ce.texSubImage3D(ci,Re,jt,Xt,Hn,qe,Ze,tt,Jt,It,Pt):j.isDataTexture?ce.texSubImage2D(ce.TEXTURE_2D,Re,jt,Xt,qe,Ze,Jt,It,Pt.data):j.isCompressedTexture?ce.compressedTexSubImage2D(ce.TEXTURE_2D,Re,jt,Xt,Pt.width,Pt.height,Jt,Pt.data):ce.texSubImage2D(ce.TEXTURE_2D,Re,jt,Xt,qe,Ze,Jt,It,Pt);ce.pixelStorei(ce.UNPACK_ROW_LENGTH,fn),ce.pixelStorei(ce.UNPACK_IMAGE_HEIGHT,mn),ce.pixelStorei(ce.UNPACK_SKIP_PIXELS,mi),ce.pixelStorei(ce.UNPACK_SKIP_ROWS,rn),ce.pixelStorei(ce.UNPACK_SKIP_IMAGES,Tn),Re===0&&re.generateMipmaps&&ce.generateMipmap(ci),He.unbindTexture()},this.copyTextureToTexture3D=function(j,re,pe=null,fe=null,ye=0){return NS('WebGLRenderer: copyTextureToTexture3D function has been deprecated. Use "copyTextureToTexture" instead.'),this.copyTextureToTexture(j,re,pe,fe,ye)},this.initRenderTarget=function(j){Ge.get(j).__webglFramebuffer===void 0&&Q.setupRenderTarget(j)},this.initTexture=function(j){j.isCubeTexture?Q.setTextureCube(j,0):j.isData3DTexture?Q.setTexture3D(j,0):j.isDataArrayTexture||j.isCompressedArrayTexture?Q.setTexture2DArray(j,0):Q.setTexture2D(j,0),He.unbindTexture()},this.resetState=function(){U=0,F=0,z=null,He.reset(),Yt.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return Cl}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const t=this.getContext();t.drawingBufferColorSpace=qn._getDrawingBufferColorSpace(e),t.unpackColorSpace=qn._getUnpackColorSpace()}}const $Z=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:QC,AddEquation:Pf,AddOperation:PU,AdditiveAnimationBlendMode:aw,AdditiveBlending:sA,AgXToneMapping:GU,AlphaFormat:ew,AlwaysCompare:i8,AlwaysDepth:lA,AlwaysStencilFunc:_2,AmbientLight:X8,AnimationAction:t6,AnimationClip:Hg,AnimationLoader:gY,AnimationMixer:GY,AnimationObjectGroup:zY,AnimationUtils:hY,ArcCurve:v8,ArrayCamera:Q8,ArrowHelper:uq,AttachedBindMode:v2,Audio:$8,AudioAnalyser:RY,AudioContext:Uw,AudioListener:TY,AudioLoader:MY,AxesHelper:fq,BackSide:da,BasicDepthPacking:WU,BasicShadowMap:gU,BatchedMesh:m8,Bone:EM,BooleanKeyframeTrack:Sp,Box2:JY,Box3:Fr,Box3Helper:lq,BoxGeometry:_p,BoxHelper:oq,BufferAttribute:ni,BufferGeometry:En,BufferGeometryLoader:J8,ByteType:dM,Cache:vu,Camera:AM,CameraHelper:aq,CanvasTexture:UX,CapsuleGeometry:wM,CatmullRomCurve3:y8,CineonToneMapping:zU,CircleGeometry:RM,ClampToEdgeWrapping:ps,Clock:Pw,Color:Ct,ColorKeyframeTrack:Rw,ColorManagement:qn,CompressedArrayTexture:OX,CompressedCubeTexture:LX,CompressedTexture:TM,CompressedTextureLoader:vY,ConeGeometry:BM,ConstantAlphaFactor:OU,ConstantColorFactor:DU,Controls:dq,CubeCamera:f8,CubeReflectionMapping:Bc,CubeRefractionMapping:ih,CubeTexture:h_,CubeTextureLoader:V8,CubeUVReflectionMapping:Wg,CubicBezierCurve:xw,CubicBezierCurve3:_8,CubicInterpolant:F8,CullFaceBack:p2,CullFaceFront:mU,CullFaceFrontBack:Zk,CullFaceNone:pU,Curve:Nl,CurvePath:S8,CustomBlending:vU,CustomToneMapping:HU,CylinderGeometry:xp,Cylindrical:KY,Data3DTexture:SM,DataArrayTexture:f_,DataTexture:Rl,DataTextureLoader:Bw,DataUtils:Hd,DecrementStencilOp:oj,DecrementWrapStencilOp:cj,DefaultLoadingManager:G8,DepthFormat:Ng,DepthStencilFormat:Og,DepthTexture:yw,DetachedBindMode:kU,DirectionalLight:Lw,DirectionalLightHelper:rq,DiscreteInterpolant:z8,DodecahedronGeometry:DM,DoubleSide:Vo,DstAlphaFactor:TU,DstColorFactor:wU,DynamicCopyUsage:Mj,DynamicDrawUsage:$d,DynamicReadUsage:xj,EdgesGeometry:A8,EllipseCurve:CM,EqualCompare:$U,EqualDepth:uA,EqualStencilFunc:dj,EquirectangularReflectionMapping:wg,EquirectangularRefractionMapping:zy,Euler:po,EventDispatcher:Nc,ExtrudeGeometry:NM,FileLoader:mr,Float16BufferAttribute:dX,Float32BufferAttribute:qt,FloatType:$i,Fog:bM,FogExp2:MM,FramebufferTexture:NX,FrontSide:Rc,Frustum:g_,GLBufferAttribute:qY,GLSL1:Ej,GLSL3:x2,GreaterCompare:e8,GreaterDepth:hA,GreaterEqualCompare:n8,GreaterEqualDepth:fA,GreaterEqualStencilFunc:vj,GreaterStencilFunc:mj,GridHelper:iq,Group:gu,HalfFloatType:Ks,HemisphereLight:j8,HemisphereLightHelper:nq,IcosahedronGeometry:__,ImageBitmapLoader:Z8,ImageLoader:Ky,ImageUtils:o8,IncrementStencilOp:aj,IncrementWrapStencilOp:lj,InstancedBufferAttribute:lp,InstancedBufferGeometry:K8,InstancedInterleavedBuffer:YY,InstancedMesh:mw,Int16BufferAttribute:fX,Int32BufferAttribute:hX,Int8BufferAttribute:lX,IntType:l_,InterleavedBuffer:p_,InterleavedBufferAttribute:rh,Interpolant:Jg,InterpolateDiscrete:Lg,InterpolateLinear:Ug,InterpolateSmooth:DS,InvertStencilOp:uj,KeepStencilOp:Rd,KeyframeTrack:Wo,LOD:p8,LatheGeometry:y_,Layers:Ig,LessCompare:QU,LessDepth:cA,LessEqualCompare:lw,LessEqualDepth:op,LessEqualStencilFunc:pj,LessStencilFunc:hj,Light:hh,LightProbe:W8,Line:Cu,Line3:ZY,LineBasicMaterial:zr,LineCurve:Sw,LineCurve3:x8,LineDashedMaterial:U8,LineLoop:gw,LineSegments:Dl,LinearFilter:fi,LinearInterpolant:ww,LinearMipMapLinearFilter:y2,LinearMipMapNearestFilter:ej,LinearMipmapLinearFilter:Xo,LinearMipmapNearestFilter:pg,LinearSRGBColorSpace:Bl,LinearToneMapping:IU,LinearTransfer:Gy,Loader:gr,LoaderUtils:Kf,LoadingManager:zM,LoopOnce:jU,LoopPingPong:YU,LoopRepeat:XU,LuminanceAlphaFormat:iw,LuminanceFormat:nw,MOUSE:Kk,Material:Fs,MaterialLoader:HM,MathUtils:s8,Matrix2:Gw,Matrix3:bn,Matrix4:sn,MaxEquation:SU,Mesh:ki,MeshBasicMaterial:Oa,MeshDepthMaterial:Ew,MeshDistanceMaterial:Tw,MeshLambertMaterial:O8,MeshMatcapMaterial:L8,MeshNormalMaterial:N8,MeshPhongMaterial:B8,MeshPhysicalMaterial:mo,MeshStandardMaterial:A_,MeshToonMaterial:D8,MinEquation:xU,MirroredRepeatWrapping:Rg,MixOperation:UU,MultiplyBlending:g2,MultiplyOperation:o_,NearestFilter:Js,NearestMipMapLinearFilter:$k,NearestMipMapNearestFilter:Qk,NearestMipmapLinearFilter:Id,NearestMipmapNearestFilter:hM,NeutralToneMapping:VU,NeverCompare:ZU,NeverDepth:oA,NeverStencilFunc:fj,NoBlending:Ec,NoColorSpace:du,NoToneMapping:Tc,NormalAnimationBlendMode:_M,NormalBlending:Qd,NotEqualCompare:t8,NotEqualDepth:dA,NotEqualStencilFunc:gj,NumberKeyframeTrack:up,Object3D:Kn,ObjectLoader:SY,ObjectSpaceNormalMap:JU,OctahedronGeometry:x_,OneFactor:MU,OneMinusConstantAlphaFactor:LU,OneMinusConstantColorFactor:NU,OneMinusDstAlphaFactor:CU,OneMinusDstColorFactor:RU,OneMinusSrcAlphaFactor:aA,OneMinusSrcColorFactor:EU,OrthographicCamera:Mp,PCFShadowMap:fM,PCFSoftShadowMap:hy,PMREMGenerator:C2,Path:Xy,PerspectiveCamera:Is,Plane:Uf,PlaneGeometry:fh,PlaneHelper:cq,PointLight:Ow,PointLightHelper:eq,Points:vw,PointsMaterial:v_,PolarGridHelper:sq,PolyhedronGeometry:uh,PositionalAudio:wY,PropertyBinding:$n,PropertyMixer:e6,QuadraticBezierCurve:Aw,QuadraticBezierCurve3:Mw,Quaternion:Ir,QuaternionKeyframeTrack:fp,QuaternionLinearInterpolant:H8,RED_GREEN_RGTC2_Format:FA,RED_RGTC1_Format:rw,REVISION:qg,RGBADepthPacking:KU,RGBAFormat:ms,RGBAIntegerFormat:yM,RGBA_ASTC_10x10_Format:NA,RGBA_ASTC_10x5_Format:RA,RGBA_ASTC_10x6_Format:BA,RGBA_ASTC_10x8_Format:DA,RGBA_ASTC_12x10_Format:OA,RGBA_ASTC_12x12_Format:LA,RGBA_ASTC_4x4_Format:SA,RGBA_ASTC_5x4_Format:AA,RGBA_ASTC_5x5_Format:MA,RGBA_ASTC_6x5_Format:bA,RGBA_ASTC_6x6_Format:EA,RGBA_ASTC_8x5_Format:TA,RGBA_ASTC_8x6_Format:CA,RGBA_ASTC_8x8_Format:wA,RGBA_BPTC_Format:vy,RGBA_ETC2_EAC_Format:xA,RGBA_PVRTC_2BPPV1_Format:vA,RGBA_PVRTC_4BPPV1_Format:gA,RGBA_S3TC_DXT1_Format:py,RGBA_S3TC_DXT3_Format:my,RGBA_S3TC_DXT5_Format:gy,RGBDepthPacking:nj,RGBFormat:tw,RGBIntegerFormat:tj,RGB_BPTC_SIGNED_Format:UA,RGB_BPTC_UNSIGNED_Format:PA,RGB_ETC1_Format:yA,RGB_ETC2_Format:_A,RGB_PVRTC_2BPPV1_Format:mA,RGB_PVRTC_4BPPV1_Format:pA,RGB_S3TC_DXT1_Format:dy,RGDepthPacking:ij,RGFormat:sw,RGIntegerFormat:vM,RawShaderMaterial:R8,Ray:Kg,Raycaster:Hw,RectAreaLight:Y8,RedFormat:c_,RedIntegerFormat:u_,ReinhardToneMapping:FU,RenderTarget:xM,RenderTarget3D:VY,RenderTargetArray:kY,RepeatWrapping:sh,ReplaceStencilOp:rj,ReverseSubtractEquation:_U,RingGeometry:OM,SIGNED_RED_GREEN_RGTC2_Format:zA,SIGNED_RED_RGTC1_Format:IA,SRGBColorSpace:ur,SRGBTransfer:Si,Scene:d_,ShaderChunk:Dn,ShaderLib:Tl,ShaderMaterial:pa,ShadowMaterial:w8,Shape:tp,ShapeGeometry:LM,ShapePath:hq,ShapeUtils:Cc,ShortType:pM,Skeleton:m_,SkeletonHelper:$Y,SkinnedMesh:pw,Source:kf,Sphere:pr,SphereGeometry:S_,Spherical:WY,SphericalHarmonics3:q8,SplineCurve:bw,SpotLight:Nw,SpotLightHelper:QY,Sprite:d8,SpriteMaterial:dw,SrcAlphaFactor:rA,SrcAlphaSaturateFactor:BU,SrcColorFactor:bU,StaticCopyUsage:Aj,StaticDrawUsage:Vy,StaticReadUsage:_j,StereoCamera:bY,StreamCopyUsage:bj,StreamDrawUsage:yj,StreamReadUsage:Sj,StringKeyframeTrack:Ap,SubtractEquation:yU,SubtractiveBlending:m2,TOUCH:Jk,TangentSpaceNormalMap:ch,TetrahedronGeometry:UM,Texture:pi,TextureLoader:k8,TextureUtils:yq,TimestampQuery:Tj,TorusGeometry:PM,TorusKnotGeometry:IM,Triangle:Na,TriangleFanDrawMode:HA,TriangleStripDrawMode:ow,TrianglesDrawMode:qU,TubeGeometry:FM,UVMapping:nh,Uint16BufferAttribute:uw,Uint32BufferAttribute:fw,Uint8BufferAttribute:cX,Uint8ClampedBufferAttribute:uX,Uniform:zw,UniformsGroup:XY,UniformsLib:Dt,UniformsUtils:u8,UnsignedByteType:za,UnsignedInt248Type:Dg,UnsignedInt5999Type:$C,UnsignedIntType:Dc,UnsignedShort4444Type:mM,UnsignedShort5551Type:gM,UnsignedShortType:Bg,VSMShadowMap:El,Vector2:at,Vector3:ae,Vector4:ti,VectorKeyframeTrack:hp,VideoFrameTexture:DX,VideoTexture:g8,WebGL3DRenderTarget:Zj,WebGLArrayRenderTarget:Jj,WebGLCoordinateSystem:Cl,WebGLCubeRenderTarget:hw,WebGLRenderTarget:qo,WebGLRenderer:kw,WebGLUtils:l6,WebGPUCoordinateSystem:ky,WebXRController:OS,WireframeGeometry:C8,WrapAroundEnding:Hy,ZeroCurvatureEnding:Fd,ZeroFactor:AU,ZeroSlopeEnding:zd,ZeroStencilOp:sj,createCanvasElement:a8},Symbol.toStringTag,{value:"Module"}));var KE={exports:{}},lu={};/**
 * @license React
 * react-reconciler-constants.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var q5;function eQ(){return q5||(q5=1,lu.ConcurrentRoot=1,lu.ContinuousEventPriority=8,lu.DefaultEventPriority=32,lu.DiscreteEventPriority=2,lu.IdleEventPriority=268435456,lu.LegacyRoot=0,lu.NoEventPriority=0),lu}var W5;function tQ(){return W5||(W5=1,KE.exports=eQ()),KE.exports}var US=tQ(),JE={exports:{}},ZE={},QE={exports:{}},$E={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var K5;function nQ(){if(K5)return $E;K5=1;var s=Vg();function e(g,v){return g===v&&(g!==0||1/g===1/v)||g!==g&&v!==v}var t=typeof Object.is=="function"?Object.is:e,n=s.useState,i=s.useEffect,r=s.useLayoutEffect,a=s.useDebugValue;function l(g,v){var _=v(),S=n({inst:{value:_,getSnapshot:v}}),b=S[0].inst,M=S[1];return r(function(){b.value=_,b.getSnapshot=v,u(b)&&M({inst:b})},[g,_,v]),i(function(){return u(b)&&M({inst:b}),g(function(){u(b)&&M({inst:b})})},[g]),a(_),_}function u(g){var v=g.getSnapshot;g=g.value;try{var _=v();return!t(g,_)}catch{return!0}}function h(g,v){return v()}var m=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:l;return $E.useSyncExternalStore=s.useSyncExternalStore!==void 0?s.useSyncExternalStore:m,$E}var J5;function iQ(){return J5||(J5=1,QE.exports=nQ()),QE.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Z5;function sQ(){if(Z5)return ZE;Z5=1;var s=Vg(),e=iQ();function t(h,m){return h===m&&(h!==0||1/h===1/m)||h!==h&&m!==m}var n=typeof Object.is=="function"?Object.is:t,i=e.useSyncExternalStore,r=s.useRef,a=s.useEffect,l=s.useMemo,u=s.useDebugValue;return ZE.useSyncExternalStoreWithSelector=function(h,m,g,v,_){var S=r(null);if(S.current===null){var b={hasValue:!1,value:null};S.current=b}else b=S.current;S=l(function(){function A(U){if(!C){if(C=!0,B=U,U=v(U),_!==void 0&&b.hasValue){var F=b.value;if(_(F,U))return D=F}return D=U}if(F=D,n(B,U))return F;var z=v(U);return _!==void 0&&_(F,z)?(B=U,F):(B=U,D=z)}var C=!1,B,D,N=g===void 0?null:g;return[function(){return A(m())},N===null?void 0:function(){return A(N())}]},[m,g,v,_]);var M=i(h,S[0],S[1]);return a(function(){b.hasValue=!0,b.value=M},[M]),u(M),M},ZE}var Q5;function rQ(){return Q5||(Q5=1,JE.exports=sQ()),JE.exports}var aQ=rQ();const oQ=JA(aQ),$5=s=>{let e;const t=new Set,n=(h,m)=>{const g=typeof h=="function"?h(e):h;if(!Object.is(g,e)){const v=e;e=m??(typeof g!="object"||g===null)?g:Object.assign({},e,g),t.forEach(_=>_(e,v))}},i=()=>e,l={setState:n,getState:i,getInitialState:()=>u,subscribe:h=>(t.add(h),()=>t.delete(h))},u=e=s(n,i,l);return l},lQ=s=>s?$5(s):$5,{useSyncExternalStoreWithSelector:cQ}=oQ,uQ=s=>s;function fQ(s,e=uQ,t){const n=cQ(s.subscribe,s.getState,s.getInitialState,e,t);return T4.useDebugValue(n),n}const e4=(s,e)=>{const t=lQ(s),n=(i,r=e)=>fQ(t,i,r);return Object.assign(n,t),n},c6=(s,e)=>s?e4(s,e):e4;var eT={exports:{}},tT={exports:{}},nT={exports:{}},iT={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var t4;function hQ(){return t4||(t4=1,function(s){function e(H,Y){var Z=H.length;H.push(Y);e:for(;0<Z;){var de=Z-1>>>1,I=H[de];if(0<i(I,Y))H[de]=Y,H[Z]=I,Z=de;else break e}}function t(H){return H.length===0?null:H[0]}function n(H){if(H.length===0)return null;var Y=H[0],Z=H.pop();if(Z!==Y){H[0]=Z;e:for(var de=0,I=H.length,ie=I>>>1;de<ie;){var ue=2*(de+1)-1,_e=H[ue],se=ue+1,xe=H[se];if(0>i(_e,Z))se<I&&0>i(xe,_e)?(H[de]=xe,H[se]=Z,de=se):(H[de]=_e,H[ue]=Z,de=ue);else if(se<I&&0>i(xe,Z))H[de]=xe,H[se]=Z,de=se;else break e}}return Y}function i(H,Y){var Z=H.sortIndex-Y.sortIndex;return Z!==0?Z:H.id-Y.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var r=performance;s.unstable_now=function(){return r.now()}}else{var a=Date,l=a.now();s.unstable_now=function(){return a.now()-l}}var u=[],h=[],m=1,g=null,v=3,_=!1,S=!1,b=!1,M=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;function B(H){for(var Y=t(h);Y!==null;){if(Y.callback===null)n(h);else if(Y.startTime<=H)n(h),Y.sortIndex=Y.expirationTime,e(u,Y);else break;Y=t(h)}}function D(H){if(b=!1,B(H),!S)if(t(u)!==null)S=!0,ee();else{var Y=t(h);Y!==null&&oe(D,Y.startTime-H)}}var N=!1,U=-1,F=5,z=-1;function O(){return!(s.unstable_now()-z<F)}function P(){if(N){var H=s.unstable_now();z=H;var Y=!0;try{e:{S=!1,b&&(b=!1,A(U),U=-1),_=!0;var Z=v;try{t:{for(B(H),g=t(u);g!==null&&!(g.expirationTime>H&&O());){var de=g.callback;if(typeof de=="function"){g.callback=null,v=g.priorityLevel;var I=de(g.expirationTime<=H);if(H=s.unstable_now(),typeof I=="function"){g.callback=I,B(H),Y=!0;break t}g===t(u)&&n(u),B(H)}else n(u);g=t(u)}if(g!==null)Y=!0;else{var ie=t(h);ie!==null&&oe(D,ie.startTime-H),Y=!1}}break e}finally{g=null,v=Z,_=!1}Y=void 0}}finally{Y?q():N=!1}}}var q;if(typeof C=="function")q=function(){C(P)};else if(typeof MessageChannel<"u"){var ne=new MessageChannel,te=ne.port2;ne.port1.onmessage=P,q=function(){te.postMessage(null)}}else q=function(){M(P,0)};function ee(){N||(N=!0,q())}function oe(H,Y){U=M(function(){H(s.unstable_now())},Y)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(H){H.callback=null},s.unstable_continueExecution=function(){S||_||(S=!0,ee())},s.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<H?Math.floor(1e3/H):5},s.unstable_getCurrentPriorityLevel=function(){return v},s.unstable_getFirstCallbackNode=function(){return t(u)},s.unstable_next=function(H){switch(v){case 1:case 2:case 3:var Y=3;break;default:Y=v}var Z=v;v=Y;try{return H()}finally{v=Z}},s.unstable_pauseExecution=function(){},s.unstable_requestPaint=function(){},s.unstable_runWithPriority=function(H,Y){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var Z=v;v=H;try{return Y()}finally{v=Z}},s.unstable_scheduleCallback=function(H,Y,Z){var de=s.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?de+Z:de):Z=de,H){case 1:var I=-1;break;case 2:I=250;break;case 5:I=1073741823;break;case 4:I=1e4;break;default:I=5e3}return I=Z+I,H={id:m++,callback:Y,priorityLevel:H,startTime:Z,expirationTime:I,sortIndex:-1},Z>de?(H.sortIndex=Z,e(h,H),t(u)===null&&H===t(h)&&(b?(A(U),U=-1):b=!0,oe(D,Z-de))):(H.sortIndex=I,e(u,H),S||_||(S=!0,ee())),H},s.unstable_shouldYield=O,s.unstable_wrapCallback=function(H){var Y=v;return function(){var Z=v;v=Y;try{return H.apply(this,arguments)}finally{v=Z}}}}(iT)),iT}var n4;function u6(){return n4||(n4=1,nT.exports=hQ()),nT.exports}/**
 * @license React
 * react-reconciler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i4;function dQ(){return i4||(i4=1,function(s){s.exports=function(e){function t(f,d,x,T){return new C0(f,d,x,T)}function n(){}function i(f){var d="https://react.dev/errors/"+f;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)d+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+f+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(f){return f===null||typeof f!="object"?null:(f=ol&&f[ol]||f["@@iterator"],typeof f=="function"?f:null)}function a(f){if(f==null)return null;if(typeof f=="function")return f.$$typeof===D0?null:f.displayName||f.name||null;if(typeof f=="string")return f;switch(f){case Wl:return"Fragment";case ya:return"Portal";case qp:return"Profiler";case Hh:return"StrictMode";case Wp:return"Suspense";case Wu:return"SuspenseList"}if(typeof f=="object")switch(f.$$typeof){case Va:return(f.displayName||"Context")+".Provider";case R0:return(f._context.displayName||"Context")+".Consumer";case Vh:var d=f.render;return f=f.displayName,f||(f=d.displayName||d.name||"",f=f!==""?"ForwardRef("+f+")":"ForwardRef"),f;case Kp:return d=f.displayName||null,d!==null?d:a(f.type)||"Memo";case _a:d=f._payload,f=f._init;try{return a(f(d))}catch{}}return null}function l(f){if(So===void 0)try{throw Error()}catch(x){var d=x.stack.trim().match(/\n( *(at )?)/);So=d&&d[1]||"",ll=-1<x.stack.indexOf(`
    at`)?" (<anonymous>)":-1<x.stack.indexOf("@")?"@unknown:0:0":""}return`
`+So+f+ll}function u(f,d){if(!f||Ic)return"";Ic=!0;var x=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var T={DetermineComponentFrameRoot:function(){try{if(d){var Bt=function(){throw Error()};if(Object.defineProperty(Bt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Bt,[])}catch(vn){var Ot=vn}Reflect.construct(f,[],Bt)}else{try{Bt.call()}catch(vn){Ot=vn}f.call(Bt.prototype)}}else{try{throw Error()}catch(vn){Ot=vn}(Bt=f())&&typeof Bt.catch=="function"&&Bt.catch(function(){})}}catch(vn){if(vn&&Ot&&typeof vn.stack=="string")return[vn.stack,Ot.stack]}return[null,null]}};T.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var R=Object.getOwnPropertyDescriptor(T.DetermineComponentFrameRoot,"name");R&&R.configurable&&Object.defineProperty(T.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var L=T.DetermineComponentFrameRoot(),$=L[0],ve=L[1];if($&&ve){var we=$.split(`
`),Qe=ve.split(`
`);for(R=T=0;T<we.length&&!we[T].includes("DetermineComponentFrameRoot");)T++;for(;R<Qe.length&&!Qe[R].includes("DetermineComponentFrameRoot");)R++;if(T===we.length||R===Qe.length)for(T=we.length-1,R=Qe.length-1;1<=T&&0<=R&&we[T]!==Qe[R];)R--;for(;1<=T&&0<=R;T--,R--)if(we[T]!==Qe[R]){if(T!==1||R!==1)do if(T--,R--,0>R||we[T]!==Qe[R]){var yt=`
`+we[T].replace(" at new "," at ");return f.displayName&&yt.includes("<anonymous>")&&(yt=yt.replace("<anonymous>",f.displayName)),yt}while(1<=T&&0<=R);break}}}finally{Ic=!1,Error.prepareStackTrace=x}return(x=f?f.displayName||f.name:"")?l(x):""}function h(f){switch(f.tag){case 26:case 27:case 5:return l(f.type);case 16:return l("Lazy");case 13:return l("Suspense");case 19:return l("SuspenseList");case 0:case 15:return f=u(f.type,!1),f;case 11:return f=u(f.type.render,!1),f;case 1:return f=u(f.type,!0),f;default:return""}}function m(f){try{var d="";do d+=h(f),f=f.return;while(f);return d}catch(x){return`
Error generating stack: `+x.message+`
`+x.stack}}function g(f){var d=f,x=f;if(f.alternate)for(;d.return;)d=d.return;else{f=d;do d=f,(d.flags&4098)!==0&&(x=d.return),f=d.return;while(f)}return d.tag===3?x:null}function v(f){if(g(f)!==f)throw Error(i(188))}function _(f){var d=f.alternate;if(!d){if(d=g(f),d===null)throw Error(i(188));return d!==f?null:f}for(var x=f,T=d;;){var R=x.return;if(R===null)break;var L=R.alternate;if(L===null){if(T=R.return,T!==null){x=T;continue}break}if(R.child===L.child){for(L=R.child;L;){if(L===x)return v(R),f;if(L===T)return v(R),d;L=L.sibling}throw Error(i(188))}if(x.return!==T.return)x=R,T=L;else{for(var $=!1,ve=R.child;ve;){if(ve===x){$=!0,x=R,T=L;break}if(ve===T){$=!0,T=R,x=L;break}ve=ve.sibling}if(!$){for(ve=L.child;ve;){if(ve===x){$=!0,x=L,T=R;break}if(ve===T){$=!0,T=L,x=R;break}ve=ve.sibling}if(!$)throw Error(i(189))}}if(x.alternate!==T)throw Error(i(190))}if(x.tag!==3)throw Error(i(188));return x.stateNode.current===x?f:d}function S(f){var d=f.tag;if(d===5||d===26||d===27||d===6)return f;for(f=f.child;f!==null;){if(d=S(f),d!==null)return d;f=f.sibling}return null}function b(f){var d=f.tag;if(d===5||d===26||d===27||d===6)return f;for(f=f.child;f!==null;){if(f.tag!==4&&(d=b(f),d!==null))return d;f=f.sibling}return null}function M(f){return{current:f}}function A(f){0>hl||(f.current=Yi[hl],Yi[hl]=null,hl--)}function C(f,d){hl++,Yi[hl]=f.current,f.current=d}function B(f){return f>>>=0,f===0?32:31-(B1(f)/D1|0)|0}function D(f){var d=f&42;if(d!==0)return d;switch(f&-f){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return f&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return f}}function N(f,d){var x=f.pendingLanes;if(x===0)return 0;var T=0,R=f.suspendedLanes,L=f.pingedLanes,$=f.warmLanes;f=f.finishedLanes!==0;var ve=x&134217727;return ve!==0?(x=ve&~R,x!==0?T=D(x):(L&=ve,L!==0?T=D(L):f||($=ve&~$,$!==0&&(T=D($))))):(ve=x&~R,ve!==0?T=D(ve):L!==0?T=D(L):f||($=x&~$,$!==0&&(T=D($)))),T===0?0:d!==0&&d!==T&&(d&R)===0&&(R=T&-T,$=d&-d,R>=$||R===32&&($&4194176)!==0)?d:T}function U(f,d){return(f.pendingLanes&~(f.suspendedLanes&~f.pingedLanes)&d)===0}function F(f,d){switch(f){case 1:case 2:case 4:case 8:return d+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function z(){var f=Mo;return Mo<<=1,(Mo&4194176)===0&&(Mo=128),f}function O(){var f=Hc;return Hc<<=1,(Hc&62914560)===0&&(Hc=4194304),f}function P(f){for(var d=[],x=0;31>x;x++)d.push(f);return d}function q(f,d){f.pendingLanes|=d,d!==268435456&&(f.suspendedLanes=0,f.pingedLanes=0,f.warmLanes=0)}function ne(f,d,x,T,R,L){var $=f.pendingLanes;f.pendingLanes=x,f.suspendedLanes=0,f.pingedLanes=0,f.warmLanes=0,f.expiredLanes&=x,f.entangledLanes&=x,f.errorRecoveryDisabledLanes&=x,f.shellSuspendCounter=0;var ve=f.entanglements,we=f.expirationTimes,Qe=f.hiddenUpdates;for(x=$&~x;0<x;){var yt=31-sr(x),Bt=1<<yt;ve[yt]=0,we[yt]=-1;var Ot=Qe[yt];if(Ot!==null)for(Qe[yt]=null,yt=0;yt<Ot.length;yt++){var vn=Ot[yt];vn!==null&&(vn.lane&=-536870913)}x&=~Bt}T!==0&&te(f,T,0),L!==0&&R===0&&f.tag!==0&&(f.suspendedLanes|=L&~($&~d))}function te(f,d,x){f.pendingLanes|=d,f.suspendedLanes&=~d;var T=31-sr(d);f.entangledLanes|=d,f.entanglements[T]=f.entanglements[T]|1073741824|x&4194218}function ee(f,d){var x=f.entangledLanes|=d;for(f=f.entanglements;x;){var T=31-sr(x),R=1<<T;R&d|f[T]&d&&(f[T]|=d),x&=~R}}function oe(f){return f&=-f,2<f?8<f?(f&134217727)!==0?32:268435456:8:2}function H(f){if(Mr&&typeof Mr.onCommitFiberRoot=="function")try{Mr.onCommitFiberRoot(qi,f,void 0,(f.current.flags&128)===128)}catch{}}function Y(f){if(typeof L1=="function"&&_s(f),Mr&&typeof Mr.setStrictMode=="function")try{Mr.setStrictMode(qi,f)}catch{}}function Z(f,d){return f===d&&(f!==0||1/f===1/d)||f!==f&&d!==d}function de(f,d){if(typeof f=="object"&&f!==null){var x=J0.get(f);return x!==void 0?x:(d={value:f,source:d,stack:m(d)},J0.set(f,d),d)}return{value:f,source:d,stack:m(d)}}function I(f,d){Gc[Vc++]=sf,Gc[Vc++]=kc,kc=f,sf=d}function ie(f,d,x){jr[Xr++]=Xa,jr[Xr++]=Ya,jr[Xr++]=tc,tc=f;var T=Xa;f=Ya;var R=32-sr(T)-1;T&=~(1<<R),x+=1;var L=32-sr(d)+R;if(30<L){var $=R-R%5;L=(T&(1<<$)-1).toString(32),T>>=$,R-=$,Xa=1<<32-sr(d)+R|x<<R|T,Ya=L+f}else Xa=1<<L|x<<R|T,Ya=f}function ue(f){f.return!==null&&(I(f,1),ie(f,1,0))}function _e(f){for(;f===kc;)kc=Gc[--Vc],Gc[Vc]=null,sf=Gc[--Vc],Gc[Vc]=null;for(;f===tc;)tc=jr[--Xr],jr[Xr]=null,Ya=jr[--Xr],jr[Xr]=null,Xa=jr[--Xr],jr[Xr]=null}function se(f,d){C(bo,d),C(rf,f),C(os,null),f=K_(d),A(os),C(os,f)}function xe(){A(os),A(rf),A(bo)}function Ae(f){f.memoizedState!==null&&C(jc,f);var d=os.current,x=Qu(d,f.type);d!==x&&(C(rf,f),C(os,x))}function Ee(f){rf.current===f&&(A(os),A(rf)),jc.current===f&&(A(jc),nr?ka._currentValue=Jl:ka._currentValue2=Jl)}function Ne(f){var d=Error(i(418,""));throw dt(de(d,f)),Zh}function ht(f,d){if(!Ns)throw Error(i(175));x1(f.stateNode,f.type,f.memoizedProps,d,f)||Ne(f)}function Je(f){for(Os=f.return;Os;)switch(Os.tag){case 3:case 27:xs=!0;return;case 5:case 13:xs=!1;return;default:Os=Os.return}}function st(f){if(!Ns||f!==Os)return!1;if(!jn)return Je(f),jn=!0,!1;var d=!1;if(vi?f.tag!==3&&f.tag!==27&&(f.tag!==5||sm(f.type)&&!_n(f.type,f.memoizedProps))&&(d=!0):f.tag!==3&&(f.tag!==5||sm(f.type)&&!_n(f.type,f.memoizedProps))&&(d=!0),d&&Ls&&Ne(f),Je(f),f.tag===13){if(!Ns)throw Error(i(316));if(f=f.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(i(317));Ls=A1(f)}else Ls=Os?Y0(f.stateNode):null;return!0}function _t(){Ns&&(Ls=Os=null,jn=!1)}function dt(f){Aa===null?Aa=[f]:Aa.push(f)}function ce(){for(var f=Xc,d=qa=Xc=0;d<f;){var x=Ma[d];Ma[d++]=null;var T=Ma[d];Ma[d++]=null;var R=Ma[d];Ma[d++]=null;var L=Ma[d];if(Ma[d++]=null,T!==null&&R!==null){var $=T.pending;$===null?R.next=R:(R.next=$.next,$.next=R),T.pending=R}L!==0&&He(x,R,L)}}function Ht(f,d,x,T){Ma[Xc++]=f,Ma[Xc++]=d,Ma[Xc++]=x,Ma[Xc++]=T,qa|=T,f.lanes|=T,f=f.alternate,f!==null&&(f.lanes|=T)}function Ye(f,d,x,T){return Ht(f,d,x,T),rt(f)}function le(f,d){return Ht(f,null,null,d),rt(f)}function He(f,d,x){f.lanes|=x;var T=f.alternate;T!==null&&(T.lanes|=x);for(var R=!1,L=f.return;L!==null;)L.childLanes|=x,T=L.alternate,T!==null&&(T.childLanes|=x),L.tag===22&&(f=L.stateNode,f===null||f._visibility&1||(R=!0)),f=L,L=L.return;R&&d!==null&&f.tag===3&&(L=f.stateNode,R=31-sr(x),L=L.hiddenUpdates,f=L[R],f===null?L[R]=[d]:f.push(d),d.lane=x|536870912)}function rt(f){if(50<pf)throw pf=0,_m=null,Error(i(185));for(var d=f.return;d!==null;)f=d,d=f.return;return f.tag===3?f.stateNode:null}function Ge(f){f!==dl&&f.next===null&&(dl===null?Qh=dl=f:dl=dl.next=f),Ai=!0,Yc||(Yc=!0,Ve(X))}function Q(f,d){if(!Z0&&Ai){Z0=!0;do for(var x=!1,T=Qh;T!==null;){if(f!==0){var R=T.pendingLanes;if(R===0)var L=0;else{var $=T.suspendedLanes,ve=T.pingedLanes;L=(1<<31-sr(42|f)+1)-1,L&=R&~($&~ve),L=L&201326677?L&201326677|1:L?L|2:0}L!==0&&(x=!0,Le(T,L))}else L=Pn,L=N(T,T===ai?L:0),(L&3)===0||U(T,L)||(x=!0,Le(T,L));T=T.next}while(x);Z0=!1}}function X(){Ai=Yc=!1;var f=0;af!==0&&($_()&&(f=af),af=0);for(var d=Sa(),x=null,T=Qh;T!==null;){var R=T.next,L=be(T,d);L===0?(T.next=null,x===null?Qh=R:x.next=R,R===null&&(dl=x)):(x=T,(f!==0||(L&3)!==0)&&(Ai=!0)),T=R}Q(f)}function be(f,d){for(var x=f.suspendedLanes,T=f.pingedLanes,R=f.expirationTimes,L=f.pendingLanes&-62914561;0<L;){var $=31-sr(L),ve=1<<$,we=R[$];we===-1?((ve&x)===0||(ve&T)!==0)&&(R[$]=F(ve,d)):we<=d&&(f.expiredLanes|=ve),L&=~ve}if(d=ai,x=Pn,x=N(f,f===d?x:0),T=f.callbackNode,x===0||f===d&&hi===2||f.cancelPendingCommit!==null)return T!==null&&T!==null&&lm(T),f.callbackNode=null,f.callbackPriority=0;if((x&3)===0||U(f,x)){if(d=x&-x,d===f.callbackPriority)return d;switch(T!==null&&lm(T),oe(x)){case 2:case 8:x=O1;break;case 32:x=fm;break;case 268435456:x=nb;break;default:x=fm}return T=Pe.bind(null,f),x=Jh(x,T),f.callbackPriority=d,f.callbackNode=x,d}return T!==null&&T!==null&&lm(T),f.callbackPriority=2,f.callbackNode=null,2}function Pe(f,d){var x=f.callbackNode;if(Ga()&&f.callbackNode!==x)return null;var T=Pn;return T=N(f,f===ai?T:0),T===0?null:(kl(f,T,d),be(f,Sa()),f.callbackNode!=null&&f.callbackNode===x?Pe.bind(null,f):null)}function Le(f,d){if(Ga())return null;kl(f,d,!0)}function Ve(f){P0?fl(function(){(Yn&6)!==0?Jh(um,f):f()}):Jh(um,f)}function lt(){return af===0&&(af=z()),af}function ot(f,d){if(of===null){var x=of=[];qc=0,Yr=lt(),Wc={status:"pending",value:void 0,then:function(T){x.push(T)}}}return qc++,d.then(ut,ut),d}function ut(){if(--qc===0&&of!==null){Wc!==null&&(Wc.status="fulfilled");var f=of;of=null,Yr=0,Wc=null;for(var d=0;d<f.length;d++)(0,f[d])()}}function Vt(f,d){var x=[],T={status:"pending",value:null,reason:null,then:function(R){x.push(R)}};return f.then(function(){T.status="fulfilled",T.value=d;for(var R=0;R<x.length;R++)(0,x[R])(d)},function(R){for(T.status="rejected",T.reason=R,R=0;R<x.length;R++)(0,x[R])(void 0)}),T}function ct(f){f.updateQueue={baseState:f.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ft(f,d){f=f.updateQueue,d.updateQueue===f&&(d.updateQueue={baseState:f.baseState,firstBaseUpdate:f.firstBaseUpdate,lastBaseUpdate:f.lastBaseUpdate,shared:f.shared,callbacks:null})}function Tt(f){return{lane:f,tag:0,payload:null,callback:null,next:null}}function gt(f,d,x){var T=f.updateQueue;if(T===null)return null;if(T=T.shared,(Yn&2)!==0){var R=T.pending;return R===null?d.next=d:(d.next=R.next,R.next=d),T.pending=d,d=rt(f),He(f,null,x),d}return Ht(f,T,d,x),rt(f)}function vt(f,d,x){if(d=d.updateQueue,d!==null&&(d=d.shared,(x&4194176)!==0)){var T=d.lanes;T&=f.pendingLanes,x|=T,d.lanes=x,ee(f,x)}}function Wt(f,d){var x=f.updateQueue,T=f.alternate;if(T!==null&&(T=T.updateQueue,x===T)){var R=null,L=null;if(x=x.firstBaseUpdate,x!==null){do{var $={lane:x.lane,tag:x.tag,payload:x.payload,callback:null,next:null};L===null?R=L=$:L=L.next=$,x=x.next}while(x!==null);L===null?R=L=d:L=L.next=d}else R=L=d;x={baseState:T.baseState,firstBaseUpdate:R,lastBaseUpdate:L,shared:T.shared,callbacks:T.callbacks},f.updateQueue=x;return}f=x.lastBaseUpdate,f===null?x.firstBaseUpdate=d:f.next=d,x.lastBaseUpdate=d}function wt(){if(Kc){var f=Wc;if(f!==null)throw f}}function Yt(f,d,x,T){Kc=!1;var R=f.updateQueue;pl=!1;var L=R.firstBaseUpdate,$=R.lastBaseUpdate,ve=R.shared.pending;if(ve!==null){R.shared.pending=null;var we=ve,Qe=we.next;we.next=null,$===null?L=Qe:$.next=Qe,$=we;var yt=f.alternate;yt!==null&&(yt=yt.updateQueue,ve=yt.lastBaseUpdate,ve!==$&&(ve===null?yt.firstBaseUpdate=Qe:ve.next=Qe,yt.lastBaseUpdate=we))}if(L!==null){var Bt=R.baseState;$=0,yt=Qe=we=null,ve=L;do{var Ot=ve.lane&-536870913,vn=Ot!==ve.lane;if(vn?(Pn&Ot)===Ot:(T&Ot)===Ot){Ot!==0&&Ot===Yr&&(Kc=!0),yt!==null&&(yt=yt.next={lane:0,tag:ve.tag,payload:ve.payload,callback:null,next:null});e:{var ea=f,uc=ve;Ot=d;var fc=x;switch(uc.tag){case 1:if(ea=uc.payload,typeof ea=="function"){Bt=ea.call(fc,Bt,Ot);break e}Bt=ea;break e;case 3:ea.flags=ea.flags&-65537|128;case 0:if(ea=uc.payload,Ot=typeof ea=="function"?ea.call(fc,Bt,Ot):ea,Ot==null)break e;Bt=Yp({},Bt,Ot);break e;case 2:pl=!0}}Ot=ve.callback,Ot!==null&&(f.flags|=64,vn&&(f.flags|=8192),vn=R.callbacks,vn===null?R.callbacks=[Ot]:vn.push(Ot))}else vn={lane:Ot,tag:ve.tag,payload:ve.payload,callback:ve.callback,next:null},yt===null?(Qe=yt=vn,we=Bt):yt=yt.next=vn,$|=Ot;if(ve=ve.next,ve===null){if(ve=R.shared.pending,ve===null)break;vn=ve,ve=vn.next,vn.next=null,R.lastBaseUpdate=vn,R.shared.pending=null}}while(!0);yt===null&&(we=Bt),R.baseState=we,R.firstBaseUpdate=Qe,R.lastBaseUpdate=yt,L===null&&(R.shared.lanes=0),Qr|=$,f.lanes=$,f.memoizedState=Bt}}function he(f,d){if(typeof f!="function")throw Error(i(191,f));f.call(d)}function Fe(f,d){var x=f.callbacks;if(x!==null)for(f.callbacks=null,f=0;f<x.length;f++)he(x[f],d)}function Ie(f,d){if(br(f,d))return!0;if(typeof f!="object"||f===null||typeof d!="object"||d===null)return!1;var x=Object.keys(f),T=Object.keys(d);if(x.length!==T.length)return!1;for(T=0;T<x.length;T++){var R=x[T];if(!Eo.call(d,R)||!br(f[R],d[R]))return!1}return!0}function We(f){return f=f.status,f==="fulfilled"||f==="rejected"}function xt(){}function Mt(f,d,x){switch(x=f[x],x===void 0?f.push(d):x!==d&&(d.then(xt,xt),d=x),d.status){case"fulfilled":return d.value;case"rejected":throw f=d.reason,f===lf?Error(i(483)):f;default:if(typeof d.status=="string")d.then(xt,xt);else{if(f=ai,f!==null&&100<f.shellSuspendCounter)throw Error(i(482));f=d,f.status="pending",f.then(function(T){if(d.status==="pending"){var R=d;R.status="fulfilled",R.value=T}},function(T){if(d.status==="pending"){var R=d;R.status="rejected",R.reason=T}})}switch(d.status){case"fulfilled":return d.value;case"rejected":throw f=d.reason,f===lf?Error(i(483)):f}throw nc=d,lf}}function Qt(){if(nc===null)throw Error(i(459));var f=nc;return nc=null,f}function Sn(f){var d=sc;return sc+=1,ic===null&&(ic=[]),Mt(ic,f,d)}function Jn(f,d){d=d.props.ref,f.ref=d!==void 0?d:null}function Et(f,d){throw d.$$typeof===KM?Error(i(525)):(f=Object.prototype.toString.call(d),Error(i(31,f==="[object Object]"?"object with keys {"+Object.keys(d).join(", ")+"}":f)))}function Lt(f){var d=f._init;return d(f._payload)}function $t(f){function d(Ue,Se){if(f){var Xe=Ue.deletions;Xe===null?(Ue.deletions=[Se],Ue.flags|=16):Xe.push(Se)}}function x(Ue,Se){if(!f)return null;for(;Se!==null;)d(Ue,Se),Se=Se.sibling;return null}function T(Ue){for(var Se=new Map;Ue!==null;)Ue.key!==null?Se.set(Ue.key,Ue):Se.set(Ue.index,Ue),Ue=Ue.sibling;return Se}function R(Ue,Se){return Ue=va(Ue,Se),Ue.index=0,Ue.sibling=null,Ue}function L(Ue,Se,Xe){return Ue.index=Xe,f?(Xe=Ue.alternate,Xe!==null?(Xe=Xe.index,Xe<Se?(Ue.flags|=33554434,Se):Xe):(Ue.flags|=33554434,Se)):(Ue.flags|=1048576,Se)}function $(Ue){return f&&Ue.alternate===null&&(Ue.flags|=33554434),Ue}function ve(Ue,Se,Xe,mt){return Se===null||Se.tag!==6?(Se=jp(Xe,Ue.mode,mt),Se.return=Ue,Se):(Se=R(Se,Xe),Se.return=Ue,Se)}function we(Ue,Se,Xe,mt){var Kt=Xe.type;return Kt===Wl?yt(Ue,Se,Xe.props.children,mt,Xe.key):Se!==null&&(Se.elementType===Kt||typeof Kt=="object"&&Kt!==null&&Kt.$$typeof===_a&&Lt(Kt)===Se.type)?(Se=R(Se,Xe.props),Jn(Se,Xe),Se.return=Ue,Se):(Se=xo(Xe.type,Xe.key,Xe.props,null,Ue.mode,mt),Jn(Se,Xe),Se.return=Ue,Se)}function Qe(Ue,Se,Xe,mt){return Se===null||Se.tag!==4||Se.stateNode.containerInfo!==Xe.containerInfo||Se.stateNode.implementation!==Xe.implementation?(Se=w0(Xe,Ue.mode,mt),Se.return=Ue,Se):(Se=R(Se,Xe.children||[]),Se.return=Ue,Se)}function yt(Ue,Se,Xe,mt,Kt){return Se===null||Se.tag!==7?(Se=Ii(Xe,Ue.mode,mt,Kt),Se.return=Ue,Se):(Se=R(Se,Xe),Se.return=Ue,Se)}function Bt(Ue,Se,Xe){if(typeof Se=="string"&&Se!==""||typeof Se=="number"||typeof Se=="bigint")return Se=jp(""+Se,Ue.mode,Xe),Se.return=Ue,Se;if(typeof Se=="object"&&Se!==null){switch(Se.$$typeof){case zh:return Xe=xo(Se.type,Se.key,Se.props,null,Ue.mode,Xe),Jn(Xe,Se),Xe.return=Ue,Xe;case ya:return Se=w0(Se,Ue.mode,Xe),Se.return=Ue,Se;case _a:var mt=Se._init;return Se=mt(Se._payload),Bt(Ue,Se,Xe)}if(Ku(Se)||r(Se))return Se=Ii(Se,Ue.mode,Xe,null),Se.return=Ue,Se;if(typeof Se.then=="function")return Bt(Ue,Sn(Se),Xe);if(Se.$$typeof===Va)return Bt(Ue,bh(Ue,Se),Xe);Et(Ue,Se)}return null}function Ot(Ue,Se,Xe,mt){var Kt=Se!==null?Se.key:null;if(typeof Xe=="string"&&Xe!==""||typeof Xe=="number"||typeof Xe=="bigint")return Kt!==null?null:ve(Ue,Se,""+Xe,mt);if(typeof Xe=="object"&&Xe!==null){switch(Xe.$$typeof){case zh:return Xe.key===Kt?we(Ue,Se,Xe,mt):null;case ya:return Xe.key===Kt?Qe(Ue,Se,Xe,mt):null;case _a:return Kt=Xe._init,Xe=Kt(Xe._payload),Ot(Ue,Se,Xe,mt)}if(Ku(Xe)||r(Xe))return Kt!==null?null:yt(Ue,Se,Xe,mt,null);if(typeof Xe.then=="function")return Ot(Ue,Se,Sn(Xe),mt);if(Xe.$$typeof===Va)return Ot(Ue,Se,bh(Ue,Xe),mt);Et(Ue,Xe)}return null}function vn(Ue,Se,Xe,mt,Kt){if(typeof mt=="string"&&mt!==""||typeof mt=="number"||typeof mt=="bigint")return Ue=Ue.get(Xe)||null,ve(Se,Ue,""+mt,Kt);if(typeof mt=="object"&&mt!==null){switch(mt.$$typeof){case zh:return Ue=Ue.get(mt.key===null?Xe:mt.key)||null,we(Se,Ue,mt,Kt);case ya:return Ue=Ue.get(mt.key===null?Xe:mt.key)||null,Qe(Se,Ue,mt,Kt);case _a:var Ri=mt._init;return mt=Ri(mt._payload),vn(Ue,Se,Xe,mt,Kt)}if(Ku(mt)||r(mt))return Ue=Ue.get(Xe)||null,yt(Se,Ue,mt,Kt,null);if(typeof mt.then=="function")return vn(Ue,Se,Xe,Sn(mt),Kt);if(mt.$$typeof===Va)return vn(Ue,Se,Xe,bh(Se,mt),Kt);Et(Se,mt)}return null}function ea(Ue,Se,Xe,mt){for(var Kt=null,Ri=null,dn=Se,Qn=Se=0,Wi=null;dn!==null&&Qn<Xe.length;Qn++){dn.index>Qn?(Wi=dn,dn=null):Wi=dn.sibling;var Ln=Ot(Ue,dn,Xe[Qn],mt);if(Ln===null){dn===null&&(dn=Wi);break}f&&dn&&Ln.alternate===null&&d(Ue,dn),Se=L(Ln,Se,Qn),Ri===null?Kt=Ln:Ri.sibling=Ln,Ri=Ln,dn=Wi}if(Qn===Xe.length)return x(Ue,dn),jn&&I(Ue,Qn),Kt;if(dn===null){for(;Qn<Xe.length;Qn++)dn=Bt(Ue,Xe[Qn],mt),dn!==null&&(Se=L(dn,Se,Qn),Ri===null?Kt=dn:Ri.sibling=dn,Ri=dn);return jn&&I(Ue,Qn),Kt}for(dn=T(dn);Qn<Xe.length;Qn++)Wi=vn(dn,Ue,Qn,Xe[Qn],mt),Wi!==null&&(f&&Wi.alternate!==null&&dn.delete(Wi.key===null?Qn:Wi.key),Se=L(Wi,Se,Qn),Ri===null?Kt=Wi:Ri.sibling=Wi,Ri=Wi);return f&&dn.forEach(function(Oo){return d(Ue,Oo)}),jn&&I(Ue,Qn),Kt}function uc(Ue,Se,Xe,mt){if(Xe==null)throw Error(i(151));for(var Kt=null,Ri=null,dn=Se,Qn=Se=0,Wi=null,Ln=Xe.next();dn!==null&&!Ln.done;Qn++,Ln=Xe.next()){dn.index>Qn?(Wi=dn,dn=null):Wi=dn.sibling;var Oo=Ot(Ue,dn,Ln.value,mt);if(Oo===null){dn===null&&(dn=Wi);break}f&&dn&&Oo.alternate===null&&d(Ue,dn),Se=L(Oo,Se,Qn),Ri===null?Kt=Oo:Ri.sibling=Oo,Ri=Oo,dn=Wi}if(Ln.done)return x(Ue,dn),jn&&I(Ue,Qn),Kt;if(dn===null){for(;!Ln.done;Qn++,Ln=Xe.next())Ln=Bt(Ue,Ln.value,mt),Ln!==null&&(Se=L(Ln,Se,Qn),Ri===null?Kt=Ln:Ri.sibling=Ln,Ri=Ln);return jn&&I(Ue,Qn),Kt}for(dn=T(dn);!Ln.done;Qn++,Ln=Xe.next())Ln=vn(dn,Ue,Qn,Ln.value,mt),Ln!==null&&(f&&Ln.alternate!==null&&dn.delete(Ln.key===null?Qn:Ln.key),Se=L(Ln,Se,Qn),Ri===null?Kt=Ln:Ri.sibling=Ln,Ri=Ln);return f&&dn.forEach(function(xm){return d(Ue,xm)}),jn&&I(Ue,Qn),Kt}function fc(Ue,Se,Xe,mt){if(typeof Xe=="object"&&Xe!==null&&Xe.type===Wl&&Xe.key===null&&(Xe=Xe.props.children),typeof Xe=="object"&&Xe!==null){switch(Xe.$$typeof){case zh:e:{for(var Kt=Xe.key;Se!==null;){if(Se.key===Kt){if(Kt=Xe.type,Kt===Wl){if(Se.tag===7){x(Ue,Se.sibling),mt=R(Se,Xe.props.children),mt.return=Ue,Ue=mt;break e}}else if(Se.elementType===Kt||typeof Kt=="object"&&Kt!==null&&Kt.$$typeof===_a&&Lt(Kt)===Se.type){x(Ue,Se.sibling),mt=R(Se,Xe.props),Jn(mt,Xe),mt.return=Ue,Ue=mt;break e}x(Ue,Se);break}else d(Ue,Se);Se=Se.sibling}Xe.type===Wl?(mt=Ii(Xe.props.children,Ue.mode,mt,Xe.key),mt.return=Ue,Ue=mt):(mt=xo(Xe.type,Xe.key,Xe.props,null,Ue.mode,mt),Jn(mt,Xe),mt.return=Ue,Ue=mt)}return $(Ue);case ya:e:{for(Kt=Xe.key;Se!==null;){if(Se.key===Kt)if(Se.tag===4&&Se.stateNode.containerInfo===Xe.containerInfo&&Se.stateNode.implementation===Xe.implementation){x(Ue,Se.sibling),mt=R(Se,Xe.children||[]),mt.return=Ue,Ue=mt;break e}else{x(Ue,Se);break}else d(Ue,Se);Se=Se.sibling}mt=w0(Xe,Ue.mode,mt),mt.return=Ue,Ue=mt}return $(Ue);case _a:return Kt=Xe._init,Xe=Kt(Xe._payload),fc(Ue,Se,Xe,mt)}if(Ku(Xe))return ea(Ue,Se,Xe,mt);if(r(Xe)){if(Kt=r(Xe),typeof Kt!="function")throw Error(i(150));return Xe=Kt.call(Xe),uc(Ue,Se,Xe,mt)}if(typeof Xe.then=="function")return fc(Ue,Se,Sn(Xe),mt);if(Xe.$$typeof===Va)return fc(Ue,Se,bh(Ue,Xe),mt);Et(Ue,Xe)}return typeof Xe=="string"&&Xe!==""||typeof Xe=="number"||typeof Xe=="bigint"?(Xe=""+Xe,Se!==null&&Se.tag===6?(x(Ue,Se.sibling),mt=R(Se,Xe),mt.return=Ue,Ue=mt):(x(Ue,Se),mt=jp(Xe,Ue.mode,mt),mt.return=Ue,Ue=mt),$(Ue)):x(Ue,Se)}return function(Ue,Se,Xe,mt){try{sc=0;var Kt=fc(Ue,Se,Xe,mt);return ic=null,Kt}catch(dn){if(dn===lf)throw dn;var Ri=t(29,dn,null,Ue.mode);return Ri.lanes=mt,Ri.return=Ue,Ri}finally{}}}function pt(f,d){f=js,C(cf,f),C(Mi,d),js=f|d.baseLanes}function Ut(){C(cf,js),C(Mi,Mi.current)}function Rt(){js=cf.current,A(Mi),A(cf)}function kt(f){var d=f.alternate;C(ls,ls.current&1),C(qr,f),yi===null&&(d===null||Mi.current!==null||d.memoizedState!==null)&&(yi=f)}function ii(f){if(f.tag===22){if(C(ls,ls.current),C(qr,f),yi===null){var d=f.alternate;d!==null&&d.memoizedState!==null&&(yi=f)}}else en()}function en(){C(ls,ls.current),C(qr,qr.current)}function Nt(f){A(qr),yi===f&&(yi=null),A(ls)}function ei(f){for(var d=f;d!==null;){if(d.tag===13){var x=d.memoizedState;if(x!==null&&(x=x.dehydrated,x===null||tm(x)||nm(x)))return d}else if(d.tag===19&&d.memoizedProps.revealOrder!==void 0){if((d.flags&128)!==0)return d}else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===f)break;for(;d.sibling===null;){if(d.return===null||d.return===f)return null;d=d.return}d.sibling.return=d.return,d=d.sibling}return null}function tn(){throw Error(i(321))}function V(f,d){if(d===null)return!1;for(var x=0;x<d.length&&x<f.length;x++)if(!br(f[x],d[x]))return!1;return!0}function W(f,d,x,T,R,L){return ml=L,Cn=d,d.memoizedState=null,d.updateQueue=null,d.lanes=0,hn.H=f===null||f.memoizedState===null?oc:rr,ac=!1,L=x(T,R),ac=!1,Jc&&(L=Te(d,x,T,R)),ge(f),L}function ge(f){hn.H=Fi;var d=an!==null&&an.next!==null;if(ml=0,Xn=an=Cn=null,ba=!1,Zc=0,Ss=null,d)throw Error(i(300));f===null||_i||(f=f.dependencies,f!==null&&Mh(f)&&(_i=!0))}function Te(f,d,x,T){Cn=f;var R=0;do{if(Jc&&(Ss=null),Zc=0,Jc=!1,25<=R)throw Error(i(301));if(R+=1,Xn=an=null,f.updateQueue!=null){var L=f.updateQueue;L.lastEffect=null,L.events=null,L.stores=null,L.memoCache!=null&&(L.memoCache.index=0)}hn.H=Wr,L=d(x,T)}while(Jc);return L}function Be(){var f=hn.H,d=f.useState()[0];return d=typeof d.then=="function"?pe(d):d,f=f.useState()[0],(an!==null?an.memoizedState:null)!==f&&(Cn.flags|=1024),d}function ke(){var f=hm!==0;return hm=0,f}function nt(f,d,x){d.updateQueue=f.updateQueue,d.flags&=-2053,f.lanes&=~x}function Ke(f){if(ba){for(f=f.memoizedState;f!==null;){var d=f.queue;d!==null&&(d.pending=null),f=f.next}ba=!1}ml=0,Xn=an=Cn=null,Jc=!1,Zc=hm=0,Ss=null}function j(){var f={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Xn===null?Cn.memoizedState=Xn=f:Xn=Xn.next=f,Xn}function re(){if(an===null){var f=Cn.alternate;f=f!==null?f.memoizedState:null}else f=an.next;var d=Xn===null?Cn.memoizedState:Xn.next;if(d!==null)Xn=d,an=f;else{if(f===null)throw Cn.alternate===null?Error(i(467)):Error(i(310));an=f,f={memoizedState:an.memoizedState,baseState:an.baseState,baseQueue:an.baseQueue,queue:an.queue,next:null},Xn===null?Cn.memoizedState=Xn=f:Xn=Xn.next=f}return Xn}function pe(f){var d=Zc;return Zc+=1,Ss===null&&(Ss=[]),f=Mt(Ss,f,d),d=Cn,(Xn===null?d.memoizedState:Xn.next)===null&&(d=d.alternate,hn.H=d===null||d.memoizedState===null?oc:rr),f}function fe(f){if(f!==null&&typeof f=="object"){if(typeof f.then=="function")return pe(f);if(f.$$typeof===Va)return ws(f)}throw Error(i(438,String(f)))}function ye(f){var d=null,x=Cn.updateQueue;if(x!==null&&(d=x.memoCache),d==null){var T=Cn.alternate;T!==null&&(T=T.updateQueue,T!==null&&(T=T.memoCache,T!=null&&(d={data:T.data.map(function(R){return R.slice()}),index:0})))}if(d==null&&(d={data:[],index:0}),x===null&&(x=dm(),Cn.updateQueue=x),x.memoCache=d,x=d.data[d.index],x===void 0)for(x=d.data[d.index]=Array(f),T=0;T<f;T++)x[T]=W_;return d.index++,x}function Re(f,d){return typeof d=="function"?d(f):d}function qe(f){var d=re();return Ze(d,an,f)}function Ze(f,d,x){var T=f.queue;if(T===null)throw Error(i(311));T.lastRenderedReducer=x;var R=f.baseQueue,L=T.pending;if(L!==null){if(R!==null){var $=R.next;R.next=L.next,L.next=$}d.baseQueue=R=L,T.pending=null}if(L=f.baseState,R===null)f.memoizedState=L;else{d=R.next;var ve=$=null,we=null,Qe=d,yt=!1;do{var Bt=Qe.lane&-536870913;if(Bt!==Qe.lane?(Pn&Bt)===Bt:(ml&Bt)===Bt){var Ot=Qe.revertLane;if(Ot===0)we!==null&&(we=we.next={lane:0,revertLane:0,action:Qe.action,hasEagerState:Qe.hasEagerState,eagerState:Qe.eagerState,next:null}),Bt===Yr&&(yt=!0);else if((ml&Ot)===Ot){Qe=Qe.next,Ot===Yr&&(yt=!0);continue}else Bt={lane:0,revertLane:Qe.revertLane,action:Qe.action,hasEagerState:Qe.hasEagerState,eagerState:Qe.eagerState,next:null},we===null?(ve=we=Bt,$=L):we=we.next=Bt,Cn.lanes|=Ot,Qr|=Ot;Bt=Qe.action,ac&&x(L,Bt),L=Qe.hasEagerState?Qe.eagerState:x(L,Bt)}else Ot={lane:Bt,revertLane:Qe.revertLane,action:Qe.action,hasEagerState:Qe.hasEagerState,eagerState:Qe.eagerState,next:null},we===null?(ve=we=Ot,$=L):we=we.next=Ot,Cn.lanes|=Bt,Qr|=Bt;Qe=Qe.next}while(Qe!==null&&Qe!==d);if(we===null?$=L:we.next=ve,!br(L,f.memoizedState)&&(_i=!0,yt&&(x=Wc,x!==null)))throw x;f.memoizedState=L,f.baseState=$,f.baseQueue=we,T.lastRenderedState=L}return R===null&&(T.lanes=0),[f.memoizedState,T.dispatch]}function tt(f){var d=re(),x=d.queue;if(x===null)throw Error(i(311));x.lastRenderedReducer=f;var T=x.dispatch,R=x.pending,L=d.memoizedState;if(R!==null){x.pending=null;var $=R=R.next;do L=f(L,$.action),$=$.next;while($!==R);br(L,d.memoizedState)||(_i=!0),d.memoizedState=L,d.baseQueue===null&&(d.baseState=L),x.lastRenderedState=L}return[L,T]}function St(f,d,x){var T=Cn,R=re(),L=jn;if(L){if(x===void 0)throw Error(i(407));x=x()}else x=d();var $=!br((an||R).memoizedState,x);if($&&(R.memoizedState=x,_i=!0),R=R.queue,$g(jt.bind(null,T,R,f),[f]),R.getSnapshot!==d||$||Xn!==null&&Xn.memoizedState.tag&1){if(T.flags|=2048,Qs(9,bt.bind(null,T,R,x,d),{destroy:void 0},null),ai===null)throw Error(i(349));L||(ml&60)!==0||At(T,d,x)}return x}function At(f,d,x){f.flags|=16384,f={getSnapshot:d,value:x},d=Cn.updateQueue,d===null?(d=dm(),Cn.updateQueue=d,d.stores=[f]):(x=d.stores,x===null?d.stores=[f]:x.push(f))}function bt(f,d,x,T){d.value=x,d.getSnapshot=T,Xt(d)&&Hn(f)}function jt(f,d,x){return x(function(){Xt(d)&&Hn(f)})}function Xt(f){var d=f.getSnapshot;f=f.value;try{var x=d();return!br(f,x)}catch{return!0}}function Hn(f){var d=le(f,2);d!==null&&ys(d,f,2)}function Pt(f){var d=j();if(typeof f=="function"){var x=f;if(f=x(),ac){Y(!0);try{x()}finally{Y(!1)}}}return d.memoizedState=d.baseState=f,d.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Re,lastRenderedState:f},d}function Jt(f,d,x,T){return f.baseState=x,Ze(f,an,typeof T=="function"?T:Re)}function It(f,d,x,T,R){if(yh(f))throw Error(i(485));if(f=d.action,f!==null){var L={payload:R,action:f,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function($){L.listeners.push($)}};hn.T!==null?x(!0):L.isTransition=!1,T(L),x=d.pending,x===null?(L.next=d.pending=L,ci(d,L)):(L.next=x.next,d.pending=x.next=L)}}function ci(f,d){var x=d.action,T=d.payload,R=f.state;if(d.isTransition){var L=hn.T,$={};hn.T=$;try{var ve=x(R,T),we=hn.S;we!==null&&we($,ve),fn(f,d,ve)}catch(Qe){mi(f,d,Qe)}finally{hn.T=L}}else try{L=x(R,T),fn(f,d,L)}catch(Qe){mi(f,d,Qe)}}function fn(f,d,x){x!==null&&typeof x=="object"&&typeof x.then=="function"?x.then(function(T){mn(f,d,T)},function(T){return mi(f,d,T)}):mn(f,d,x)}function mn(f,d,x){d.status="fulfilled",d.value=x,rn(d),f.state=x,d=f.pending,d!==null&&(x=d.next,x===d?f.pending=null:(x=x.next,d.next=x,ci(f,x)))}function mi(f,d,x){var T=f.pending;if(f.pending=null,T!==null){T=T.next;do d.status="rejected",d.reason=x,rn(d),d=d.next;while(d!==T)}f.action=null}function rn(f){f=f.listeners;for(var d=0;d<f.length;d++)(0,f[d])()}function Tn(f,d){return d}function An(f,d){if(jn){var x=ai.formState;if(x!==null){e:{var T=Cn;if(jn){if(Ls){var R=X0(Ls,xs);if(R){Ls=Y0(R),T=g1(R);break e}}Ne(T)}T=!1}T&&(d=x[0])}}x=j(),x.memoizedState=x.baseState=d,T={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Tn,lastRenderedState:d},x.queue=T,x=i0.bind(null,Cn,T),T.dispatch=x,T=Pt(!1);var L=Du.bind(null,Cn,!1,T.queue);return T=j(),R={state:d,dispatch:null,action:f,pending:null},T.queue=R,x=It.bind(null,Cn,R,L,x),R.dispatch=x,T.memoizedState=f,[d,x,!1]}function Ci(f){var d=re();return kn(d,an,f)}function kn(f,d,x){d=Ze(f,d,Tn)[0],f=qe(Re)[0],d=typeof d=="object"&&d!==null&&typeof d.then=="function"?pe(d):d;var T=re(),R=T.queue,L=R.dispatch;return x!==T.memoizedState&&(Cn.flags|=2048,Qs(9,gi.bind(null,R,x),{destroy:void 0},null)),[d,L,f]}function gi(f,d){f.action=d}function gs(f){var d=re(),x=an;if(x!==null)return kn(d,x,f);re(),d=d.memoizedState,x=re();var T=x.queue.dispatch;return x.memoizedState=f,[d,T,!1]}function Qs(f,d,x,T){return f={tag:f,create:d,inst:x,deps:T,next:null},d=Cn.updateQueue,d===null&&(d=dm(),Cn.updateQueue=d),x=d.lastEffect,x===null?d.lastEffect=f.next=f:(T=x.next,x.next=f,f.next=T,d.lastEffect=f),f}function go(){return re().memoizedState}function dh(f,d,x,T){var R=j();Cn.flags|=f,R.memoizedState=Qs(1|d,x,{destroy:void 0},T===void 0?null:T)}function ph(f,d,x,T){var R=re();T=T===void 0?null:T;var L=R.memoizedState.inst;an!==null&&T!==null&&V(T,an.memoizedState.deps)?R.memoizedState=Qs(d,x,L,T):(Cn.flags|=f,R.memoizedState=Qs(1|d,x,L,T))}function bp(f,d){dh(8390656,8,f,d)}function $g(f,d){ph(2048,8,f,d)}function T_(f,d){return ph(4,2,f,d)}function mh(f,d){return ph(4,4,f,d)}function Ep(f,d){if(typeof d=="function"){f=f();var x=d(f);return function(){typeof x=="function"?x():d(null)}}if(d!=null)return f=f(),d.current=f,function(){d.current=null}}function Tp(f,d,x){x=x!=null?x.concat([f]):null,ph(4,4,Ep.bind(null,d,f),x)}function Ol(){}function Oc(f,d){var x=re();d=d===void 0?null:d;var T=x.memoizedState;return d!==null&&V(d,T[1])?T[0]:(x.memoizedState=[f,d],f)}function e0(f,d){var x=re();d=d===void 0?null:d;var T=x.memoizedState;if(d!==null&&V(d,T[1]))return T[0];if(T=f(),ac){Y(!0);try{f()}finally{Y(!1)}}return x.memoizedState=[T,d],T}function gh(f,d,x){return x===void 0||(ml&1073741824)!==0?f.memoizedState=d:(f.memoizedState=x,f=A0(),Cn.lanes|=f,Qr|=f,x)}function t0(f,d,x,T){return br(x,d)?x:Mi.current!==null?(f=gh(f,x,T),br(f,d)||(_i=!0),f):(ml&42)===0?(_i=!0,f.memoizedState=x):(f=A0(),Cn.lanes|=f,Qr|=f,d)}function Ru(f,d,x,T,R){var L=ul();Vs(L!==0&&8>L?L:8);var $=hn.T,ve={};hn.T=ve,Du(f,!1,d,x);try{var we=R(),Qe=hn.S;if(Qe!==null&&Qe(ve,we),we!==null&&typeof we=="object"&&typeof we.then=="function"){var yt=Vt(we,T);Ll(f,d,yt,ji(f))}else Ll(f,d,T,ji(f))}catch(Bt){Ll(f,d,{then:function(){},status:"rejected",reason:Bt},ji())}finally{Vs(L),hn.T=$}}function vo(f){var d=f.memoizedState;if(d!==null)return d;d={memoizedState:Jl,baseState:Jl,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Re,lastRenderedState:Jl},next:null};var x={};return d.next={memoizedState:x,baseState:x,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Re,lastRenderedState:x},next:null},f.memoizedState=d,f=f.alternate,f!==null&&(f.memoizedState=d),d}function vh(){return ws(ka)}function Bu(){return re().memoizedState}function Ko(){return re().memoizedState}function n0(f){for(var d=f.return;d!==null;){switch(d.tag){case 24:case 3:var x=ji();f=Tt(x);var T=gt(d,f,x);T!==null&&(ys(T,d,x),vt(T,d,x)),d={cache:Fl()},f.payload=d;return}d=d.return}}function Cp(f,d,x){var T=ji();x={lane:T,revertLane:0,action:x,hasEagerState:!1,eagerState:null,next:null},yh(f)?$s(d,x):(x=Ye(f,d,x,T),x!==null&&(ys(x,f,T),Ul(x,d,T)))}function i0(f,d,x){var T=ji();Ll(f,d,x,T)}function Ll(f,d,x,T){var R={lane:T,revertLane:0,action:x,hasEagerState:!1,eagerState:null,next:null};if(yh(f))$s(d,R);else{var L=f.alternate;if(f.lanes===0&&(L===null||L.lanes===0)&&(L=d.lastRenderedReducer,L!==null))try{var $=d.lastRenderedState,ve=L($,x);if(R.hasEagerState=!0,R.eagerState=ve,br(ve,$))return Ht(f,d,R,0),ai===null&&ce(),!1}catch{}finally{}if(x=Ye(f,d,R,T),x!==null)return ys(x,f,T),Ul(x,d,T),!0}return!1}function Du(f,d,x,T){if(T={lane:2,revertLane:lt(),action:T,hasEagerState:!1,eagerState:null,next:null},yh(f)){if(d)throw Error(i(479))}else d=Ye(f,x,T,2),d!==null&&ys(d,f,2)}function yh(f){var d=f.alternate;return f===Cn||d!==null&&d===Cn}function $s(f,d){Jc=ba=!0;var x=f.pending;x===null?d.next=d:(d.next=x.next,x.next=d),f.pending=d}function Ul(f,d,x){if((x&4194176)!==0){var T=d.lanes;T&=f.pendingLanes,x|=T,d.lanes=x,ee(f,x)}}function Nu(f,d,x,T){d=f.memoizedState,x=x(T,d),x=x==null?d:Yp({},d,x),f.memoizedState=x,f.lanes===0&&(f.updateQueue.baseState=x)}function Ou(f,d,x,T,R,L,$){return f=f.stateNode,typeof f.shouldComponentUpdate=="function"?f.shouldComponentUpdate(T,L,$):d.prototype&&d.prototype.isPureReactComponent?!Ie(x,T)||!Ie(R,L):!0}function C_(f,d,x,T){f=d.state,typeof d.componentWillReceiveProps=="function"&&d.componentWillReceiveProps(x,T),typeof d.UNSAFE_componentWillReceiveProps=="function"&&d.UNSAFE_componentWillReceiveProps(x,T),d.state!==f&&Co.enqueueReplaceState(d,d.state,null)}function Jo(f,d){var x=d;if("ref"in d){x={};for(var T in d)T!=="ref"&&(x[T]=d[T])}if(f=f.defaultProps){x===d&&(x=Yp({},x));for(var R in f)x[R]===void 0&&(x[R]=f[R])}return x}function Lu(f,d){try{var x=f.onUncaughtError;x(d.value,{componentStack:d.stack})}catch(T){setTimeout(function(){throw T})}}function Uu(f,d,x){try{var T=f.onCaughtError;T(x.value,{componentStack:x.stack,errorBoundary:d.tag===1?d.stateNode:null})}catch(R){setTimeout(function(){throw R})}}function Pu(f,d,x){return x=Tt(x),x.tag=3,x.payload={element:null},x.callback=function(){Lu(f,d)},x}function s0(f){return f=Tt(f),f.tag=3,f}function w_(f,d,x,T){var R=x.type.getDerivedStateFromError;if(typeof R=="function"){var L=T.value;f.payload=function(){return R(L)},f.callback=function(){Uu(d,x,T)}}var $=x.stateNode;$!==null&&typeof $.componentDidCatch=="function"&&(f.callback=function(){Uu(d,x,T),typeof R!="function"&&(lc===null?lc=new Set([this]):lc.add(this));var ve=T.stack;this.componentDidCatch(T.value,{componentStack:ve!==null?ve:""})})}function XM(f,d,x,T,R){if(x.flags|=32768,T!==null&&typeof T=="object"&&typeof T.then=="function"){if(d=x.alternate,d!==null&&Ah(d,x,R,!0),x=qr.current,x!==null){switch(x.tag){case 13:return yi===null?sl():x.alternate===null&&xi===0&&(xi=3),x.flags&=-257,x.flags|=65536,x.lanes=R,T===ed?x.flags|=16384:(d=x.updateQueue,d===null?x.updateQueue=new Set([T]):d.add(T),Pc(f,T,R)),!1;case 22:return x.flags|=65536,T===ed?x.flags|=16384:(d=x.updateQueue,d===null?(d={transitions:null,markerInstances:null,retryQueue:new Set([T])},x.updateQueue=d):(x=d.retryQueue,x===null?d.retryQueue=new Set([T]):x.add(T)),Pc(f,T,R)),!1}throw Error(i(435,x.tag))}return Pc(f,T,R),sl(),!1}if(jn)return d=qr.current,d!==null?((d.flags&65536)===0&&(d.flags|=256),d.flags|=65536,d.lanes=R,T!==Zh&&(f=Error(i(422),{cause:T}),dt(de(f,x)))):(T!==Zh&&(d=Error(i(423),{cause:T}),dt(de(d,x))),f=f.current.alternate,f.flags|=65536,R&=-R,f.lanes|=R,T=de(T,x),R=Pu(f.stateNode,T,R),Wt(f,R),xi!==4&&(xi=2)),!1;var L=Error(i(520),{cause:T});if(L=de(L,x),$c===null?$c=[L]:$c.push(L),xi!==4&&(xi=2),d===null)return!0;T=de(T,x),x=d;do{switch(x.tag){case 3:return x.flags|=65536,f=R&-R,x.lanes|=f,f=Pu(x.stateNode,T,f),Wt(x,f),!1;case 1:if(d=x.type,L=x.stateNode,(x.flags&128)===0&&(typeof d.getDerivedStateFromError=="function"||L!==null&&typeof L.componentDidCatch=="function"&&(lc===null||!lc.has(L))))return x.flags|=65536,R&=-R,x.lanes|=R,R=s0(R),w_(R,f,x,T),Wt(x,R),!1}x=x.return}while(x!==null);return!1}function Cs(f,d,x,T){d.child=f===null?To(d,null,x,T):rc(d,f.child,x,T)}function wp(f,d,x,T,R){x=x.render;var L=d.ref;if("ref"in T){var $={};for(var ve in T)ve!=="ref"&&($[ve]=T[ve])}else $=T;return Il(d),T=W(f,d,x,$,L,R),ve=ke(),f!==null&&!_i?(nt(f,d,R),Zo(f,d,R)):(jn&&ve&&ue(d),d.flags|=1,Cs(f,d,T,R),d.child)}function R_(f,d,x,T,R){if(f===null){var L=x.type;return typeof L=="function"&&!Uh(L)&&L.defaultProps===void 0&&x.compare===null?(d.tag=15,d.type=L,B_(f,d,L,T,R)):(f=xo(x.type,null,T,d,d.mode,R),f.ref=d.ref,f.return=d,d.child=f)}if(L=f.child,!c0(f,R)){var $=L.memoizedProps;if(x=x.compare,x=x!==null?x:Ie,x($,T)&&f.ref===d.ref)return Zo(f,d,R)}return d.flags|=1,f=va(L,T),f.ref=d.ref,f.return=d,d.child=f}function B_(f,d,x,T,R){if(f!==null){var L=f.memoizedProps;if(Ie(L,T)&&f.ref===d.ref)if(_i=!1,d.pendingProps=T=L,c0(f,R))(f.flags&131072)!==0&&(_i=!0);else return d.lanes=f.lanes,Zo(f,d,R)}return Rp(f,d,x,T,R)}function D_(f,d,x){var T=d.pendingProps,R=T.children,L=(d.stateNode._pendingVisibility&2)!==0,$=f!==null?f.memoizedState:null;if(_h(f,d),T.mode==="hidden"||L){if((d.flags&128)!==0){if(T=$!==null?$.baseLanes|x:x,f!==null){for(R=d.child=f.child,L=0;R!==null;)L=L|R.lanes|R.childLanes,R=R.sibling;d.childLanes=L&~T}else d.childLanes=0,d.child=null;return N_(f,d,T,x)}if((x&536870912)!==0)d.memoizedState={baseLanes:0,cachePool:null},f!==null&&Dp(d,$!==null?$.cachePool:null),$!==null?pt(d,$):Ut(),ii(d);else return d.lanes=d.childLanes=536870912,N_(f,d,$!==null?$.baseLanes|x:x,x)}else $!==null?(Dp(d,$.cachePool),pt(d,$),en(),d.memoizedState=null):(f!==null&&Dp(d,null),Ut(),en());return Cs(f,d,R,x),d.child}function N_(f,d,x,T){var R=f0();return R=R===null?null:{parent:nr?bi._currentValue:bi._currentValue2,pool:R},d.memoizedState={baseLanes:x,cachePool:R},f!==null&&Dp(d,null),Ut(),ii(d),f!==null&&Ah(f,d,T,!0),null}function _h(f,d){var x=d.ref;if(x===null)f!==null&&f.ref!==null&&(d.flags|=2097664);else{if(typeof x!="function"&&typeof x!="object")throw Error(i(284));(f===null||f.ref!==x)&&(d.flags|=2097664)}}function Rp(f,d,x,T,R){return Il(d),x=W(f,d,x,T,void 0,R),T=ke(),f!==null&&!_i?(nt(f,d,R),Zo(f,d,R)):(jn&&T&&ue(d),d.flags|=1,Cs(f,d,x,R),d.child)}function O_(f,d,x,T,R,L){return Il(d),d.updateQueue=null,x=Te(d,T,x,R),ge(f),T=ke(),f!==null&&!_i?(nt(f,d,L),Zo(f,d,L)):(jn&&T&&ue(d),d.flags|=1,Cs(f,d,x,L),d.child)}function L_(f,d,x,T,R){if(Il(d),d.stateNode===null){var L=ec,$=x.contextType;typeof $=="object"&&$!==null&&(L=ws($)),L=new x(T,L),d.memoizedState=L.state!==null&&L.state!==void 0?L.state:null,L.updater=Co,d.stateNode=L,L._reactInternals=d,L=d.stateNode,L.props=T,L.state=d.memoizedState,L.refs={},ct(d),$=x.contextType,L.context=typeof $=="object"&&$!==null?ws($):ec,L.state=d.memoizedState,$=x.getDerivedStateFromProps,typeof $=="function"&&(Nu(d,x,$,T),L.state=d.memoizedState),typeof x.getDerivedStateFromProps=="function"||typeof L.getSnapshotBeforeUpdate=="function"||typeof L.UNSAFE_componentWillMount!="function"&&typeof L.componentWillMount!="function"||($=L.state,typeof L.componentWillMount=="function"&&L.componentWillMount(),typeof L.UNSAFE_componentWillMount=="function"&&L.UNSAFE_componentWillMount(),$!==L.state&&Co.enqueueReplaceState(L,L.state,null),Yt(d,T,L,R),wt(),L.state=d.memoizedState),typeof L.componentDidMount=="function"&&(d.flags|=4194308),T=!0}else if(f===null){L=d.stateNode;var ve=d.memoizedProps,we=Jo(x,ve);L.props=we;var Qe=L.context,yt=x.contextType;$=ec,typeof yt=="object"&&yt!==null&&($=ws(yt));var Bt=x.getDerivedStateFromProps;yt=typeof Bt=="function"||typeof L.getSnapshotBeforeUpdate=="function",ve=d.pendingProps!==ve,yt||typeof L.UNSAFE_componentWillReceiveProps!="function"&&typeof L.componentWillReceiveProps!="function"||(ve||Qe!==$)&&C_(d,L,T,$),pl=!1;var Ot=d.memoizedState;L.state=Ot,Yt(d,T,L,R),wt(),Qe=d.memoizedState,ve||Ot!==Qe||pl?(typeof Bt=="function"&&(Nu(d,x,Bt,T),Qe=d.memoizedState),(we=pl||Ou(d,x,we,T,Ot,Qe,$))?(yt||typeof L.UNSAFE_componentWillMount!="function"&&typeof L.componentWillMount!="function"||(typeof L.componentWillMount=="function"&&L.componentWillMount(),typeof L.UNSAFE_componentWillMount=="function"&&L.UNSAFE_componentWillMount()),typeof L.componentDidMount=="function"&&(d.flags|=4194308)):(typeof L.componentDidMount=="function"&&(d.flags|=4194308),d.memoizedProps=T,d.memoizedState=Qe),L.props=T,L.state=Qe,L.context=$,T=we):(typeof L.componentDidMount=="function"&&(d.flags|=4194308),T=!1)}else{L=d.stateNode,ft(f,d),$=d.memoizedProps,yt=Jo(x,$),L.props=yt,Bt=d.pendingProps,Ot=L.context,Qe=x.contextType,we=ec,typeof Qe=="object"&&Qe!==null&&(we=ws(Qe)),ve=x.getDerivedStateFromProps,(Qe=typeof ve=="function"||typeof L.getSnapshotBeforeUpdate=="function")||typeof L.UNSAFE_componentWillReceiveProps!="function"&&typeof L.componentWillReceiveProps!="function"||($!==Bt||Ot!==we)&&C_(d,L,T,we),pl=!1,Ot=d.memoizedState,L.state=Ot,Yt(d,T,L,R),wt();var vn=d.memoizedState;$!==Bt||Ot!==vn||pl||f!==null&&f.dependencies!==null&&Mh(f.dependencies)?(typeof ve=="function"&&(Nu(d,x,ve,T),vn=d.memoizedState),(yt=pl||Ou(d,x,yt,T,Ot,vn,we)||f!==null&&f.dependencies!==null&&Mh(f.dependencies))?(Qe||typeof L.UNSAFE_componentWillUpdate!="function"&&typeof L.componentWillUpdate!="function"||(typeof L.componentWillUpdate=="function"&&L.componentWillUpdate(T,vn,we),typeof L.UNSAFE_componentWillUpdate=="function"&&L.UNSAFE_componentWillUpdate(T,vn,we)),typeof L.componentDidUpdate=="function"&&(d.flags|=4),typeof L.getSnapshotBeforeUpdate=="function"&&(d.flags|=1024)):(typeof L.componentDidUpdate!="function"||$===f.memoizedProps&&Ot===f.memoizedState||(d.flags|=4),typeof L.getSnapshotBeforeUpdate!="function"||$===f.memoizedProps&&Ot===f.memoizedState||(d.flags|=1024),d.memoizedProps=T,d.memoizedState=vn),L.props=T,L.state=vn,L.context=we,T=yt):(typeof L.componentDidUpdate!="function"||$===f.memoizedProps&&Ot===f.memoizedState||(d.flags|=4),typeof L.getSnapshotBeforeUpdate!="function"||$===f.memoizedProps&&Ot===f.memoizedState||(d.flags|=1024),T=!1)}return L=T,_h(f,d),T=(d.flags&128)!==0,L||T?(L=d.stateNode,x=T&&typeof x.getDerivedStateFromError!="function"?null:L.render(),d.flags|=1,f!==null&&T?(d.child=rc(d,f.child,null,R),d.child=rc(d,null,x,R)):Cs(f,d,x,R),d.memoizedState=L.state,f=d.child):f=Zo(f,d,R),f}function U_(f,d,x,T){return _t(),d.flags|=256,Cs(f,d,x,T),d.child}function r0(f){return{baseLanes:f,cachePool:h0()}}function xh(f,d,x){return f=f!==null?f.childLanes&~x:0,d&&(f|=$r),f}function P_(f,d,x){var T=d.pendingProps,R=!1,L=(d.flags&128)!==0,$;if(($=L)||($=f!==null&&f.memoizedState===null?!1:(ls.current&2)!==0),$&&(R=!0,d.flags&=-129),$=(d.flags&32)!==0,d.flags&=-33,f===null){if(jn){if(R?kt(d):en(),jn){var ve=Ls,we;(we=ve)&&(ve=_1(ve,xs),ve!==null?(d.memoizedState={dehydrated:ve,treeContext:tc!==null?{id:Xa,overflow:Ya}:null,retryLane:536870912},we=t(18,null,null,0),we.stateNode=ve,we.return=d,d.child=we,Os=d,Ls=null,we=!0):we=!1),we||Ne(d)}if(ve=d.memoizedState,ve!==null&&(ve=ve.dehydrated,ve!==null))return nm(ve)?d.lanes=16:d.lanes=536870912,null;Nt(d)}return ve=T.children,T=T.fallback,R?(en(),R=d.mode,ve=o0({mode:"hidden",children:ve},R),T=Ii(T,R,x,null),ve.return=d,T.return=d,ve.sibling=T,d.child=ve,R=d.child,R.memoizedState=r0(x),R.childLanes=xh(f,$,x),d.memoizedState=gm,T):(kt(d),a0(d,ve))}if(we=f.memoizedState,we!==null&&(ve=we.dehydrated,ve!==null)){if(L)d.flags&256?(kt(d),d.flags&=-257,d=Bp(f,d,x)):d.memoizedState!==null?(en(),d.child=f.child,d.flags|=128,d=null):(en(),R=T.fallback,ve=d.mode,T=o0({mode:"visible",children:T.children},ve),R=Ii(R,ve,x,null),R.flags|=2,T.return=d,R.return=d,T.sibling=R,d.child=T,rc(d,f.child,null,x),T=d.child,T.memoizedState=r0(x),T.childLanes=xh(f,$,x),d.memoizedState=gm,d=R);else if(kt(d),nm(ve))$=p1(ve).digest,T=Error(i(419)),T.stack="",T.digest=$,dt({value:T,source:null,stack:null}),d=Bp(f,d,x);else if(_i||Ah(f,d,x,!1),$=(x&f.childLanes)!==0,_i||$){if($=ai,$!==null){if(T=x&-x,(T&42)!==0)T=1;else switch(T){case 2:T=1;break;case 8:T=4;break;case 32:T=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:T=64;break;case 268435456:T=134217728;break;default:T=0}if(T=(T&($.suspendedLanes|x))!==0?0:T,T!==0&&T!==we.retryLane)throw we.retryLane=T,le(f,T),ys($,f,T),mm}tm(ve)||sl(),d=Bp(f,d,x)}else tm(ve)?(d.flags|=128,d.child=f.child,d=rl.bind(null,f),m1(ve,d),d=null):(f=we.treeContext,Ns&&(Ls=y1(ve),Os=d,jn=!0,Aa=null,xs=!1,f!==null&&(jr[Xr++]=Xa,jr[Xr++]=Ya,jr[Xr++]=tc,Xa=f.id,Ya=f.overflow,tc=d)),d=a0(d,T.children),d.flags|=4096);return d}return R?(en(),R=T.fallback,ve=d.mode,we=f.child,L=we.sibling,T=va(we,{mode:"hidden",children:T.children}),T.subtreeFlags=we.subtreeFlags&31457280,L!==null?R=va(L,R):(R=Ii(R,ve,x,null),R.flags|=2),R.return=d,T.return=d,T.sibling=R,d.child=T,T=R,R=d.child,ve=f.child.memoizedState,ve===null?ve=r0(x):(we=ve.cachePool,we!==null?(L=nr?bi._currentValue:bi._currentValue2,we=we.parent!==L?{parent:L,pool:L}:we):we=h0(),ve={baseLanes:ve.baseLanes|x,cachePool:we}),R.memoizedState=ve,R.childLanes=xh(f,$,x),d.memoizedState=gm,T):(kt(d),x=f.child,f=x.sibling,x=va(x,{mode:"visible",children:T.children}),x.return=d,x.sibling=null,f!==null&&($=d.deletions,$===null?(d.deletions=[f],d.flags|=16):$.push(f)),d.child=x,d.memoizedState=null,x)}function a0(f,d){return d=o0({mode:"visible",children:d},f.mode),d.return=f,f.child=d}function o0(f,d){return Ih(f,d,0,null)}function Bp(f,d,x){return rc(d,f.child,null,x),f=a0(d,d.pendingProps.children),f.flags|=2,d.memoizedState=null,f}function I_(f,d,x){f.lanes|=d;var T=f.alternate;T!==null&&(T.lanes|=d),Sh(f.return,d,x)}function l0(f,d,x,T,R){var L=f.memoizedState;L===null?f.memoizedState={isBackwards:d,rendering:null,renderingStartTime:0,last:T,tail:x,tailMode:R}:(L.isBackwards=d,L.rendering=null,L.renderingStartTime=0,L.last=T,L.tail=x,L.tailMode=R)}function F_(f,d,x){var T=d.pendingProps,R=T.revealOrder,L=T.tail;if(Cs(f,d,T.children,x),T=ls.current,(T&2)!==0)T=T&1|2,d.flags|=128;else{if(f!==null&&(f.flags&128)!==0)e:for(f=d.child;f!==null;){if(f.tag===13)f.memoizedState!==null&&I_(f,x,d);else if(f.tag===19)I_(f,x,d);else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===d)break e;for(;f.sibling===null;){if(f.return===null||f.return===d)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}T&=1}switch(C(ls,T),R){case"forwards":for(x=d.child,R=null;x!==null;)f=x.alternate,f!==null&&ei(f)===null&&(R=x),x=x.sibling;x=R,x===null?(R=d.child,d.child=null):(R=x.sibling,x.sibling=null),l0(d,!1,R,x,L);break;case"backwards":for(x=null,R=d.child,d.child=null;R!==null;){if(f=R.alternate,f!==null&&ei(f)===null){d.child=R;break}f=R.sibling,R.sibling=x,x=R,R=f}l0(d,!0,x,null,L);break;case"together":l0(d,!1,null,null,void 0);break;default:d.memoizedState=null}return d.child}function Zo(f,d,x){if(f!==null&&(d.dependencies=f.dependencies),Qr|=d.lanes,(x&d.childLanes)===0)if(f!==null){if(Ah(f,d,x,!1),(x&d.childLanes)===0)return null}else return null;if(f!==null&&d.child!==f.child)throw Error(i(153));if(d.child!==null){for(f=d.child,x=va(f,f.pendingProps),d.child=x,x.return=d;f.sibling!==null;)f=f.sibling,x=x.sibling=va(f,f.pendingProps),x.return=d;x.sibling=null}return d.child}function c0(f,d){return(f.lanes&d)!==0?!0:(f=f.dependencies,!!(f!==null&&Mh(f)))}function YM(f,d,x){switch(d.tag){case 3:se(d,d.stateNode.containerInfo),Pl(d,bi,f.memoizedState.cache),_t();break;case 27:case 5:Ae(d);break;case 4:se(d,d.stateNode.containerInfo);break;case 10:Pl(d,d.type,d.memoizedProps.value);break;case 13:var T=d.memoizedState;if(T!==null)return T.dehydrated!==null?(kt(d),d.flags|=128,null):(x&d.child.childLanes)!==0?P_(f,d,x):(kt(d),f=Zo(f,d,x),f!==null?f.sibling:null);kt(d);break;case 19:var R=(f.flags&128)!==0;if(T=(x&d.childLanes)!==0,T||(Ah(f,d,x,!1),T=(x&d.childLanes)!==0),R){if(T)return F_(f,d,x);d.flags|=128}if(R=d.memoizedState,R!==null&&(R.rendering=null,R.tail=null,R.lastEffect=null),C(ls,ls.current),T)break;return null;case 22:case 23:return d.lanes=0,D_(f,d,x);case 24:Pl(d,bi,f.memoizedState.cache)}return Zo(f,d,x)}function z_(f,d,x){if(f!==null)if(f.memoizedProps!==d.pendingProps)_i=!0;else{if(!c0(f,x)&&(d.flags&128)===0)return _i=!1,YM(f,d,x);_i=(f.flags&131072)!==0}else _i=!1,jn&&(d.flags&1048576)!==0&&ie(d,sf,d.index);switch(d.lanes=0,d.tag){case 16:e:{f=d.pendingProps;var T=d.elementType,R=T._init;if(T=R(T._payload),d.type=T,typeof T=="function")Uh(T)?(f=Jo(T,f),d.tag=1,d=L_(null,d,T,f,x)):(d.tag=0,d=Rp(null,d,T,f,x));else{if(T!=null){if(R=T.$$typeof,R===Vh){d.tag=11,d=wp(null,d,T,f,x);break e}else if(R===Kp){d.tag=14,d=R_(null,d,T,f,x);break e}}throw d=a(T)||T,Error(i(306,d,""))}}return d;case 0:return Rp(f,d,d.type,d.pendingProps,x);case 1:return T=d.type,R=Jo(T,d.pendingProps),L_(f,d,T,R,x);case 3:e:{if(se(d,d.stateNode.containerInfo),f===null)throw Error(i(387));var L=d.pendingProps;R=d.memoizedState,T=R.element,ft(f,d),Yt(d,L,null,x);var $=d.memoizedState;if(L=$.cache,Pl(d,bi,L),L!==R.cache&&Lc(d,[bi],x,!0),wt(),L=$.element,Ns&&R.isDehydrated)if(R={element:L,isDehydrated:!1,cache:$.cache},d.updateQueue.baseState=R,d.memoizedState=R,d.flags&256){d=U_(f,d,L,x);break e}else if(L!==T){T=de(Error(i(424)),d),dt(T),d=U_(f,d,L,x);break e}else for(Ns&&(Ls=v1(d.stateNode.containerInfo),Os=d,jn=!0,Aa=null,xs=!0),x=To(d,null,L,x),d.child=x;x;)x.flags=x.flags&-3|4096,x=x.sibling;else{if(_t(),L===T){d=Zo(f,d,x);break e}Cs(f,d,L,x)}d=d.child}return d;case 26:if(kr)return _h(f,d),f===null?(x=K0(d.type,null,d.pendingProps,null))?d.memoizedState=x:jn||(d.stateNode=om(d.type,d.pendingProps,bo.current,d)):d.memoizedState=K0(d.type,f.memoizedProps,d.pendingProps,f.memoizedState),null;case 27:if(vi)return Ae(d),f===null&&vi&&jn&&(T=d.stateNode=ja(d.type,d.pendingProps,bo.current,os.current,!1),Os=d,xs=!0,Ls=im(T)),T=d.pendingProps.children,f!==null||jn?Cs(f,d,T,x):d.child=rc(d,null,T,x),_h(f,d),d.child;case 5:return f===null&&jn&&(rm(d.type,d.pendingProps,os.current),(R=T=Ls)&&(T=$M(T,d.type,d.pendingProps,xs),T!==null?(d.stateNode=T,Os=d,Ls=im(T),xs=!1,R=!0):R=!1),R||Ne(d)),Ae(d),R=d.type,L=d.pendingProps,$=f!==null?f.memoizedProps:null,T=L.children,_n(R,L)?T=null:$!==null&&_n(R,$)&&(d.flags|=32),d.memoizedState!==null&&(R=W(f,d,Be,null,null,x),nr?ka._currentValue=R:ka._currentValue2=R),_h(f,d),Cs(f,d,T,x),d.child;case 6:return f===null&&jn&&(b1(d.pendingProps,os.current),(f=x=Ls)&&(x=q0(x,d.pendingProps,xs),x!==null?(d.stateNode=x,Os=d,Ls=null,f=!0):f=!1),f||Ne(d)),null;case 13:return P_(f,d,x);case 4:return se(d,d.stateNode.containerInfo),T=d.pendingProps,f===null?d.child=rc(d,null,T,x):Cs(f,d,T,x),d.child;case 11:return wp(f,d,d.type,d.pendingProps,x);case 7:return Cs(f,d,d.pendingProps,x),d.child;case 8:return Cs(f,d,d.pendingProps.children,x),d.child;case 12:return Cs(f,d,d.pendingProps.children,x),d.child;case 10:return T=d.pendingProps,Pl(d,d.type,T.value),Cs(f,d,T.children,x),d.child;case 9:return R=d.type._context,T=d.pendingProps.children,Il(d),R=ws(R),T=T(R),d.flags|=1,Cs(f,d,T,x),d.child;case 14:return R_(f,d,d.type,d.pendingProps,x);case 15:return B_(f,d,d.type,d.pendingProps,x);case 19:return F_(f,d,x);case 22:return D_(f,d,x);case 24:return Il(d),T=ws(bi),f===null?(R=f0(),R===null&&(R=ai,L=Fl(),R.pooledCache=L,L.refCount++,L!==null&&(R.pooledCacheLanes|=x),R=L),d.memoizedState={parent:T,cache:R},ct(d),Pl(d,bi,R)):((f.lanes&x)!==0&&(ft(f,d),Yt(d,null,null,x),wt()),R=f.memoizedState,L=d.memoizedState,R.parent!==T?(R={parent:T,cache:T},d.memoizedState=R,d.lanes===0&&(d.memoizedState=d.updateQueue.baseState=R),Pl(d,bi,T)):(T=L.cache,Pl(d,bi,T),T!==R.cache&&Lc(d,[bi],x,!0))),Cs(f,d,d.pendingProps.children,x),d.child;case 29:throw d.pendingProps}throw Error(i(156,d.tag))}function Pl(f,d,x){nr?(C(gl,d._currentValue),d._currentValue=x):(C(gl,d._currentValue2),d._currentValue2=x)}function Qo(f){var d=gl.current;nr?f._currentValue=d:f._currentValue2=d,A(gl)}function Sh(f,d,x){for(;f!==null;){var T=f.alternate;if((f.childLanes&d)!==d?(f.childLanes|=d,T!==null&&(T.childLanes|=d)):T!==null&&(T.childLanes&d)!==d&&(T.childLanes|=d),f===x)break;f=f.return}}function Lc(f,d,x,T){var R=f.child;for(R!==null&&(R.return=f);R!==null;){var L=R.dependencies;if(L!==null){var $=R.child;L=L.firstContext;e:for(;L!==null;){var ve=L;L=R;for(var we=0;we<d.length;we++)if(ve.context===d[we]){L.lanes|=x,ve=L.alternate,ve!==null&&(ve.lanes|=x),Sh(L.return,x,f),T||($=null);break e}L=ve.next}}else if(R.tag===18){if($=R.return,$===null)throw Error(i(341));$.lanes|=x,L=$.alternate,L!==null&&(L.lanes|=x),Sh($,x,f),$=null}else $=R.child;if($!==null)$.return=R;else for($=R;$!==null;){if($===f){$=null;break}if(R=$.sibling,R!==null){R.return=$.return,$=R;break}$=$.return}R=$}}function Ah(f,d,x,T){f=null;for(var R=d,L=!1;R!==null;){if(!L){if((R.flags&524288)!==0)L=!0;else if((R.flags&262144)!==0)break}if(R.tag===10){var $=R.alternate;if($===null)throw Error(i(387));if($=$.memoizedProps,$!==null){var ve=R.type;br(R.pendingProps.value,$.value)||(f!==null?f.push(ve):f=[ve])}}else if(R===jc.current){if($=R.alternate,$===null)throw Error(i(387));$.memoizedState.memoizedState!==R.memoizedState.memoizedState&&(f!==null?f.push(ka):f=[ka])}R=R.return}f!==null&&Lc(d,f,x,T),d.flags|=262144}function Mh(f){for(f=f.firstContext;f!==null;){var d=f.context;if(!br(nr?d._currentValue:d._currentValue2,f.memoizedValue))return!0;f=f.next}return!1}function Il(f){Ka=f,Kr=null,f=f.dependencies,f!==null&&(f.firstContext=null)}function ws(f){return u0(Ka,f)}function bh(f,d){return Ka===null&&Il(f),u0(f,d)}function u0(f,d){var x=nr?d._currentValue:d._currentValue2;if(d={context:d,memoizedValue:x,next:null},Kr===null){if(f===null)throw Error(i(308));Kr=d,f.dependencies={lanes:0,firstContext:d},f.flags|=524288}else Kr=Kr.next=d;return x}function Fl(){return{controller:new uf,data:new Map,refCount:0}}function Eh(f){f.refCount--,f.refCount===0&&U1(P1,function(){f.controller.abort()})}function f0(){var f=wo.current;return f!==null?f:ai.pooledCache}function Dp(f,d){d===null?C(wo,wo.current):C(wo,d.pool)}function h0(){var f=f0();return f===null?null:{parent:nr?bi._currentValue:bi._currentValue2,pool:f}}function vr(f){f.flags|=4}function Iu(f,d){if(f!==null&&f.child===d.child)return!1;if((d.flags&16)!==0)return!0;for(f=d.child;f!==null;){if((f.flags&13878)!==0||(f.subtreeFlags&13878)!==0)return!0;f=f.sibling}return!1}function Uc(f,d,x,T){if(as)for(x=d.child;x!==null;){if(x.tag===5||x.tag===6)jh(f,x.stateNode);else if(!(x.tag===4||vi&&x.tag===27)&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===d)break;for(;x.sibling===null;){if(x.return===null||x.return===d)return;x=x.return}x.sibling.return=x.return,x=x.sibling}else if(xa)for(var R=d.child;R!==null;){if(R.tag===5){var L=R.stateNode;x&&T&&(L=k0(L,R.type,R.memoizedProps)),jh(f,L)}else if(R.tag===6)L=R.stateNode,x&&T&&(L=j0(L,R.memoizedProps)),jh(f,L);else if(R.tag!==4){if(R.tag===22&&R.memoizedState!==null)L=R.child,L!==null&&(L.return=R),Uc(f,R,!0,!0);else if(R.child!==null){R.child.return=R,R=R.child;continue}}if(R===d)break;for(;R.sibling===null;){if(R.return===null||R.return===d)return;R=R.return}R.sibling.return=R.return,R=R.sibling}}function H_(f,d,x,T){if(xa)for(var R=d.child;R!==null;){if(R.tag===5){var L=R.stateNode;x&&T&&(L=k0(L,R.type,R.memoizedProps)),V0(f,L)}else if(R.tag===6)L=R.stateNode,x&&T&&(L=j0(L,R.memoizedProps)),V0(f,L);else if(R.tag!==4){if(R.tag===22&&R.memoizedState!==null)L=R.child,L!==null&&(L.return=R),H_(f,R,!(R.memoizedProps!==null&&R.memoizedProps.mode==="manual"),!0);else if(R.child!==null){R.child.return=R,R=R.child;continue}}if(R===d)break;for(;R.sibling===null;){if(R.return===null||R.return===d)return;R=R.return}R.sibling.return=R.return,R=R.sibling}}function Th(f,d){if(xa&&Iu(f,d)){f=d.stateNode;var x=f.containerInfo,T=Xh();H_(T,d,!1,!1),f.pendingChildren=T,vr(d),em(x,T)}}function Np(f,d,x,T){if(as)f.memoizedProps!==T&&vr(d);else if(xa){var R=f.stateNode,L=f.memoizedProps;if((f=Iu(f,d))||L!==T){var $=os.current;L=ef(R,x,L,T,!f,null),L===R?d.stateNode=R:(cl(L,x,T,$)&&vr(d),d.stateNode=L,f?Uc(L,d,!1,!1):vr(d))}else d.stateNode=R}}function Op(f,d,x){if(L0(d,x)){if(f.flags|=16777216,!Qp(d,x))if(jl())f.flags|=8192;else throw nc=ed,$h}else f.flags&=-16777217}function Lp(f,d){if(C1(d)){if(f.flags|=16777216,!zc(d))if(jl())f.flags|=8192;else throw nc=ed,$h}else f.flags&=-16777217}function Fu(f,d){d!==null&&(f.flags|=4),f.flags&16384&&(d=f.tag!==22?O():536870912,f.lanes|=d,Do|=d)}function zu(f,d){if(!jn)switch(f.tailMode){case"hidden":d=f.tail;for(var x=null;d!==null;)d.alternate!==null&&(x=d),d=d.sibling;x===null?f.tail=null:x.sibling=null;break;case"collapsed":x=f.tail;for(var T=null;x!==null;)x.alternate!==null&&(T=x),x=x.sibling;T===null?d||f.tail===null?f.tail=null:f.tail.sibling=null:T.sibling=null}}function Di(f){var d=f.alternate!==null&&f.alternate.child===f.child,x=0,T=0;if(d)for(var R=f.child;R!==null;)x|=R.lanes|R.childLanes,T|=R.subtreeFlags&31457280,T|=R.flags&31457280,R.return=f,R=R.sibling;else for(R=f.child;R!==null;)x|=R.lanes|R.childLanes,T|=R.subtreeFlags,T|=R.flags,R.return=f,R=R.sibling;return f.subtreeFlags|=T,f.childLanes=x,d}function G_(f,d,x){var T=d.pendingProps;switch(_e(d),d.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Di(d),null;case 1:return Di(d),null;case 3:return x=d.stateNode,T=null,f!==null&&(T=f.memoizedState.cache),d.memoizedState.cache!==T&&(d.flags|=2048),Qo(bi),xe(),x.pendingContext&&(x.context=x.pendingContext,x.pendingContext=null),(f===null||f.child===null)&&(st(d)?vr(d):f===null||f.memoizedState.isDehydrated&&(d.flags&256)===0||(d.flags|=1024,Aa!==null&&(Oh(Aa),Aa=null))),Th(f,d),Di(d),null;case 26:if(kr){x=d.type;var R=d.memoizedState;return f===null?(vr(d),R!==null?(Di(d),Lp(d,R)):(Di(d),Op(d,x,T))):R?R!==f.memoizedState?(vr(d),Di(d),Lp(d,R)):(Di(d),d.flags&=-16777217):(as?f.memoizedProps!==T&&vr(d):Np(f,d,x,T),Di(d),Op(d,x,T)),null}case 27:if(vi){if(Ee(d),x=bo.current,R=d.type,f!==null&&d.stateNode!=null)as?f.memoizedProps!==T&&vr(d):Np(f,d,R,T);else{if(!T){if(d.stateNode===null)throw Error(i(166));return Di(d),null}f=os.current,st(d)?ht(d,f):(f=ja(R,T,x,f,!0),d.stateNode=f,vr(d))}return Di(d),null}case 5:if(Ee(d),x=d.type,f!==null&&d.stateNode!=null)Np(f,d,x,T);else{if(!T){if(d.stateNode===null)throw Error(i(166));return Di(d),null}f=os.current,st(d)?ht(d,f):(R=O0(x,T,bo.current,f,d),Uc(R,d,!1,!1),d.stateNode=R,cl(R,x,T,f)&&vr(d))}return Di(d),Op(d,d.type,d.pendingProps),null;case 6:if(f&&d.stateNode!=null)x=f.memoizedProps,as?x!==T&&vr(d):xa&&(x!==T?(d.stateNode=ui(T,bo.current,os.current,d),vr(d)):d.stateNode=f.stateNode);else{if(typeof T!="string"&&d.stateNode===null)throw Error(i(166));if(f=bo.current,x=os.current,st(d)){if(!Ns)throw Error(i(176));if(f=d.stateNode,x=d.memoizedProps,T=null,R=Os,R!==null)switch(R.tag){case 27:case 5:T=R.memoizedProps}W0(f,x,d,T)||Ne(d)}else d.stateNode=ui(T,f,x,d)}return Di(d),null;case 13:if(T=d.memoizedState,f===null||f.memoizedState!==null&&f.memoizedState.dehydrated!==null){if(R=st(d),T!==null&&T.dehydrated!==null){if(f===null){if(!R)throw Error(i(318));if(!Ns)throw Error(i(344));if(R=d.memoizedState,R=R!==null?R.dehydrated:null,!R)throw Error(i(317));S1(R,d)}else _t(),(d.flags&128)===0&&(d.memoizedState=null),d.flags|=4;Di(d),R=!1}else Aa!==null&&(Oh(Aa),Aa=null),R=!0;if(!R)return d.flags&256?(Nt(d),d):(Nt(d),null)}if(Nt(d),(d.flags&128)!==0)return d.lanes=x,d;if(x=T!==null,f=f!==null&&f.memoizedState!==null,x){T=d.child,R=null,T.alternate!==null&&T.alternate.memoizedState!==null&&T.alternate.memoizedState.cachePool!==null&&(R=T.alternate.memoizedState.cachePool.pool);var L=null;T.memoizedState!==null&&T.memoizedState.cachePool!==null&&(L=T.memoizedState.cachePool.pool),L!==R&&(T.flags|=2048)}return x!==f&&x&&(d.child.flags|=8192),Fu(d,d.updateQueue),Di(d),null;case 4:return xe(),Th(f,d),f===null&&Xi(d.stateNode.containerInfo),Di(d),null;case 10:return Qo(d.type),Di(d),null;case 19:if(A(ls),R=d.memoizedState,R===null)return Di(d),null;if(T=(d.flags&128)!==0,L=R.rendering,L===null)if(T)zu(R,!1);else{if(xi!==0||f!==null&&(f.flags&128)!==0)for(f=d.child;f!==null;){if(L=ei(f),L!==null){for(d.flags|=128,zu(R,!1),f=L.updateQueue,d.updateQueue=f,Fu(d,f),d.subtreeFlags=0,f=x,x=d.child;x!==null;)Ph(x,f),x=x.sibling;return C(ls,ls.current&1|2),d.child}f=f.sibling}R.tail!==null&&Sa()>df&&(d.flags|=128,T=!0,zu(R,!1),d.lanes=4194304)}else{if(!T)if(f=ei(L),f!==null){if(d.flags|=128,T=!0,f=f.updateQueue,d.updateQueue=f,Fu(d,f),zu(R,!0),R.tail===null&&R.tailMode==="hidden"&&!L.alternate&&!jn)return Di(d),null}else 2*Sa()-R.renderingStartTime>df&&x!==536870912&&(d.flags|=128,T=!0,zu(R,!1),d.lanes=4194304);R.isBackwards?(L.sibling=d.child,d.child=L):(f=R.last,f!==null?f.sibling=L:d.child=L,R.last=L)}return R.tail!==null?(d=R.tail,R.rendering=d,R.tail=d.sibling,R.renderingStartTime=Sa(),d.sibling=null,f=ls.current,C(ls,T?f&1|2:f&1),d):(Di(d),null);case 22:case 23:return Nt(d),Rt(),T=d.memoizedState!==null,f!==null?f.memoizedState!==null!==T&&(d.flags|=8192):T&&(d.flags|=8192),T?(x&536870912)!==0&&(d.flags&128)===0&&(Di(d),d.subtreeFlags&6&&(d.flags|=8192)):Di(d),x=d.updateQueue,x!==null&&Fu(d,x.retryQueue),x=null,f!==null&&f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(x=f.memoizedState.cachePool.pool),T=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(T=d.memoizedState.cachePool.pool),T!==x&&(d.flags|=2048),f!==null&&A(wo),null;case 24:return x=null,f!==null&&(x=f.memoizedState.cache),d.memoizedState.cache!==x&&(d.flags|=2048),Qo(bi),Di(d),null;case 25:return null}throw Error(i(156,d.tag))}function qM(f,d){switch(_e(d),d.tag){case 1:return f=d.flags,f&65536?(d.flags=f&-65537|128,d):null;case 3:return Qo(bi),xe(),f=d.flags,(f&65536)!==0&&(f&128)===0?(d.flags=f&-65537|128,d):null;case 26:case 27:case 5:return Ee(d),null;case 13:if(Nt(d),f=d.memoizedState,f!==null&&f.dehydrated!==null){if(d.alternate===null)throw Error(i(340));_t()}return f=d.flags,f&65536?(d.flags=f&-65537|128,d):null;case 19:return A(ls),null;case 4:return xe(),null;case 10:return Qo(d.type),null;case 22:case 23:return Nt(d),Rt(),f!==null&&A(wo),f=d.flags,f&65536?(d.flags=f&-65537|128,d):null;case 24:return Qo(bi),null;case 25:return null;default:return null}}function V_(f,d){switch(_e(d),d.tag){case 3:Qo(bi),xe();break;case 26:case 27:case 5:Ee(d);break;case 4:xe();break;case 13:Nt(d);break;case 19:A(ls);break;case 10:Qo(d.type);break;case 22:case 23:Nt(d),Rt(),f!==null&&A(wo);break;case 24:Qo(bi)}}function Ch(f,d){try{var x=d.updateQueue,T=x!==null?x.lastEffect:null;if(T!==null){var R=T.next;x=R;do{if((x.tag&f)===f){T=void 0;var L=x.create,$=x.inst;T=L(),$.destroy=T}x=x.next}while(x!==R)}}catch(ve){si(d,d.return,ve)}}function zl(f,d,x){try{var T=d.updateQueue,R=T!==null?T.lastEffect:null;if(R!==null){var L=R.next;T=L;do{if((T.tag&f)===f){var $=T.inst,ve=$.destroy;if(ve!==void 0){$.destroy=void 0,R=d;var we=x;try{ve()}catch(Qe){si(R,we,Qe)}}}T=T.next}while(T!==L)}}catch(Qe){si(d,d.return,Qe)}}function k_(f){var d=f.updateQueue;if(d!==null){var x=f.stateNode;try{Fe(d,x)}catch(T){si(f,f.return,T)}}}function yr(f,d,x){x.props=Jo(f.type,f.memoizedProps),x.state=f.memoizedState;try{x.componentWillUnmount()}catch(T){si(f,d,T)}}function Ha(f,d){try{var x=f.ref;if(x!==null){var T=f.stateNode;switch(f.tag){case 26:case 27:case 5:var R=Zu(T);break;default:R=T}typeof x=="function"?f.refCleanup=x(R):x.current=R}}catch(L){si(f,d,L)}}function _r(f,d){var x=f.ref,T=f.refCleanup;if(x!==null)if(typeof T=="function")try{T()}catch(R){si(f,d,R)}finally{f.refCleanup=null,f=f.alternate,f!=null&&(f.refCleanup=null)}else if(typeof x=="function")try{x(null)}catch(R){si(f,d,R)}else x.current=null}function d0(f){var d=f.type,x=f.memoizedProps,T=f.stateNode;try{ZM(T,d,x,f)}catch(R){si(f,f.return,R)}}function p0(f,d,x){try{a1(f.stateNode,f.type,x,d,f)}catch(T){si(f,f.return,T)}}function m0(f){return f.tag===5||f.tag===3||(kr?f.tag===26:!1)||(vi?f.tag===27:!1)||f.tag===4}function wh(f){e:for(;;){for(;f.sibling===null;){if(f.return===null||m0(f.return))return null;f=f.return}for(f.sibling.return=f.return,f=f.sibling;f.tag!==5&&f.tag!==6&&(!vi||f.tag!==27)&&f.tag!==18;){if(f.flags&2||f.child===null||f.tag===4)continue e;f.child.return=f,f=f.child}if(!(f.flags&2))return f.stateNode}}function g0(f,d,x){var T=f.tag;if(T===5||T===6)f=f.stateNode,d?l1(x,f,d):z0(x,f);else if(!(T===4||vi&&T===27)&&(f=f.child,f!==null))for(g0(f,d,x),f=f.sibling;f!==null;)g0(f,d,x),f=f.sibling}function $o(f,d,x){var T=f.tag;if(T===5||T===6)f=f.stateNode,d?o1(x,f,d):s1(x,f);else if(!(T===4||vi&&T===27)&&(f=f.child,f!==null))for($o(f,d,x),f=f.sibling;f!==null;)$o(f,d,x),f=f.sibling}function Up(f,d,x){f=f.containerInfo;try{tf(f,x)}catch(T){si(d,d.return,T)}}function Rh(f,d){for(Jp(f.containerInfo),gn=d;gn!==null;)if(f=gn,d=f.child,(f.subtreeFlags&1028)!==0&&d!==null)d.return=f,gn=d;else for(;gn!==null;){f=gn;var x=f.alternate;switch(d=f.flags,f.tag){case 0:break;case 11:case 15:break;case 1:if((d&1024)!==0&&x!==null){d=void 0;var T=f,R=x.memoizedProps;x=x.memoizedState;var L=T.stateNode;try{var $=Jo(T.type,R,T.elementType===T.type);d=L.getSnapshotBeforeUpdate($,x),L.__reactInternalSnapshotBeforeUpdate=d}catch(ve){si(T,T.return,ve)}}break;case 3:(d&1024)!==0&&as&&d1(f.stateNode.containerInfo);break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((d&1024)!==0)throw Error(i(163))}if(d=f.sibling,d!==null){d.return=f.return,gn=d;break}gn=f.return}return $=Nn,Nn=!1,$}function Pp(f,d,x){var T=x.flags;switch(x.tag){case 0:case 11:case 15:tl(f,x),T&4&&Ch(5,x);break;case 1:if(tl(f,x),T&4)if(f=x.stateNode,d===null)try{f.componentDidMount()}catch(ve){si(x,x.return,ve)}else{var R=Jo(x.type,d.memoizedProps);d=d.memoizedState;try{f.componentDidUpdate(R,d,f.__reactInternalSnapshotBeforeUpdate)}catch(ve){si(x,x.return,ve)}}T&64&&k_(x),T&512&&Ha(x,x.return);break;case 3:if(tl(f,x),T&64&&(T=x.updateQueue,T!==null)){if(f=null,x.child!==null)switch(x.child.tag){case 27:case 5:f=Zu(x.child.stateNode);break;case 1:f=x.child.stateNode}try{Fe(T,f)}catch(ve){si(x,x.return,ve)}}break;case 26:if(kr){tl(f,x),T&512&&Ha(x,x.return);break}case 27:case 5:tl(f,x),d===null&&T&4&&d0(x),T&512&&Ha(x,x.return);break;case 12:tl(f,x);break;case 13:tl(f,x),T&4&&Ip(f,x);break;case 22:if(R=x.memoizedState!==null||Ro,!R){d=d!==null&&d.memoizedState!==null||zi;var L=Ro,$=zi;Ro=R,(zi=d)&&!$?nl(f,x,(x.subtreeFlags&8772)!==0):tl(f,x),Ro=L,zi=$}T&512&&(x.memoizedProps.mode==="manual"?Ha(x,x.return):_r(x,x.return));break;default:tl(f,x)}}function v0(f){var d=f.alternate;d!==null&&(f.alternate=null,v0(d)),f.child=null,f.deletions=null,f.sibling=null,f.tag===5&&(d=f.stateNode,d!==null&&JM(d)),f.stateNode=null,f.return=null,f.dependencies=null,f.memoizedProps=null,f.memoizedState=null,f.pendingProps=null,f.stateNode=null,f.updateQueue=null}function Rs(f,d,x){for(x=x.child;x!==null;)Hl(f,d,x),x=x.sibling}function Hl(f,d,x){if(Mr&&typeof Mr.onCommitFiberUnmount=="function")try{Mr.onCommitFiberUnmount(qi,x)}catch{}switch(x.tag){case 26:if(kr){zi||_r(x,d),Rs(f,d,x),x.memoizedState?Fc(x.memoizedState):x.stateNode&&nf(x.stateNode);break}case 27:if(vi){zi||_r(x,d);var T=nn,R=Mn;nn=x.stateNode,Rs(f,d,x),$l(x.stateNode),nn=T,Mn=R;break}case 5:zi||_r(x,d);case 6:if(as){if(T=nn,R=Mn,nn=null,Rs(f,d,x),nn=T,Mn=R,nn!==null)if(Mn)try{c1(nn,x.stateNode)}catch(L){si(x,d,L)}else try{H0(nn,x.stateNode)}catch(L){si(x,d,L)}}else Rs(f,d,x);break;case 18:as&&nn!==null&&(Mn?Yh(nn,x.stateNode):M1(nn,x.stateNode));break;case 4:as?(T=nn,R=Mn,nn=x.stateNode.containerInfo,Mn=!0,Rs(f,d,x),nn=T,Mn=R):(xa&&Up(x.stateNode,x,Xh()),Rs(f,d,x));break;case 0:case 11:case 14:case 15:zi||zl(2,x,d),zi||zl(4,x,d),Rs(f,d,x);break;case 1:zi||(_r(x,d),T=x.stateNode,typeof T.componentWillUnmount=="function"&&yr(x,d,T)),Rs(f,d,x);break;case 21:Rs(f,d,x);break;case 22:zi||_r(x,d),zi=(T=zi)||x.memoizedState!==null,Rs(f,d,x),zi=T;break;default:Rs(f,d,x)}}function Ip(f,d){if(Ns&&d.memoizedState===null&&(f=d.alternate,f!==null&&(f=f.memoizedState,f!==null&&(f=f.dehydrated,f!==null))))try{tb(f)}catch(x){si(d,d.return,x)}}function j_(f){switch(f.tag){case 13:case 19:var d=f.stateNode;return d===null&&(d=f.stateNode=new ri),d;case 22:return f=f.stateNode,d=f._retryCache,d===null&&(d=f._retryCache=new ri),d;default:throw Error(i(435,f.tag))}}function el(f,d){var x=j_(f);d.forEach(function(T){var R=ql.bind(null,f,T);x.has(T)||(x.add(T),T.then(R,R))})}function er(f,d){var x=d.deletions;if(x!==null)for(var T=0;T<x.length;T++){var R=x[T],L=f,$=d;if(as){var ve=$;e:for(;ve!==null;){switch(ve.tag){case 27:case 5:nn=ve.stateNode,Mn=!1;break e;case 3:nn=ve.stateNode.containerInfo,Mn=!0;break e;case 4:nn=ve.stateNode.containerInfo,Mn=!0;break e}ve=ve.return}if(nn===null)throw Error(i(160));Hl(L,$,R),nn=null,Mn=!1}else Hl(L,$,R);L=R.alternate,L!==null&&(L.return=null),R.return=null}if(d.subtreeFlags&13878)for(d=d.child;d!==null;)y0(d,f),d=d.sibling}function y0(f,d){var x=f.alternate,T=f.flags;switch(f.tag){case 0:case 11:case 14:case 15:er(d,f),xr(f),T&4&&(zl(3,f,f.return),Ch(3,f),zl(5,f,f.return));break;case 1:er(d,f),xr(f),T&512&&(zi||x===null||_r(x,x.return)),T&64&&Ro&&(f=f.updateQueue,f!==null&&(T=f.callbacks,T!==null&&(x=f.shared.hiddenCallbacks,f.shared.hiddenCallbacks=x===null?T:x.concat(T))));break;case 26:if(kr){var R=Li;er(d,f),xr(f),T&512&&(zi||x===null||_r(x,x.return)),T&4&&(T=x!==null?x.memoizedState:null,d=f.memoizedState,x===null?d===null?f.stateNode===null?f.stateNode=Wh(R,f.type,f.memoizedProps,f):Kh(R,f.type,f.stateNode):f.stateNode=E1(R,d,f.memoizedProps):T!==d?(T===null?x.stateNode!==null&&nf(x.stateNode):Fc(T),d===null?Kh(R,f.type,f.stateNode):E1(R,d,f.memoizedProps)):d===null&&f.stateNode!==null&&p0(f,f.memoizedProps,x.memoizedProps));break}case 27:if(vi&&T&4&&f.alternate===null){R=f.stateNode;var L=f.memoizedProps;try{Ql(R),R1(f.type,L,R,f)}catch(yt){si(f,f.return,yt)}}case 5:if(er(d,f),xr(f),T&512&&(zi||x===null||_r(x,x.return)),as){if(f.flags&32){d=f.stateNode;try{G0(d)}catch(yt){si(f,f.return,yt)}}T&4&&f.stateNode!=null&&(d=f.memoizedProps,p0(f,d,x!==null?x.memoizedProps:d)),T&1024&&($0=!0)}break;case 6:if(er(d,f),xr(f),T&4&&as){if(f.stateNode===null)throw Error(i(162));T=f.memoizedProps,x=x!==null?x.memoizedProps:T,d=f.stateNode;try{r1(d,x,T)}catch(yt){si(f,f.return,yt)}}break;case 3:if(kr?(T1(),R=Li,Li=am(d.containerInfo),er(d,f),Li=R):er(d,f),xr(f),T&4){if(as&&Ns&&x!==null&&x.memoizedState.isDehydrated)try{eb(d.containerInfo)}catch(yt){si(f,f.return,yt)}if(xa){T=d.containerInfo,x=d.pendingChildren;try{tf(T,x)}catch(yt){si(f,f.return,yt)}}}$0&&($0=!1,X_(f));break;case 4:kr?(x=Li,Li=am(f.stateNode.containerInfo),er(d,f),xr(f),Li=x):(er(d,f),xr(f)),T&4&&xa&&Up(f.stateNode,f,f.stateNode.pendingChildren);break;case 12:er(d,f),xr(f);break;case 13:er(d,f),xr(f),f.child.flags&8192&&f.memoizedState!==null!=(x!==null&&x.memoizedState!==null)&&(ar=Sa()),T&4&&(T=f.updateQueue,T!==null&&(f.updateQueue=null,el(f,T)));break;case 22:T&512&&(zi||x===null||_r(x,x.return)),R=f.memoizedState!==null;var $=x!==null&&x.memoizedState!==null,ve=Ro,we=zi;if(Ro=ve||R,zi=we||$,er(d,f),zi=we,Ro=ve,xr(f),d=f.stateNode,d._current=f,d._visibility&=-3,d._visibility|=d._pendingVisibility&2,T&8192&&(d._visibility=R?d._visibility&-2:d._visibility|1,R&&(d=Ro||zi,x===null||$||d||Hu(f)),as&&(f.memoizedProps===null||f.memoizedProps.mode!=="manual"))){e:if(x=null,as)for(d=f;;){if(d.tag===5||kr&&d.tag===26||vi&&d.tag===27){if(x===null){$=x=d;try{L=$.stateNode,R?u1(L):h1($.stateNode,$.memoizedProps)}catch(yt){si($,$.return,yt)}}}else if(d.tag===6){if(x===null){$=d;try{var Qe=$.stateNode;R?f1(Qe):QM(Qe,$.memoizedProps)}catch(yt){si($,$.return,yt)}}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===f)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===f)break e;for(;d.sibling===null;){if(d.return===null||d.return===f)break e;x===d&&(x=null),d=d.return}x===d&&(x=null),d.sibling.return=d.return,d=d.sibling}}T&4&&(T=f.updateQueue,T!==null&&(x=T.retryQueue,x!==null&&(T.retryQueue=null,el(f,x))));break;case 19:er(d,f),xr(f),T&4&&(T=f.updateQueue,T!==null&&(f.updateQueue=null,el(f,T)));break;case 21:break;default:er(d,f),xr(f)}}function xr(f){var d=f.flags;if(d&2){try{if(as&&(!vi||f.tag!==27)){e:{for(var x=f.return;x!==null;){if(m0(x)){var T=x;break e}x=x.return}throw Error(i(160))}switch(T.tag){case 27:if(vi){var R=T.stateNode,L=wh(f);$o(f,L,R);break}case 5:var $=T.stateNode;T.flags&32&&(G0($),T.flags&=-33);var ve=wh(f);$o(f,ve,$);break;case 3:case 4:var we=T.stateNode.containerInfo,Qe=wh(f);g0(f,Qe,we);break;default:throw Error(i(161))}}}catch(yt){si(f,f.return,yt)}f.flags&=-3}d&4096&&(f.flags&=-4097)}function X_(f){if(f.subtreeFlags&1024)for(f=f.child;f!==null;){var d=f;X_(d),d.tag===5&&d.flags&1024&&$p(d.stateNode),f=f.sibling}}function tl(f,d){if(d.subtreeFlags&8772)for(d=d.child;d!==null;)Pp(f,d.alternate,d),d=d.sibling}function Hu(f){for(f=f.child;f!==null;){var d=f;switch(d.tag){case 0:case 11:case 14:case 15:zl(4,d,d.return),Hu(d);break;case 1:_r(d,d.return);var x=d.stateNode;typeof x.componentWillUnmount=="function"&&yr(d,d.return,x),Hu(d);break;case 26:case 27:case 5:_r(d,d.return),Hu(d);break;case 22:_r(d,d.return),d.memoizedState===null&&Hu(d);break;default:Hu(d)}f=f.sibling}}function nl(f,d,x){for(x=x&&(d.subtreeFlags&8772)!==0,d=d.child;d!==null;){var T=d.alternate,R=f,L=d,$=L.flags;switch(L.tag){case 0:case 11:case 15:nl(R,L,x),Ch(4,L);break;case 1:if(nl(R,L,x),T=L,R=T.stateNode,typeof R.componentDidMount=="function")try{R.componentDidMount()}catch(Qe){si(T,T.return,Qe)}if(T=L,R=T.updateQueue,R!==null){var ve=T.stateNode;try{var we=R.shared.hiddenCallbacks;if(we!==null)for(R.shared.hiddenCallbacks=null,R=0;R<we.length;R++)he(we[R],ve)}catch(Qe){si(T,T.return,Qe)}}x&&$&64&&k_(L),Ha(L,L.return);break;case 26:case 27:case 5:nl(R,L,x),x&&T===null&&$&4&&d0(L),Ha(L,L.return);break;case 12:nl(R,L,x);break;case 13:nl(R,L,x),x&&$&4&&Ip(R,L);break;case 22:L.memoizedState===null&&nl(R,L,x),Ha(L,L.return);break;default:nl(R,L,x)}d=d.sibling}}function Fp(f,d){var x=null;f!==null&&f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(x=f.memoizedState.cachePool.pool),f=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(f=d.memoizedState.cachePool.pool),f!==x&&(f!=null&&f.refCount++,x!=null&&Eh(x))}function Bh(f,d){f=null,d.alternate!==null&&(f=d.alternate.memoizedState.cache),d=d.memoizedState.cache,d!==f&&(d.refCount++,f!=null&&Eh(f))}function vs(f,d,x,T){if(d.subtreeFlags&10256)for(d=d.child;d!==null;)_0(f,d,x,T),d=d.sibling}function _0(f,d,x,T){var R=d.flags;switch(d.tag){case 0:case 11:case 15:vs(f,d,x,T),R&2048&&Ch(9,d);break;case 3:vs(f,d,x,T),R&2048&&(f=null,d.alternate!==null&&(f=d.alternate.memoizedState.cache),d=d.memoizedState.cache,d!==f&&(d.refCount++,f!=null&&Eh(f)));break;case 12:if(R&2048){vs(f,d,x,T),f=d.stateNode;try{var L=d.memoizedProps,$=L.id,ve=L.onPostCommit;typeof ve=="function"&&ve($,d.alternate===null?"mount":"update",f.passiveEffectDuration,-0)}catch(we){si(d,d.return,we)}}else vs(f,d,x,T);break;case 23:break;case 22:L=d.stateNode,d.memoizedState!==null?L._visibility&4?vs(f,d,x,T):Gs(f,d):L._visibility&4?vs(f,d,x,T):(L._visibility|=4,Bs(f,d,x,T,(d.subtreeFlags&10256)!==0)),R&2048&&Fp(d.alternate,d);break;case 24:vs(f,d,x,T),R&2048&&Bh(d.alternate,d);break;default:vs(f,d,x,T)}}function Bs(f,d,x,T,R){for(R=R&&(d.subtreeFlags&10256)!==0,d=d.child;d!==null;){var L=f,$=d,ve=x,we=T,Qe=$.flags;switch($.tag){case 0:case 11:case 15:Bs(L,$,ve,we,R),Ch(8,$);break;case 23:break;case 22:var yt=$.stateNode;$.memoizedState!==null?yt._visibility&4?Bs(L,$,ve,we,R):Gs(L,$):(yt._visibility|=4,Bs(L,$,ve,we,R)),R&&Qe&2048&&Fp($.alternate,$);break;case 24:Bs(L,$,ve,we,R),R&&Qe&2048&&Bh($.alternate,$);break;default:Bs(L,$,ve,we,R)}d=d.sibling}}function Gs(f,d){if(d.subtreeFlags&10256)for(d=d.child;d!==null;){var x=f,T=d,R=T.flags;switch(T.tag){case 22:Gs(x,T),R&2048&&Fp(T.alternate,T);break;case 24:Gs(x,T),R&2048&&Bh(T.alternate,T);break;default:Gs(x,T)}d=d.sibling}}function ma(f){if(f.subtreeFlags&Jr)for(f=f.child;f!==null;)zp(f),f=f.sibling}function zp(f){switch(f.tag){case 26:ma(f),f.flags&Jr&&(f.memoizedState!==null?w1(Li,f.memoizedState,f.memoizedProps):ir(f.type,f.memoizedProps));break;case 5:ma(f),f.flags&Jr&&ir(f.type,f.memoizedProps);break;case 3:case 4:if(kr){var d=Li;Li=am(f.stateNode.containerInfo),ma(f),Li=d}else ma(f);break;case 22:f.memoizedState===null&&(d=f.alternate,d!==null&&d.memoizedState!==null?(d=Jr,Jr=16777216,ma(f),Jr=d):ma(f));break;default:ma(f)}}function Dh(f){var d=f.alternate;if(d!==null&&(f=d.child,f!==null)){d.child=null;do d=f.sibling,f.sibling=null,f=d;while(f!==null)}}function Gl(f){var d=f.deletions;if((f.flags&16)!==0){if(d!==null)for(var x=0;x<d.length;x++){var T=d[x];gn=T,x0(T,f)}Dh(f)}if(f.subtreeFlags&10256)for(f=f.child;f!==null;)Hp(f),f=f.sibling}function Hp(f){switch(f.tag){case 0:case 11:case 15:Gl(f),f.flags&2048&&zl(9,f,f.return);break;case 3:Gl(f);break;case 12:Gl(f);break;case 22:var d=f.stateNode;f.memoizedState!==null&&d._visibility&4&&(f.return===null||f.return.tag!==13)?(d._visibility&=-5,il(f)):Gl(f);break;default:Gl(f)}}function il(f){var d=f.deletions;if((f.flags&16)!==0){if(d!==null)for(var x=0;x<d.length;x++){var T=d[x];gn=T,x0(T,f)}Dh(f)}for(f=f.child;f!==null;){switch(d=f,d.tag){case 0:case 11:case 15:zl(8,d,d.return),il(d);break;case 22:x=d.stateNode,x._visibility&4&&(x._visibility&=-5,il(d));break;default:il(d)}f=f.sibling}}function x0(f,d){for(;gn!==null;){var x=gn;switch(x.tag){case 0:case 11:case 15:zl(8,x,d);break;case 23:case 22:if(x.memoizedState!==null&&x.memoizedState.cachePool!==null){var T=x.memoizedState.cachePool.pool;T!=null&&T.refCount++}break;case 24:Eh(x.memoizedState.cache)}if(T=x.child,T!==null)T.return=x,gn=T;else e:for(x=f;gn!==null;){T=gn;var R=T.sibling,L=T.return;if(v0(T),T===x){gn=null;break e}if(R!==null){R.return=L,gn=R;break e}gn=L}}}function Gu(f){var d=Z_(f);if(d!=null){if(typeof d.memoizedProps["data-testname"]!="string")throw Error(i(364));return d}if(f=I0(f),f===null)throw Error(i(362));return f.stateNode.current}function Vl(f,d){var x=f.tag;switch(d.$$typeof){case hf:if(f.type===d.value)return!0;break;case Ea:e:{for(d=d.value,f=[f,0],x=0;x<f.length;){var T=f[x++],R=T.tag,L=f[x++],$=d[L];if(R!==5&&R!==26&&R!==27||!$u(T)){for(;$!=null&&Vl(T,$);)L++,$=d[L];if(L===d.length){d=!0;break e}else for(T=T.child;T!==null;)f.push(T,L),T=T.sibling}}d=!1}return d;case wi:if((x===5||x===26||x===27)&&t1(f.stateNode,d.value))return!0;break;case Bo:if((x===5||x===6||x===26||x===27)&&(f=e1(f),f!==null&&0<=f.indexOf(d.value)))return!0;break;case Ja:if((x===5||x===26||x===27)&&(f=f.memoizedProps["data-testname"],typeof f=="string"&&f.toLowerCase()===d.value.toLowerCase()))return!0;break;default:throw Error(i(365))}return!1}function S0(f){switch(f.$$typeof){case hf:return"<"+(a(f.value)||"Unknown")+">";case Ea:return":has("+(S0(f)||"")+")";case wi:return'[role="'+f.value+'"]';case Bo:return'"'+f.value+'"';case Ja:return'[data-testname="'+f.value+'"]';default:throw Error(i(365))}}function Sr(f,d){var x=[];f=[f,0];for(var T=0;T<f.length;){var R=f[T++],L=R.tag,$=f[T++],ve=d[$];if(L!==5&&L!==26&&L!==27||!$u(R)){for(;ve!=null&&Vl(R,ve);)$++,ve=d[$];if($===d.length)x.push(R);else for(R=R.child;R!==null;)f.push(R,$),R=R.sibling}}return x}function Nh(f,d){if(!Zl)throw Error(i(363));f=Gu(f),f=Sr(f,d),d=[],f=Array.from(f);for(var x=0;x<f.length;){var T=f[x++],R=T.tag;if(R===5||R===26||R===27)$u(T)||d.push(T.stateNode);else for(T=T.child;T!==null;)f.push(T),T=T.sibling}return d}function ji(){if((Yn&2)!==0&&Pn!==0)return Pn&-Pn;if(hn.T!==null){var f=Yr;return f!==0?f:lt()}return Q_()}function A0(){$r===0&&($r=(Pn&536870912)===0||jn?z():536870912);var f=qr.current;return f!==null&&(f.flags|=32),$r}function ys(f,d,x){(f===ai&&hi===2||f.cancelPendingCommit!==null)&&(Ds(f,0),Ar(f,Pn,$r,!1)),q(f,x),((Yn&2)===0||f!==ai)&&(f===ai&&((Yn&2)===0&&(vl|=x),xi===4&&Ar(f,Pn,$r,!1)),Ge(f))}function kl(f,d,x){if((Yn&6)!==0)throw Error(i(327));var T=!x&&(d&60)===0&&(d&f.expiredLanes)===0||U(f,d),R=T?b0(f,d):Vp(f,d,!0),L=T;do{if(R===0){Zr&&!T&&Ar(f,d,0,!1);break}else if(R===6)Ar(f,d,0,!Ca);else{if(x=f.current.alternate,L&&!Vu(x)){R=Vp(f,d,!1),L=!1;continue}if(R===2){if(L=d,f.errorRecoveryDisabledLanes&L)var $=0;else $=f.pendingLanes&-536870913,$=$!==0?$:$&536870912?536870912:0;if($!==0){d=$;e:{var ve=f;R=$c;var we=Ns&&ve.current.memoizedState.isDehydrated;if(we&&(Ds(ve,$).flags|=256),$=Vp(ve,$,!1),$!==2){if(cs&&!we){ve.errorRecoveryDisabledLanes|=L,vl|=L,R=4;break e}L=Hi,Hi=R,L!==null&&Oh(L)}R=$}if(L=!1,R!==2)continue}}if(R===1){Ds(f,0),Ar(f,d,0,!0);break}e:{switch(T=f,R){case 0:case 1:throw Error(i(345));case 4:if((d&4194176)===d){Ar(T,d,$r,!Ca);break e}break;case 2:Hi=null;break;case 3:case 5:break;default:throw Error(i(329))}if(T.finishedWork=x,T.finishedLanes=d,(d&62914560)===d&&(L=ar+300-Sa(),10<L)){if(Ar(T,d,$r,!Ca),N(T,0)!==0)break e;T.timeoutHandle=ts(Gp.bind(null,T,x,Hi,nd,vm,d,$r,vl,Do,Ca,2,-0,0),L);break e}Gp(T,x,Hi,nd,vm,d,$r,vl,Do,Ca,0,-0,0)}}break}while(!0);Ge(f)}function Oh(f){Hi===null?Hi=f:Hi.push.apply(Hi,f)}function Gp(f,d,x,T,R,L,$,ve,we,Qe,yt,Bt,Ot){var vn=d.subtreeFlags;if((vn&8192||(vn&16785408)===16785408)&&(U0(),zp(d),d=ns(),d!==null)){f.cancelPendingCommit=d(Xl.bind(null,f,x,T,R,$,ve,we,1,Bt,Ot)),Ar(f,L,$,!Qe);return}Xl(f,x,T,R,$,ve,we,yt,Bt,Ot)}function Vu(f){for(var d=f;;){var x=d.tag;if((x===0||x===11||x===15)&&d.flags&16384&&(x=d.updateQueue,x!==null&&(x=x.stores,x!==null)))for(var T=0;T<x.length;T++){var R=x[T],L=R.getSnapshot;R=R.value;try{if(!br(L(),R))return!1}catch{return!1}}if(x=d.child,d.subtreeFlags&16384&&x!==null)x.return=d,d=x;else{if(d===f)break;for(;d.sibling===null;){if(d.return===null||d.return===f)return!0;d=d.return}d.sibling.return=d.return,d=d.sibling}}return!0}function Ar(f,d,x,T){d&=~td,d&=~vl,f.suspendedLanes|=d,f.pingedLanes&=~d,T&&(f.warmLanes|=d),T=f.expirationTimes;for(var R=d;0<R;){var L=31-sr(R),$=1<<L;T[L]=-1,R&=~$}x!==0&&te(f,x,d)}function Lh(){return(Yn&6)===0?(Q(0),!1):!0}function ku(){if(on!==null){if(hi===0)var f=on.return;else f=on,Kr=Ka=null,Ke(f),ic=null,sc=0,f=on;for(;f!==null;)V_(f.alternate,f),f=f.return;on=null}}function Ds(f,d){f.finishedWork=null,f.finishedLanes=0;var x=f.timeoutHandle;x!==Kl&&(f.timeoutHandle=Kl,Zp(x)),x=f.cancelPendingCommit,x!==null&&(f.cancelPendingCommit=null,x()),ku(),ai=f,on=x=va(f.current,null),Pn=d,hi=0,ks=null,Ca=!1,Zr=U(f,d),cs=!1,Do=$r=td=vl=Qr=xi=0,Hi=$c=null,vm=!1,(d&8)!==0&&(d|=d&32);var T=f.entangledLanes;if(T!==0)for(f=f.entanglements,T&=d;0<T;){var R=31-sr(T),L=1<<R;d|=f[R],T&=~L}return js=d,ce(),x}function Hr(f,d){Cn=null,hn.H=Fi,d===lf?(d=Qt(),hi=3):d===$h?(d=Qt(),hi=4):hi=d===mm?8:d!==null&&typeof d=="object"&&typeof d.then=="function"?6:1,ks=d,on===null&&(xi=1,Lu(f,de(d,f.current)))}function jl(){var f=qr.current;return f===null?!0:(Pn&4194176)===Pn?yi===null:(Pn&62914560)===Pn||(Pn&536870912)!==0?f===yi:!1}function yo(){var f=hn.H;return hn.H=Fi,f===null?Fi:f}function _o(){var f=hn.A;return hn.A=ff,f}function sl(){xi=4,Ca||(Pn&4194176)!==Pn&&qr.current!==null||(Zr=!0),(Qr&134217727)===0&&(vl&134217727)===0||ai===null||Ar(ai,Pn,$r,!1)}function Vp(f,d,x){var T=Yn;Yn|=2;var R=yo(),L=_o();(ai!==f||Pn!==d)&&(nd=null,Ds(f,d)),d=!1;var $=xi;e:do try{if(hi!==0&&on!==null){var ve=on,we=ks;switch(hi){case 8:ku(),$=6;break e;case 3:case 2:case 6:qr.current===null&&(d=!0);var Qe=hi;if(hi=0,ks=null,ga(f,ve,we,Qe),x&&Zr){$=0;break e}break;default:Qe=hi,hi=0,ks=null,ga(f,ve,we,Qe)}}M0(),$=xi;break}catch(yt){Hr(f,yt)}while(!0);return d&&f.shellSuspendCounter++,Kr=Ka=null,Yn=T,hn.H=R,hn.A=L,on===null&&(ai=null,Pn=0,ce()),$}function M0(){for(;on!==null;)Oi(on)}function b0(f,d){var x=Yn;Yn|=2;var T=yo(),R=_o();ai!==f||Pn!==d?(nd=null,df=Sa()+500,Ds(f,d)):Zr=U(f,d);e:do try{if(hi!==0&&on!==null){d=on;var L=ks;t:switch(hi){case 1:hi=0,ks=null,ga(f,d,L,1);break;case 2:if(We(L)){hi=0,ks=null,Zn(d);break}d=function(){hi===2&&ai===f&&(hi=7),Ge(f)},L.then(d,d);break e;case 3:hi=7;break e;case 4:hi=5;break e;case 7:We(L)?(hi=0,ks=null,Zn(d)):(hi=0,ks=null,ga(f,d,L,7));break;case 5:var $=null;switch(on.tag){case 26:$=on.memoizedState;case 5:case 27:var ve=on,we=ve.type,Qe=ve.pendingProps;if($?zc($):Qp(we,Qe)){hi=0,ks=null;var yt=ve.sibling;if(yt!==null)on=yt;else{var Bt=ve.return;Bt!==null?(on=Bt,Gr(Bt)):on=null}break t}}hi=0,ks=null,ga(f,d,L,5);break;case 6:hi=0,ks=null,ga(f,d,L,6);break;case 8:ku(),xi=6;break e;default:throw Error(i(462))}}tr();break}catch(Ot){Hr(f,Ot)}while(!0);return Kr=Ka=null,hn.H=T,hn.A=R,Yn=x,on!==null?0:(ai=null,Pn=0,ce(),xi)}function tr(){for(;on!==null&&!N1();)Oi(on)}function Oi(f){var d=z_(f.alternate,f,js);f.memoizedProps=f.pendingProps,d===null?Gr(f):on=d}function Zn(f){var d=f,x=d.alternate;switch(d.tag){case 15:case 0:d=O_(x,d,d.pendingProps,d.type,void 0,Pn);break;case 11:d=O_(x,d,d.pendingProps,d.type.render,d.ref,Pn);break;case 5:Ke(d);default:V_(x,d),d=on=Ph(d,js),d=z_(x,d,js)}f.memoizedProps=f.pendingProps,d===null?Gr(f):on=d}function ga(f,d,x,T){Kr=Ka=null,Ke(d),ic=null,sc=0;var R=d.return;try{if(XM(f,R,d,x,Pn)){xi=1,Lu(f,de(x,f.current)),on=null;return}}catch(L){if(R!==null)throw on=R,L;xi=1,Lu(f,de(x,f.current)),on=null;return}d.flags&32768?(jn||T===1?f=!0:Zr||(Pn&536870912)!==0?f=!1:(Ca=f=!0,(T===2||T===3||T===6)&&(T=qr.current,T!==null&&T.tag===13&&(T.flags|=16384))),kp(d,f)):Gr(d)}function Gr(f){var d=f;do{if((d.flags&32768)!==0){kp(d,Ca);return}f=d.return;var x=G_(d.alternate,d,js);if(x!==null){on=x;return}if(d=d.sibling,d!==null){on=d;return}on=d=f}while(d!==null);xi===0&&(xi=5)}function kp(f,d){do{var x=qM(f.alternate,f);if(x!==null){x.flags&=32767,on=x;return}if(x=f.return,x!==null&&(x.flags|=32768,x.subtreeFlags=0,x.deletions=null),!d&&(f=f.sibling,f!==null)){on=f;return}on=f=x}while(f!==null);xi=6,on=null}function Xl(f,d,x,T,R,L,$,ve,we,Qe){var yt=hn.T,Bt=ul();try{Vs(2),hn.T=null,Y_(f,d,x,T,Bt,R,L,$,ve,we,Qe)}finally{hn.T=yt,Vs(Bt)}}function Y_(f,d,x,T,R,L,$,ve){do Ga();while(No!==null);if((Yn&6)!==0)throw Error(i(327));var we=f.finishedWork;if(T=f.finishedLanes,we===null)return null;if(f.finishedWork=null,f.finishedLanes=0,we===f.current)throw Error(i(177));f.callbackNode=null,f.callbackPriority=0,f.cancelPendingCommit=null;var Qe=we.lanes|we.childLanes;if(Qe|=qa,ne(f,T,Qe,L,$,ve),f===ai&&(on=ai=null,Pn=0),(we.subtreeFlags&10256)===0&&(we.flags&10256)===0||Za||(Za=!0,cc=Qe,ym=x,al(fm,function(){return Ga(),null})),x=(we.flags&15990)!==0,(we.subtreeFlags&15990)!==0||x?(x=hn.T,hn.T=null,L=ul(),Vs(2),$=Yn,Yn|=4,Rh(f,we),y0(we,f),J_(f.containerInfo),f.current=we,Pp(f,we.alternate,we),cm(),Yn=$,Vs(L),hn.T=x):f.current=we,Za?(Za=!1,No=f,eu=T):E0(f,Qe),Qe=f.pendingLanes,Qe===0&&(lc=null),H(we.stateNode),Ge(f),d!==null)for(R=f.onRecoverableError,we=0;we<d.length;we++)Qe=d[we],R(Qe.value,{componentStack:Qe.stack});return(eu&3)!==0&&Ga(),Qe=f.pendingLanes,(T&4194218)!==0&&(Qe&42)!==0?f===_m?pf++:(pf=0,_m=f):pf=0,Q(0),null}function E0(f,d){(f.pooledCacheLanes&=d)===0&&(d=f.pooledCache,d!=null&&(f.pooledCache=null,Eh(d)))}function Ga(){if(No!==null){var f=No,d=cc;cc=0;var x=oe(eu),T=32>x?32:x;x=hn.T;var R=ul();try{if(Vs(T),hn.T=null,No===null)var L=!1;else{T=ym,ym=null;var $=No,ve=eu;if(No=null,eu=0,(Yn&6)!==0)throw Error(i(331));var we=Yn;if(Yn|=4,Hp($.current),_0($,$.current,ve,T),Yn=we,Q(0,!1),Mr&&typeof Mr.onPostCommitFiberRoot=="function")try{Mr.onPostCommitFiberRoot(qi,$)}catch{}L=!0}return L}finally{Vs(R),hn.T=x,E0(f,d)}}return!1}function ju(f,d,x){d=de(x,d),d=Pu(f.stateNode,d,2),f=gt(f,d,2),f!==null&&(q(f,2),Ge(f))}function si(f,d,x){if(f.tag===3)ju(f,f,x);else for(;d!==null;){if(d.tag===3){ju(d,f,x);break}else if(d.tag===1){var T=d.stateNode;if(typeof d.type.getDerivedStateFromError=="function"||typeof T.componentDidCatch=="function"&&(lc===null||!lc.has(T))){f=de(x,f),x=s0(2),T=gt(d,x,2),T!==null&&(w_(x,T,d,f),q(T,2),Ge(T));break}}d=d.return}}function Pc(f,d,x){var T=f.pingCache;if(T===null){T=f.pingCache=new Ta;var R=new Set;T.set(d,R)}else R=T.get(d),R===void 0&&(R=new Set,T.set(d,R));R.has(x)||(cs=!0,R.add(x),f=T0.bind(null,f,d,x),d.then(f,f))}function T0(f,d,x){var T=f.pingCache;T!==null&&T.delete(d),f.pingedLanes|=f.suspendedLanes&x,f.warmLanes&=~x,ai===f&&(Pn&x)===x&&(xi===4||xi===3&&(Pn&62914560)===Pn&&300>Sa()-ar?(Yn&2)===0&&Ds(f,0):td|=x,Do===Pn&&(Do=0)),Ge(f)}function Yl(f,d){d===0&&(d=O()),f=le(f,d),f!==null&&(q(f,d),Ge(f))}function rl(f){var d=f.memoizedState,x=0;d!==null&&(x=d.retryLane),Yl(f,x)}function ql(f,d){var x=0;switch(f.tag){case 13:var T=f.stateNode,R=f.memoizedState;R!==null&&(x=R.retryLane);break;case 19:T=f.stateNode;break;case 22:T=f.stateNode._retryCache;break;default:throw Error(i(314))}T!==null&&T.delete(d),Yl(f,x)}function al(f,d){return Jh(f,d)}function C0(f,d,x,T){this.tag=f,this.key=x,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=d,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=T,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Uh(f){return f=f.prototype,!(!f||!f.isReactComponent)}function va(f,d){var x=f.alternate;return x===null?(x=t(f.tag,d,f.key,f.mode),x.elementType=f.elementType,x.type=f.type,x.stateNode=f.stateNode,x.alternate=f,f.alternate=x):(x.pendingProps=d,x.type=f.type,x.flags=0,x.subtreeFlags=0,x.deletions=null),x.flags=f.flags&31457280,x.childLanes=f.childLanes,x.lanes=f.lanes,x.child=f.child,x.memoizedProps=f.memoizedProps,x.memoizedState=f.memoizedState,x.updateQueue=f.updateQueue,d=f.dependencies,x.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext},x.sibling=f.sibling,x.index=f.index,x.ref=f.ref,x.refCleanup=f.refCleanup,x}function Ph(f,d){f.flags&=31457282;var x=f.alternate;return x===null?(f.childLanes=0,f.lanes=d,f.child=null,f.subtreeFlags=0,f.memoizedProps=null,f.memoizedState=null,f.updateQueue=null,f.dependencies=null,f.stateNode=null):(f.childLanes=x.childLanes,f.lanes=x.lanes,f.child=x.child,f.subtreeFlags=0,f.deletions=null,f.memoizedProps=x.memoizedProps,f.memoizedState=x.memoizedState,f.updateQueue=x.updateQueue,f.type=x.type,d=x.dependencies,f.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext}),f}function xo(f,d,x,T,R,L){var $=0;if(T=f,typeof f=="function")Uh(f)&&($=1);else if(typeof f=="string")$=kr&&vi?qh(f,x,os.current)?26:Ao(f)?27:5:kr?qh(f,x,os.current)?26:5:vi&&Ao(f)?27:5;else e:switch(f){case Wl:return Ii(x.children,R,L,d);case Hh:$=8,R|=24;break;case qp:return f=t(12,x,d,R|2),f.elementType=qp,f.lanes=L,f;case Wp:return f=t(13,x,d,R),f.elementType=Wp,f.lanes=L,f;case Wu:return f=t(19,x,d,R),f.elementType=Wu,f.lanes=L,f;case B0:return Ih(x,R,L,d);default:if(typeof f=="object"&&f!==null)switch(f.$$typeof){case Gh:case Va:$=10;break e;case R0:$=9;break e;case Vh:$=11;break e;case Kp:$=14;break e;case _a:$=16,T=null;break e}$=29,x=Error(i(130,f===null?"null":typeof f,"")),T=null}return d=t($,x,d,R),d.elementType=f,d.type=T,d.lanes=L,d}function Ii(f,d,x,T){return f=t(7,f,T,d),f.lanes=x,f}function Ih(f,d,x,T){f=t(22,f,T,d),f.elementType=B0,f.lanes=x;var R={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var L=R._current;if(L===null)throw Error(i(456));if((R._pendingVisibility&2)===0){var $=le(L,2);$!==null&&(R._pendingVisibility|=2,ys($,L,2))}},attach:function(){var L=R._current;if(L===null)throw Error(i(456));if((R._pendingVisibility&2)!==0){var $=le(L,2);$!==null&&(R._pendingVisibility&=-3,ys($,L,2))}}};return f.stateNode=R,f}function jp(f,d,x){return f=t(6,f,null,d),f.lanes=x,f}function w0(f,d,x){return d=t(4,f.children!==null?f.children:[],f.key,d),d.lanes=x,d.stateNode={containerInfo:f.containerInfo,pendingChildren:null,implementation:f.implementation},d}function WM(f,d,x,T,R,L,$,ve){this.tag=1,this.containerInfo=f,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Kl,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=P(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=P(0),this.hiddenUpdates=P(null),this.identifierPrefix=T,this.onUncaughtError=R,this.onCaughtError=L,this.onRecoverableError=$,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=ve,this.incompleteTransitions=new Map}function q_(f,d,x,T,R,L,$,ve,we,Qe,yt,Bt){return f=new WM(f,d,x,$,ve,we,Qe,Bt),d=1,L===!0&&(d|=24),L=t(3,null,null,d),f.current=L,L.stateNode=f,d=Fl(),d.refCount++,f.pooledCache=d,d.refCount++,L.memoizedState={element:T,isDehydrated:x,cache:d},ct(L),f}function es(f){return f?(f=ec,f):ec}function Xp(f){var d=f._reactInternals;if(d===void 0)throw typeof f.render=="function"?Error(i(188)):(f=Object.keys(f).join(","),Error(i(268,f)));return f=_(d),f=f!==null?S(f):null,f===null?null:Zu(f.stateNode)}function Xu(f,d,x,T,R,L){R=es(R),T.context===null?T.context=R:T.pendingContext=R,T=Tt(d),T.payload={element:x},L=L===void 0?null:L,L!==null&&(T.callback=L),x=gt(f,T,d),x!==null&&(ys(x,f,d),vt(x,f,d))}function Yu(f,d){if(f=f.memoizedState,f!==null&&f.dehydrated!==null){var x=f.retryLane;f.retryLane=x!==0&&x<d?x:d}}function Fh(f,d){Yu(f,d),(f=f.alternate)&&Yu(f,d)}var yn={},qu=Vg(),Vr=u6(),Yp=Object.assign,KM=Symbol.for("react.element"),zh=Symbol.for("react.transitional.element"),ya=Symbol.for("react.portal"),Wl=Symbol.for("react.fragment"),Hh=Symbol.for("react.strict_mode"),qp=Symbol.for("react.profiler"),Gh=Symbol.for("react.provider"),R0=Symbol.for("react.consumer"),Va=Symbol.for("react.context"),Vh=Symbol.for("react.forward_ref"),Wp=Symbol.for("react.suspense"),Wu=Symbol.for("react.suspense_list"),Kp=Symbol.for("react.memo"),_a=Symbol.for("react.lazy"),B0=Symbol.for("react.offscreen"),W_=Symbol.for("react.memo_cache_sentinel"),ol=Symbol.iterator,D0=Symbol.for("react.client.reference"),hn=qu.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,So,ll,Ic=!1,Ku=Array.isArray,N0=e.rendererVersion,kh=e.rendererPackageName,Ju=e.extraDevToolsConfig,Zu=e.getPublicInstance,K_=e.getRootHostContext,Qu=e.getChildHostContext,Jp=e.prepareForCommit,J_=e.resetAfterCommit,O0=e.createInstance,jh=e.appendInitialChild,cl=e.finalizeInitialChildren,_n=e.shouldSetTextContent,ui=e.createTextInstance,ts=e.scheduleTimeout,Zp=e.cancelTimeout,Kl=e.noTimeout,nr=e.isPrimaryRenderer;e.warnsIfNotActing;var as=e.supportsMutation,xa=e.supportsPersistence,Ns=e.supportsHydration,Z_=e.getInstanceFromNode;e.beforeActiveInstanceBlur,e.afterActiveInstanceBlur;var Xi=e.preparePortalMount;e.prepareScopeUpdate,e.getInstanceFromScope;var Vs=e.setCurrentUpdatePriority,ul=e.getCurrentUpdatePriority,Q_=e.resolveUpdatePriority;e.resolveEventType,e.resolveEventTimeStamp;var $_=e.shouldAttemptEagerTransition,JM=e.detachDeletedInstance;e.requestPostPaintCallback;var L0=e.maySuspendCommit,Qp=e.preloadInstance,U0=e.startSuspendingCommit,ir=e.suspendInstance,ns=e.waitForCommitToBeReady,Jl=e.NotPendingTransition,ka=e.HostTransitionContext,$p=e.resetFormInstance;e.bindToConsole;var P0=e.supportsMicrotasks,fl=e.scheduleMicrotask,Zl=e.supportsTestSelectors,I0=e.findFiberRoot,F0=e.getBoundingRect,e1=e.getTextContent,$u=e.isHiddenSubtree,t1=e.matchAccessibilityRole,n1=e.setFocusIfFocusable,i1=e.setupIntersectionObserver,s1=e.appendChild,z0=e.appendChildToContainer,r1=e.commitTextUpdate,ZM=e.commitMount,a1=e.commitUpdate,o1=e.insertBefore,l1=e.insertInContainerBefore,H0=e.removeChild,c1=e.removeChildFromContainer,G0=e.resetTextContent,u1=e.hideInstance,f1=e.hideTextInstance,h1=e.unhideInstance,QM=e.unhideTextInstance,d1=e.clearContainer,ef=e.cloneInstance,Xh=e.createContainerChildSet,V0=e.appendChildToContainerChildSet,em=e.finalizeContainerChildren,tf=e.replaceContainerChildren,k0=e.cloneHiddenInstance,j0=e.cloneHiddenTextInstance,tm=e.isSuspenseInstancePending,nm=e.isSuspenseInstanceFallback,p1=e.getSuspenseInstanceFallbackErrorDetails,m1=e.registerSuspenseInstanceRetry,X0=e.canHydrateFormStateMarker,g1=e.isFormStateMarkerMatching,Y0=e.getNextHydratableSibling,im=e.getFirstHydratableChild,v1=e.getFirstHydratableChildWithinContainer,y1=e.getFirstHydratableChildWithinSuspenseInstance,$M=e.canHydrateInstance,q0=e.canHydrateTextInstance,_1=e.canHydrateSuspenseInstance,x1=e.hydrateInstance,W0=e.hydrateTextInstance,S1=e.hydrateSuspenseInstance,A1=e.getNextHydratableInstanceAfterSuspenseInstance,eb=e.commitHydratedContainer,tb=e.commitHydratedSuspenseInstance,M1=e.clearSuspenseBoundary,Yh=e.clearSuspenseBoundaryFromContainer,sm=e.shouldDeleteUnhydratedTailInstances;e.diffHydratedPropsForDevWarnings,e.diffHydratedTextForDevWarnings,e.describeHydratableInstanceForDevWarnings;var rm=e.validateHydratableInstance,b1=e.validateHydratableTextInstance,kr=e.supportsResources,qh=e.isHostHoistableType,am=e.getHoistableRoot,K0=e.getResource,E1=e.acquireResource,Fc=e.releaseResource,Wh=e.hydrateHoistable,Kh=e.mountHoistable,nf=e.unmountHoistable,om=e.createHoistableInstance,T1=e.prepareToCommitHoistables,C1=e.mayResourceSuspendCommit,zc=e.preloadResource,w1=e.suspendResource,vi=e.supportsSingletons,ja=e.resolveSingletonInstance,Ql=e.clearSingleton,R1=e.acquireSingletonInstance,$l=e.releaseSingletonInstance,Ao=e.isHostSingletonType,Yi=[],hl=-1,ec={},sr=Math.clz32?Math.clz32:B,B1=Math.log,D1=Math.LN2,Mo=128,Hc=4194304,Jh=Vr.unstable_scheduleCallback,lm=Vr.unstable_cancelCallback,N1=Vr.unstable_shouldYield,cm=Vr.unstable_requestPaint,Sa=Vr.unstable_now,um=Vr.unstable_ImmediatePriority,O1=Vr.unstable_UserBlockingPriority,fm=Vr.unstable_NormalPriority,nb=Vr.unstable_IdlePriority,L1=Vr.log,_s=Vr.unstable_setDisableYieldValue,qi=null,Mr=null,br=typeof Object.is=="function"?Object.is:Z,J0=new WeakMap,Gc=[],Vc=0,kc=null,sf=0,jr=[],Xr=0,tc=null,Xa=1,Ya="",os=M(null),rf=M(null),bo=M(null),jc=M(null),Os=null,Ls=null,jn=!1,Aa=null,xs=!1,Zh=Error(i(519)),Ma=[],Xc=0,qa=0,Qh=null,dl=null,Yc=!1,Ai=!1,Z0=!1,af=0,of=null,qc=0,Yr=0,Wc=null,pl=!1,Kc=!1,Eo=Object.prototype.hasOwnProperty,lf=Error(i(460)),$h=Error(i(474)),ed={then:function(){}},nc=null,ic=null,sc=0,rc=$t(!0),To=$t(!1),Mi=M(null),cf=M(0),qr=M(null),yi=null,ls=M(0),ml=0,Cn=null,an=null,Xn=null,ba=!1,Jc=!1,ac=!1,hm=0,Zc=0,Ss=null,Wa=0,dm=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}},Fi={readContext:ws,use:fe,useCallback:tn,useContext:tn,useEffect:tn,useImperativeHandle:tn,useLayoutEffect:tn,useInsertionEffect:tn,useMemo:tn,useReducer:tn,useRef:tn,useState:tn,useDebugValue:tn,useDeferredValue:tn,useTransition:tn,useSyncExternalStore:tn,useId:tn};Fi.useCacheRefresh=tn,Fi.useMemoCache=tn,Fi.useHostTransitionStatus=tn,Fi.useFormState=tn,Fi.useActionState=tn,Fi.useOptimistic=tn;var oc={readContext:ws,use:fe,useCallback:function(f,d){return j().memoizedState=[f,d===void 0?null:d],f},useContext:ws,useEffect:bp,useImperativeHandle:function(f,d,x){x=x!=null?x.concat([f]):null,dh(4194308,4,Ep.bind(null,d,f),x)},useLayoutEffect:function(f,d){return dh(4194308,4,f,d)},useInsertionEffect:function(f,d){dh(4,2,f,d)},useMemo:function(f,d){var x=j();d=d===void 0?null:d;var T=f();if(ac){Y(!0);try{f()}finally{Y(!1)}}return x.memoizedState=[T,d],T},useReducer:function(f,d,x){var T=j();if(x!==void 0){var R=x(d);if(ac){Y(!0);try{x(d)}finally{Y(!1)}}}else R=d;return T.memoizedState=T.baseState=R,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:f,lastRenderedState:R},T.queue=f,f=f.dispatch=Cp.bind(null,Cn,f),[T.memoizedState,f]},useRef:function(f){var d=j();return f={current:f},d.memoizedState=f},useState:function(f){f=Pt(f);var d=f.queue,x=i0.bind(null,Cn,d);return d.dispatch=x,[f.memoizedState,x]},useDebugValue:Ol,useDeferredValue:function(f,d){var x=j();return gh(x,f,d)},useTransition:function(){var f=Pt(!1);return f=Ru.bind(null,Cn,f.queue,!0,!1),j().memoizedState=f,[!1,f]},useSyncExternalStore:function(f,d,x){var T=Cn,R=j();if(jn){if(x===void 0)throw Error(i(407));x=x()}else{if(x=d(),ai===null)throw Error(i(349));(Pn&60)!==0||At(T,d,x)}R.memoizedState=x;var L={value:x,getSnapshot:d};return R.queue=L,bp(jt.bind(null,T,L,f),[f]),T.flags|=2048,Qs(9,bt.bind(null,T,L,x,d),{destroy:void 0},null),x},useId:function(){var f=j(),d=ai.identifierPrefix;if(jn){var x=Ya,T=Xa;x=(T&~(1<<32-sr(T)-1)).toString(32)+x,d=":"+d+"R"+x,x=hm++,0<x&&(d+="H"+x.toString(32)),d+=":"}else x=Wa++,d=":"+d+"r"+x.toString(32)+":";return f.memoizedState=d},useCacheRefresh:function(){return j().memoizedState=n0.bind(null,Cn)}};oc.useMemoCache=ye,oc.useHostTransitionStatus=vh,oc.useFormState=An,oc.useActionState=An,oc.useOptimistic=function(f){var d=j();d.memoizedState=d.baseState=f;var x={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return d.queue=x,d=Du.bind(null,Cn,!0,x),x.dispatch=d,[f,d]};var rr={readContext:ws,use:fe,useCallback:Oc,useContext:ws,useEffect:$g,useImperativeHandle:Tp,useInsertionEffect:T_,useLayoutEffect:mh,useMemo:e0,useReducer:qe,useRef:go,useState:function(){return qe(Re)},useDebugValue:Ol,useDeferredValue:function(f,d){var x=re();return t0(x,an.memoizedState,f,d)},useTransition:function(){var f=qe(Re)[0],d=re().memoizedState;return[typeof f=="boolean"?f:pe(f),d]},useSyncExternalStore:St,useId:Bu};rr.useCacheRefresh=Ko,rr.useMemoCache=ye,rr.useHostTransitionStatus=vh,rr.useFormState=Ci,rr.useActionState=Ci,rr.useOptimistic=function(f,d){var x=re();return Jt(x,an,f,d)};var Wr={readContext:ws,use:fe,useCallback:Oc,useContext:ws,useEffect:$g,useImperativeHandle:Tp,useInsertionEffect:T_,useLayoutEffect:mh,useMemo:e0,useReducer:tt,useRef:go,useState:function(){return tt(Re)},useDebugValue:Ol,useDeferredValue:function(f,d){var x=re();return an===null?gh(x,f,d):t0(x,an.memoizedState,f,d)},useTransition:function(){var f=tt(Re)[0],d=re().memoizedState;return[typeof f=="boolean"?f:pe(f),d]},useSyncExternalStore:St,useId:Bu};Wr.useCacheRefresh=Ko,Wr.useMemoCache=ye,Wr.useHostTransitionStatus=vh,Wr.useFormState=gs,Wr.useActionState=gs,Wr.useOptimistic=function(f,d){var x=re();return an!==null?Jt(x,an,f,d):(x.baseState=f,[f,x.queue.dispatch])};var Co={isMounted:function(f){return(f=f._reactInternals)?g(f)===f:!1},enqueueSetState:function(f,d,x){f=f._reactInternals;var T=ji(),R=Tt(T);R.payload=d,x!=null&&(R.callback=x),d=gt(f,R,T),d!==null&&(ys(d,f,T),vt(d,f,T))},enqueueReplaceState:function(f,d,x){f=f._reactInternals;var T=ji(),R=Tt(T);R.tag=1,R.payload=d,x!=null&&(R.callback=x),d=gt(f,R,T),d!==null&&(ys(d,f,T),vt(d,f,T))},enqueueForceUpdate:function(f,d){f=f._reactInternals;var x=ji(),T=Tt(x);T.tag=2,d!=null&&(T.callback=d),d=gt(f,T,x),d!==null&&(ys(d,f,x),vt(d,f,x))}},pm=typeof reportError=="function"?reportError:function(f){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var d=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof f=="object"&&f!==null&&typeof f.message=="string"?String(f.message):String(f),error:f});if(!window.dispatchEvent(d))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",f);return}console.error(f)},mm=Error(i(461)),_i=!1,gm={dehydrated:null,treeContext:null,retryLane:0},gl=M(null),Ka=null,Kr=null,uf=typeof AbortController<"u"?AbortController:function(){var f=[],d=this.signal={aborted:!1,addEventListener:function(x,T){f.push(T)}};this.abort=function(){d.aborted=!0,f.forEach(function(x){return x()})}},U1=Vr.unstable_scheduleCallback,P1=Vr.unstable_NormalPriority,bi={$$typeof:Va,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0},Q0=hn.S;hn.S=function(f,d){typeof d=="object"&&d!==null&&typeof d.then=="function"&&ot(f,d),Q0!==null&&Q0(f,d)};var wo=M(null),Ro=!1,zi=!1,$0=!1,ri=typeof WeakSet=="function"?WeakSet:Set,gn=null,Nn=!1,nn=null,Mn=!1,Li=null,Jr=8192,ff={getCacheForType:function(f){var d=ws(bi),x=d.data.get(f);return x===void 0&&(x=f(),d.data.set(f,x)),x}},hf=0,Ea=1,wi=2,Ja=3,Bo=4;if(typeof Symbol=="function"&&Symbol.for){var Qc=Symbol.for;hf=Qc("selector.component"),Ea=Qc("selector.has_pseudo_class"),wi=Qc("selector.role"),Ja=Qc("selector.test_id"),Bo=Qc("selector.text")}var Ta=typeof WeakMap=="function"?WeakMap:Map,Yn=0,ai=null,on=null,Pn=0,hi=0,ks=null,Ca=!1,Zr=!1,cs=!1,js=0,xi=0,Qr=0,vl=0,td=0,$r=0,Do=0,$c=null,Hi=null,vm=!1,ar=0,df=1/0,nd=null,lc=null,Za=!1,No=null,eu=0,cc=0,ym=null,pf=0,_m=null;return yn.attemptContinuousHydration=function(f){if(f.tag===13){var d=le(f,67108864);d!==null&&ys(d,f,67108864),Fh(f,67108864)}},yn.attemptHydrationAtCurrentPriority=function(f){if(f.tag===13){var d=ji(),x=le(f,d);x!==null&&ys(x,f,d),Fh(f,d)}},yn.attemptSynchronousHydration=function(f){switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var d=D(f.pendingLanes);if(d!==0){for(f.pendingLanes|=2,f.entangledLanes|=2;d;){var x=1<<31-sr(d);f.entanglements[1]|=x,d&=~x}Ge(f),(Yn&6)===0&&(df=Sa()+500,Q(0))}}break;case 13:d=le(f,2),d!==null&&ys(d,f,2),Lh(),Fh(f,2)}},yn.batchedUpdates=function(f,d){return f(d)},yn.createComponentSelector=function(f){return{$$typeof:hf,value:f}},yn.createContainer=function(f,d,x,T,R,L,$,ve,we,Qe){return q_(f,d,!1,null,x,T,L,$,ve,we,Qe,null)},yn.createHasPseudoClassSelector=function(f){return{$$typeof:Ea,value:f}},yn.createHydrationContainer=function(f,d,x,T,R,L,$,ve,we,Qe,yt,Bt,Ot){return f=q_(x,T,!0,f,R,L,ve,we,Qe,yt,Bt,Ot),f.context=es(null),x=f.current,T=ji(),R=Tt(T),R.callback=d??null,gt(x,R,T),f.current.lanes=T,q(f,T),Ge(f),f},yn.createPortal=function(f,d,x){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ya,key:T==null?null:""+T,children:f,containerInfo:d,implementation:x}},yn.createRoleSelector=function(f){return{$$typeof:wi,value:f}},yn.createTestNameSelector=function(f){return{$$typeof:Ja,value:f}},yn.createTextSelector=function(f){return{$$typeof:Bo,value:f}},yn.defaultOnCaughtError=function(f){console.error(f)},yn.defaultOnRecoverableError=function(f){pm(f)},yn.defaultOnUncaughtError=function(f){pm(f)},yn.deferredUpdates=function(f){var d=hn.T,x=ul();try{return Vs(32),hn.T=null,f()}finally{Vs(x),hn.T=d}},yn.discreteUpdates=function(f,d,x,T,R){var L=hn.T,$=ul();try{return Vs(2),hn.T=null,f(d,x,T,R)}finally{Vs($),hn.T=L,Yn===0&&(df=Sa()+500)}},yn.findAllNodes=Nh,yn.findBoundingRects=function(f,d){if(!Zl)throw Error(i(363));d=Nh(f,d),f=[];for(var x=0;x<d.length;x++)f.push(F0(d[x]));for(d=f.length-1;0<d;d--){x=f[d];for(var T=x.x,R=T+x.width,L=x.y,$=L+x.height,ve=d-1;0<=ve;ve--)if(d!==ve){var we=f[ve],Qe=we.x,yt=Qe+we.width,Bt=we.y,Ot=Bt+we.height;if(T>=Qe&&L>=Bt&&R<=yt&&$<=Ot){f.splice(d,1);break}else if(T!==Qe||x.width!==we.width||Ot<L||Bt>$){if(!(L!==Bt||x.height!==we.height||yt<T||Qe>R)){Qe>T&&(we.width+=Qe-T,we.x=T),yt<R&&(we.width=R-Qe),f.splice(d,1);break}}else{Bt>L&&(we.height+=Bt-L,we.y=L),Ot<$&&(we.height=$-Bt),f.splice(d,1);break}}}return f},yn.findHostInstance=Xp,yn.findHostInstanceWithNoPortals=function(f){return f=_(f),f=f!==null?b(f):null,f===null?null:Zu(f.stateNode)},yn.findHostInstanceWithWarning=function(f){return Xp(f)},yn.flushPassiveEffects=Ga,yn.flushSyncFromReconciler=function(f){var d=Yn;Yn|=1;var x=hn.T,T=ul();try{if(Vs(2),hn.T=null,f)return f()}finally{Vs(T),hn.T=x,Yn=d,(Yn&6)===0&&Q(0)}},yn.flushSyncWork=Lh,yn.focusWithin=function(f,d){if(!Zl)throw Error(i(363));for(f=Gu(f),d=Sr(f,d),d=Array.from(d),f=0;f<d.length;){var x=d[f++],T=x.tag;if(!$u(x)){if((T===5||T===26||T===27)&&n1(x.stateNode))return!0;for(x=x.child;x!==null;)d.push(x),x=x.sibling}}return!1},yn.getFindAllNodesFailureDescription=function(f,d){if(!Zl)throw Error(i(363));var x=0,T=[];f=[Gu(f),0];for(var R=0;R<f.length;){var L=f[R++],$=L.tag,ve=f[R++],we=d[ve];if(($!==5&&$!==26&&$!==27||!$u(L))&&(Vl(L,we)&&(T.push(S0(we)),ve++,ve>x&&(x=ve)),ve<d.length))for(L=L.child;L!==null;)f.push(L,ve),L=L.sibling}if(x<d.length){for(f=[];x<d.length;x++)f.push(S0(d[x]));return`findAllNodes was able to match part of the selector:
  `+(T.join(" > ")+`

No matching component was found for:
  `)+f.join(" > ")}return null},yn.getPublicRootInstance=function(f){if(f=f.current,!f.child)return null;switch(f.child.tag){case 27:case 5:return Zu(f.child.stateNode);default:return f.child.stateNode}},yn.injectIntoDevTools=function(){var f={bundleType:0,version:N0,rendererPackageName:kh,currentDispatcherRef:hn,findFiberByHostInstance:Z_,reconcilerVersion:"19.0.0"};if(Ju!==null&&(f.rendererConfig=Ju),typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")f=!1;else{var d=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(d.isDisabled||!d.supportsFiber)f=!0;else{try{qi=d.inject(f),Mr=d}catch{}f=!!d.checkDCE}}return f},yn.isAlreadyRendering=function(){return!1},yn.observeVisibleRects=function(f,d,x,T){if(!Zl)throw Error(i(363));f=Nh(f,d);var R=i1(f,x,T).disconnect;return{disconnect:function(){R()}}},yn.shouldError=function(){return null},yn.shouldSuspend=function(){return!1},yn.startHostTransition=function(f,d,x,T){if(f.tag!==5)throw Error(i(476));var R=vo(f).queue;Ru(f,R,d,Jl,x===null?n:function(){var L=vo(f).next.queue;return Ll(f,L,{},ji()),x(T)})},yn.updateContainer=function(f,d,x,T){var R=d.current,L=ji();return Xu(R,L,f,d,x,T),L},yn.updateContainerSync=function(f,d,x,T){return d.tag===0&&Ga(),Xu(d.current,2,f,d,x,T),2},yn},s.exports.default=s.exports,Object.defineProperty(s.exports,"__esModule",{value:!0})}(tT)),tT.exports}var s4;function pQ(){return s4||(s4=1,eT.exports=dQ()),eT.exports}var mQ=pQ();const gQ=JA(mQ);var r4=u6();const vQ=s=>typeof s=="object"&&typeof s.then=="function",Vd=[];function f6(s,e,t=(n,i)=>n===i){if(s===e)return!0;if(!s||!e)return!1;const n=s.length;if(e.length!==n)return!1;for(let i=0;i<n;i++)if(!t(s[i],e[i]))return!1;return!0}function h6(s,e=null,t=!1,n={}){e===null&&(e=[s]);for(const r of Vd)if(f6(e,r.keys,r.equal)){if(t)return;if(Object.prototype.hasOwnProperty.call(r,"error"))throw r.error;if(Object.prototype.hasOwnProperty.call(r,"response"))return n.lifespan&&n.lifespan>0&&(r.timeout&&clearTimeout(r.timeout),r.timeout=setTimeout(r.remove,n.lifespan)),r.response;if(!t)throw r.promise}const i={keys:e,equal:n.equal,remove:()=>{const r=Vd.indexOf(i);r!==-1&&Vd.splice(r,1)},promise:(vQ(s)?s:s(...e)).then(r=>{i.response=r,n.lifespan&&n.lifespan>0&&(i.timeout=setTimeout(i.remove,n.lifespan))}).catch(r=>i.error=r)};if(Vd.push(i),!t)throw i.promise}const yQ=(s,e,t)=>h6(s,e,!1,t),_Q=(s,e,t)=>void h6(s,e,!0,t),xQ=s=>{if(s===void 0||s.length===0)Vd.splice(0,Vd.length);else{const e=Vd.find(t=>f6(s,t.keys,t.equal));e&&e.remove()}};function jw(s,e,t){if(!s)return;if(t(s)===!0)return s;let n=e?s.return:s.child;for(;n;){const i=jw(n,e,t);if(i)return i;n=e?null:n.sibling}}function d6(s){try{return Object.defineProperties(s,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return s}}const Xw=d6(J.createContext(null));class p6 extends J.Component{render(){return J.createElement(Xw.Provider,{value:this._reactInternals},this.props.children)}}function m6(){const s=J.useContext(Xw);if(s===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=J.useId();return J.useMemo(()=>{for(const t of[s,s==null?void 0:s.alternate]){if(!t)continue;const n=jw(t,!1,i=>{let r=i.memoizedState;for(;r;){if(r.memoizedState===e)return!0;r=r.next}});if(n)return n}},[s,e])}const SQ=Symbol.for("react.context"),AQ=s=>s!==null&&typeof s=="object"&&"$$typeof"in s&&s.$$typeof===SQ;function MQ(){const s=m6(),[e]=J.useState(()=>new Map);e.clear();let t=s;for(;t;){const n=t.type;AQ(n)&&n!==Xw&&!e.has(n)&&e.set(n,J.use(d6(n))),t=t.return}return e}function bQ(){const s=MQ();return J.useMemo(()=>Array.from(s.keys()).reduce((e,t)=>n=>J.createElement(e,null,J.createElement(t.Provider,{...n,value:s.get(t)})),e=>J.createElement(p6,{...e})),[s])}function g6(s){let e=s.root;for(;e.getState().previousRoot;)e=e.getState().previousRoot;return e}const v6=s=>s&&s.isOrthographicCamera,EQ=s=>s&&s.hasOwnProperty("current"),TQ=s=>s!=null&&(typeof s=="string"||typeof s=="number"||s.isColor),M_=((s,e)=>typeof window<"u"&&(((s=window.document)==null?void 0:s.createElement)||((e=window.navigator)==null?void 0:e.product)==="ReactNative"))()?J.useLayoutEffect:J.useEffect;function Yw(s){const e=J.useRef(s);return M_(()=>void(e.current=s),[s]),e}function CQ(){const s=m6(),e=bQ();return J.useMemo(()=>({children:t})=>{const i=!!jw(s,!0,r=>r.type===J.StrictMode)?J.StrictMode:J.Fragment;return k.jsx(i,{children:k.jsx(e,{children:t})})},[s,e])}function wQ({set:s}){return M_(()=>(s(new Promise(()=>null)),()=>s(!1)),[s]),null}const RQ=(s=>(s=class extends J.Component{constructor(...t){super(...t),this.state={error:!1}}componentDidCatch(t){this.props.set(t)}render(){return this.state.error?null:this.props.children}},s.getDerivedStateFromError=()=>({error:!0}),s))();function y6(s){var e;const t=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(s)?Math.min(Math.max(s[0],t),s[1]):s}function qm(s){var e;return(e=s.__r3f)==null?void 0:e.root.getState()}const Gi={obj:s=>s===Object(s)&&!Gi.arr(s)&&typeof s!="function",fun:s=>typeof s=="function",str:s=>typeof s=="string",num:s=>typeof s=="number",boo:s=>typeof s=="boolean",und:s=>s===void 0,nul:s=>s===null,arr:s=>Array.isArray(s),equ(s,e,{arrays:t="shallow",objects:n="reference",strict:i=!0}={}){if(typeof s!=typeof e||!!s!=!!e)return!1;if(Gi.str(s)||Gi.num(s)||Gi.boo(s))return s===e;const r=Gi.obj(s);if(r&&n==="reference")return s===e;const a=Gi.arr(s);if(a&&t==="reference")return s===e;if((a||r)&&s===e)return!0;let l;for(l in s)if(!(l in e))return!1;if(r&&t==="shallow"&&n==="shallow"){for(l in i?e:s)if(!Gi.equ(s[l],e[l],{strict:i,objects:"reference"}))return!1}else for(l in i?e:s)if(s[l]!==e[l])return!1;if(Gi.und(l)){if(a&&s.length===0&&e.length===0||r&&Object.keys(s).length===0&&Object.keys(e).length===0)return!0;if(s!==e)return!1}return!0}};function BQ(s){const e={nodes:{},materials:{},meshes:{}};return s&&s.traverse(t=>{t.name&&(e.nodes[t.name]=t),t.material&&!e.materials[t.material.name]&&(e.materials[t.material.name]=t.material),t.isMesh&&!e.meshes[t.name]&&(e.meshes[t.name]=t)}),e}function DQ(s){s.type!=="Scene"&&(s.dispose==null||s.dispose());for(const e in s){const t=s[e];(t==null?void 0:t.type)!=="Scene"&&(t==null||t.dispose==null||t.dispose())}}const _6=["children","key","ref"];function NQ(s){const e={};for(const t in s)_6.includes(t)||(e[t]=s[t]);return e}function jA(s,e,t,n){const i=s;let r=i==null?void 0:i.__r3f;return r||(r={root:e,type:t,parent:null,children:[],props:NQ(n),object:i,eventCount:0,handlers:{},isHidden:!1},i&&(i.__r3f=r)),r}function Jy(s,e){let t=s[e];if(!e.includes("-"))return{root:s,key:e,target:t};t=s;for(const i of e.split("-")){var n;e=i,s=t,t=(n=t)==null?void 0:n[e]}return{root:s,key:e,target:t}}const a4=/-\d+$/;function XA(s,e){if(Gi.str(e.props.attach)){if(a4.test(e.props.attach)){const i=e.props.attach.replace(a4,""),{root:r,key:a}=Jy(s.object,i);Array.isArray(r[a])||(r[a]=[])}const{root:t,key:n}=Jy(s.object,e.props.attach);e.previousAttach=t[n],t[n]=e.object}else Gi.fun(e.props.attach)&&(e.previousAttach=e.props.attach(s.object,e.object))}function YA(s,e){if(Gi.str(e.props.attach)){const{root:t,key:n}=Jy(s.object,e.props.attach),i=e.previousAttach;i===void 0?delete t[n]:t[n]=i}else e.previousAttach==null||e.previousAttach(s.object,e.object);delete e.previousAttach}const R2=[..._6,"args","dispose","attach","object","onUpdate","dispose"],o4=new Map;function OQ(s){let e=o4.get(s.constructor);try{e||(e=new s.constructor,o4.set(s.constructor,e))}catch{}return e}function LQ(s,e){const t={};for(const n in e)if(!R2.includes(n)&&!Gi.equ(e[n],s.props[n])){t[n]=e[n];for(const i in e)i.startsWith(`${n}-`)&&(t[i]=e[i])}for(const n in s.props){if(R2.includes(n)||e.hasOwnProperty(n))continue;const{root:i,key:r}=Jy(s.object,n);if(i.constructor&&i.constructor.length===0){const a=OQ(i);Gi.und(a)||(t[r]=a[r])}else t[r]=0}return t}const UQ=["map","emissiveMap","sheenColorMap","specularColorMap","envMap"],PQ=/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/;function gc(s,e){var t;const n=s.__r3f,i=n&&g6(n).getState(),r=n==null?void 0:n.eventCount;for(const l in e){let u=e[l];if(R2.includes(l))continue;if(n&&PQ.test(l)){typeof u=="function"?n.handlers[l]=u:delete n.handlers[l],n.eventCount=Object.keys(n.handlers).length;continue}if(u===void 0)continue;let{root:h,key:m,target:g}=Jy(s,l);if(g instanceof Ig&&u instanceof Ig)g.mask=u.mask;else if(g instanceof Ct&&TQ(u))g.set(u);else if(g!==null&&typeof g=="object"&&typeof g.set=="function"&&typeof g.copy=="function"&&u!=null&&u.constructor&&g.constructor===u.constructor)g.copy(u);else if(g!==null&&typeof g=="object"&&typeof g.set=="function"&&Array.isArray(u))typeof g.fromArray=="function"?g.fromArray(u):g.set(...u);else if(g!==null&&typeof g=="object"&&typeof g.set=="function"&&typeof u=="number")typeof g.setScalar=="function"?g.setScalar(u):g.set(u);else{var a;h[m]=u,i&&!i.linear&&UQ.includes(m)&&(a=h[m])!=null&&a.isTexture&&h[m].format===ms&&h[m].type===za&&(h[m].colorSpace=ur)}}if(n!=null&&n.parent&&i!=null&&i.internal&&(t=n.object)!=null&&t.isObject3D&&r!==n.eventCount){const l=n.object,u=i.internal.interaction.indexOf(l);u>-1&&i.internal.interaction.splice(u,1),n.eventCount&&l.raycast!==null&&i.internal.interaction.push(l)}return n&&n.props.attach===void 0&&(n.object.isBufferGeometry?n.props.attach="geometry":n.object.isMaterial&&(n.props.attach="material")),n&&Qg(n),s}function Qg(s){var e;if(!s.parent)return;s.props.onUpdate==null||s.props.onUpdate(s.object);const t=(e=s.root)==null||e.getState==null?void 0:e.getState();t&&t.internal.frames===0&&t.invalidate()}function x6(s,e){s.manual||(v6(s)?(s.left=e.width/-2,s.right=e.width/2,s.top=e.height/2,s.bottom=e.height/-2):s.aspect=e.width/e.height,s.updateProjectionMatrix())}const la=s=>s==null?void 0:s.isObject3D;function dS(s){return(s.eventObject||s.object).uuid+"/"+s.index+s.instanceId}function S6(s,e,t,n){const i=t.get(e);i&&(t.delete(e),t.size===0&&(s.delete(n),i.target.releasePointerCapture(n)))}function IQ(s,e){const{internal:t}=s.getState();t.interaction=t.interaction.filter(n=>n!==e),t.initialHits=t.initialHits.filter(n=>n!==e),t.hovered.forEach((n,i)=>{(n.eventObject===e||n.object===e)&&t.hovered.delete(i)}),t.capturedMap.forEach((n,i)=>{S6(t.capturedMap,e,n,i)})}function FQ(s){function e(u){const{internal:h}=s.getState(),m=u.offsetX-h.initialClick[0],g=u.offsetY-h.initialClick[1];return Math.round(Math.sqrt(m*m+g*g))}function t(u){return u.filter(h=>["Move","Over","Enter","Out","Leave"].some(m=>{var g;return(g=h.__r3f)==null?void 0:g.handlers["onPointer"+m]}))}function n(u,h){const m=s.getState(),g=new Set,v=[],_=h?h(m.internal.interaction):m.internal.interaction;for(let A=0;A<_.length;A++){const C=qm(_[A]);C&&(C.raycaster.camera=void 0)}m.previousRoot||m.events.compute==null||m.events.compute(u,m);function S(A){const C=qm(A);if(!C||!C.events.enabled||C.raycaster.camera===null)return[];if(C.raycaster.camera===void 0){var B;C.events.compute==null||C.events.compute(u,C,(B=C.previousRoot)==null?void 0:B.getState()),C.raycaster.camera===void 0&&(C.raycaster.camera=null)}return C.raycaster.camera?C.raycaster.intersectObject(A,!0):[]}let b=_.flatMap(S).sort((A,C)=>{const B=qm(A.object),D=qm(C.object);return!B||!D?A.distance-C.distance:D.events.priority-B.events.priority||A.distance-C.distance}).filter(A=>{const C=dS(A);return g.has(C)?!1:(g.add(C),!0)});m.events.filter&&(b=m.events.filter(b,m));for(const A of b){let C=A.object;for(;C;){var M;(M=C.__r3f)!=null&&M.eventCount&&v.push({...A,eventObject:C}),C=C.parent}}if("pointerId"in u&&m.internal.capturedMap.has(u.pointerId))for(let A of m.internal.capturedMap.get(u.pointerId).values())g.has(dS(A.intersection))||v.push(A.intersection);return v}function i(u,h,m,g){if(u.length){const v={stopped:!1};for(const _ of u){let S=qm(_.object);if(S||_.object.traverseAncestors(b=>{const M=qm(b);if(M)return S=M,!1}),S){const{raycaster:b,pointer:M,camera:A,internal:C}=S,B=new ae(M.x,M.y,0).unproject(A),D=O=>{var P,q;return(P=(q=C.capturedMap.get(O))==null?void 0:q.has(_.eventObject))!=null?P:!1},N=O=>{const P={intersection:_,target:h.target};C.capturedMap.has(O)?C.capturedMap.get(O).set(_.eventObject,P):C.capturedMap.set(O,new Map([[_.eventObject,P]])),h.target.setPointerCapture(O)},U=O=>{const P=C.capturedMap.get(O);P&&S6(C.capturedMap,_.eventObject,P,O)};let F={};for(let O in h){let P=h[O];typeof P!="function"&&(F[O]=P)}let z={..._,...F,pointer:M,intersections:u,stopped:v.stopped,delta:m,unprojectedPoint:B,ray:b.ray,camera:A,stopPropagation(){const O="pointerId"in h&&C.capturedMap.get(h.pointerId);if((!O||O.has(_.eventObject))&&(z.stopped=v.stopped=!0,C.hovered.size&&Array.from(C.hovered.values()).find(P=>P.eventObject===_.eventObject))){const P=u.slice(0,u.indexOf(_));r([...P,_])}},target:{hasPointerCapture:D,setPointerCapture:N,releasePointerCapture:U},currentTarget:{hasPointerCapture:D,setPointerCapture:N,releasePointerCapture:U},nativeEvent:h};if(g(z),v.stopped===!0)break}}}return u}function r(u){const{internal:h}=s.getState();for(const m of h.hovered.values())if(!u.length||!u.find(g=>g.object===m.object&&g.index===m.index&&g.instanceId===m.instanceId)){const v=m.eventObject.__r3f;if(h.hovered.delete(dS(m)),v!=null&&v.eventCount){const _=v.handlers,S={...m,intersections:u};_.onPointerOut==null||_.onPointerOut(S),_.onPointerLeave==null||_.onPointerLeave(S)}}}function a(u,h){for(let m=0;m<h.length;m++){const g=h[m].__r3f;g==null||g.handlers.onPointerMissed==null||g.handlers.onPointerMissed(u)}}function l(u){switch(u){case"onPointerLeave":case"onPointerCancel":return()=>r([]);case"onLostPointerCapture":return h=>{const{internal:m}=s.getState();"pointerId"in h&&m.capturedMap.has(h.pointerId)&&requestAnimationFrame(()=>{m.capturedMap.has(h.pointerId)&&(m.capturedMap.delete(h.pointerId),r([]))})}}return function(m){const{onPointerMissed:g,internal:v}=s.getState();v.lastEvent.current=m;const _=u==="onPointerMove",S=u==="onClick"||u==="onContextMenu"||u==="onDoubleClick",M=n(m,_?t:void 0),A=S?e(m):0;u==="onPointerDown"&&(v.initialClick=[m.offsetX,m.offsetY],v.initialHits=M.map(B=>B.eventObject)),S&&!M.length&&A<=2&&(a(m,v.interaction),g&&g(m)),_&&r(M);function C(B){const D=B.eventObject,N=D.__r3f;if(!(N!=null&&N.eventCount))return;const U=N.handlers;if(_){if(U.onPointerOver||U.onPointerEnter||U.onPointerOut||U.onPointerLeave){const F=dS(B),z=v.hovered.get(F);z?z.stopped&&B.stopPropagation():(v.hovered.set(F,B),U.onPointerOver==null||U.onPointerOver(B),U.onPointerEnter==null||U.onPointerEnter(B))}U.onPointerMove==null||U.onPointerMove(B)}else{const F=U[u];F?(!S||v.initialHits.includes(D))&&(a(m,v.interaction.filter(z=>!v.initialHits.includes(z))),F(B)):S&&v.initialHits.includes(D)&&a(m,v.interaction.filter(z=>!v.initialHits.includes(z)))}}i(M,m,A,C)}}return{handlePointer:l}}const l4=s=>!!(s!=null&&s.render),qw=J.createContext(null),zQ=(s,e)=>{const t=c6((l,u)=>{const h=new ae,m=new ae,g=new ae;function v(A=u().camera,C=m,B=u().size){const{width:D,height:N,top:U,left:F}=B,z=D/N;C.isVector3?g.copy(C):g.set(...C);const O=A.getWorldPosition(h).distanceTo(g);if(v6(A))return{width:D/A.zoom,height:N/A.zoom,top:U,left:F,factor:1,distance:O,aspect:z};{const P=A.fov*Math.PI/180,q=2*Math.tan(P/2)*O,ne=q*(D/N);return{width:ne,height:q,top:U,left:F,factor:D/ne,distance:O,aspect:z}}}let _;const S=A=>l(C=>({performance:{...C.performance,current:A}})),b=new at;return{set:l,get:u,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},scene:null,xr:null,invalidate:(A=1)=>s(u(),A),advance:(A,C)=>e(A,C,u()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new Pw,pointer:b,mouse:b,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const A=u();_&&clearTimeout(_),A.performance.current!==A.performance.min&&S(A.performance.min),_=setTimeout(()=>S(u().performance.max),A.performance.debounce)}},size:{width:0,height:0,top:0,left:0},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:v},setEvents:A=>l(C=>({...C,events:{...C.events,...A}})),setSize:(A,C,B=0,D=0)=>{const N=u().camera,U={width:A,height:C,top:B,left:D};l(F=>({size:U,viewport:{...F.viewport,...v(N,m,U)}}))},setDpr:A=>l(C=>{const B=y6(A);return{viewport:{...C.viewport,dpr:B,initialDpr:C.viewport.initialDpr||B}}}),setFrameloop:(A="always")=>{const C=u().clock;C.stop(),C.elapsedTime=0,A!=="never"&&(C.start(),C.elapsedTime=0),l(()=>({frameloop:A}))},previousRoot:void 0,internal:{interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,lastEvent:J.createRef(),active:!1,frames:0,priority:0,subscribe:(A,C,B)=>{const D=u().internal;return D.priority=D.priority+(C>0?1:0),D.subscribers.push({ref:A,priority:C,store:B}),D.subscribers=D.subscribers.sort((N,U)=>N.priority-U.priority),()=>{const N=u().internal;N!=null&&N.subscribers&&(N.priority=N.priority-(C>0?1:0),N.subscribers=N.subscribers.filter(U=>U.ref!==A))}}}}}),n=t.getState();let i=n.size,r=n.viewport.dpr,a=n.camera;return t.subscribe(()=>{const{camera:l,size:u,viewport:h,gl:m,set:g}=t.getState();if(u.width!==i.width||u.height!==i.height||h.dpr!==r){i=u,r=h.dpr,x6(l,u),h.dpr>0&&m.setPixelRatio(h.dpr);const v=typeof HTMLCanvasElement<"u"&&m.domElement instanceof HTMLCanvasElement;m.setSize(u.width,u.height,v)}l!==a&&(a=l,g(v=>({viewport:{...v.viewport,...v.viewport.getCurrentViewport(l)}})))}),t.subscribe(l=>s(l)),t};function Ww(){const s=J.useContext(qw);if(!s)throw new Error("R3F: Hooks can only be used within the Canvas component!");return s}function Jf(s=t=>t,e){return Ww()(s,e)}function b_(s,e=0){const t=Ww(),n=t.getState().internal.subscribe,i=Yw(s);return M_(()=>n(i,e,t),[e,n,t]),null}const c4=new WeakMap,HQ=s=>{var e;return typeof s=="function"&&(s==null||(e=s.prototype)==null?void 0:e.constructor)===s};function A6(s,e){return function(t,...n){let i;return HQ(t)?(i=c4.get(t),i||(i=new t,c4.set(t,i))):i=t,s&&s(i),Promise.all(n.map(r=>new Promise((a,l)=>i.load(r,u=>{la(u==null?void 0:u.scene)&&Object.assign(u,BQ(u.scene)),a(u)},e,u=>l(new Error(`Could not load ${r}: ${u==null?void 0:u.message}`))))))}}function wu(s,e,t,n){const i=Array.isArray(e)?e:[e],r=yQ(A6(t,n),[s,...i],{equal:Gi.equ});return Array.isArray(e)?r:r[0]}wu.preload=function(s,e,t){const n=Array.isArray(e)?e:[e];return _Q(A6(t),[s,...n])};wu.clear=function(s,e){const t=Array.isArray(e)?e:[e];return xQ([s,...t])};function GQ(s){const e=gQ(s);return e.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:J.version}),e}const M6=0,Gg={},VQ=/^three(?=[A-Z])/,VM=s=>`${s[0].toUpperCase()}${s.slice(1)}`;let kQ=0;const jQ=s=>typeof s=="function";function b6(s){if(jQ(s)){const e=`${kQ++}`;return Gg[e]=s,e}else Object.assign(Gg,s)}function E6(s,e){const t=VM(s),n=Gg[t];if(s!=="primitive"&&!n)throw new Error(`R3F: ${t} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(s==="primitive"&&!e.object)throw new Error("R3F: Primitives without 'object' are invalid!");if(e.args!==void 0&&!Array.isArray(e.args))throw new Error("R3F: The args prop must be an array!")}function XQ(s,e,t){var n;return s=VM(s)in Gg?s:s.replace(VQ,""),E6(s,e),s==="primitive"&&(n=e.object)!=null&&n.__r3f&&delete e.object.__r3f,jA(e.object,t,s,e)}function YQ(s){if(!s.isHidden){var e;s.props.attach&&(e=s.parent)!=null&&e.object?YA(s.parent,s):la(s.object)&&(s.object.visible=!1),s.isHidden=!0,Qg(s)}}function T6(s){if(s.isHidden){var e;s.props.attach&&(e=s.parent)!=null&&e.object?XA(s.parent,s):la(s.object)&&s.props.visible!==!1&&(s.object.visible=!0),s.isHidden=!1,Qg(s)}}function Kw(s,e,t){const n=e.root.getState();if(!(!s.parent&&s.object!==n.scene)){if(!e.object){var i,r;const a=Gg[VM(e.type)];e.object=(i=e.props.object)!=null?i:new a(...(r=e.props.args)!=null?r:[]),e.object.__r3f=e}if(gc(e.object,e.props),e.props.attach)XA(s,e);else if(la(e.object)&&la(s.object)){const a=s.object.children.indexOf(t==null?void 0:t.object);if(t&&a!==-1){const l=s.object.children.indexOf(e.object);if(l!==-1){s.object.children.splice(l,1);const u=l<a?a-1:a;s.object.children.splice(u,0,e.object)}else e.object.parent=s.object,s.object.children.splice(a,0,e.object),e.object.dispatchEvent({type:"added"}),s.object.dispatchEvent({type:"childadded",child:e.object})}else s.object.add(e.object)}for(const a of e.children)Kw(e,a);Qg(e)}}function sT(s,e){e&&(e.parent=s,s.children.push(e),Kw(s,e))}function u4(s,e,t){if(!e||!t)return;e.parent=s;const n=s.children.indexOf(t);n!==-1?s.children.splice(n,0,e):s.children.push(e),Kw(s,e,t)}function C6(s){if(typeof s.dispose=="function"){const e=()=>{try{s.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT<"u"?e():r4.unstable_scheduleCallback(r4.unstable_IdlePriority,e)}}function B2(s,e,t){if(!e)return;e.parent=null;const n=s.children.indexOf(e);n!==-1&&s.children.splice(n,1),e.props.attach?YA(s,e):la(e.object)&&la(s.object)&&(s.object.remove(e.object),IQ(g6(e),e.object));const i=e.props.dispose!==null&&t!==!1;for(let r=e.children.length-1;r>=0;r--){const a=e.children[r];B2(e,a,i)}e.children.length=0,delete e.object.__r3f,i&&e.type!=="primitive"&&e.object.type!=="Scene"&&C6(e.object),t===void 0&&Qg(e)}function qQ(s,e){for(const t of[s,s.alternate])if(t!==null)if(typeof t.ref=="function"){t.refCleanup==null||t.refCleanup();const n=t.ref(e);typeof n=="function"&&(t.refCleanup=n)}else t.ref&&(t.ref.current=e)}const PS=[];function WQ(){for(const[t]of PS){const n=t.parent;if(n){t.props.attach?YA(n,t):la(t.object)&&la(n.object)&&n.object.remove(t.object);for(const i of t.children)i.props.attach?YA(t,i):la(i.object)&&la(t.object)&&t.object.remove(i.object)}t.isHidden&&T6(t),t.object.__r3f&&delete t.object.__r3f,t.type!=="primitive"&&C6(t.object)}for(const[t,n,i]of PS){t.props=n;const r=t.parent;if(r){var s,e;const a=Gg[VM(t.type)];t.object=(s=t.props.object)!=null?s:new a(...(e=t.props.args)!=null?e:[]),t.object.__r3f=t,qQ(i,t.object),gc(t.object,t.props),t.props.attach?XA(r,t):la(t.object)&&la(r.object)&&r.object.add(t.object);for(const l of t.children)l.props.attach?XA(t,l):la(l.object)&&la(t.object)&&t.object.add(l.object);Qg(t)}}PS.length=0}const rT=()=>{},f4={};let pS=M6;const KQ=0,JQ=4,qA=GQ({isPrimaryRenderer:!1,warnsIfNotActing:!1,supportsMutation:!0,supportsPersistence:!1,supportsHydration:!1,createInstance:XQ,removeChild:B2,appendChild:sT,appendInitialChild:sT,insertBefore:u4,appendChildToContainer(s,e){const t=s.getState().scene.__r3f;!e||!t||sT(t,e)},removeChildFromContainer(s,e){const t=s.getState().scene.__r3f;!e||!t||B2(t,e)},insertInContainerBefore(s,e,t){const n=s.getState().scene.__r3f;!e||!t||!n||u4(n,e,t)},getRootHostContext:()=>f4,getChildHostContext:()=>f4,commitUpdate(s,e,t,n,i){var r,a,l;E6(e,n);let u=!1;if((s.type==="primitive"&&t.object!==n.object||((r=n.args)==null?void 0:r.length)!==((a=t.args)==null?void 0:a.length)||(l=n.args)!=null&&l.some((m,g)=>{var v;return m!==((v=t.args)==null?void 0:v[g])}))&&(u=!0),u)PS.push([s,{...n},i]);else{const m=LQ(s,n);Object.keys(m).length&&(Object.assign(s.props,m),gc(s.object,m))}(i.sibling===null||(i.flags&JQ)===KQ)&&WQ()},finalizeInitialChildren:()=>!1,commitMount(){},getPublicInstance:s=>s==null?void 0:s.object,prepareForCommit:()=>null,preparePortalMount:s=>jA(s.getState().scene,s,"",{}),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance:YQ,unhideInstance:T6,createTextInstance:rT,hideTextInstance:rT,unhideTextInstance:rT,scheduleTimeout:typeof setTimeout=="function"?setTimeout:void 0,cancelTimeout:typeof clearTimeout=="function"?clearTimeout:void 0,noTimeout:-1,getInstanceFromNode:()=>null,beforeActiveInstanceBlur(){},afterActiveInstanceBlur(){},detachDeletedInstance(){},prepareScopeUpdate(){},getInstanceFromScope:()=>null,shouldAttemptEagerTransition:()=>!1,trackSchedulerEvent:()=>{},resolveEventType:()=>null,resolveEventTimeStamp:()=>-1.1,requestPostPaintCallback(){},maySuspendCommit:()=>!1,preloadInstance:()=>!0,startSuspendingCommit(){},suspendInstance(){},waitForCommitToBeReady:()=>null,NotPendingTransition:null,HostTransitionContext:J.createContext(null),setCurrentUpdatePriority(s){pS=s},getCurrentUpdatePriority(){return pS},resolveUpdatePriority(){var s;if(pS!==M6)return pS;switch(typeof window<"u"&&((s=window.event)==null?void 0:s.type)){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return US.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return US.ContinuousEventPriority;default:return US.DefaultEventPriority}},resetFormInstance(){}}),dp=new Map,Wm={objects:"shallow",strict:!1};function ZQ(s,e){if(!e&&typeof HTMLCanvasElement<"u"&&s instanceof HTMLCanvasElement&&s.parentElement){const{width:t,height:n,top:i,left:r}=s.parentElement.getBoundingClientRect();return{width:t,height:n,top:i,left:r}}else if(!e&&typeof OffscreenCanvas<"u"&&s instanceof OffscreenCanvas)return{width:s.width,height:s.height,top:0,left:0};return{width:0,height:0,top:0,left:0,...e}}function QQ(s){const e=dp.get(s),t=e==null?void 0:e.fiber,n=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const i=typeof reportError=="function"?reportError:console.error,r=n||zQ(O2,d4),a=t||qA.createContainer(r,US.ConcurrentRoot,null,!1,null,"",i,i,i,null);e||dp.set(s,{fiber:a,store:r});let l,u,h=!1,m=null;return{async configure(g={}){let v;m=new Promise(ie=>v=ie);let{gl:_,size:S,scene:b,events:M,onCreated:A,shadows:C=!1,linear:B=!1,flat:D=!1,legacy:N=!1,orthographic:U=!1,frameloop:F="always",dpr:z=[1,2],performance:O,raycaster:P,camera:q,onPointerMissed:ne}=g,te=r.getState(),ee=te.gl;if(!te.gl){const ie={canvas:s,powerPreference:"high-performance",antialias:!0,alpha:!0},ue=typeof _=="function"?await _(ie):_;l4(ue)?ee=ue:ee=new kw({...ie,..._}),te.set({gl:ee})}let oe=te.raycaster;oe||te.set({raycaster:oe=new Hw});const{params:H,...Y}=P||{};if(Gi.equ(Y,oe,Wm)||gc(oe,{...Y}),Gi.equ(H,oe.params,Wm)||gc(oe,{params:{...oe.params,...H}}),!te.camera||te.camera===u&&!Gi.equ(u,q,Wm)){u=q;const ie=q==null?void 0:q.isCamera,ue=ie?q:U?new Mp(0,0,0,0,.1,1e3):new Is(75,0,.1,1e3);ie||(ue.position.z=5,q&&(gc(ue,q),ue.manual||("aspect"in q||"left"in q||"right"in q||"bottom"in q||"top"in q)&&(ue.manual=!0,ue.updateProjectionMatrix())),!te.camera&&!(q!=null&&q.rotation)&&ue.lookAt(0,0,0)),te.set({camera:ue}),oe.camera=ue}if(!te.scene){let ie;b!=null&&b.isScene?(ie=b,jA(ie,r,"",{})):(ie=new d_,jA(ie,r,"",{}),b&&gc(ie,b)),te.set({scene:ie})}M&&!te.events.handlers&&te.set({events:M(r)});const Z=ZQ(s,S);if(Gi.equ(Z,te.size,Wm)||te.setSize(Z.width,Z.height,Z.top,Z.left),z&&te.viewport.dpr!==y6(z)&&te.setDpr(z),te.frameloop!==F&&te.setFrameloop(F),te.onPointerMissed||te.set({onPointerMissed:ne}),O&&!Gi.equ(O,te.performance,Wm)&&te.set(ie=>({performance:{...ie.performance,...O}})),!te.xr){var de;const ie=(se,xe)=>{const Ae=r.getState();Ae.frameloop!=="never"&&d4(se,!0,Ae,xe)},ue=()=>{const se=r.getState();se.gl.xr.enabled=se.gl.xr.isPresenting,se.gl.xr.setAnimationLoop(se.gl.xr.isPresenting?ie:null),se.gl.xr.isPresenting||O2(se)},_e={connect(){const se=r.getState().gl;se.xr.addEventListener("sessionstart",ue),se.xr.addEventListener("sessionend",ue)},disconnect(){const se=r.getState().gl;se.xr.removeEventListener("sessionstart",ue),se.xr.removeEventListener("sessionend",ue)}};typeof((de=ee.xr)==null?void 0:de.addEventListener)=="function"&&_e.connect(),te.set({xr:_e})}if(ee.shadowMap){const ie=ee.shadowMap.enabled,ue=ee.shadowMap.type;if(ee.shadowMap.enabled=!!C,Gi.boo(C))ee.shadowMap.type=hy;else if(Gi.str(C)){var I;const _e={basic:gU,percentage:fM,soft:hy,variance:El};ee.shadowMap.type=(I=_e[C])!=null?I:hy}else Gi.obj(C)&&Object.assign(ee.shadowMap,C);(ie!==ee.shadowMap.enabled||ue!==ee.shadowMap.type)&&(ee.shadowMap.needsUpdate=!0)}return qn.enabled=!N,h||(ee.outputColorSpace=B?Bl:ur,ee.toneMapping=D?Tc:QC),te.legacy!==N&&te.set(()=>({legacy:N})),te.linear!==B&&te.set(()=>({linear:B})),te.flat!==D&&te.set(()=>({flat:D})),_&&!Gi.fun(_)&&!l4(_)&&!Gi.equ(_,ee,Wm)&&gc(ee,_),l=A,h=!0,v(),this},render(g){return!h&&!m&&this.configure(),m.then(()=>{qA.updateContainer(k.jsx($Q,{store:r,children:g,onCreated:l,rootElement:s}),a,null,()=>{})}),r},unmount(){w6(s)}}}function $Q({store:s,children:e,onCreated:t,rootElement:n}){return M_(()=>{const i=s.getState();i.set(r=>({internal:{...r.internal,active:!0}})),t&&t(i),s.getState().events.connected||i.events.connect==null||i.events.connect(n)},[]),k.jsx(qw.Provider,{value:s,children:e})}function w6(s,e){const t=dp.get(s),n=t==null?void 0:t.fiber;if(n){const i=t==null?void 0:t.store.getState();i&&(i.internal.active=!1),qA.updateContainer(null,n,null,()=>{i&&setTimeout(()=>{try{var r,a,l,u;i.events.disconnect==null||i.events.disconnect(),(r=i.gl)==null||(a=r.renderLists)==null||a.dispose==null||a.dispose(),(l=i.gl)==null||l.forceContextLoss==null||l.forceContextLoss(),(u=i.gl)!=null&&u.xr&&i.xr.disconnect(),DQ(i.scene),dp.delete(s)}catch{}},500)})}}function e$(s,e,t){return k.jsx(t$,{children:s,container:e,state:t})}function t$({state:s={},children:e,container:t}){const{events:n,size:i,...r}=s,a=Ww(),[l]=J.useState(()=>new Hw),[u]=J.useState(()=>new at),h=Yw((g,v)=>{let _;if(v.camera&&i){const S=v.camera;_=g.viewport.getCurrentViewport(S,new ae,i),S!==g.camera&&x6(S,i)}return{...g,...v,scene:t,raycaster:l,pointer:u,mouse:u,previousRoot:a,events:{...g.events,...v.events,...n},size:{...g.size,...i},viewport:{...g.viewport,..._},setEvents:S=>v.set(b=>({...b,events:{...b.events,...S}}))}}),m=J.useMemo(()=>{const g=c6((_,S)=>({...r,set:_,get:S})),v=_=>g.setState(S=>h.current(_,S));return v(a.getState()),a.subscribe(v),g},[a,t]);return k.jsx(k.Fragment,{children:qA.createPortal(k.jsx(qw.Provider,{value:m,children:e}),m,null)})}const n$=new Set,i$=new Set,s$=new Set;function aT(s,e){if(s.size)for(const{callback:t}of s.values())t(e)}function Sy(s,e){switch(s){case"before":return aT(n$,e);case"after":return aT(i$,e);case"tail":return aT(s$,e)}}let oT,lT;function D2(s,e,t){let n=e.clock.getDelta();e.frameloop==="never"&&typeof s=="number"&&(n=s-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=s),oT=e.internal.subscribers;for(let i=0;i<oT.length;i++)lT=oT[i],lT.ref.current(lT.store.getState(),n,t);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}let WA=!1,N2=!1,cT,h4,Km;function R6(s){h4=requestAnimationFrame(R6),WA=!0,cT=0,Sy("before",s),N2=!0;for(const t of dp.values()){var e;Km=t.store.getState(),Km.internal.active&&(Km.frameloop==="always"||Km.internal.frames>0)&&!((e=Km.gl.xr)!=null&&e.isPresenting)&&(cT+=D2(s,Km))}if(N2=!1,Sy("after",s),cT===0)return Sy("tail",s),WA=!1,cancelAnimationFrame(h4)}function O2(s,e=1){var t;if(!s)return dp.forEach(n=>O2(n.store.getState(),e));(t=s.gl.xr)!=null&&t.isPresenting||!s.internal.active||s.frameloop==="never"||(e>1?s.internal.frames=Math.min(60,s.internal.frames+e):N2?s.internal.frames=2:s.internal.frames=1,WA||(WA=!0,requestAnimationFrame(R6)))}function d4(s,e=!0,t,n){if(e&&Sy("before",s),t)D2(s,t,n);else for(const i of dp.values())D2(s,i.store.getState());e&&Sy("after",s)}const uT={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function r$(s){const{handlePointer:e}=FQ(s);return{priority:1,enabled:!0,compute(t,n,i){n.pointer.set(t.offsetX/n.size.width*2-1,-(t.offsetY/n.size.height)*2+1),n.raycaster.setFromCamera(n.pointer,n.camera)},connected:void 0,handlers:Object.keys(uT).reduce((t,n)=>({...t,[n]:e(n)}),{}),update:()=>{var t;const{events:n,internal:i}=s.getState();(t=i.lastEvent)!=null&&t.current&&n.handlers&&n.handlers.onPointerMove(i.lastEvent.current)},connect:t=>{const{set:n,events:i}=s.getState();if(i.disconnect==null||i.disconnect(),n(r=>({events:{...r.events,connected:t}})),i.handlers)for(const r in i.handlers){const a=i.handlers[r],[l,u]=uT[r];t.addEventListener(l,a,{passive:u})}},disconnect:()=>{const{set:t,events:n}=s.getState();if(n.connected){if(n.handlers)for(const i in n.handlers){const r=n.handlers[i],[a]=uT[i];n.connected.removeEventListener(a,r)}t(i=>({events:{...i.events,connected:void 0}}))}}}}function p4(s,e){let t;return(...n)=>{window.clearTimeout(t),t=window.setTimeout(()=>s(...n),e)}}function a$({debounce:s,scroll:e,polyfill:t,offsetSize:n}={debounce:0,scroll:!1,offsetSize:!1}){const i=t||(typeof window>"u"?class{}:window.ResizeObserver);if(!i)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[r,a]=J.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),l=J.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:r,orientationHandler:null}),u=s?typeof s=="number"?s:s.scroll:null,h=s?typeof s=="number"?s:s.resize:null,m=J.useRef(!1);J.useEffect(()=>(m.current=!0,()=>void(m.current=!1)));const[g,v,_]=J.useMemo(()=>{const A=()=>{if(!l.current.element)return;const{left:C,top:B,width:D,height:N,bottom:U,right:F,x:z,y:O}=l.current.element.getBoundingClientRect(),P={left:C,top:B,width:D,height:N,bottom:U,right:F,x:z,y:O};l.current.element instanceof HTMLElement&&n&&(P.height=l.current.element.offsetHeight,P.width=l.current.element.offsetWidth),Object.freeze(P),m.current&&!u$(l.current.lastBounds,P)&&a(l.current.lastBounds=P)};return[A,h?p4(A,h):A,u?p4(A,u):A]},[a,n,u,h]);function S(){l.current.scrollContainers&&(l.current.scrollContainers.forEach(A=>A.removeEventListener("scroll",_,!0)),l.current.scrollContainers=null),l.current.resizeObserver&&(l.current.resizeObserver.disconnect(),l.current.resizeObserver=null),l.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",l.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",l.current.orientationHandler))}function b(){l.current.element&&(l.current.resizeObserver=new i(_),l.current.resizeObserver.observe(l.current.element),e&&l.current.scrollContainers&&l.current.scrollContainers.forEach(A=>A.addEventListener("scroll",_,{capture:!0,passive:!0})),l.current.orientationHandler=()=>{_()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",l.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",l.current.orientationHandler))}const M=A=>{!A||A===l.current.element||(S(),l.current.element=A,l.current.scrollContainers=B6(A),b())};return l$(_,!!e),o$(v),J.useEffect(()=>{S(),b()},[e,_,v]),J.useEffect(()=>S,[]),[M,r,g]}function o$(s){J.useEffect(()=>{const e=s;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[s])}function l$(s,e){J.useEffect(()=>{if(e){const t=s;return window.addEventListener("scroll",t,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",t,!0)}},[s,e])}function B6(s){const e=[];if(!s||s===document.body)return e;const{overflow:t,overflowX:n,overflowY:i}=window.getComputedStyle(s);return[t,n,i].some(r=>r==="auto"||r==="scroll")&&e.push(s),[...e,...B6(s.parentElement)]}const c$=["x","y","top","bottom","left","right","width","height"],u$=(s,e)=>c$.every(t=>s[t]===e[t]);function f$({ref:s,children:e,fallback:t,resize:n,style:i,gl:r,events:a=r$,eventSource:l,eventPrefix:u,shadows:h,linear:m,flat:g,legacy:v,orthographic:_,frameloop:S,dpr:b,performance:M,raycaster:A,camera:C,scene:B,onPointerMissed:D,onCreated:N,...U}){J.useMemo(()=>b6($Z),[]);const F=CQ(),[z,O]=a$({scroll:!0,debounce:{scroll:50,resize:0},...n}),P=J.useRef(null),q=J.useRef(null);J.useImperativeHandle(s,()=>P.current);const ne=Yw(D),[te,ee]=J.useState(!1),[oe,H]=J.useState(!1);if(te)throw te;if(oe)throw oe;const Y=J.useRef(null);M_(()=>{const de=P.current;if(O.width>0&&O.height>0&&de){Y.current||(Y.current=QQ(de));async function I(){await Y.current.configure({gl:r,scene:B,events:a,shadows:h,linear:m,flat:g,legacy:v,orthographic:_,frameloop:S,dpr:b,performance:M,raycaster:A,camera:C,size:O,onPointerMissed:(...ie)=>ne.current==null?void 0:ne.current(...ie),onCreated:ie=>{ie.events.connect==null||ie.events.connect(l?EQ(l)?l.current:l:q.current),u&&ie.setEvents({compute:(ue,_e)=>{const se=ue[u+"X"],xe=ue[u+"Y"];_e.pointer.set(se/_e.size.width*2-1,-(xe/_e.size.height)*2+1),_e.raycaster.setFromCamera(_e.pointer,_e.camera)}}),N==null||N(ie)}}),Y.current.render(k.jsx(F,{children:k.jsx(RQ,{set:H,children:k.jsx(J.Suspense,{fallback:k.jsx(wQ,{set:ee}),children:e??null})})}))}I()}}),J.useEffect(()=>{const de=P.current;if(de)return()=>w6(de)},[]);const Z=l?"none":"auto";return k.jsx("div",{ref:q,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:Z,...i},...U,children:k.jsx("div",{ref:z,style:{width:"100%",height:"100%"},children:k.jsx("canvas",{ref:P,style:{display:"block"},children:t})})})}function h$(s){return k.jsx(p6,{children:k.jsx(f$,{...s})})}const Jw=parseInt(qg.replace(/\D+/g,""));function m4(s,e){if(e===qU)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),s;if(e===HA||e===ow){let t=s.getIndex();if(t===null){const a=[],l=s.getAttribute("position");if(l!==void 0){for(let u=0;u<l.count;u++)a.push(u);s.setIndex(a),t=s.getIndex()}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),s}const n=t.count-2,i=[];if(t)if(e===HA)for(let a=1;a<=n;a++)i.push(t.getX(0)),i.push(t.getX(a)),i.push(t.getX(a+1));else for(let a=0;a<n;a++)a%2===0?(i.push(t.getX(a)),i.push(t.getX(a+1)),i.push(t.getX(a+2))):(i.push(t.getX(a+2)),i.push(t.getX(a+1)),i.push(t.getX(a)));i.length/3!==n&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const r=s.clone();return r.setIndex(i),r.clearGroups(),r}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",e),s}var ko=Uint8Array,jf=Uint16Array,L2=Uint32Array,D6=new ko([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),N6=new ko([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),d$=new ko([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),O6=function(s,e){for(var t=new jf(31),n=0;n<31;++n)t[n]=e+=1<<s[n-1];for(var i=new L2(t[30]),n=1;n<30;++n)for(var r=t[n];r<t[n+1];++r)i[r]=r-t[n]<<5|n;return[t,i]},L6=O6(D6,2),U6=L6[0],p$=L6[1];U6[28]=258,p$[258]=28;var m$=O6(N6,0),g$=m$[0],U2=new jf(32768);for(var Ui=0;Ui<32768;++Ui){var Bf=(Ui&43690)>>>1|(Ui&21845)<<1;Bf=(Bf&52428)>>>2|(Bf&13107)<<2,Bf=(Bf&61680)>>>4|(Bf&3855)<<4,U2[Ui]=((Bf&65280)>>>8|(Bf&255)<<8)>>>1}var Ay=function(s,e,t){for(var n=s.length,i=0,r=new jf(e);i<n;++i)++r[s[i]-1];var a=new jf(e);for(i=0;i<e;++i)a[i]=a[i-1]+r[i-1]<<1;var l;if(t){l=new jf(1<<e);var u=15-e;for(i=0;i<n;++i)if(s[i])for(var h=i<<4|s[i],m=e-s[i],g=a[s[i]-1]++<<m,v=g|(1<<m)-1;g<=v;++g)l[U2[g]>>>u]=h}else for(l=new jf(n),i=0;i<n;++i)s[i]&&(l[i]=U2[a[s[i]-1]++]>>>15-s[i]);return l},E_=new ko(288);for(var Ui=0;Ui<144;++Ui)E_[Ui]=8;for(var Ui=144;Ui<256;++Ui)E_[Ui]=9;for(var Ui=256;Ui<280;++Ui)E_[Ui]=7;for(var Ui=280;Ui<288;++Ui)E_[Ui]=8;var P6=new ko(32);for(var Ui=0;Ui<32;++Ui)P6[Ui]=5;var v$=Ay(E_,9,1),y$=Ay(P6,5,1),fT=function(s){for(var e=s[0],t=1;t<s.length;++t)s[t]>e&&(e=s[t]);return e},Al=function(s,e,t){var n=e/8|0;return(s[n]|s[n+1]<<8)>>(e&7)&t},hT=function(s,e){var t=e/8|0;return(s[t]|s[t+1]<<8|s[t+2]<<16)>>(e&7)},_$=function(s){return(s/8|0)+(s&7&&1)},x$=function(s,e,t){(t==null||t>s.length)&&(t=s.length);var n=new(s instanceof jf?jf:s instanceof L2?L2:ko)(t-e);return n.set(s.subarray(e,t)),n},S$=function(s,e,t){var n=s.length;if(!n||t&&!t.l&&n<5)return e||new ko(0);var i=!e||t,r=!t||t.i;t||(t={}),e||(e=new ko(n*3));var a=function(Ae){var Ee=e.length;if(Ae>Ee){var Ne=new ko(Math.max(Ee*2,Ae));Ne.set(e),e=Ne}},l=t.f||0,u=t.p||0,h=t.b||0,m=t.l,g=t.d,v=t.m,_=t.n,S=n*8;do{if(!m){t.f=l=Al(s,u,1);var b=Al(s,u+1,3);if(u+=3,b)if(b==1)m=v$,g=y$,v=9,_=5;else if(b==2){var B=Al(s,u,31)+257,D=Al(s,u+10,15)+4,N=B+Al(s,u+5,31)+1;u+=14;for(var U=new ko(N),F=new ko(19),z=0;z<D;++z)F[d$[z]]=Al(s,u+z*3,7);u+=D*3;for(var O=fT(F),P=(1<<O)-1,q=Ay(F,O,1),z=0;z<N;){var ne=q[Al(s,u,P)];u+=ne&15;var M=ne>>>4;if(M<16)U[z++]=M;else{var te=0,ee=0;for(M==16?(ee=3+Al(s,u,3),u+=2,te=U[z-1]):M==17?(ee=3+Al(s,u,7),u+=3):M==18&&(ee=11+Al(s,u,127),u+=7);ee--;)U[z++]=te}}var oe=U.subarray(0,B),H=U.subarray(B);v=fT(oe),_=fT(H),m=Ay(oe,v,1),g=Ay(H,_,1)}else throw"invalid block type";else{var M=_$(u)+4,A=s[M-4]|s[M-3]<<8,C=M+A;if(C>n){if(r)throw"unexpected EOF";break}i&&a(h+A),e.set(s.subarray(M,C),h),t.b=h+=A,t.p=u=C*8;continue}if(u>S){if(r)throw"unexpected EOF";break}}i&&a(h+131072);for(var Y=(1<<v)-1,Z=(1<<_)-1,de=u;;de=u){var te=m[hT(s,u)&Y],I=te>>>4;if(u+=te&15,u>S){if(r)throw"unexpected EOF";break}if(!te)throw"invalid length/literal";if(I<256)e[h++]=I;else if(I==256){de=u,m=null;break}else{var ie=I-254;if(I>264){var z=I-257,ue=D6[z];ie=Al(s,u,(1<<ue)-1)+U6[z],u+=ue}var _e=g[hT(s,u)&Z],se=_e>>>4;if(!_e)throw"invalid distance";u+=_e&15;var H=g$[se];if(se>3){var ue=N6[se];H+=hT(s,u)&(1<<ue)-1,u+=ue}if(u>S){if(r)throw"unexpected EOF";break}i&&a(h+131072);for(var xe=h+ie;h<xe;h+=4)e[h]=e[h-H],e[h+1]=e[h+1-H],e[h+2]=e[h+2-H],e[h+3]=e[h+3-H];h=xe}}t.l=m,t.p=de,t.b=h,m&&(l=1,t.m=v,t.d=g,t.n=_)}while(!l);return h==e.length?e:x$(e,0,h)},A$=new ko(0),M$=function(s){if((s[0]&15)!=8||s[0]>>>4>7||(s[0]<<8|s[1])%31)throw"invalid zlib data";if(s[1]&32)throw"invalid zlib data: preset dictionaries not supported"};function mS(s,e){return S$((M$(s),s.subarray(2,-4)),e)}var b$=typeof TextDecoder<"u"&&new TextDecoder,E$=0;try{b$.decode(A$,{stream:!0}),E$=1}catch{}const T$=s=>s&&s.isCubeTexture;class C$ extends ki{constructor(e,t){var n,i;const r=T$(e),l=((i=r?(n=e.image[0])==null?void 0:n.width:e.image.width)!=null?i:1024)/4,u=Math.floor(Math.log2(l)),h=Math.pow(2,u),m=3*Math.max(h,16*7),g=4*h,v=[r?"#define ENVMAP_TYPE_CUBE":"",`#define CUBEUV_TEXEL_WIDTH ${1/m}`,`#define CUBEUV_TEXEL_HEIGHT ${1/g}`,`#define CUBEUV_MAX_MIP ${u}.0`],_=`
        varying vec3 vWorldPosition;
        void main() 
        {
            vec4 worldPosition = ( modelMatrix * vec4( position, 1.0 ) );
            vWorldPosition = worldPosition.xyz;
            
            gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
        }
        `,S=v.join(`
`)+`
        #define ENVMAP_TYPE_CUBE_UV
        varying vec3 vWorldPosition;
        uniform float radius;
        uniform float height;
        uniform float angle;
        #ifdef ENVMAP_TYPE_CUBE
            uniform samplerCube map;
        #else
            uniform sampler2D map;
        #endif
        // From: https://www.shadertoy.com/view/4tsBD7
        float diskIntersectWithBackFaceCulling( vec3 ro, vec3 rd, vec3 c, vec3 n, float r ) 
        {
            float d = dot ( rd, n );
            
            if( d > 0.0 ) { return 1e6; }
            
            vec3  o = ro - c;
            float t = - dot( n, o ) / d;
            vec3  q = o + rd * t;
            
            return ( dot( q, q ) < r * r ) ? t : 1e6;
        }
        // From: https://www.iquilezles.org/www/articles/intersectors/intersectors.htm
        float sphereIntersect( vec3 ro, vec3 rd, vec3 ce, float ra ) 
        {
            vec3 oc = ro - ce;
            float b = dot( oc, rd );
            float c = dot( oc, oc ) - ra * ra;
            float h = b * b - c;
            
            if( h < 0.0 ) { return -1.0; }
            
            h = sqrt( h );
            
            return - b + h;
        }
        vec3 project() 
        {
            vec3 p = normalize( vWorldPosition );
            vec3 camPos = cameraPosition;
            camPos.y -= height;
            float intersection = sphereIntersect( camPos, p, vec3( 0.0 ), radius );
            if( intersection > 0.0 ) {
                
                vec3 h = vec3( 0.0, - height, 0.0 );
                float intersection2 = diskIntersectWithBackFaceCulling( camPos, p, h, vec3( 0.0, 1.0, 0.0 ), radius );
                p = ( camPos + min( intersection, intersection2 ) * p ) / radius;
            } else {
                p = vec3( 0.0, 1.0, 0.0 );
            }
            return p;
        }
        #include <common>
        #include <cube_uv_reflection_fragment>
        void main() 
        {
            vec3 projectedWorldPosition = project();
            
            #ifdef ENVMAP_TYPE_CUBE
                vec3 outcolor = textureCube( map, projectedWorldPosition ).rgb;
            #else
                vec3 direction = normalize( projectedWorldPosition );
                vec2 uv = equirectUv( direction );
                vec3 outcolor = texture2D( map, uv ).rgb;
            #endif
            gl_FragColor = vec4( outcolor, 1.0 );
            #include <tonemapping_fragment>
            #include <${Jw>=154?"colorspace_fragment":"encodings_fragment"}>
        }
        `,b={map:{value:e},height:{value:(t==null?void 0:t.height)||15},radius:{value:(t==null?void 0:t.radius)||100}},M=new __(1,16),A=new pa({uniforms:b,fragmentShader:S,vertexShader:_,side:Vo});super(M,A)}set radius(e){this.material.uniforms.radius.value=e}get radius(){return this.material.uniforms.radius.value}set height(e){this.material.uniforms.height.value=e}get height(){return this.material.uniforms.height.value}}function KA(s){if(typeof TextDecoder<"u")return new TextDecoder().decode(s);let e="";for(let t=0,n=s.length;t<n;t++)e+=String.fromCharCode(s[t]);try{return decodeURIComponent(escape(e))}catch{return e}}const kd="srgb",Au="srgb-linear",g4=3001,w$=3e3;class Zw extends gr{constructor(e){super(e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(t){return new O$(t)}),this.register(function(t){return new L$(t)}),this.register(function(t){return new k$(t)}),this.register(function(t){return new j$(t)}),this.register(function(t){return new X$(t)}),this.register(function(t){return new P$(t)}),this.register(function(t){return new I$(t)}),this.register(function(t){return new F$(t)}),this.register(function(t){return new z$(t)}),this.register(function(t){return new N$(t)}),this.register(function(t){return new H$(t)}),this.register(function(t){return new U$(t)}),this.register(function(t){return new V$(t)}),this.register(function(t){return new G$(t)}),this.register(function(t){return new B$(t)}),this.register(function(t){return new Y$(t)}),this.register(function(t){return new q$(t)})}load(e,t,n,i){const r=this;let a;if(this.resourcePath!=="")a=this.resourcePath;else if(this.path!==""){const h=Kf.extractUrlBase(e);a=Kf.resolveURL(h,this.path)}else a=Kf.extractUrlBase(e);this.manager.itemStart(e);const l=function(h){i?i(h):console.error(h),r.manager.itemError(e),r.manager.itemEnd(e)},u=new mr(this.manager);u.setPath(this.path),u.setResponseType("arraybuffer"),u.setRequestHeader(this.requestHeader),u.setWithCredentials(this.withCredentials),u.load(e,function(h){try{r.parse(h,a,function(m){t(m),r.manager.itemEnd(e)},l)}catch(m){l(m)}},n,l)}setDRACOLoader(e){return this.dracoLoader=e,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return this.pluginCallbacks.indexOf(e)===-1&&this.pluginCallbacks.push(e),this}unregister(e){return this.pluginCallbacks.indexOf(e)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,t,n,i){let r;const a={},l={};if(typeof e=="string")r=JSON.parse(e);else if(e instanceof ArrayBuffer)if(KA(new Uint8Array(e.slice(0,4)))===I6){try{a[Vn.KHR_BINARY_GLTF]=new W$(e)}catch(m){i&&i(m);return}r=JSON.parse(a[Vn.KHR_BINARY_GLTF].content)}else r=JSON.parse(KA(new Uint8Array(e)));else r=e;if(r.asset===void 0||r.asset.version[0]<2){i&&i(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const u=new oee(r,{path:t||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});u.fileLoader.setRequestHeader(this.requestHeader);for(let h=0;h<this.pluginCallbacks.length;h++){const m=this.pluginCallbacks[h](u);m.name||console.error("THREE.GLTFLoader: Invalid plugin found: missing name"),l[m.name]=m,a[m.name]=!0}if(r.extensionsUsed)for(let h=0;h<r.extensionsUsed.length;++h){const m=r.extensionsUsed[h],g=r.extensionsRequired||[];switch(m){case Vn.KHR_MATERIALS_UNLIT:a[m]=new D$;break;case Vn.KHR_DRACO_MESH_COMPRESSION:a[m]=new K$(r,this.dracoLoader);break;case Vn.KHR_TEXTURE_TRANSFORM:a[m]=new J$;break;case Vn.KHR_MESH_QUANTIZATION:a[m]=new Z$;break;default:g.indexOf(m)>=0&&l[m]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+m+'".')}}u.setExtensions(a),u.setPlugins(l),u.parse(n,i)}parseAsync(e,t){const n=this;return new Promise(function(i,r){n.parse(e,t,i,r)})}}function R$(){let s={};return{get:function(e){return s[e]},add:function(e,t){s[e]=t},remove:function(e){delete s[e]},removeAll:function(){s={}}}}const Vn={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_DISPERSION:"KHR_materials_dispersion",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_ANISOTROPY:"KHR_materials_anisotropy",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_MATERIALS_BUMP:"EXT_materials_bump",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_TEXTURE_AVIF:"EXT_texture_avif",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class B${constructor(e){this.parser=e,this.name=Vn.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const e=this.parser,t=this.parser.json.nodes||[];for(let n=0,i=t.length;n<i;n++){const r=t[n];r.extensions&&r.extensions[this.name]&&r.extensions[this.name].light!==void 0&&e._addNodeRef(this.cache,r.extensions[this.name].light)}}_loadLight(e){const t=this.parser,n="light:"+e;let i=t.cache.get(n);if(i)return i;const r=t.json,u=((r.extensions&&r.extensions[this.name]||{}).lights||[])[e];let h;const m=new Ct(16777215);u.color!==void 0&&m.setRGB(u.color[0],u.color[1],u.color[2],Au);const g=u.range!==void 0?u.range:0;switch(u.type){case"directional":h=new Lw(m),h.target.position.set(0,0,-1),h.add(h.target);break;case"point":h=new Ow(m),h.distance=g;break;case"spot":h=new Nw(m),h.distance=g,u.spot=u.spot||{},u.spot.innerConeAngle=u.spot.innerConeAngle!==void 0?u.spot.innerConeAngle:0,u.spot.outerConeAngle=u.spot.outerConeAngle!==void 0?u.spot.outerConeAngle:Math.PI/4,h.angle=u.spot.outerConeAngle,h.penumbra=1-u.spot.innerConeAngle/u.spot.outerConeAngle,h.target.position.set(0,0,-1),h.add(h.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+u.type)}return h.position.set(0,0,0),h.decay=2,uu(h,u),u.intensity!==void 0&&(h.intensity=u.intensity),h.name=t.createUniqueName(u.name||"light_"+e),i=Promise.resolve(h),t.cache.add(n,i),i}getDependency(e,t){if(e==="light")return this._loadLight(t)}createNodeAttachment(e){const t=this,n=this.parser,r=n.json.nodes[e],l=(r.extensions&&r.extensions[this.name]||{}).light;return l===void 0?null:this._loadLight(l).then(function(u){return n._getNodeRef(t.cache,l,u)})}}class D${constructor(){this.name=Vn.KHR_MATERIALS_UNLIT}getMaterialType(){return Oa}extendParams(e,t,n){const i=[];e.color=new Ct(1,1,1),e.opacity=1;const r=t.pbrMetallicRoughness;if(r){if(Array.isArray(r.baseColorFactor)){const a=r.baseColorFactor;e.color.setRGB(a[0],a[1],a[2],Au),e.opacity=a[3]}r.baseColorTexture!==void 0&&i.push(n.assignTexture(e,"map",r.baseColorTexture,kd))}return Promise.all(i)}}class N${constructor(e){this.parser=e,this.name=Vn.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(e,t){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const r=i.extensions[this.name].emissiveStrength;return r!==void 0&&(t.emissiveIntensity=r),Promise.resolve()}}class O${constructor(e){this.parser=e,this.name=Vn.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:mo}extendMaterialParams(e,t){const n=this.parser,i=n.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const r=[],a=i.extensions[this.name];if(a.clearcoatFactor!==void 0&&(t.clearcoat=a.clearcoatFactor),a.clearcoatTexture!==void 0&&r.push(n.assignTexture(t,"clearcoatMap",a.clearcoatTexture)),a.clearcoatRoughnessFactor!==void 0&&(t.clearcoatRoughness=a.clearcoatRoughnessFactor),a.clearcoatRoughnessTexture!==void 0&&r.push(n.assignTexture(t,"clearcoatRoughnessMap",a.clearcoatRoughnessTexture)),a.clearcoatNormalTexture!==void 0&&(r.push(n.assignTexture(t,"clearcoatNormalMap",a.clearcoatNormalTexture)),a.clearcoatNormalTexture.scale!==void 0)){const l=a.clearcoatNormalTexture.scale;t.clearcoatNormalScale=new at(l,l)}return Promise.all(r)}}class L${constructor(e){this.parser=e,this.name=Vn.KHR_MATERIALS_DISPERSION}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:mo}extendMaterialParams(e,t){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const r=i.extensions[this.name];return t.dispersion=r.dispersion!==void 0?r.dispersion:0,Promise.resolve()}}class U${constructor(e){this.parser=e,this.name=Vn.KHR_MATERIALS_IRIDESCENCE}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:mo}extendMaterialParams(e,t){const n=this.parser,i=n.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const r=[],a=i.extensions[this.name];return a.iridescenceFactor!==void 0&&(t.iridescence=a.iridescenceFactor),a.iridescenceTexture!==void 0&&r.push(n.assignTexture(t,"iridescenceMap",a.iridescenceTexture)),a.iridescenceIor!==void 0&&(t.iridescenceIOR=a.iridescenceIor),t.iridescenceThicknessRange===void 0&&(t.iridescenceThicknessRange=[100,400]),a.iridescenceThicknessMinimum!==void 0&&(t.iridescenceThicknessRange[0]=a.iridescenceThicknessMinimum),a.iridescenceThicknessMaximum!==void 0&&(t.iridescenceThicknessRange[1]=a.iridescenceThicknessMaximum),a.iridescenceThicknessTexture!==void 0&&r.push(n.assignTexture(t,"iridescenceThicknessMap",a.iridescenceThicknessTexture)),Promise.all(r)}}class P${constructor(e){this.parser=e,this.name=Vn.KHR_MATERIALS_SHEEN}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:mo}extendMaterialParams(e,t){const n=this.parser,i=n.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const r=[];t.sheenColor=new Ct(0,0,0),t.sheenRoughness=0,t.sheen=1;const a=i.extensions[this.name];if(a.sheenColorFactor!==void 0){const l=a.sheenColorFactor;t.sheenColor.setRGB(l[0],l[1],l[2],Au)}return a.sheenRoughnessFactor!==void 0&&(t.sheenRoughness=a.sheenRoughnessFactor),a.sheenColorTexture!==void 0&&r.push(n.assignTexture(t,"sheenColorMap",a.sheenColorTexture,kd)),a.sheenRoughnessTexture!==void 0&&r.push(n.assignTexture(t,"sheenRoughnessMap",a.sheenRoughnessTexture)),Promise.all(r)}}class I${constructor(e){this.parser=e,this.name=Vn.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:mo}extendMaterialParams(e,t){const n=this.parser,i=n.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const r=[],a=i.extensions[this.name];return a.transmissionFactor!==void 0&&(t.transmission=a.transmissionFactor),a.transmissionTexture!==void 0&&r.push(n.assignTexture(t,"transmissionMap",a.transmissionTexture)),Promise.all(r)}}class F${constructor(e){this.parser=e,this.name=Vn.KHR_MATERIALS_VOLUME}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:mo}extendMaterialParams(e,t){const n=this.parser,i=n.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const r=[],a=i.extensions[this.name];t.thickness=a.thicknessFactor!==void 0?a.thicknessFactor:0,a.thicknessTexture!==void 0&&r.push(n.assignTexture(t,"thicknessMap",a.thicknessTexture)),t.attenuationDistance=a.attenuationDistance||1/0;const l=a.attenuationColor||[1,1,1];return t.attenuationColor=new Ct().setRGB(l[0],l[1],l[2],Au),Promise.all(r)}}class z${constructor(e){this.parser=e,this.name=Vn.KHR_MATERIALS_IOR}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:mo}extendMaterialParams(e,t){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const r=i.extensions[this.name];return t.ior=r.ior!==void 0?r.ior:1.5,Promise.resolve()}}class H${constructor(e){this.parser=e,this.name=Vn.KHR_MATERIALS_SPECULAR}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:mo}extendMaterialParams(e,t){const n=this.parser,i=n.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const r=[],a=i.extensions[this.name];t.specularIntensity=a.specularFactor!==void 0?a.specularFactor:1,a.specularTexture!==void 0&&r.push(n.assignTexture(t,"specularIntensityMap",a.specularTexture));const l=a.specularColorFactor||[1,1,1];return t.specularColor=new Ct().setRGB(l[0],l[1],l[2],Au),a.specularColorTexture!==void 0&&r.push(n.assignTexture(t,"specularColorMap",a.specularColorTexture,kd)),Promise.all(r)}}class G${constructor(e){this.parser=e,this.name=Vn.EXT_MATERIALS_BUMP}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:mo}extendMaterialParams(e,t){const n=this.parser,i=n.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const r=[],a=i.extensions[this.name];return t.bumpScale=a.bumpFactor!==void 0?a.bumpFactor:1,a.bumpTexture!==void 0&&r.push(n.assignTexture(t,"bumpMap",a.bumpTexture)),Promise.all(r)}}class V${constructor(e){this.parser=e,this.name=Vn.KHR_MATERIALS_ANISOTROPY}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:mo}extendMaterialParams(e,t){const n=this.parser,i=n.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const r=[],a=i.extensions[this.name];return a.anisotropyStrength!==void 0&&(t.anisotropy=a.anisotropyStrength),a.anisotropyRotation!==void 0&&(t.anisotropyRotation=a.anisotropyRotation),a.anisotropyTexture!==void 0&&r.push(n.assignTexture(t,"anisotropyMap",a.anisotropyTexture)),Promise.all(r)}}class k${constructor(e){this.parser=e,this.name=Vn.KHR_TEXTURE_BASISU}loadTexture(e){const t=this.parser,n=t.json,i=n.textures[e];if(!i.extensions||!i.extensions[this.name])return null;const r=i.extensions[this.name],a=t.options.ktx2Loader;if(!a){if(n.extensionsRequired&&n.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return t.loadTextureImage(e,r.source,a)}}class j${constructor(e){this.parser=e,this.name=Vn.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(e){const t=this.name,n=this.parser,i=n.json,r=i.textures[e];if(!r.extensions||!r.extensions[t])return null;const a=r.extensions[t],l=i.images[a.source];let u=n.textureLoader;if(l.uri){const h=n.options.manager.getHandler(l.uri);h!==null&&(u=h)}return this.detectSupport().then(function(h){if(h)return n.loadTextureImage(e,a.source,u);if(i.extensionsRequired&&i.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return n.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",t.onload=t.onerror=function(){e(t.height===1)}})),this.isSupported}}class X${constructor(e){this.parser=e,this.name=Vn.EXT_TEXTURE_AVIF,this.isSupported=null}loadTexture(e){const t=this.name,n=this.parser,i=n.json,r=i.textures[e];if(!r.extensions||!r.extensions[t])return null;const a=r.extensions[t],l=i.images[a.source];let u=n.textureLoader;if(l.uri){const h=n.options.manager.getHandler(l.uri);h!==null&&(u=h)}return this.detectSupport().then(function(h){if(h)return n.loadTextureImage(e,a.source,u);if(i.extensionsRequired&&i.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: AVIF required by asset but unsupported.");return n.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAABcAAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAEAAAABAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAAB9tZGF0EgAKCBgABogQEDQgMgkQAAAAB8dSLfI=",t.onload=t.onerror=function(){e(t.height===1)}})),this.isSupported}}class Y${constructor(e){this.name=Vn.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){const t=this.parser.json,n=t.bufferViews[e];if(n.extensions&&n.extensions[this.name]){const i=n.extensions[this.name],r=this.parser.getDependency("buffer",i.buffer),a=this.parser.options.meshoptDecoder;if(!a||!a.supported){if(t.extensionsRequired&&t.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return r.then(function(l){const u=i.byteOffset||0,h=i.byteLength||0,m=i.count,g=i.byteStride,v=new Uint8Array(l,u,h);return a.decodeGltfBufferAsync?a.decodeGltfBufferAsync(m,g,v,i.mode,i.filter).then(function(_){return _.buffer}):a.ready.then(function(){const _=new ArrayBuffer(m*g);return a.decodeGltfBuffer(new Uint8Array(_),m,g,v,i.mode,i.filter),_})})}else return null}}class q${constructor(e){this.name=Vn.EXT_MESH_GPU_INSTANCING,this.parser=e}createNodeMesh(e){const t=this.parser.json,n=t.nodes[e];if(!n.extensions||!n.extensions[this.name]||n.mesh===void 0)return null;const i=t.meshes[n.mesh];for(const h of i.primitives)if(h.mode!==zo.TRIANGLES&&h.mode!==zo.TRIANGLE_STRIP&&h.mode!==zo.TRIANGLE_FAN&&h.mode!==void 0)return null;const a=n.extensions[this.name].attributes,l=[],u={};for(const h in a)l.push(this.parser.getDependency("accessor",a[h]).then(m=>(u[h]=m,u[h])));return l.length<1?null:(l.push(this.parser.createNodeMesh(e)),Promise.all(l).then(h=>{const m=h.pop(),g=m.isGroup?m.children:[m],v=h[0].count,_=[];for(const S of g){const b=new sn,M=new ae,A=new Ir,C=new ae(1,1,1),B=new mw(S.geometry,S.material,v);for(let D=0;D<v;D++)u.TRANSLATION&&M.fromBufferAttribute(u.TRANSLATION,D),u.ROTATION&&A.fromBufferAttribute(u.ROTATION,D),u.SCALE&&C.fromBufferAttribute(u.SCALE,D),B.setMatrixAt(D,b.compose(M,A,C));for(const D in u)if(D==="_COLOR_0"){const N=u[D];B.instanceColor=new lp(N.array,N.itemSize,N.normalized)}else D!=="TRANSLATION"&&D!=="ROTATION"&&D!=="SCALE"&&S.geometry.setAttribute(D,u[D]);Kn.prototype.copy.call(B,S),this.parser.assignFinalMaterial(B),_.push(B)}return m.isGroup?(m.clear(),m.add(..._),m):_[0]}))}}const I6="glTF",Dv=12,v4={JSON:1313821514,BIN:5130562};class W${constructor(e){this.name=Vn.KHR_BINARY_GLTF,this.content=null,this.body=null;const t=new DataView(e,0,Dv);if(this.header={magic:KA(new Uint8Array(e.slice(0,4))),version:t.getUint32(4,!0),length:t.getUint32(8,!0)},this.header.magic!==I6)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const n=this.header.length-Dv,i=new DataView(e,Dv);let r=0;for(;r<n;){const a=i.getUint32(r,!0);r+=4;const l=i.getUint32(r,!0);if(r+=4,l===v4.JSON){const u=new Uint8Array(e,Dv+r,a);this.content=KA(u)}else if(l===v4.BIN){const u=Dv+r;this.body=e.slice(u,u+a)}r+=a}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class K${constructor(e,t){if(!t)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=Vn.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=t,this.dracoLoader.preload()}decodePrimitive(e,t){const n=this.json,i=this.dracoLoader,r=e.extensions[this.name].bufferView,a=e.extensions[this.name].attributes,l={},u={},h={};for(const m in a){const g=P2[m]||m.toLowerCase();l[g]=a[m]}for(const m in e.attributes){const g=P2[m]||m.toLowerCase();if(a[m]!==void 0){const v=n.accessors[e.attributes[m]],_=gg[v.componentType];h[g]=_.name,u[g]=v.normalized===!0}}return t.getDependency("bufferView",r).then(function(m){return new Promise(function(g,v){i.decodeDracoFile(m,function(_){for(const S in _.attributes){const b=_.attributes[S],M=u[S];M!==void 0&&(b.normalized=M)}g(_)},l,h,Au,v)})})}}class J${constructor(){this.name=Vn.KHR_TEXTURE_TRANSFORM}extendTexture(e,t){return(t.texCoord===void 0||t.texCoord===e.channel)&&t.offset===void 0&&t.rotation===void 0&&t.scale===void 0||(e=e.clone(),t.texCoord!==void 0&&(e.channel=t.texCoord),t.offset!==void 0&&e.offset.fromArray(t.offset),t.rotation!==void 0&&(e.rotation=t.rotation),t.scale!==void 0&&e.repeat.fromArray(t.scale),e.needsUpdate=!0),e}}class Z${constructor(){this.name=Vn.KHR_MESH_QUANTIZATION}}class F6 extends Jg{constructor(e,t,n,i){super(e,t,n,i)}copySampleValue_(e){const t=this.resultBuffer,n=this.sampleValues,i=this.valueSize,r=e*i*3+i;for(let a=0;a!==i;a++)t[a]=n[r+a];return t}interpolate_(e,t,n,i){const r=this.resultBuffer,a=this.sampleValues,l=this.valueSize,u=l*2,h=l*3,m=i-t,g=(n-t)/m,v=g*g,_=v*g,S=e*h,b=S-h,M=-2*_+3*v,A=_-v,C=1-M,B=A-v+g;for(let D=0;D!==l;D++){const N=a[b+D+l],U=a[b+D+u]*m,F=a[S+D+l],z=a[S+D]*m;r[D]=C*N+B*U+M*F+A*z}return r}}const Q$=new Ir;class $$ extends F6{interpolate_(e,t,n,i){const r=super.interpolate_(e,t,n,i);return Q$.fromArray(r).normalize().toArray(r),r}}const zo={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6},gg={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},y4={9728:Js,9729:fi,9984:hM,9985:pg,9986:Id,9987:Xo},_4={33071:ps,33648:Rg,10497:sh},dT={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},P2={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",...Jw>=152?{TEXCOORD_0:"uv",TEXCOORD_1:"uv1",TEXCOORD_2:"uv2",TEXCOORD_3:"uv3"}:{TEXCOORD_0:"uv",TEXCOORD_1:"uv2"},COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},Df={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},eee={CUBICSPLINE:void 0,LINEAR:Ug,STEP:Lg},pT={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function tee(s){return s.DefaultMaterial===void 0&&(s.DefaultMaterial=new A_({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:Rc})),s.DefaultMaterial}function Ad(s,e,t){for(const n in t.extensions)s[n]===void 0&&(e.userData.gltfExtensions=e.userData.gltfExtensions||{},e.userData.gltfExtensions[n]=t.extensions[n])}function uu(s,e){e.extras!==void 0&&(typeof e.extras=="object"?Object.assign(s.userData,e.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+e.extras))}function nee(s,e,t){let n=!1,i=!1,r=!1;for(let h=0,m=e.length;h<m;h++){const g=e[h];if(g.POSITION!==void 0&&(n=!0),g.NORMAL!==void 0&&(i=!0),g.COLOR_0!==void 0&&(r=!0),n&&i&&r)break}if(!n&&!i&&!r)return Promise.resolve(s);const a=[],l=[],u=[];for(let h=0,m=e.length;h<m;h++){const g=e[h];if(n){const v=g.POSITION!==void 0?t.getDependency("accessor",g.POSITION):s.attributes.position;a.push(v)}if(i){const v=g.NORMAL!==void 0?t.getDependency("accessor",g.NORMAL):s.attributes.normal;l.push(v)}if(r){const v=g.COLOR_0!==void 0?t.getDependency("accessor",g.COLOR_0):s.attributes.color;u.push(v)}}return Promise.all([Promise.all(a),Promise.all(l),Promise.all(u)]).then(function(h){const m=h[0],g=h[1],v=h[2];return n&&(s.morphAttributes.position=m),i&&(s.morphAttributes.normal=g),r&&(s.morphAttributes.color=v),s.morphTargetsRelative=!0,s})}function iee(s,e){if(s.updateMorphTargets(),e.weights!==void 0)for(let t=0,n=e.weights.length;t<n;t++)s.morphTargetInfluences[t]=e.weights[t];if(e.extras&&Array.isArray(e.extras.targetNames)){const t=e.extras.targetNames;if(s.morphTargetInfluences.length===t.length){s.morphTargetDictionary={};for(let n=0,i=t.length;n<i;n++)s.morphTargetDictionary[t[n]]=n}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function see(s){let e;const t=s.extensions&&s.extensions[Vn.KHR_DRACO_MESH_COMPRESSION];if(t?e="draco:"+t.bufferView+":"+t.indices+":"+mT(t.attributes):e=s.indices+":"+mT(s.attributes)+":"+s.mode,s.targets!==void 0)for(let n=0,i=s.targets.length;n<i;n++)e+=":"+mT(s.targets[n]);return e}function mT(s){let e="";const t=Object.keys(s).sort();for(let n=0,i=t.length;n<i;n++)e+=t[n]+":"+s[t[n]]+";";return e}function I2(s){switch(s){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function ree(s){return s.search(/\.jpe?g($|\?)/i)>0||s.search(/^data\:image\/jpeg/)===0?"image/jpeg":s.search(/\.webp($|\?)/i)>0||s.search(/^data\:image\/webp/)===0?"image/webp":"image/png"}const aee=new sn;class oee{constructor(e={},t={}){this.json=e,this.extensions={},this.plugins={},this.options=t,this.cache=new R$,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let n=!1,i=!1,r=-1;typeof navigator<"u"&&typeof navigator.userAgent<"u"&&(n=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)===!0,i=navigator.userAgent.indexOf("Firefox")>-1,r=i?navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1]:-1),typeof createImageBitmap>"u"||n||i&&r<98?this.textureLoader=new k8(this.options.manager):this.textureLoader=new Z8(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new mr(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,t){const n=this,i=this.json,r=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll(function(a){return a._markDefs&&a._markDefs()}),Promise.all(this._invokeAll(function(a){return a.beforeRoot&&a.beforeRoot()})).then(function(){return Promise.all([n.getDependencies("scene"),n.getDependencies("animation"),n.getDependencies("camera")])}).then(function(a){const l={scene:a[0][i.scene||0],scenes:a[0],animations:a[1],cameras:a[2],asset:i.asset,parser:n,userData:{}};return Ad(r,l,i),uu(l,i),Promise.all(n._invokeAll(function(u){return u.afterRoot&&u.afterRoot(l)})).then(function(){for(const u of l.scenes)u.updateMatrixWorld();e(l)})}).catch(t)}_markDefs(){const e=this.json.nodes||[],t=this.json.skins||[],n=this.json.meshes||[];for(let i=0,r=t.length;i<r;i++){const a=t[i].joints;for(let l=0,u=a.length;l<u;l++)e[a[l]].isBone=!0}for(let i=0,r=e.length;i<r;i++){const a=e[i];a.mesh!==void 0&&(this._addNodeRef(this.meshCache,a.mesh),a.skin!==void 0&&(n[a.mesh].isSkinnedMesh=!0)),a.camera!==void 0&&this._addNodeRef(this.cameraCache,a.camera)}}_addNodeRef(e,t){t!==void 0&&(e.refs[t]===void 0&&(e.refs[t]=e.uses[t]=0),e.refs[t]++)}_getNodeRef(e,t,n){if(e.refs[t]<=1)return n;const i=n.clone(),r=(a,l)=>{const u=this.associations.get(a);u!=null&&this.associations.set(l,u);for(const[h,m]of a.children.entries())r(m,l.children[h])};return r(n,i),i.name+="_instance_"+e.uses[t]++,i}_invokeOne(e){const t=Object.values(this.plugins);t.push(this);for(let n=0;n<t.length;n++){const i=e(t[n]);if(i)return i}return null}_invokeAll(e){const t=Object.values(this.plugins);t.unshift(this);const n=[];for(let i=0;i<t.length;i++){const r=e(t[i]);r&&n.push(r)}return n}getDependency(e,t){const n=e+":"+t;let i=this.cache.get(n);if(!i){switch(e){case"scene":i=this.loadScene(t);break;case"node":i=this._invokeOne(function(r){return r.loadNode&&r.loadNode(t)});break;case"mesh":i=this._invokeOne(function(r){return r.loadMesh&&r.loadMesh(t)});break;case"accessor":i=this.loadAccessor(t);break;case"bufferView":i=this._invokeOne(function(r){return r.loadBufferView&&r.loadBufferView(t)});break;case"buffer":i=this.loadBuffer(t);break;case"material":i=this._invokeOne(function(r){return r.loadMaterial&&r.loadMaterial(t)});break;case"texture":i=this._invokeOne(function(r){return r.loadTexture&&r.loadTexture(t)});break;case"skin":i=this.loadSkin(t);break;case"animation":i=this._invokeOne(function(r){return r.loadAnimation&&r.loadAnimation(t)});break;case"camera":i=this.loadCamera(t);break;default:if(i=this._invokeOne(function(r){return r!=this&&r.getDependency&&r.getDependency(e,t)}),!i)throw new Error("Unknown type: "+e);break}this.cache.add(n,i)}return i}getDependencies(e){let t=this.cache.get(e);if(!t){const n=this,i=this.json[e+(e==="mesh"?"es":"s")]||[];t=Promise.all(i.map(function(r,a){return n.getDependency(e,a)})),this.cache.add(e,t)}return t}loadBuffer(e){const t=this.json.buffers[e],n=this.fileLoader;if(t.type&&t.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+t.type+" buffer type is not supported.");if(t.uri===void 0&&e===0)return Promise.resolve(this.extensions[Vn.KHR_BINARY_GLTF].body);const i=this.options;return new Promise(function(r,a){n.load(Kf.resolveURL(t.uri,i.path),r,void 0,function(){a(new Error('THREE.GLTFLoader: Failed to load buffer "'+t.uri+'".'))})})}loadBufferView(e){const t=this.json.bufferViews[e];return this.getDependency("buffer",t.buffer).then(function(n){const i=t.byteLength||0,r=t.byteOffset||0;return n.slice(r,r+i)})}loadAccessor(e){const t=this,n=this.json,i=this.json.accessors[e];if(i.bufferView===void 0&&i.sparse===void 0){const a=dT[i.type],l=gg[i.componentType],u=i.normalized===!0,h=new l(i.count*a);return Promise.resolve(new ni(h,a,u))}const r=[];return i.bufferView!==void 0?r.push(this.getDependency("bufferView",i.bufferView)):r.push(null),i.sparse!==void 0&&(r.push(this.getDependency("bufferView",i.sparse.indices.bufferView)),r.push(this.getDependency("bufferView",i.sparse.values.bufferView))),Promise.all(r).then(function(a){const l=a[0],u=dT[i.type],h=gg[i.componentType],m=h.BYTES_PER_ELEMENT,g=m*u,v=i.byteOffset||0,_=i.bufferView!==void 0?n.bufferViews[i.bufferView].byteStride:void 0,S=i.normalized===!0;let b,M;if(_&&_!==g){const A=Math.floor(v/_),C="InterleavedBuffer:"+i.bufferView+":"+i.componentType+":"+A+":"+i.count;let B=t.cache.get(C);B||(b=new h(l,A*_,i.count*_/m),B=new p_(b,_/m),t.cache.add(C,B)),M=new rh(B,u,v%_/m,S)}else l===null?b=new h(i.count*u):b=new h(l,v,i.count*u),M=new ni(b,u,S);if(i.sparse!==void 0){const A=dT.SCALAR,C=gg[i.sparse.indices.componentType],B=i.sparse.indices.byteOffset||0,D=i.sparse.values.byteOffset||0,N=new C(a[1],B,i.sparse.count*A),U=new h(a[2],D,i.sparse.count*u);l!==null&&(M=new ni(M.array.slice(),M.itemSize,M.normalized));for(let F=0,z=N.length;F<z;F++){const O=N[F];if(M.setX(O,U[F*u]),u>=2&&M.setY(O,U[F*u+1]),u>=3&&M.setZ(O,U[F*u+2]),u>=4&&M.setW(O,U[F*u+3]),u>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return M})}loadTexture(e){const t=this.json,n=this.options,r=t.textures[e].source,a=t.images[r];let l=this.textureLoader;if(a.uri){const u=n.manager.getHandler(a.uri);u!==null&&(l=u)}return this.loadTextureImage(e,r,l)}loadTextureImage(e,t,n){const i=this,r=this.json,a=r.textures[e],l=r.images[t],u=(l.uri||l.bufferView)+":"+a.sampler;if(this.textureCache[u])return this.textureCache[u];const h=this.loadImageSource(t,n).then(function(m){m.flipY=!1,m.name=a.name||l.name||"",m.name===""&&typeof l.uri=="string"&&l.uri.startsWith("data:image/")===!1&&(m.name=l.uri);const v=(r.samplers||{})[a.sampler]||{};return m.magFilter=y4[v.magFilter]||fi,m.minFilter=y4[v.minFilter]||Xo,m.wrapS=_4[v.wrapS]||sh,m.wrapT=_4[v.wrapT]||sh,i.associations.set(m,{textures:e}),m}).catch(function(){return null});return this.textureCache[u]=h,h}loadImageSource(e,t){const n=this,i=this.json,r=this.options;if(this.sourceCache[e]!==void 0)return this.sourceCache[e].then(g=>g.clone());const a=i.images[e],l=self.URL||self.webkitURL;let u=a.uri||"",h=!1;if(a.bufferView!==void 0)u=n.getDependency("bufferView",a.bufferView).then(function(g){h=!0;const v=new Blob([g],{type:a.mimeType});return u=l.createObjectURL(v),u});else if(a.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");const m=Promise.resolve(u).then(function(g){return new Promise(function(v,_){let S=v;t.isImageBitmapLoader===!0&&(S=function(b){const M=new pi(b);M.needsUpdate=!0,v(M)}),t.load(Kf.resolveURL(g,r.path),S,void 0,_)})}).then(function(g){return h===!0&&l.revokeObjectURL(u),uu(g,a),g.userData.mimeType=a.mimeType||ree(a.uri),g}).catch(function(g){throw console.error("THREE.GLTFLoader: Couldn't load texture",u),g});return this.sourceCache[e]=m,m}assignTexture(e,t,n,i){const r=this;return this.getDependency("texture",n.index).then(function(a){if(!a)return null;if(n.texCoord!==void 0&&n.texCoord>0&&(a=a.clone(),a.channel=n.texCoord),r.extensions[Vn.KHR_TEXTURE_TRANSFORM]){const l=n.extensions!==void 0?n.extensions[Vn.KHR_TEXTURE_TRANSFORM]:void 0;if(l){const u=r.associations.get(a);a=r.extensions[Vn.KHR_TEXTURE_TRANSFORM].extendTexture(a,l),r.associations.set(a,u)}}return i!==void 0&&(typeof i=="number"&&(i=i===g4?kd:Au),"colorSpace"in a?a.colorSpace=i:a.encoding=i===kd?g4:w$),e[t]=a,a})}assignFinalMaterial(e){const t=e.geometry;let n=e.material;const i=t.attributes.tangent===void 0,r=t.attributes.color!==void 0,a=t.attributes.normal===void 0;if(e.isPoints){const l="PointsMaterial:"+n.uuid;let u=this.cache.get(l);u||(u=new v_,Fs.prototype.copy.call(u,n),u.color.copy(n.color),u.map=n.map,u.sizeAttenuation=!1,this.cache.add(l,u)),n=u}else if(e.isLine){const l="LineBasicMaterial:"+n.uuid;let u=this.cache.get(l);u||(u=new zr,Fs.prototype.copy.call(u,n),u.color.copy(n.color),u.map=n.map,this.cache.add(l,u)),n=u}if(i||r||a){let l="ClonedMaterial:"+n.uuid+":";i&&(l+="derivative-tangents:"),r&&(l+="vertex-colors:"),a&&(l+="flat-shading:");let u=this.cache.get(l);u||(u=n.clone(),r&&(u.vertexColors=!0),a&&(u.flatShading=!0),i&&(u.normalScale&&(u.normalScale.y*=-1),u.clearcoatNormalScale&&(u.clearcoatNormalScale.y*=-1)),this.cache.add(l,u),this.associations.set(u,this.associations.get(n))),n=u}e.material=n}getMaterialType(){return A_}loadMaterial(e){const t=this,n=this.json,i=this.extensions,r=n.materials[e];let a;const l={},u=r.extensions||{},h=[];if(u[Vn.KHR_MATERIALS_UNLIT]){const g=i[Vn.KHR_MATERIALS_UNLIT];a=g.getMaterialType(),h.push(g.extendParams(l,r,t))}else{const g=r.pbrMetallicRoughness||{};if(l.color=new Ct(1,1,1),l.opacity=1,Array.isArray(g.baseColorFactor)){const v=g.baseColorFactor;l.color.setRGB(v[0],v[1],v[2],Au),l.opacity=v[3]}g.baseColorTexture!==void 0&&h.push(t.assignTexture(l,"map",g.baseColorTexture,kd)),l.metalness=g.metallicFactor!==void 0?g.metallicFactor:1,l.roughness=g.roughnessFactor!==void 0?g.roughnessFactor:1,g.metallicRoughnessTexture!==void 0&&(h.push(t.assignTexture(l,"metalnessMap",g.metallicRoughnessTexture)),h.push(t.assignTexture(l,"roughnessMap",g.metallicRoughnessTexture))),a=this._invokeOne(function(v){return v.getMaterialType&&v.getMaterialType(e)}),h.push(Promise.all(this._invokeAll(function(v){return v.extendMaterialParams&&v.extendMaterialParams(e,l)})))}r.doubleSided===!0&&(l.side=Vo);const m=r.alphaMode||pT.OPAQUE;if(m===pT.BLEND?(l.transparent=!0,l.depthWrite=!1):(l.transparent=!1,m===pT.MASK&&(l.alphaTest=r.alphaCutoff!==void 0?r.alphaCutoff:.5)),r.normalTexture!==void 0&&a!==Oa&&(h.push(t.assignTexture(l,"normalMap",r.normalTexture)),l.normalScale=new at(1,1),r.normalTexture.scale!==void 0)){const g=r.normalTexture.scale;l.normalScale.set(g,g)}if(r.occlusionTexture!==void 0&&a!==Oa&&(h.push(t.assignTexture(l,"aoMap",r.occlusionTexture)),r.occlusionTexture.strength!==void 0&&(l.aoMapIntensity=r.occlusionTexture.strength)),r.emissiveFactor!==void 0&&a!==Oa){const g=r.emissiveFactor;l.emissive=new Ct().setRGB(g[0],g[1],g[2],Au)}return r.emissiveTexture!==void 0&&a!==Oa&&h.push(t.assignTexture(l,"emissiveMap",r.emissiveTexture,kd)),Promise.all(h).then(function(){const g=new a(l);return r.name&&(g.name=r.name),uu(g,r),t.associations.set(g,{materials:e}),r.extensions&&Ad(i,g,r),g})}createUniqueName(e){const t=$n.sanitizeNodeName(e||"");return t in this.nodeNamesUsed?t+"_"+ ++this.nodeNamesUsed[t]:(this.nodeNamesUsed[t]=0,t)}loadGeometries(e){const t=this,n=this.extensions,i=this.primitiveCache;function r(l){return n[Vn.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(l,t).then(function(u){return x4(u,l,t)})}const a=[];for(let l=0,u=e.length;l<u;l++){const h=e[l],m=see(h),g=i[m];if(g)a.push(g.promise);else{let v;h.extensions&&h.extensions[Vn.KHR_DRACO_MESH_COMPRESSION]?v=r(h):v=x4(new En,h,t),i[m]={primitive:h,promise:v},a.push(v)}}return Promise.all(a)}loadMesh(e){const t=this,n=this.json,i=this.extensions,r=n.meshes[e],a=r.primitives,l=[];for(let u=0,h=a.length;u<h;u++){const m=a[u].material===void 0?tee(this.cache):this.getDependency("material",a[u].material);l.push(m)}return l.push(t.loadGeometries(a)),Promise.all(l).then(function(u){const h=u.slice(0,u.length-1),m=u[u.length-1],g=[];for(let _=0,S=m.length;_<S;_++){const b=m[_],M=a[_];let A;const C=h[_];if(M.mode===zo.TRIANGLES||M.mode===zo.TRIANGLE_STRIP||M.mode===zo.TRIANGLE_FAN||M.mode===void 0)A=r.isSkinnedMesh===!0?new pw(b,C):new ki(b,C),A.isSkinnedMesh===!0&&A.normalizeSkinWeights(),M.mode===zo.TRIANGLE_STRIP?A.geometry=m4(A.geometry,ow):M.mode===zo.TRIANGLE_FAN&&(A.geometry=m4(A.geometry,HA));else if(M.mode===zo.LINES)A=new Dl(b,C);else if(M.mode===zo.LINE_STRIP)A=new Cu(b,C);else if(M.mode===zo.LINE_LOOP)A=new gw(b,C);else if(M.mode===zo.POINTS)A=new vw(b,C);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+M.mode);Object.keys(A.geometry.morphAttributes).length>0&&iee(A,r),A.name=t.createUniqueName(r.name||"mesh_"+e),uu(A,r),M.extensions&&Ad(i,A,M),t.assignFinalMaterial(A),g.push(A)}for(let _=0,S=g.length;_<S;_++)t.associations.set(g[_],{meshes:e,primitives:_});if(g.length===1)return r.extensions&&Ad(i,g[0],r),g[0];const v=new gu;r.extensions&&Ad(i,v,r),t.associations.set(v,{meshes:e});for(let _=0,S=g.length;_<S;_++)v.add(g[_]);return v})}loadCamera(e){let t;const n=this.json.cameras[e],i=n[n.type];if(!i){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return n.type==="perspective"?t=new Is(s8.radToDeg(i.yfov),i.aspectRatio||1,i.znear||1,i.zfar||2e6):n.type==="orthographic"&&(t=new Mp(-i.xmag,i.xmag,i.ymag,-i.ymag,i.znear,i.zfar)),n.name&&(t.name=this.createUniqueName(n.name)),uu(t,n),Promise.resolve(t)}loadSkin(e){const t=this.json.skins[e],n=[];for(let i=0,r=t.joints.length;i<r;i++)n.push(this._loadNodeShallow(t.joints[i]));return t.inverseBindMatrices!==void 0?n.push(this.getDependency("accessor",t.inverseBindMatrices)):n.push(null),Promise.all(n).then(function(i){const r=i.pop(),a=i,l=[],u=[];for(let h=0,m=a.length;h<m;h++){const g=a[h];if(g){l.push(g);const v=new sn;r!==null&&v.fromArray(r.array,h*16),u.push(v)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',t.joints[h])}return new m_(l,u)})}loadAnimation(e){const t=this.json,n=this,i=t.animations[e],r=i.name?i.name:"animation_"+e,a=[],l=[],u=[],h=[],m=[];for(let g=0,v=i.channels.length;g<v;g++){const _=i.channels[g],S=i.samplers[_.sampler],b=_.target,M=b.node,A=i.parameters!==void 0?i.parameters[S.input]:S.input,C=i.parameters!==void 0?i.parameters[S.output]:S.output;b.node!==void 0&&(a.push(this.getDependency("node",M)),l.push(this.getDependency("accessor",A)),u.push(this.getDependency("accessor",C)),h.push(S),m.push(b))}return Promise.all([Promise.all(a),Promise.all(l),Promise.all(u),Promise.all(h),Promise.all(m)]).then(function(g){const v=g[0],_=g[1],S=g[2],b=g[3],M=g[4],A=[];for(let C=0,B=v.length;C<B;C++){const D=v[C],N=_[C],U=S[C],F=b[C],z=M[C];if(D===void 0)continue;D.updateMatrix&&D.updateMatrix();const O=n._createAnimationTracks(D,N,U,F,z);if(O)for(let P=0;P<O.length;P++)A.push(O[P])}return new Hg(r,void 0,A)})}createNodeMesh(e){const t=this.json,n=this,i=t.nodes[e];return i.mesh===void 0?null:n.getDependency("mesh",i.mesh).then(function(r){const a=n._getNodeRef(n.meshCache,i.mesh,r);return i.weights!==void 0&&a.traverse(function(l){if(l.isMesh)for(let u=0,h=i.weights.length;u<h;u++)l.morphTargetInfluences[u]=i.weights[u]}),a})}loadNode(e){const t=this.json,n=this,i=t.nodes[e],r=n._loadNodeShallow(e),a=[],l=i.children||[];for(let h=0,m=l.length;h<m;h++)a.push(n.getDependency("node",l[h]));const u=i.skin===void 0?Promise.resolve(null):n.getDependency("skin",i.skin);return Promise.all([r,Promise.all(a),u]).then(function(h){const m=h[0],g=h[1],v=h[2];v!==null&&m.traverse(function(_){_.isSkinnedMesh&&_.bind(v,aee)});for(let _=0,S=g.length;_<S;_++)m.add(g[_]);return m})}_loadNodeShallow(e){const t=this.json,n=this.extensions,i=this;if(this.nodeCache[e]!==void 0)return this.nodeCache[e];const r=t.nodes[e],a=r.name?i.createUniqueName(r.name):"",l=[],u=i._invokeOne(function(h){return h.createNodeMesh&&h.createNodeMesh(e)});return u&&l.push(u),r.camera!==void 0&&l.push(i.getDependency("camera",r.camera).then(function(h){return i._getNodeRef(i.cameraCache,r.camera,h)})),i._invokeAll(function(h){return h.createNodeAttachment&&h.createNodeAttachment(e)}).forEach(function(h){l.push(h)}),this.nodeCache[e]=Promise.all(l).then(function(h){let m;if(r.isBone===!0?m=new EM:h.length>1?m=new gu:h.length===1?m=h[0]:m=new Kn,m!==h[0])for(let g=0,v=h.length;g<v;g++)m.add(h[g]);if(r.name&&(m.userData.name=r.name,m.name=a),uu(m,r),r.extensions&&Ad(n,m,r),r.matrix!==void 0){const g=new sn;g.fromArray(r.matrix),m.applyMatrix4(g)}else r.translation!==void 0&&m.position.fromArray(r.translation),r.rotation!==void 0&&m.quaternion.fromArray(r.rotation),r.scale!==void 0&&m.scale.fromArray(r.scale);return i.associations.has(m)||i.associations.set(m,{}),i.associations.get(m).nodes=e,m}),this.nodeCache[e]}loadScene(e){const t=this.extensions,n=this.json.scenes[e],i=this,r=new gu;n.name&&(r.name=i.createUniqueName(n.name)),uu(r,n),n.extensions&&Ad(t,r,n);const a=n.nodes||[],l=[];for(let u=0,h=a.length;u<h;u++)l.push(i.getDependency("node",a[u]));return Promise.all(l).then(function(u){for(let m=0,g=u.length;m<g;m++)r.add(u[m]);const h=m=>{const g=new Map;for(const[v,_]of i.associations)(v instanceof Fs||v instanceof pi)&&g.set(v,_);return m.traverse(v=>{const _=i.associations.get(v);_!=null&&g.set(v,_)}),g};return i.associations=h(r),r})}_createAnimationTracks(e,t,n,i,r){const a=[],l=e.name?e.name:e.uuid,u=[];Df[r.path]===Df.weights?e.traverse(function(v){v.morphTargetInfluences&&u.push(v.name?v.name:v.uuid)}):u.push(l);let h;switch(Df[r.path]){case Df.weights:h=up;break;case Df.rotation:h=fp;break;case Df.position:case Df.scale:h=hp;break;default:switch(n.itemSize){case 1:h=up;break;case 2:case 3:default:h=hp;break}break}const m=i.interpolation!==void 0?eee[i.interpolation]:Ug,g=this._getArrayFromAccessor(n);for(let v=0,_=u.length;v<_;v++){const S=new h(u[v]+"."+Df[r.path],t.array,g,m);i.interpolation==="CUBICSPLINE"&&this._createCubicSplineTrackInterpolant(S),a.push(S)}return a}_getArrayFromAccessor(e){let t=e.array;if(e.normalized){const n=I2(t.constructor),i=new Float32Array(t.length);for(let r=0,a=t.length;r<a;r++)i[r]=t[r]*n;t=i}return t}_createCubicSplineTrackInterpolant(e){e.createInterpolant=function(n){const i=this instanceof fp?$$:F6;return new i(this.times,this.values,this.getValueSize()/3,n)},e.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0}}function lee(s,e,t){const n=e.attributes,i=new Fr;if(n.POSITION!==void 0){const l=t.json.accessors[n.POSITION],u=l.min,h=l.max;if(u!==void 0&&h!==void 0){if(i.set(new ae(u[0],u[1],u[2]),new ae(h[0],h[1],h[2])),l.normalized){const m=I2(gg[l.componentType]);i.min.multiplyScalar(m),i.max.multiplyScalar(m)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const r=e.targets;if(r!==void 0){const l=new ae,u=new ae;for(let h=0,m=r.length;h<m;h++){const g=r[h];if(g.POSITION!==void 0){const v=t.json.accessors[g.POSITION],_=v.min,S=v.max;if(_!==void 0&&S!==void 0){if(u.setX(Math.max(Math.abs(_[0]),Math.abs(S[0]))),u.setY(Math.max(Math.abs(_[1]),Math.abs(S[1]))),u.setZ(Math.max(Math.abs(_[2]),Math.abs(S[2]))),v.normalized){const b=I2(gg[v.componentType]);u.multiplyScalar(b)}l.max(u)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}i.expandByVector(l)}s.boundingBox=i;const a=new pr;i.getCenter(a.center),a.radius=i.min.distanceTo(i.max)/2,s.boundingSphere=a}function x4(s,e,t){const n=e.attributes,i=[];function r(a,l){return t.getDependency("accessor",a).then(function(u){s.setAttribute(l,u)})}for(const a in n){const l=P2[a]||a.toLowerCase();l in s.attributes||i.push(r(n[a],l))}if(e.indices!==void 0&&!s.index){const a=t.getDependency("accessor",e.indices).then(function(l){s.setIndex(l)});i.push(a)}return uu(s,e),lee(s,e,t),Promise.all(i).then(function(){return e.targets!==void 0?nee(s,e.targets,t):s})}class cee extends Bw{constructor(e){super(e),this.type=Ks}parse(e){const a=function(z,O){switch(z){case 1:throw new Error("THREE.RGBELoader: Read Error: "+(O||""));case 2:throw new Error("THREE.RGBELoader: Write Error: "+(O||""));case 3:throw new Error("THREE.RGBELoader: Bad File Format: "+(O||""));default:case 4:throw new Error("THREE.RGBELoader: Memory Error: "+(O||""))}},m=`
`,g=function(z,O,P){O=O||1024;let ne=z.pos,te=-1,ee=0,oe="",H=String.fromCharCode.apply(null,new Uint16Array(z.subarray(ne,ne+128)));for(;0>(te=H.indexOf(m))&&ee<O&&ne<z.byteLength;)oe+=H,ee+=H.length,ne+=128,H+=String.fromCharCode.apply(null,new Uint16Array(z.subarray(ne,ne+128)));return-1<te?(z.pos+=ee+te+1,oe+H.slice(0,te)):!1},v=function(z){const O=/^#\?(\S+)/,P=/^\s*GAMMA\s*=\s*(\d+(\.\d+)?)\s*$/,q=/^\s*EXPOSURE\s*=\s*(\d+(\.\d+)?)\s*$/,ne=/^\s*FORMAT=(\S+)\s*$/,te=/^\s*\-Y\s+(\d+)\s+\+X\s+(\d+)\s*$/,ee={valid:0,string:"",comments:"",programtype:"RGBE",format:"",gamma:1,exposure:1,width:0,height:0};let oe,H;for((z.pos>=z.byteLength||!(oe=g(z)))&&a(1,"no header found"),(H=oe.match(O))||a(3,"bad initial token"),ee.valid|=1,ee.programtype=H[1],ee.string+=oe+`
`;oe=g(z),oe!==!1;){if(ee.string+=oe+`
`,oe.charAt(0)==="#"){ee.comments+=oe+`
`;continue}if((H=oe.match(P))&&(ee.gamma=parseFloat(H[1])),(H=oe.match(q))&&(ee.exposure=parseFloat(H[1])),(H=oe.match(ne))&&(ee.valid|=2,ee.format=H[1]),(H=oe.match(te))&&(ee.valid|=4,ee.height=parseInt(H[1],10),ee.width=parseInt(H[2],10)),ee.valid&2&&ee.valid&4)break}return ee.valid&2||a(3,"missing format specifier"),ee.valid&4||a(3,"missing image size specifier"),ee},_=function(z,O,P){const q=O;if(q<8||q>32767||z[0]!==2||z[1]!==2||z[2]&128)return new Uint8Array(z);q!==(z[2]<<8|z[3])&&a(3,"wrong scanline width");const ne=new Uint8Array(4*O*P);ne.length||a(4,"unable to allocate buffer space");let te=0,ee=0;const oe=4*q,H=new Uint8Array(4),Y=new Uint8Array(oe);let Z=P;for(;Z>0&&ee<z.byteLength;){ee+4>z.byteLength&&a(1),H[0]=z[ee++],H[1]=z[ee++],H[2]=z[ee++],H[3]=z[ee++],(H[0]!=2||H[1]!=2||(H[2]<<8|H[3])!=q)&&a(3,"bad rgbe scanline format");let de=0,I;for(;de<oe&&ee<z.byteLength;){I=z[ee++];const ue=I>128;if(ue&&(I-=128),(I===0||de+I>oe)&&a(3,"bad scanline data"),ue){const _e=z[ee++];for(let se=0;se<I;se++)Y[de++]=_e}else Y.set(z.subarray(ee,ee+I),de),de+=I,ee+=I}const ie=q;for(let ue=0;ue<ie;ue++){let _e=0;ne[te]=Y[ue+_e],_e+=q,ne[te+1]=Y[ue+_e],_e+=q,ne[te+2]=Y[ue+_e],_e+=q,ne[te+3]=Y[ue+_e],te+=4}Z--}return ne},S=function(z,O,P,q){const ne=z[O+3],te=Math.pow(2,ne-128)/255;P[q+0]=z[O+0]*te,P[q+1]=z[O+1]*te,P[q+2]=z[O+2]*te,P[q+3]=1},b=function(z,O,P,q){const ne=z[O+3],te=Math.pow(2,ne-128)/255;P[q+0]=Hd.toHalfFloat(Math.min(z[O+0]*te,65504)),P[q+1]=Hd.toHalfFloat(Math.min(z[O+1]*te,65504)),P[q+2]=Hd.toHalfFloat(Math.min(z[O+2]*te,65504)),P[q+3]=Hd.toHalfFloat(1)},M=new Uint8Array(e);M.pos=0;const A=v(M),C=A.width,B=A.height,D=_(M.subarray(M.pos),C,B);let N,U,F;switch(this.type){case $i:F=D.length/4;const z=new Float32Array(F*4);for(let P=0;P<F;P++)S(D,P*4,z,P*4);N=z,U=$i;break;case Ks:F=D.length/4;const O=new Uint16Array(F*4);for(let P=0;P<F;P++)b(D,P*4,O,P*4);N=O,U=Ks;break;default:throw new Error("THREE.RGBELoader: Unsupported type: "+this.type)}return{width:C,height:B,data:N,header:A.string,gamma:A.gamma,exposure:A.exposure,type:U}}setDataType(e){return this.type=e,this}load(e,t,n,i){function r(a,l){switch(a.type){case $i:case Ks:"colorSpace"in a?a.colorSpace="srgb-linear":a.encoding=3e3,a.minFilter=fi,a.magFilter=fi,a.generateMipmaps=!1,a.flipY=!0;break}t&&t(a,l)}return super.load(e,r,n,i)}}const Nv=Jw>=152;class uee extends Bw{constructor(e){super(e),this.type=Ks}parse(e){const O=Math.pow(2.7182818,2.2);function P(V,W){for(var ge=0,Te=0;Te<65536;++Te)(Te==0||V[Te>>3]&1<<(Te&7))&&(W[ge++]=Te);for(var Be=ge-1;ge<65536;)W[ge++]=0;return Be}function q(V){for(var W=0;W<16384;W++)V[W]={},V[W].len=0,V[W].lit=0,V[W].p=null}const ne={l:0,c:0,lc:0};function te(V,W,ge,Te,Be){for(;ge<V;)W=W<<8|vt(Te,Be),ge+=8;ge-=V,ne.l=W>>ge&(1<<V)-1,ne.c=W,ne.lc=ge}const ee=new Array(59);function oe(V){for(var W=0;W<=58;++W)ee[W]=0;for(var W=0;W<65537;++W)ee[V[W]]+=1;for(var ge=0,W=58;W>0;--W){var Te=ge+ee[W]>>1;ee[W]=ge,ge=Te}for(var W=0;W<65537;++W){var Be=V[W];Be>0&&(V[W]=Be|ee[Be]++<<6)}}function H(V,W,ge,Te,Be,ke,nt){for(var Ke=ge,j=0,re=0;Be<=ke;Be++){if(Ke.value-ge.value>Te)return!1;te(6,j,re,V,Ke);var pe=ne.l;if(j=ne.c,re=ne.lc,nt[Be]=pe,pe==63){if(Ke.value-ge.value>Te)throw"Something wrong with hufUnpackEncTable";te(8,j,re,V,Ke);var fe=ne.l+6;if(j=ne.c,re=ne.lc,Be+fe>ke+1)throw"Something wrong with hufUnpackEncTable";for(;fe--;)nt[Be++]=0;Be--}else if(pe>=59){var fe=pe-59+2;if(Be+fe>ke+1)throw"Something wrong with hufUnpackEncTable";for(;fe--;)nt[Be++]=0;Be--}}oe(nt)}function Y(V){return V&63}function Z(V){return V>>6}function de(V,W,ge,Te){for(;W<=ge;W++){var Be=Z(V[W]),ke=Y(V[W]);if(Be>>ke)throw"Invalid table entry";if(ke>14){var nt=Te[Be>>ke-14];if(nt.len)throw"Invalid table entry";if(nt.lit++,nt.p){var Ke=nt.p;nt.p=new Array(nt.lit);for(var j=0;j<nt.lit-1;++j)nt.p[j]=Ke[j]}else nt.p=new Array(1);nt.p[nt.lit-1]=W}else if(ke)for(var re=0,j=1<<14-ke;j>0;j--){var nt=Te[(Be<<14-ke)+re];if(nt.len||nt.p)throw"Invalid table entry";nt.len=ke,nt.lit=W,re++}}return!0}const I={c:0,lc:0};function ie(V,W,ge,Te){V=V<<8|vt(ge,Te),W+=8,I.c=V,I.lc=W}const ue={c:0,lc:0};function _e(V,W,ge,Te,Be,ke,nt,Ke,j,re){if(V==W){Te<8&&(ie(ge,Te,Be,nt),ge=I.c,Te=I.lc),Te-=8;var pe=ge>>Te,pe=new Uint8Array([pe])[0];if(j.value+pe>re)return!1;for(var fe=Ke[j.value-1];pe-- >0;)Ke[j.value++]=fe}else if(j.value<re)Ke[j.value++]=V;else return!1;ue.c=ge,ue.lc=Te}function se(V){return V&65535}function xe(V){var W=se(V);return W>32767?W-65536:W}const Ae={a:0,b:0};function Ee(V,W){var ge=xe(V),Te=xe(W),Be=Te,ke=ge+(Be&1)+(Be>>1),nt=ke,Ke=ke-Be;Ae.a=nt,Ae.b=Ke}function Ne(V,W){var ge=se(V),Te=se(W),Be=ge-(Te>>1)&65535,ke=Te+Be-32768&65535;Ae.a=ke,Ae.b=Be}function ht(V,W,ge,Te,Be,ke,nt){for(var Ke=nt<16384,j=ge>Be?Be:ge,re=1,pe;re<=j;)re<<=1;for(re>>=1,pe=re,re>>=1;re>=1;){for(var fe=0,ye=fe+ke*(Be-pe),Re=ke*re,qe=ke*pe,Ze=Te*re,tt=Te*pe,St,At,bt,jt;fe<=ye;fe+=qe){for(var Xt=fe,Hn=fe+Te*(ge-pe);Xt<=Hn;Xt+=tt){var Pt=Xt+Ze,Jt=Xt+Re,It=Jt+Ze;Ke?(Ee(V[Xt+W],V[Jt+W]),St=Ae.a,bt=Ae.b,Ee(V[Pt+W],V[It+W]),At=Ae.a,jt=Ae.b,Ee(St,At),V[Xt+W]=Ae.a,V[Pt+W]=Ae.b,Ee(bt,jt),V[Jt+W]=Ae.a,V[It+W]=Ae.b):(Ne(V[Xt+W],V[Jt+W]),St=Ae.a,bt=Ae.b,Ne(V[Pt+W],V[It+W]),At=Ae.a,jt=Ae.b,Ne(St,At),V[Xt+W]=Ae.a,V[Pt+W]=Ae.b,Ne(bt,jt),V[Jt+W]=Ae.a,V[It+W]=Ae.b)}if(ge&re){var Jt=Xt+Re;Ke?Ee(V[Xt+W],V[Jt+W]):Ne(V[Xt+W],V[Jt+W]),St=Ae.a,V[Jt+W]=Ae.b,V[Xt+W]=St}}if(Be&re)for(var Xt=fe,Hn=fe+Te*(ge-pe);Xt<=Hn;Xt+=tt){var Pt=Xt+Ze;Ke?Ee(V[Xt+W],V[Pt+W]):Ne(V[Xt+W],V[Pt+W]),St=Ae.a,V[Pt+W]=Ae.b,V[Xt+W]=St}pe=re,re>>=1}return fe}function Je(V,W,ge,Te,Be,ke,nt,Ke,j,re){for(var pe=0,fe=0,ye=Ke,Re=Math.trunc(Be.value+(ke+7)/8);Be.value<Re;)for(ie(pe,fe,ge,Be),pe=I.c,fe=I.lc;fe>=14;){var qe=pe>>fe-14&16383,Ze=W[qe];if(Ze.len)fe-=Ze.len,_e(Ze.lit,nt,pe,fe,ge,Te,Be,j,re,ye),pe=ue.c,fe=ue.lc;else{if(!Ze.p)throw"hufDecode issues";var tt;for(tt=0;tt<Ze.lit;tt++){for(var St=Y(V[Ze.p[tt]]);fe<St&&Be.value<Re;)ie(pe,fe,ge,Be),pe=I.c,fe=I.lc;if(fe>=St&&Z(V[Ze.p[tt]])==(pe>>fe-St&(1<<St)-1)){fe-=St,_e(Ze.p[tt],nt,pe,fe,ge,Te,Be,j,re,ye),pe=ue.c,fe=ue.lc;break}}if(tt==Ze.lit)throw"hufDecode issues"}}var At=8-ke&7;for(pe>>=At,fe-=At;fe>0;){var Ze=W[pe<<14-fe&16383];if(Ze.len)fe-=Ze.len,_e(Ze.lit,nt,pe,fe,ge,Te,Be,j,re,ye),pe=ue.c,fe=ue.lc;else throw"hufDecode issues"}return!0}function st(V,W,ge,Te,Be,ke){var nt={value:0},Ke=ge.value,j=gt(W,ge),re=gt(W,ge);ge.value+=4;var pe=gt(W,ge);if(ge.value+=4,j<0||j>=65537||re<0||re>=65537)throw"Something wrong with HUF_ENCSIZE";var fe=new Array(65537),ye=new Array(16384);q(ye);var Re=Te-(ge.value-Ke);if(H(V,W,ge,Re,j,re,fe),pe>8*(Te-(ge.value-Ke)))throw"Something wrong with hufUncompress";de(fe,j,re,ye),Je(fe,ye,V,W,ge,pe,re,ke,Be,nt)}function _t(V,W,ge){for(var Te=0;Te<ge;++Te)W[Te]=V[W[Te]]}function dt(V){for(var W=1;W<V.length;W++){var ge=V[W-1]+V[W]-128;V[W]=ge}}function ce(V,W){for(var ge=0,Te=Math.floor((V.length+1)/2),Be=0,ke=V.length-1;!(Be>ke||(W[Be++]=V[ge++],Be>ke));)W[Be++]=V[Te++]}function Ht(V){for(var W=V.byteLength,ge=new Array,Te=0,Be=new DataView(V);W>0;){var ke=Be.getInt8(Te++);if(ke<0){var nt=-ke;W-=nt+1;for(var Ke=0;Ke<nt;Ke++)ge.push(Be.getUint8(Te++))}else{var nt=ke;W-=2;for(var j=Be.getUint8(Te++),Ke=0;Ke<nt+1;Ke++)ge.push(j)}}return ge}function Ye(V,W,ge,Te,Be,ke){var Pt=new DataView(ke.buffer),nt=ge[V.idx[0]].width,Ke=ge[V.idx[0]].height,j=3,re=Math.floor(nt/8),pe=Math.ceil(nt/8),fe=Math.ceil(Ke/8),ye=nt-(pe-1)*8,Re=Ke-(fe-1)*8,qe={value:0},Ze=new Array(j),tt=new Array(j),St=new Array(j),At=new Array(j),bt=new Array(j);for(let mn=0;mn<j;++mn)bt[mn]=W[V.idx[mn]],Ze[mn]=mn<1?0:Ze[mn-1]+pe*fe,tt[mn]=new Float32Array(64),St[mn]=new Uint16Array(64),At[mn]=new Uint16Array(pe*64);for(let mn=0;mn<fe;++mn){var jt=8;mn==fe-1&&(jt=Re);var Xt=8;for(let rn=0;rn<pe;++rn){rn==pe-1&&(Xt=ye);for(let Tn=0;Tn<j;++Tn)St[Tn].fill(0),St[Tn][0]=Be[Ze[Tn]++],le(qe,Te,St[Tn]),He(St[Tn],tt[Tn]),rt(tt[Tn]);Ge(tt);for(let Tn=0;Tn<j;++Tn)Q(tt[Tn],At[Tn],rn*64)}let mi=0;for(let rn=0;rn<j;++rn){const Tn=ge[V.idx[rn]].type;for(let An=8*mn;An<8*mn+jt;++An){mi=bt[rn][An];for(let Ci=0;Ci<re;++Ci){const kn=Ci*64+(An&7)*8;Pt.setUint16(mi+0*2*Tn,At[rn][kn+0],!0),Pt.setUint16(mi+1*2*Tn,At[rn][kn+1],!0),Pt.setUint16(mi+2*2*Tn,At[rn][kn+2],!0),Pt.setUint16(mi+3*2*Tn,At[rn][kn+3],!0),Pt.setUint16(mi+4*2*Tn,At[rn][kn+4],!0),Pt.setUint16(mi+5*2*Tn,At[rn][kn+5],!0),Pt.setUint16(mi+6*2*Tn,At[rn][kn+6],!0),Pt.setUint16(mi+7*2*Tn,At[rn][kn+7],!0),mi+=8*2*Tn}}if(re!=pe)for(let An=8*mn;An<8*mn+jt;++An){const Ci=bt[rn][An]+8*re*2*Tn,kn=re*64+(An&7)*8;for(let gi=0;gi<Xt;++gi)Pt.setUint16(Ci+gi*2*Tn,At[rn][kn+gi],!0)}}}for(var Hn=new Uint16Array(nt),Pt=new DataView(ke.buffer),Jt=0;Jt<j;++Jt){ge[V.idx[Jt]].decoded=!0;var It=ge[V.idx[Jt]].type;if(ge[Jt].type==2)for(var ci=0;ci<Ke;++ci){const mn=bt[Jt][ci];for(var fn=0;fn<nt;++fn)Hn[fn]=Pt.getUint16(mn+fn*2*It,!0);for(var fn=0;fn<nt;++fn)Pt.setFloat32(mn+fn*2*It,Fe(Hn[fn]),!0)}}}function le(V,W,ge){for(var Te,Be=1;Be<64;)Te=W[V.value],Te==65280?Be=64:Te>>8==255?Be+=Te&255:(ge[Be]=Te,Be++),V.value++}function He(V,W){W[0]=Fe(V[0]),W[1]=Fe(V[1]),W[2]=Fe(V[5]),W[3]=Fe(V[6]),W[4]=Fe(V[14]),W[5]=Fe(V[15]),W[6]=Fe(V[27]),W[7]=Fe(V[28]),W[8]=Fe(V[2]),W[9]=Fe(V[4]),W[10]=Fe(V[7]),W[11]=Fe(V[13]),W[12]=Fe(V[16]),W[13]=Fe(V[26]),W[14]=Fe(V[29]),W[15]=Fe(V[42]),W[16]=Fe(V[3]),W[17]=Fe(V[8]),W[18]=Fe(V[12]),W[19]=Fe(V[17]),W[20]=Fe(V[25]),W[21]=Fe(V[30]),W[22]=Fe(V[41]),W[23]=Fe(V[43]),W[24]=Fe(V[9]),W[25]=Fe(V[11]),W[26]=Fe(V[18]),W[27]=Fe(V[24]),W[28]=Fe(V[31]),W[29]=Fe(V[40]),W[30]=Fe(V[44]),W[31]=Fe(V[53]),W[32]=Fe(V[10]),W[33]=Fe(V[19]),W[34]=Fe(V[23]),W[35]=Fe(V[32]),W[36]=Fe(V[39]),W[37]=Fe(V[45]),W[38]=Fe(V[52]),W[39]=Fe(V[54]),W[40]=Fe(V[20]),W[41]=Fe(V[22]),W[42]=Fe(V[33]),W[43]=Fe(V[38]),W[44]=Fe(V[46]),W[45]=Fe(V[51]),W[46]=Fe(V[55]),W[47]=Fe(V[60]),W[48]=Fe(V[21]),W[49]=Fe(V[34]),W[50]=Fe(V[37]),W[51]=Fe(V[47]),W[52]=Fe(V[50]),W[53]=Fe(V[56]),W[54]=Fe(V[59]),W[55]=Fe(V[61]),W[56]=Fe(V[35]),W[57]=Fe(V[36]),W[58]=Fe(V[48]),W[59]=Fe(V[49]),W[60]=Fe(V[57]),W[61]=Fe(V[58]),W[62]=Fe(V[62]),W[63]=Fe(V[63])}function rt(V){const W=.5*Math.cos(.7853975),ge=.5*Math.cos(3.14159/16),Te=.5*Math.cos(3.14159/8),Be=.5*Math.cos(3*3.14159/16),ke=.5*Math.cos(5*3.14159/16),nt=.5*Math.cos(3*3.14159/8),Ke=.5*Math.cos(7*3.14159/16);for(var j=new Array(4),re=new Array(4),pe=new Array(4),fe=new Array(4),ye=0;ye<8;++ye){var Re=ye*8;j[0]=Te*V[Re+2],j[1]=nt*V[Re+2],j[2]=Te*V[Re+6],j[3]=nt*V[Re+6],re[0]=ge*V[Re+1]+Be*V[Re+3]+ke*V[Re+5]+Ke*V[Re+7],re[1]=Be*V[Re+1]-Ke*V[Re+3]-ge*V[Re+5]-ke*V[Re+7],re[2]=ke*V[Re+1]-ge*V[Re+3]+Ke*V[Re+5]+Be*V[Re+7],re[3]=Ke*V[Re+1]-ke*V[Re+3]+Be*V[Re+5]-ge*V[Re+7],pe[0]=W*(V[Re+0]+V[Re+4]),pe[3]=W*(V[Re+0]-V[Re+4]),pe[1]=j[0]+j[3],pe[2]=j[1]-j[2],fe[0]=pe[0]+pe[1],fe[1]=pe[3]+pe[2],fe[2]=pe[3]-pe[2],fe[3]=pe[0]-pe[1],V[Re+0]=fe[0]+re[0],V[Re+1]=fe[1]+re[1],V[Re+2]=fe[2]+re[2],V[Re+3]=fe[3]+re[3],V[Re+4]=fe[3]-re[3],V[Re+5]=fe[2]-re[2],V[Re+6]=fe[1]-re[1],V[Re+7]=fe[0]-re[0]}for(var qe=0;qe<8;++qe)j[0]=Te*V[16+qe],j[1]=nt*V[16+qe],j[2]=Te*V[48+qe],j[3]=nt*V[48+qe],re[0]=ge*V[8+qe]+Be*V[24+qe]+ke*V[40+qe]+Ke*V[56+qe],re[1]=Be*V[8+qe]-Ke*V[24+qe]-ge*V[40+qe]-ke*V[56+qe],re[2]=ke*V[8+qe]-ge*V[24+qe]+Ke*V[40+qe]+Be*V[56+qe],re[3]=Ke*V[8+qe]-ke*V[24+qe]+Be*V[40+qe]-ge*V[56+qe],pe[0]=W*(V[qe]+V[32+qe]),pe[3]=W*(V[qe]-V[32+qe]),pe[1]=j[0]+j[3],pe[2]=j[1]-j[2],fe[0]=pe[0]+pe[1],fe[1]=pe[3]+pe[2],fe[2]=pe[3]-pe[2],fe[3]=pe[0]-pe[1],V[0+qe]=fe[0]+re[0],V[8+qe]=fe[1]+re[1],V[16+qe]=fe[2]+re[2],V[24+qe]=fe[3]+re[3],V[32+qe]=fe[3]-re[3],V[40+qe]=fe[2]-re[2],V[48+qe]=fe[1]-re[1],V[56+qe]=fe[0]-re[0]}function Ge(V){for(var W=0;W<64;++W){var ge=V[0][W],Te=V[1][W],Be=V[2][W];V[0][W]=ge+1.5747*Be,V[1][W]=ge-.1873*Te-.4682*Be,V[2][W]=ge+1.8556*Te}}function Q(V,W,ge){for(var Te=0;Te<64;++Te)W[ge+Te]=Hd.toHalfFloat(X(V[Te]))}function X(V){return V<=1?Math.sign(V)*Math.pow(Math.abs(V),2.2):Math.sign(V)*Math.pow(O,Math.abs(V)-1)}function be(V){return new DataView(V.array.buffer,V.offset.value,V.size)}function Pe(V){var W=V.viewer.buffer.slice(V.offset.value,V.offset.value+V.size),ge=new Uint8Array(Ht(W)),Te=new Uint8Array(ge.length);return dt(ge),ce(ge,Te),new DataView(Te.buffer)}function Le(V){var W=V.array.slice(V.offset.value,V.offset.value+V.size),ge=mS(W),Te=new Uint8Array(ge.length);return dt(ge),ce(ge,Te),new DataView(Te.buffer)}function Ve(V){for(var W=V.viewer,ge={value:V.offset.value},Te=new Uint16Array(V.width*V.scanlineBlockSize*(V.channels*V.type)),Be=new Uint8Array(8192),ke=0,nt=new Array(V.channels),Ke=0;Ke<V.channels;Ke++)nt[Ke]={},nt[Ke].start=ke,nt[Ke].end=nt[Ke].start,nt[Ke].nx=V.width,nt[Ke].ny=V.lines,nt[Ke].size=V.type,ke+=nt[Ke].nx*nt[Ke].ny*nt[Ke].size;var j=Ie(W,ge),re=Ie(W,ge);if(re>=8192)throw"Something is wrong with PIZ_COMPRESSION BITMAP_SIZE";if(j<=re)for(var Ke=0;Ke<re-j+1;Ke++)Be[Ke+j]=Wt(W,ge);var pe=new Uint16Array(65536),fe=P(Be,pe),ye=gt(W,ge);st(V.array,W,ge,ye,Te,ke);for(var Ke=0;Ke<V.channels;++Ke)for(var Re=nt[Ke],qe=0;qe<nt[Ke].size;++qe)ht(Te,Re.start+qe,Re.nx,Re.size,Re.ny,Re.nx*Re.size,fe);_t(pe,Te,ke);for(var Ze=0,tt=new Uint8Array(Te.buffer.byteLength),St=0;St<V.lines;St++)for(var At=0;At<V.channels;At++){var Re=nt[At],bt=Re.nx*Re.size,jt=new Uint8Array(Te.buffer,Re.end*2,bt*2);tt.set(jt,Ze),Ze+=bt*2,Re.end+=bt}return new DataView(tt.buffer)}function lt(V){var W=V.array.slice(V.offset.value,V.offset.value+V.size),ge=mS(W);const Te=V.lines*V.channels*V.width,Be=V.type==1?new Uint16Array(Te):new Uint32Array(Te);let ke=0,nt=0;const Ke=new Array(4);for(let j=0;j<V.lines;j++)for(let re=0;re<V.channels;re++){let pe=0;switch(V.type){case 1:Ke[0]=ke,Ke[1]=Ke[0]+V.width,ke=Ke[1]+V.width;for(let fe=0;fe<V.width;++fe){const ye=ge[Ke[0]++]<<8|ge[Ke[1]++];pe+=ye,Be[nt]=pe,nt++}break;case 2:Ke[0]=ke,Ke[1]=Ke[0]+V.width,Ke[2]=Ke[1]+V.width,ke=Ke[2]+V.width;for(let fe=0;fe<V.width;++fe){const ye=ge[Ke[0]++]<<24|ge[Ke[1]++]<<16|ge[Ke[2]++]<<8;pe+=ye,Be[nt]=pe,nt++}break}}return new DataView(Be.buffer)}function ot(V){var W=V.viewer,ge={value:V.offset.value},Te=new Uint8Array(V.width*V.lines*(V.channels*V.type*2)),Be={version:wt(W,ge),unknownUncompressedSize:wt(W,ge),unknownCompressedSize:wt(W,ge),acCompressedSize:wt(W,ge),dcCompressedSize:wt(W,ge),rleCompressedSize:wt(W,ge),rleUncompressedSize:wt(W,ge),rleRawSize:wt(W,ge),totalAcUncompressedCount:wt(W,ge),totalDcUncompressedCount:wt(W,ge),acCompression:wt(W,ge)};if(Be.version<2)throw"EXRLoader.parse: "+en.compression+" version "+Be.version+" is unsupported";for(var ke=new Array,nt=Ie(W,ge)-2;nt>0;){var Ke=ut(W.buffer,ge),j=Wt(W,ge),re=j>>2&3,pe=(j>>4)-1,fe=new Int8Array([pe])[0],ye=Wt(W,ge);ke.push({name:Ke,index:fe,type:ye,compression:re}),nt-=Ke.length+3}for(var Re=en.channels,qe=new Array(V.channels),Ze=0;Ze<V.channels;++Ze){var tt=qe[Ze]={},St=Re[Ze];tt.name=St.name,tt.compression=0,tt.decoded=!1,tt.type=St.pixelType,tt.pLinear=St.pLinear,tt.width=V.width,tt.height=V.lines}for(var At={idx:new Array(3)},bt=0;bt<V.channels;++bt)for(var tt=qe[bt],Ze=0;Ze<ke.length;++Ze){var jt=ke[Ze];tt.name==jt.name&&(tt.compression=jt.compression,jt.index>=0&&(At.idx[jt.index]=bt),tt.offset=bt)}if(Be.acCompressedSize>0)switch(Be.acCompression){case 0:var Pt=new Uint16Array(Be.totalAcUncompressedCount);st(V.array,W,ge,Be.acCompressedSize,Pt,Be.totalAcUncompressedCount);break;case 1:var Xt=V.array.slice(ge.value,ge.value+Be.totalAcUncompressedCount),Hn=mS(Xt),Pt=new Uint16Array(Hn.buffer);ge.value+=Be.totalAcUncompressedCount;break}if(Be.dcCompressedSize>0){var Jt={array:V.array,offset:ge,size:Be.dcCompressedSize},It=new Uint16Array(Le(Jt).buffer);ge.value+=Be.dcCompressedSize}if(Be.rleRawSize>0){var Xt=V.array.slice(ge.value,ge.value+Be.rleCompressedSize),Hn=mS(Xt),ci=Ht(Hn.buffer);ge.value+=Be.rleCompressedSize}for(var fn=0,mn=new Array(qe.length),Ze=0;Ze<mn.length;++Ze)mn[Ze]=new Array;for(var mi=0;mi<V.lines;++mi)for(var rn=0;rn<qe.length;++rn)mn[rn].push(fn),fn+=qe[rn].width*V.type*2;Ye(At,mn,qe,Pt,It,Te);for(var Ze=0;Ze<qe.length;++Ze){var tt=qe[Ze];if(!tt.decoded)switch(tt.compression){case 2:for(var Tn=0,An=0,mi=0;mi<V.lines;++mi){for(var Ci=mn[Ze][Tn],kn=0;kn<tt.width;++kn){for(var gi=0;gi<2*tt.type;++gi)Te[Ci++]=ci[An+gi*tt.width*tt.height];An++}Tn++}break;case 1:default:throw"EXRLoader.parse: unsupported channel compression"}}return new DataView(Te.buffer)}function ut(V,W){for(var ge=new Uint8Array(V),Te=0;ge[W.value+Te]!=0;)Te+=1;var Be=new TextDecoder().decode(ge.slice(W.value,W.value+Te));return W.value=W.value+Te+1,Be}function Vt(V,W,ge){var Te=new TextDecoder().decode(new Uint8Array(V).slice(W.value,W.value+ge));return W.value=W.value+ge,Te}function ct(V,W){var ge=Tt(V,W),Te=gt(V,W);return[ge,Te]}function ft(V,W){var ge=gt(V,W),Te=gt(V,W);return[ge,Te]}function Tt(V,W){var ge=V.getInt32(W.value,!0);return W.value=W.value+4,ge}function gt(V,W){var ge=V.getUint32(W.value,!0);return W.value=W.value+4,ge}function vt(V,W){var ge=V[W.value];return W.value=W.value+1,ge}function Wt(V,W){var ge=V.getUint8(W.value);return W.value=W.value+1,ge}const wt=function(V,W){let ge;return"getBigInt64"in DataView.prototype?ge=Number(V.getBigInt64(W.value,!0)):ge=V.getUint32(W.value+4,!0)+Number(V.getUint32(W.value,!0)<<32),W.value+=8,ge};function Yt(V,W){var ge=V.getFloat32(W.value,!0);return W.value+=4,ge}function he(V,W){return Hd.toHalfFloat(Yt(V,W))}function Fe(V){var W=(V&31744)>>10,ge=V&1023;return(V>>15?-1:1)*(W?W===31?ge?NaN:1/0:Math.pow(2,W-15)*(1+ge/1024):6103515625e-14*(ge/1024))}function Ie(V,W){var ge=V.getUint16(W.value,!0);return W.value+=2,ge}function We(V,W){return Fe(Ie(V,W))}function xt(V,W,ge,Te){for(var Be=ge.value,ke=[];ge.value<Be+Te-1;){var nt=ut(W,ge),Ke=Tt(V,ge),j=Wt(V,ge);ge.value+=3;var re=Tt(V,ge),pe=Tt(V,ge);ke.push({name:nt,pixelType:Ke,pLinear:j,xSampling:re,ySampling:pe})}return ge.value+=1,ke}function Mt(V,W){var ge=Yt(V,W),Te=Yt(V,W),Be=Yt(V,W),ke=Yt(V,W),nt=Yt(V,W),Ke=Yt(V,W),j=Yt(V,W),re=Yt(V,W);return{redX:ge,redY:Te,greenX:Be,greenY:ke,blueX:nt,blueY:Ke,whiteX:j,whiteY:re}}function Qt(V,W){var ge=["NO_COMPRESSION","RLE_COMPRESSION","ZIPS_COMPRESSION","ZIP_COMPRESSION","PIZ_COMPRESSION","PXR24_COMPRESSION","B44_COMPRESSION","B44A_COMPRESSION","DWAA_COMPRESSION","DWAB_COMPRESSION"],Te=Wt(V,W);return ge[Te]}function Sn(V,W){var ge=gt(V,W),Te=gt(V,W),Be=gt(V,W),ke=gt(V,W);return{xMin:ge,yMin:Te,xMax:Be,yMax:ke}}function Jn(V,W){var ge=["INCREASING_Y"],Te=Wt(V,W);return ge[Te]}function Et(V,W){var ge=Yt(V,W),Te=Yt(V,W);return[ge,Te]}function Lt(V,W){var ge=Yt(V,W),Te=Yt(V,W),Be=Yt(V,W);return[ge,Te,Be]}function $t(V,W,ge,Te,Be){if(Te==="string"||Te==="stringvector"||Te==="iccProfile")return Vt(W,ge,Be);if(Te==="chlist")return xt(V,W,ge,Be);if(Te==="chromaticities")return Mt(V,ge);if(Te==="compression")return Qt(V,ge);if(Te==="box2i")return Sn(V,ge);if(Te==="lineOrder")return Jn(V,ge);if(Te==="float")return Yt(V,ge);if(Te==="v2f")return Et(V,ge);if(Te==="v3f")return Lt(V,ge);if(Te==="int")return Tt(V,ge);if(Te==="rational")return ct(V,ge);if(Te==="timecode")return ft(V,ge);if(Te==="preview")return ge.value+=Be,"skipped";ge.value+=Be}function pt(V,W,ge){const Te={};if(V.getUint32(0,!0)!=20000630)throw"THREE.EXRLoader: provided file doesn't appear to be in OpenEXR format.";Te.version=V.getUint8(4);const Be=V.getUint8(5);Te.spec={singleTile:!!(Be&2),longName:!!(Be&4),deepFormat:!!(Be&8),multiPart:!!(Be&16)},ge.value=8;for(var ke=!0;ke;){var nt=ut(W,ge);if(nt==0)ke=!1;else{var Ke=ut(W,ge),j=gt(V,ge),re=$t(V,W,ge,Ke,j);re===void 0?console.warn(`EXRLoader.parse: skipped unknown header attribute type '${Ke}'.`):Te[nt]=re}}if((Be&-5)!=0)throw console.error("EXRHeader:",Te),"THREE.EXRLoader: provided file is currently unsupported.";return Te}function Ut(V,W,ge,Te,Be){const ke={size:0,viewer:W,array:ge,offset:Te,width:V.dataWindow.xMax-V.dataWindow.xMin+1,height:V.dataWindow.yMax-V.dataWindow.yMin+1,channels:V.channels.length,bytesPerLine:null,lines:null,inputSize:null,type:V.channels[0].pixelType,uncompress:null,getter:null,format:null,[Nv?"colorSpace":"encoding"]:null};switch(V.compression){case"NO_COMPRESSION":ke.lines=1,ke.uncompress=be;break;case"RLE_COMPRESSION":ke.lines=1,ke.uncompress=Pe;break;case"ZIPS_COMPRESSION":ke.lines=1,ke.uncompress=Le;break;case"ZIP_COMPRESSION":ke.lines=16,ke.uncompress=Le;break;case"PIZ_COMPRESSION":ke.lines=32,ke.uncompress=Ve;break;case"PXR24_COMPRESSION":ke.lines=16,ke.uncompress=lt;break;case"DWAA_COMPRESSION":ke.lines=32,ke.uncompress=ot;break;case"DWAB_COMPRESSION":ke.lines=256,ke.uncompress=ot;break;default:throw"EXRLoader.parse: "+V.compression+" is unsupported"}if(ke.scanlineBlockSize=ke.lines,ke.type==1)switch(Be){case $i:ke.getter=We,ke.inputSize=2;break;case Ks:ke.getter=Ie,ke.inputSize=2;break}else if(ke.type==2)switch(Be){case $i:ke.getter=Yt,ke.inputSize=4;break;case Ks:ke.getter=he,ke.inputSize=4}else throw"EXRLoader.parse: unsupported pixelType "+ke.type+" for "+V.compression+".";ke.blockCount=(V.dataWindow.yMax+1)/ke.scanlineBlockSize;for(var nt=0;nt<ke.blockCount;nt++)wt(W,Te);ke.outputChannels=ke.channels==3?4:ke.channels;const Ke=ke.width*ke.height*ke.outputChannels;switch(Be){case $i:ke.byteArray=new Float32Array(Ke),ke.channels<ke.outputChannels&&ke.byteArray.fill(1,0,Ke);break;case Ks:ke.byteArray=new Uint16Array(Ke),ke.channels<ke.outputChannels&&ke.byteArray.fill(15360,0,Ke);break;default:console.error("THREE.EXRLoader: unsupported type: ",Be);break}return ke.bytesPerLine=ke.width*ke.inputSize*ke.channels,ke.outputChannels==4?ke.format=ms:ke.format=c_,Nv?ke.colorSpace="srgb-linear":ke.encoding=3e3,ke}const Rt=new DataView(e),kt=new Uint8Array(e),ii={value:0},en=pt(Rt,e,ii),Nt=Ut(en,Rt,kt,ii,this.type),ei={value:0},tn={R:0,G:1,B:2,A:3,Y:0};for(let V=0;V<Nt.height/Nt.scanlineBlockSize;V++){const W=gt(Rt,ii);Nt.size=gt(Rt,ii),Nt.lines=W+Nt.scanlineBlockSize>Nt.height?Nt.height-W:Nt.scanlineBlockSize;const Te=Nt.size<Nt.lines*Nt.bytesPerLine?Nt.uncompress(Nt):be(Nt);ii.value+=Nt.size;for(let Be=0;Be<Nt.scanlineBlockSize;Be++){const ke=Be+V*Nt.scanlineBlockSize;if(ke>=Nt.height)break;for(let nt=0;nt<Nt.channels;nt++){const Ke=tn[en.channels[nt].name];for(let j=0;j<Nt.width;j++){ei.value=(Be*(Nt.channels*Nt.width)+nt*Nt.width+j)*Nt.inputSize;const re=(Nt.height-1-ke)*(Nt.width*Nt.outputChannels)+j*Nt.outputChannels+Ke;Nt.byteArray[re]=Nt.getter(Te,ei)}}}}return{header:en,width:Nt.width,height:Nt.height,data:Nt.byteArray,format:Nt.format,[Nv?"colorSpace":"encoding"]:Nt[Nv?"colorSpace":"encoding"],type:this.type}}setDataType(e){return this.type=e,this}load(e,t,n,i){function r(a,l){Nv?a.colorSpace=l.colorSpace:a.encoding=l.encoding,a.minFilter=fi,a.magFilter=fi,a.generateMipmaps=!1,a.flipY=!1,t&&t(a,l)}return super.load(e,r,n,i)}}const gT=new WeakMap;class fee extends gr{constructor(e){super(e),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(e){return this.decoderPath=e,this}setDecoderConfig(e){return this.decoderConfig=e,this}setWorkerLimit(e){return this.workerLimit=e,this}load(e,t,n,i){const r=new mr(this.manager);r.setPath(this.path),r.setResponseType("arraybuffer"),r.setRequestHeader(this.requestHeader),r.setWithCredentials(this.withCredentials),r.load(e,a=>{const l={attributeIDs:this.defaultAttributeIDs,attributeTypes:this.defaultAttributeTypes,useUniqueIDs:!1};this.decodeGeometry(a,l).then(t).catch(i)},n,i)}decodeDracoFile(e,t,n,i){const r={attributeIDs:n||this.defaultAttributeIDs,attributeTypes:i||this.defaultAttributeTypes,useUniqueIDs:!!n};this.decodeGeometry(e,r).then(t)}decodeGeometry(e,t){for(const u in t.attributeTypes){const h=t.attributeTypes[u];h.BYTES_PER_ELEMENT!==void 0&&(t.attributeTypes[u]=h.name)}const n=JSON.stringify(t);if(gT.has(e)){const u=gT.get(e);if(u.key===n)return u.promise;if(e.byteLength===0)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let i;const r=this.workerNextTaskID++,a=e.byteLength,l=this._getWorker(r,a).then(u=>(i=u,new Promise((h,m)=>{i._callbacks[r]={resolve:h,reject:m},i.postMessage({type:"decode",id:r,taskConfig:t,buffer:e},[e])}))).then(u=>this._createGeometry(u.geometry));return l.catch(()=>!0).then(()=>{i&&r&&this._releaseTask(i,r)}),gT.set(e,{key:n,promise:l}),l}_createGeometry(e){const t=new En;e.index&&t.setIndex(new ni(e.index.array,1));for(let n=0;n<e.attributes.length;n++){const i=e.attributes[n],r=i.name,a=i.array,l=i.itemSize;t.setAttribute(r,new ni(a,l))}return t}_loadLibrary(e,t){const n=new mr(this.manager);return n.setPath(this.decoderPath),n.setResponseType(t),n.setWithCredentials(this.withCredentials),new Promise((i,r)=>{n.load(e,i,void 0,r)})}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;const e=typeof WebAssembly!="object"||this.decoderConfig.type==="js",t=[];return e?t.push(this._loadLibrary("draco_decoder.js","text")):(t.push(this._loadLibrary("draco_wasm_wrapper.js","text")),t.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(t).then(n=>{const i=n[0];e||(this.decoderConfig.wasmBinary=n[1]);const r=hee.toString(),a=["/* draco decoder */",i,"","/* worker */",r.substring(r.indexOf("{")+1,r.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([a]))}),this.decoderPending}_getWorker(e,t){return this._initDecoder().then(()=>{if(this.workerPool.length<this.workerLimit){const i=new Worker(this.workerSourceURL);i._callbacks={},i._taskCosts={},i._taskLoad=0,i.postMessage({type:"init",decoderConfig:this.decoderConfig}),i.onmessage=function(r){const a=r.data;switch(a.type){case"decode":i._callbacks[a.id].resolve(a);break;case"error":i._callbacks[a.id].reject(a);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+a.type+'"')}},this.workerPool.push(i)}else this.workerPool.sort(function(i,r){return i._taskLoad>r._taskLoad?-1:1});const n=this.workerPool[this.workerPool.length-1];return n._taskCosts[e]=t,n._taskLoad+=t,n})}_releaseTask(e,t){e._taskLoad-=e._taskCosts[t],delete e._callbacks[t],delete e._taskCosts[t]}debug(){console.log("Task load: ",this.workerPool.map(e=>e._taskLoad))}dispose(){for(let e=0;e<this.workerPool.length;++e)this.workerPool[e].terminate();return this.workerPool.length=0,this}}function hee(){let s,e;onmessage=function(a){const l=a.data;switch(l.type){case"init":s=l.decoderConfig,e=new Promise(function(m){s.onModuleLoaded=function(g){m({draco:g})},DracoDecoderModule(s)});break;case"decode":const u=l.buffer,h=l.taskConfig;e.then(m=>{const g=m.draco,v=new g.Decoder,_=new g.DecoderBuffer;_.Init(new Int8Array(u),u.byteLength);try{const S=t(g,v,_,h),b=S.attributes.map(M=>M.array.buffer);S.index&&b.push(S.index.array.buffer),self.postMessage({type:"decode",id:l.id,geometry:S},b)}catch(S){console.error(S),self.postMessage({type:"error",id:l.id,error:S.message})}finally{g.destroy(_),g.destroy(v)}});break}};function t(a,l,u,h){const m=h.attributeIDs,g=h.attributeTypes;let v,_;const S=l.GetEncodedGeometryType(u);if(S===a.TRIANGULAR_MESH)v=new a.Mesh,_=l.DecodeBufferToMesh(u,v);else if(S===a.POINT_CLOUD)v=new a.PointCloud,_=l.DecodeBufferToPointCloud(u,v);else throw new Error("THREE.DRACOLoader: Unexpected geometry type.");if(!_.ok()||v.ptr===0)throw new Error("THREE.DRACOLoader: Decoding failed: "+_.error_msg());const b={index:null,attributes:[]};for(const M in m){const A=self[g[M]];let C,B;if(h.useUniqueIDs)B=m[M],C=l.GetAttributeByUniqueId(v,B);else{if(B=l.GetAttributeId(v,a[m[M]]),B===-1)continue;C=l.GetAttribute(v,B)}b.attributes.push(i(a,l,v,M,A,C))}return S===a.TRIANGULAR_MESH&&(b.index=n(a,l,v)),a.destroy(v),b}function n(a,l,u){const m=u.num_faces()*3,g=m*4,v=a._malloc(g);l.GetTrianglesUInt32Array(u,g,v);const _=new Uint32Array(a.HEAPF32.buffer,v,m).slice();return a._free(v),{array:_,itemSize:1}}function i(a,l,u,h,m,g){const v=g.num_components(),S=u.num_points()*v,b=S*m.BYTES_PER_ELEMENT,M=r(a,m),A=a._malloc(b);l.GetAttributeDataArrayForAllPoints(u,g,M,b,A);const C=new m(a.HEAPF32.buffer,A,S).slice();return a._free(A),{name:h,array:C,itemSize:v}}function r(a,l){switch(l){case Float32Array:return a.DT_FLOAT32;case Int8Array:return a.DT_INT8;case Int16Array:return a.DT_INT16;case Int32Array:return a.DT_INT32;case Uint8Array:return a.DT_UINT8;case Uint16Array:return a.DT_UINT16;case Uint32Array:return a.DT_UINT32}}}let gS;const vT=()=>{if(gS)return gS;const s="B9h9z9tFBBBF8fL9gBB9gLaaaaaFa9gEaaaB9gFaFa9gEaaaFaEMcBFFFGGGEIIILF9wFFFLEFBFKNFaFCx/IFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBF8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBGy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBEn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBIi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBKI9z9iqlBOc+x8ycGBM/qQFTa8jUUUUBCU/EBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAGTkUUUBRNCUoBAG9uC/wgBZHKCUGAKCUG9JyRVAECFJRICBRcGXEXAcAF9PQFAVAFAclAcAVJAF9JyRMGXGXAG9FQBAMCbJHKC9wZRSAKCIrCEJCGrRQANCUGJRfCBRbAIRTEXGXAOATlAQ9PQBCBRISEMATAQJRIGXAS9FQBCBRtCBREEXGXAOAIlCi9PQBCBRISLMANCU/CBJAEJRKGXGXGXGXGXATAECKrJ2BBAtCKZrCEZfIBFGEBMAKhB83EBAKCNJhB83EBSEMAKAI2BIAI2BBHmCKrHYAYCE6HYy86BBAKCFJAICIJAYJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCGJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCEJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCIJAYAmJHY2BBAI2BFHmCKrHPAPCE6HPy86BBAKCLJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCKJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCOJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCNJAYAmJHY2BBAI2BGHmCKrHPAPCE6HPy86BBAKCVJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCcJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCMJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCSJAYAmJHm2BBAI2BEHICKrHYAYCE6HYy86BBAKCQJAmAYJHm2BBAICIrCEZHYAYCE6HYy86BBAKCfJAmAYJHm2BBAICGrCEZHYAYCE6HYy86BBAKCbJAmAYJHK2BBAICEZHIAICE6HIy86BBAKAIJRISGMAKAI2BNAI2BBHmCIrHYAYCb6HYy86BBAKCFJAICNJAYJHY2BBAmCbZHmAmCb6Hmy86BBAKCGJAYAmJHm2BBAI2BFHYCIrHPAPCb6HPy86BBAKCEJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCIJAmAYJHm2BBAI2BGHYCIrHPAPCb6HPy86BBAKCLJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCKJAmAYJHm2BBAI2BEHYCIrHPAPCb6HPy86BBAKCOJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCNJAmAYJHm2BBAI2BIHYCIrHPAPCb6HPy86BBAKCVJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCcJAmAYJHm2BBAI2BLHYCIrHPAPCb6HPy86BBAKCMJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCSJAmAYJHm2BBAI2BKHYCIrHPAPCb6HPy86BBAKCQJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCfJAmAYJHm2BBAI2BOHICIrHYAYCb6HYy86BBAKCbJAmAYJHK2BBAICbZHIAICb6HIy86BBAKAIJRISFMAKAI8pBB83BBAKCNJAICNJ8pBB83BBAICTJRIMAtCGJRtAECTJHEAS9JQBMMGXAIQBCBRISEMGXAM9FQBANAbJ2BBRtCBRKAfREEXAEANCU/CBJAKJ2BBHTCFrCBATCFZl9zAtJHt86BBAEAGJREAKCFJHKAM9HQBMMAfCFJRfAIRTAbCFJHbAG9HQBMMABAcAG9sJANCUGJAMAG9sTkUUUBpANANCUGJAMCaJAG9sJAGTkUUUBpMAMCBAIyAcJRcAIQBMC9+RKSFMCBC99AOAIlAGCAAGCA9Ly6yRKMALCU/EBJ8kUUUUBAKM+OmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUFT+JUUUBpALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM+lLKFaF99GaG99FaG99GXGXAGCI9HQBAF9FQFEXGXGX9DBBB8/9DBBB+/ABCGJHG1BB+yAB1BBHE+yHI+L+TABCFJHL1BBHK+yHO+L+THN9DBBBB9gHVyAN9DBB/+hANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE86BBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG86BBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG86BBABCIJRBAFCaJHFQBSGMMAF9FQBEXGXGX9DBBB8/9DBBB+/ABCIJHG8uFB+yAB8uFBHE+yHI+L+TABCGJHL8uFBHK+yHO+L+THN9DBBBB9gHVyAN9DB/+g6ANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE87FBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG87FBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG87FBABCNJRBAFCaJHFQBMMM/SEIEaE99EaF99GXAF9FQBCBREABRIEXGXGX9D/zI818/AICKJ8uFBHLCEq+y+VHKAI8uFB+y+UHO9DB/+g6+U9DBBB8/9DBBB+/AO9DBBBB9gy+SHN+L9DBBB9P9d9FQBAN+oRVSFMCUUUU94RVMAICIJ8uFBRcAICGJ8uFBRMABALCFJCEZAEqCFWJAV87FBGXGXAKAM+y+UHN9DB/+g6+U9DBBB8/9DBBB+/AN9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRMSFMCUUUU94RMMABALCGJCEZAEqCFWJAM87FBGXGXAKAc+y+UHK9DB/+g6+U9DBBB8/9DBBB+/AK9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRcSFMCUUUU94RcMABALCaJCEZAEqCFWJAc87FBGXGX9DBBU8/AOAO+U+TANAN+U+TAKAK+U+THO9DBBBBAO9DBBBB9gy+R9DB/+g6+U9DBBB8/+SHO+L9DBBB9P9d9FQBAO+oRcSFMCUUUU94RcMABALCEZAEqCFWJAc87FBAICNJRIAECIJREAFCaJHFQBMMM9JBGXAGCGrAF9sHF9FQBEXABAB8oGBHGCNWCN91+yAGCi91CnWCUUU/8EJ+++U84GBABCIJRBAFCaJHFQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEM/lFFFaGXGXAFABqCEZ9FQBABRESFMGXGXAGCT9PQBABRESFMABREEXAEAF8oGBjGBAECIJAFCIJ8oGBjGBAECNJAFCNJ8oGBjGBAECSJAFCSJ8oGBjGBAECTJREAFCTJRFAGC9wJHGCb9LQBMMAGCI9JQBEXAEAF8oGBjGBAFCIJRFAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF2BB86BBAECFJREAFCFJRFAGCaJHGQBMMABMoFFGaGXGXABCEZ9FQBABRESFMAFCgFZC+BwsN9sRIGXGXAGCT9PQBABRESFMABREEXAEAIjGBAECSJAIjGBAECNJAIjGBAECIJAIjGBAECTJREAGC9wJHGCb9LQBMMAGCI9JQBEXAEAIjGBAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF86BBAECFJREAGCaJHGQBMMABMMMFBCUNMIT9kBB",e="B9h9z9tFBBBFiI9gBB9gLaaaaaFa9gEaaaB9gFaFaEMcBBFBFFGGGEILF9wFFFLEFBFKNFaFCx/aFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBG8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBIy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBKi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBOn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBNI9z9iqlBVc+N9IcIBTEM9+FLa8jUUUUBCTlRBCBRFEXCBRGCBREEXABCNJAGJAECUaAFAGrCFZHIy86BBAEAIJREAGCFJHGCN9HQBMAFCx+YUUBJAE86BBAFCEWCxkUUBJAB8pEN83EBAFCFJHFCUG9HQBMMk8lLbaE97F9+FaL978jUUUUBCU/KBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAG/8cBBCUoBAG9uC/wgBZHKCUGAKCUG9JyRNAECFJRKCBRVGXEXAVAF9PQFANAFAVlAVANJAF9JyRcGXGXAG9FQBAcCbJHIC9wZHMCE9sRSAMCFWRQAICIrCEJCGrRfCBRbEXAKRTCBRtGXEXGXAOATlAf9PQBCBRKSLMALCU/CBJAtAM9sJRmATAfJRKCBREGXAMCoB9JQBAOAKlC/gB9JQBCBRIEXAmAIJREGXGXGXGXGXATAICKrJ2BBHYCEZfIBFGEBMAECBDtDMIBSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIBAKCTJRKMGXGXGXGXGXAYCGrCEZfIBFGEBMAECBDtDMITSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMITAKCTJRKMGXGXGXGXGXAYCIrCEZfIBFGEBMAECBDtDMIASEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIAAKCTJRKMGXGXGXGXGXAYCKrfIBFGEBMAECBDtDMI8wSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCIJAeDeBJAYCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCNJAeDeBJAYCx+YUUBJ2BBJRKSFMAEAKDBBBDMI8wAKCTJRKMAICoBJREAICUFJAM9LQFAERIAOAKlC/fB9LQBMMGXAEAM9PQBAECErRIEXGXAOAKlCi9PQBCBRKSOMAmAEJRYGXGXGXGXGXATAECKrJ2BBAICKZrCEZfIBFGEBMAYCBDtDMIBSEMAYAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAYAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAYAKDBBBDMIBAKCTJRKMAICGJRIAECTJHEAM9JQBMMGXAK9FQBAKRTAtCFJHtCI6QGSFMMCBRKSEMGXAM9FQBALCUGJAbJREALAbJDBGBReCBRYEXAEALCU/CBJAYJHIDBIBHdCFD9tAdCFDbHPD9OD9hD9RHdAIAMJDBIBH8ZCFD9tA8ZAPD9OD9hD9RH8ZDQBTFtGmEYIPLdKeOnHpAIAQJDBIBHyCFD9tAyAPD9OD9hD9RHyAIASJDBIBH8cCFD9tA8cAPD9OD9hD9RH8cDQBTFtGmEYIPLdKeOnH8dDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGEAeD9uHeDyBjGBAEAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeApA8dDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNiV8ZcpMyS8cQ8df8eb8fHdAyA8cDQNiV8ZcpMyS8cQ8df8eb8fH8ZDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJREAYCTJHYAM9JQBMMAbCIJHbAG9JQBMMABAVAG9sJALCUGJAcAG9s/8cBBALALCUGJAcCaJAG9sJAG/8cBBMAcCBAKyAVJRVAKQBMC9+RKSFMCBC99AOAKlAGCAAGCA9Ly6yRKMALCU/KBJ8kUUUUBAKMNBT+BUUUBM+KmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUF/8MBALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM/dLEK97FaF97GXGXAGCI9HQBAF9FQFCBRGEXABABDBBBHECiD+rFCiD+sFD/6FHIAECND+rFCiD+sFD/6FAID/gFAECTD+rFCiD+sFD/6FHLD/gFD/kFD/lFHKCBDtD+2FHOAICUUUU94DtHND9OD9RD/kFHI9DBB/+hDYAIAID/mFAKAKD/mFALAOALAND9OD9RD/kFHIAID/mFD/kFD/kFD/jFD/nFHLD/mF9DBBX9LDYHOD/kFCgFDtD9OAECUUU94DtD9OD9QAIALD/mFAOD/kFCND+rFCU/+EDtD9OD9QAKALD/mFAOD/kFCTD+rFCUU/8ODtD9OD9QDMBBABCTJRBAGCIJHGAF9JQBSGMMAF9FQBCBRGEXABCTJHVAVDBBBHECBDtHOCUU98D8cFCUU98D8cEHND9OABDBBBHKAEDQILKOSQfbPden8c8d8e8fCggFDtD9OD/6FAKAEDQBFGENVcMTtmYi8ZpyHECTD+sFD/6FHID/gFAECTD+rFCTD+sFD/6FHLD/gFD/kFD/lFHE9DB/+g6DYALAEAOD+2FHOALCUUUU94DtHcD9OD9RD/kFHLALD/mFAEAED/mFAIAOAIAcD9OD9RD/kFHEAED/mFD/kFD/kFD/jFD/nFHID/mF9DBBX9LDYHOD/kFCTD+rFALAID/mFAOD/kFCggEDtD9OD9QHLAEAID/mFAOD/kFCaDbCBDnGCBDnECBDnKCBDnOCBDncCBDnMCBDnfCBDnbD9OHEDQNVi8ZcMpySQ8c8dfb8e8fD9QDMBBABAKAND9OALAEDQBFTtGEmYILPdKOenD9QDMBBABCAJRBAGCIJHGAF9JQBMMM/hEIGaF97FaL978jUUUUBCTlREGXAF9FQBCBRIEXAEABDBBBHLABCTJHKDBBBHODQILKOSQfbPden8c8d8e8fHNCTD+sFHVCID+rFDMIBAB9DBBU8/DY9D/zI818/DYAVCEDtD9QD/6FD/nFHVALAODQBFGENVcMTtmYi8ZpyHLCTD+rFCTD+sFD/6FD/mFHOAOD/mFAVALCTD+sFD/6FD/mFHcAcD/mFAVANCTD+rFCTD+sFD/6FD/mFHNAND/mFD/kFD/kFD/lFCBDtD+4FD/jF9DB/+g6DYHVD/mF9DBBX9LDYHLD/kFCggEDtHMD9OAcAVD/mFALD/kFCTD+rFD9QHcANAVD/mFALD/kFCTD+rFAOAVD/mFALD/kFAMD9OD9QHVDQBFTtGEmYILPdKOenHLD8dBAEDBIBDyB+t+J83EBABCNJALD8dFAEDBIBDyF+t+J83EBAKAcAVDQNVi8ZcMpySQ8c8dfb8e8fHVD8dBAEDBIBDyG+t+J83EBABCiJAVD8dFAEDBIBDyE+t+J83EBABCAJRBAICIJHIAF9JQBMMM9jFF97GXAGCGrAF9sHG9FQBCBRFEXABABDBBBHECND+rFCND+sFD/6FAECiD+sFCnD+rFCUUU/8EDtD+uFD/mFDMBBABCTJRBAFCIJHFAG9JQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEMMMFBCUNMIT9tBB",t=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,3,2,0,0,5,3,1,0,1,12,1,0,10,22,2,12,0,65,0,65,0,65,0,252,10,0,0,11,7,0,65,0,253,15,26,11]),n=new Uint8Array([32,0,65,253,3,1,2,34,4,106,6,5,11,8,7,20,13,33,12,16,128,9,116,64,19,113,127,15,10,21,22,14,255,66,24,54,136,107,18,23,192,26,114,118,132,17,77,101,130,144,27,87,131,44,45,74,156,154,70,167]);if(typeof WebAssembly!="object")return{supported:!1};let i=s;WebAssembly.validate(t)&&(i=e);let r;const a=WebAssembly.instantiate(l(i),{}).then(g=>{r=g.instance,r.exports.__wasm_call_ctors()});function l(g){const v=new Uint8Array(g.length);for(let S=0;S<g.length;++S){const b=g.charCodeAt(S);v[S]=b>96?b-71:b>64?b-65:b>47?b+4:b>46?63:62}let _=0;for(let S=0;S<g.length;++S)v[_++]=v[S]<60?n[v[S]]:(v[S]-60)*64+v[++S];return v.buffer.slice(0,_)}function u(g,v,_,S,b,M){const A=r.exports.sbrk,C=_+3&-4,B=A(C*S),D=A(b.length),N=new Uint8Array(r.exports.memory.buffer);N.set(b,D);const U=g(B,_,S,D,b.length);if(U===0&&M&&M(B,C,S),v.set(N.subarray(B,B+_*S)),A(B-A(0)),U!==0)throw new Error(`Malformed buffer data: ${U}`)}const h={0:"",1:"meshopt_decodeFilterOct",2:"meshopt_decodeFilterQuat",3:"meshopt_decodeFilterExp",NONE:"",OCTAHEDRAL:"meshopt_decodeFilterOct",QUATERNION:"meshopt_decodeFilterQuat",EXPONENTIAL:"meshopt_decodeFilterExp"},m={0:"meshopt_decodeVertexBuffer",1:"meshopt_decodeIndexBuffer",2:"meshopt_decodeIndexSequence",ATTRIBUTES:"meshopt_decodeVertexBuffer",TRIANGLES:"meshopt_decodeIndexBuffer",INDICES:"meshopt_decodeIndexSequence"};return gS={ready:a,supported:!0,decodeVertexBuffer(g,v,_,S,b){u(r.exports.meshopt_decodeVertexBuffer,g,v,_,S,r.exports[h[b]])},decodeIndexBuffer(g,v,_,S){u(r.exports.meshopt_decodeIndexBuffer,g,v,_,S)},decodeIndexSequence(g,v,_,S){u(r.exports.meshopt_decodeIndexSequence,g,v,_,S)},decodeGltfBuffer(g,v,_,S,b,M){u(r.exports[m[b]],g,v,_,S,r.exports[h[M]])}},gS},dee=()=>parseInt(qg.replace(/\D+/g,"")),Qw=dee();let vS=null,z6="https://www.gstatic.com/draco/versioned/decoders/1.5.5/";function H6(s=!0,e=!0,t){return n=>{t&&t(n),s&&(vS||(vS=new fee),vS.setDecoderPath(typeof s=="string"?s:z6),n.setDRACOLoader(vS)),e&&n.setMeshoptDecoder(typeof vT=="function"?vT():vT)}}const kM=(s,e,t,n)=>wu(Zw,s,H6(e,t,n));kM.preload=(s,e,t,n)=>wu.preload(Zw,s,H6(e,t,n));kM.clear=s=>wu.clear(Zw,s);kM.setDecoderPath=s=>{z6=s};const yT=Qw>=154?"opaque_fragment":"output_fragment";class pee extends v_{constructor(e){super(e),this.onBeforeCompile=(t,n)=>{const{isWebGL2:i}=n.capabilities;t.fragmentShader=t.fragmentShader.replace(`#include <${yT}>`,`
        ${i?`#include <${yT}>`:`#extension GL_OES_standard_derivatives : enable
#include <${yT}>`}
      vec2 cxy = 2.0 * gl_PointCoord - 1.0;
      float r = dot(cxy, cxy);
      float delta = fwidth(r);     
      float mask = 1.0 - smoothstep(1.0 - delta, 1.0 + delta, r);
      gl_FragColor = vec4(gl_FragColor.rgb, mask * gl_FragColor.a );
      #include <tonemapping_fragment>
      #include <${Qw>=154?"colorspace_fragment":"encodings_fragment"}>
      `)}}}const mee=J.forwardRef((s,e)=>{const[t]=J.useState(()=>new pee(null));return J.createElement("primitive",Tu({},s,{object:t,ref:e,attach:"material"}))}),G6=(s,e,t)=>{let n;switch(s){case za:n=new Uint8ClampedArray(e*t*4);break;case Ks:n=new Uint16Array(e*t*4);break;case Dc:n=new Uint32Array(e*t*4);break;case dM:n=new Int8Array(e*t*4);break;case pM:n=new Int16Array(e*t*4);break;case l_:n=new Int32Array(e*t*4);break;case $i:n=new Float32Array(e*t*4);break;default:throw new Error("Unsupported data type")}return n};let yS;const gee=(s,e,t,n)=>{if(yS!==void 0)return yS;const i=new qo(1,1,n);e.setRenderTarget(i);const r=new ki(new fh,new Oa({color:16777215}));e.render(r,t),e.setRenderTarget(null);const a=G6(s,i.width,i.height);return e.readRenderTargetPixels(i,0,0,i.width,i.height,a),i.dispose(),r.geometry.dispose(),r.material.dispose(),yS=a[0]!==0,yS};class $w{constructor(e){var t,n,i,r,a,l,u,h,m,g,v,_,S,b,M,A;this._rendererIsDisposable=!1,this._supportsReadPixels=!0,this.render=()=>{this._renderer.setRenderTarget(this._renderTarget);try{this._renderer.render(this._scene,this._camera)}catch(B){throw this._renderer.setRenderTarget(null),B}this._renderer.setRenderTarget(null)},this._width=e.width,this._height=e.height,this._type=e.type,this._colorSpace=e.colorSpace;const C={format:ms,depthBuffer:!1,stencilBuffer:!1,type:this._type,colorSpace:this._colorSpace,anisotropy:((t=e.renderTargetOptions)===null||t===void 0?void 0:t.anisotropy)!==void 0?(n=e.renderTargetOptions)===null||n===void 0?void 0:n.anisotropy:1,generateMipmaps:((i=e.renderTargetOptions)===null||i===void 0?void 0:i.generateMipmaps)!==void 0?(r=e.renderTargetOptions)===null||r===void 0?void 0:r.generateMipmaps:!1,magFilter:((a=e.renderTargetOptions)===null||a===void 0?void 0:a.magFilter)!==void 0?(l=e.renderTargetOptions)===null||l===void 0?void 0:l.magFilter:fi,minFilter:((u=e.renderTargetOptions)===null||u===void 0?void 0:u.minFilter)!==void 0?(h=e.renderTargetOptions)===null||h===void 0?void 0:h.minFilter:fi,samples:((m=e.renderTargetOptions)===null||m===void 0?void 0:m.samples)!==void 0?(g=e.renderTargetOptions)===null||g===void 0?void 0:g.samples:void 0,wrapS:((v=e.renderTargetOptions)===null||v===void 0?void 0:v.wrapS)!==void 0?(_=e.renderTargetOptions)===null||_===void 0?void 0:_.wrapS:ps,wrapT:((S=e.renderTargetOptions)===null||S===void 0?void 0:S.wrapT)!==void 0?(b=e.renderTargetOptions)===null||b===void 0?void 0:b.wrapT:ps};if(this._material=e.material,e.renderer?this._renderer=e.renderer:(this._renderer=$w.instantiateRenderer(),this._rendererIsDisposable=!0),this._scene=new d_,this._camera=new Mp,this._camera.position.set(0,0,10),this._camera.left=-.5,this._camera.right=.5,this._camera.top=.5,this._camera.bottom=-.5,this._camera.updateProjectionMatrix(),!gee(this._type,this._renderer,this._camera,C)){let B;switch(this._type){case Ks:B=this._renderer.extensions.has("EXT_color_buffer_float")?$i:void 0;break}B!==void 0?(console.warn(`This browser does not support reading pixels from ${this._type} RenderTargets, switching to ${$i}`),this._type=B):(this._supportsReadPixels=!1,console.warn("This browser dos not support toArray or toDataTexture, calls to those methods will result in an error thrown"))}this._quad=new ki(new fh,this._material),this._quad.geometry.computeBoundingBox(),this._scene.add(this._quad),this._renderTarget=new qo(this.width,this.height,C),this._renderTarget.texture.mapping=((M=e.renderTargetOptions)===null||M===void 0?void 0:M.mapping)!==void 0?(A=e.renderTargetOptions)===null||A===void 0?void 0:A.mapping:nh}static instantiateRenderer(){const e=new kw;return e.setSize(128,128),e}toArray(){if(!this._supportsReadPixels)throw new Error("Can't read pixels in this browser");const e=G6(this._type,this._width,this._height);return this._renderer.readRenderTargetPixels(this._renderTarget,0,0,this._width,this._height,e),e}toDataTexture(e){const t=new Rl(this.toArray(),this.width,this.height,ms,this._type,(e==null?void 0:e.mapping)||nh,(e==null?void 0:e.wrapS)||ps,(e==null?void 0:e.wrapT)||ps,(e==null?void 0:e.magFilter)||fi,(e==null?void 0:e.minFilter)||fi,(e==null?void 0:e.anisotropy)||1,Bl);return t.generateMipmaps=(e==null?void 0:e.generateMipmaps)!==void 0?e==null?void 0:e.generateMipmaps:!1,t}disposeOnDemandRenderer(){this._renderer.setRenderTarget(null),this._rendererIsDisposable&&(this._renderer.dispose(),this._renderer.forceContextLoss())}dispose(e){this.disposeOnDemandRenderer(),e&&this.renderTarget.dispose(),this.material instanceof pa&&Object.values(this.material.uniforms).forEach(t=>{t.value instanceof pi&&t.value.dispose()}),Object.values(this.material).forEach(t=>{t instanceof pi&&t.dispose()}),this.material.dispose(),this._quad.geometry.dispose()}get width(){return this._width}set width(e){this._width=e,this._renderTarget.setSize(this._width,this._height)}get height(){return this._height}set height(e){this._height=e,this._renderTarget.setSize(this._width,this._height)}get renderer(){return this._renderer}get renderTarget(){return this._renderTarget}set renderTarget(e){this._renderTarget=e,this._width=e.width,this._height=e.height}get material(){return this._material}get type(){return this._type}get colorSpace(){return this._colorSpace}}const vee=`
varying vec2 vUv;

void main() {
  vUv = uv;
  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
}
`,yee=`
// min half float value
#define HALF_FLOAT_MIN vec3( -65504, -65504, -65504 )
// max half float value
#define HALF_FLOAT_MAX vec3( 65504, 65504, 65504 )

uniform sampler2D sdr;
uniform sampler2D gainMap;
uniform vec3 gamma;
uniform vec3 offsetHdr;
uniform vec3 offsetSdr;
uniform vec3 gainMapMin;
uniform vec3 gainMapMax;
uniform float weightFactor;

varying vec2 vUv;

void main() {
  vec3 rgb = texture2D( sdr, vUv ).rgb;
  vec3 recovery = texture2D( gainMap, vUv ).rgb;
  vec3 logRecovery = pow( recovery, gamma );
  vec3 logBoost = gainMapMin * ( 1.0 - logRecovery ) + gainMapMax * logRecovery;
  vec3 hdrColor = (rgb + offsetSdr) * exp2( logBoost * weightFactor ) - offsetHdr;
  vec3 clampedHdrColor = max( HALF_FLOAT_MIN, min( HALF_FLOAT_MAX, hdrColor ));
  gl_FragColor = vec4( clampedHdrColor , 1.0 );
}
`;class _ee extends pa{constructor({gamma:e,offsetHdr:t,offsetSdr:n,gainMapMin:i,gainMapMax:r,maxDisplayBoost:a,hdrCapacityMin:l,hdrCapacityMax:u,sdr:h,gainMap:m}){super({name:"GainMapDecoderMaterial",vertexShader:vee,fragmentShader:yee,uniforms:{sdr:{value:h},gainMap:{value:m},gamma:{value:new ae(1/e[0],1/e[1],1/e[2])},offsetHdr:{value:new ae().fromArray(t)},offsetSdr:{value:new ae().fromArray(n)},gainMapMin:{value:new ae().fromArray(i)},gainMapMax:{value:new ae().fromArray(r)},weightFactor:{value:(Math.log2(a)-l)/(u-l)}},blending:Ec,depthTest:!1,depthWrite:!1}),this._maxDisplayBoost=a,this._hdrCapacityMin=l,this._hdrCapacityMax=u,this.needsUpdate=!0,this.uniformsNeedUpdate=!0}get sdr(){return this.uniforms.sdr.value}set sdr(e){this.uniforms.sdr.value=e}get gainMap(){return this.uniforms.gainMap.value}set gainMap(e){this.uniforms.gainMap.value=e}get offsetHdr(){return this.uniforms.offsetHdr.value.toArray()}set offsetHdr(e){this.uniforms.offsetHdr.value.fromArray(e)}get offsetSdr(){return this.uniforms.offsetSdr.value.toArray()}set offsetSdr(e){this.uniforms.offsetSdr.value.fromArray(e)}get gainMapMin(){return this.uniforms.gainMapMin.value.toArray()}set gainMapMin(e){this.uniforms.gainMapMin.value.fromArray(e)}get gainMapMax(){return this.uniforms.gainMapMax.value.toArray()}set gainMapMax(e){this.uniforms.gainMapMax.value.fromArray(e)}get gamma(){const e=this.uniforms.gamma.value;return[1/e.x,1/e.y,1/e.z]}set gamma(e){const t=this.uniforms.gamma.value;t.x=1/e[0],t.y=1/e[1],t.z=1/e[2]}get hdrCapacityMin(){return this._hdrCapacityMin}set hdrCapacityMin(e){this._hdrCapacityMin=e,this.calculateWeight()}get hdrCapacityMax(){return this._hdrCapacityMax}set hdrCapacityMax(e){this._hdrCapacityMax=e,this.calculateWeight()}get maxDisplayBoost(){return this._maxDisplayBoost}set maxDisplayBoost(e){this._maxDisplayBoost=Math.max(1,Math.min(65504,e)),this.calculateWeight()}calculateWeight(){const e=(Math.log2(this._maxDisplayBoost)-this._hdrCapacityMin)/(this._hdrCapacityMax-this._hdrCapacityMin);this.uniforms.weightFactor.value=Math.max(0,Math.min(1,e))}}class V6 extends Error{}class k6 extends Error{}const Ov=(s,e,t)=>{const n=new RegExp(`${e}="([^"]*)"`,"i").exec(s);if(n)return n[1];const i=new RegExp(`<${e}[^>]*>([\\s\\S]*?)</${e}>`,"i").exec(s);if(i){const r=i[1].match(/<rdf:li>([^<]*)<\/rdf:li>/g);return r&&r.length===3?r.map(a=>a.replace(/<\/?rdf:li>/g,"")):i[1].trim()}if(t!==void 0)return t;throw new Error(`Can't find ${e} in gainmap metadata`)},xee=s=>{let e;typeof TextDecoder<"u"?e=new TextDecoder().decode(s):e=s.toString();let t=e.indexOf("<x:xmpmeta");for(;t!==-1;){const n=e.indexOf("x:xmpmeta>",t),i=e.slice(t,n+10);try{const r=Ov(i,"hdrgm:GainMapMin","0"),a=Ov(i,"hdrgm:GainMapMax"),l=Ov(i,"hdrgm:Gamma","1"),u=Ov(i,"hdrgm:OffsetSDR","0.015625"),h=Ov(i,"hdrgm:OffsetHDR","0.015625"),m=/hdrgm:HDRCapacityMin="([^"]*)"/.exec(i),g=m?m[1]:"0",v=/hdrgm:HDRCapacityMax="([^"]*)"/.exec(i);if(!v)throw new Error("Incomplete gainmap metadata");const _=v[1];return{gainMapMin:Array.isArray(r)?r.map(S=>parseFloat(S)):[parseFloat(r),parseFloat(r),parseFloat(r)],gainMapMax:Array.isArray(a)?a.map(S=>parseFloat(S)):[parseFloat(a),parseFloat(a),parseFloat(a)],gamma:Array.isArray(l)?l.map(S=>parseFloat(S)):[parseFloat(l),parseFloat(l),parseFloat(l)],offsetSdr:Array.isArray(u)?u.map(S=>parseFloat(S)):[parseFloat(u),parseFloat(u),parseFloat(u)],offsetHdr:Array.isArray(h)?h.map(S=>parseFloat(S)):[parseFloat(h),parseFloat(h),parseFloat(h)],hdrCapacityMin:parseFloat(g),hdrCapacityMax:parseFloat(_)}}catch{}t=e.indexOf("<x:xmpmeta",n)}};class See{constructor(e){this.options={debug:e&&e.debug!==void 0?e.debug:!1,extractFII:e&&e.extractFII!==void 0?e.extractFII:!0,extractNonFII:e&&e.extractNonFII!==void 0?e.extractNonFII:!0}}extract(e){return new Promise((t,n)=>{const i=this.options.debug,r=new DataView(e.buffer);if(r.getUint16(0)!==65496){n(new Error("Not a valid jpeg"));return}const a=r.byteLength;let l=2,u=0,h;for(;l<a;){if(++u>250){n(new Error(`Found no marker after ${u} loops 😵`));return}if(r.getUint8(l)!==255){n(new Error(`Not a valid marker at offset 0x${l.toString(16)}, found: 0x${r.getUint8(l).toString(16)}`));return}if(h=r.getUint8(l+1),i&&console.log(`Marker: ${h.toString(16)}`),h===226){i&&console.log("Found APP2 marker (0xffe2)");const m=l+4;if(r.getUint32(m)===1297106432){const g=m+4;let v;if(r.getUint16(g)===18761)v=!1;else if(r.getUint16(g)===19789)v=!0;else{n(new Error("No valid endianness marker found in TIFF header"));return}if(r.getUint16(g+2,!v)!==42){n(new Error("Not valid TIFF data! (no 0x002A marker)"));return}const _=r.getUint32(g+4,!v);if(_<8){n(new Error("Not valid TIFF data! (First offset less than 8)"));return}const S=g+_,b=r.getUint16(S,!v),M=S+2;let A=0;for(let N=M;N<M+12*b;N+=12)r.getUint16(N,!v)===45057&&(A=r.getUint32(N+8,!v));const B=S+2+b*12+4,D=[];for(let N=B;N<B+A*16;N+=16){const U={MPType:r.getUint32(N,!v),size:r.getUint32(N+4,!v),dataOffset:r.getUint32(N+8,!v),dependantImages:r.getUint32(N+12,!v),start:-1,end:-1,isFII:!1};U.dataOffset?(U.start=g+U.dataOffset,U.isFII=!1):(U.start=0,U.isFII=!0),U.end=U.start+U.size,D.push(U)}if(this.options.extractNonFII&&D.length){const N=new Blob([r]),U=[];for(const F of D){if(F.isFII&&!this.options.extractFII)continue;const z=N.slice(F.start,F.end+1,"image/jpeg");U.push(z)}t(U)}}}l+=2+r.getUint16(l+2)}})}}const Aee=async s=>{const e=xee(s);if(!e)throw new k6("Gain map XMP metadata not found");const n=await new See({extractFII:!0,extractNonFII:!0}).extract(s);if(n.length!==2)throw new V6("Gain map recovery image not found");return{sdr:new Uint8Array(await n[0].arrayBuffer()),gainMap:new Uint8Array(await n[1].arrayBuffer()),metadata:e}},S4=s=>new Promise((e,t)=>{const n=document.createElement("img");n.onload=()=>{e(n)},n.onerror=i=>{t(i)},n.src=URL.createObjectURL(s)});class j6 extends gr{constructor(e,t){super(t),e&&(this._renderer=e),this._internalLoadingManager=new zM}setRenderer(e){return this._renderer=e,this}setRenderTargetOptions(e){return this._renderTargetOptions=e,this}prepareQuadRenderer(){this._renderer||console.warn("WARNING: An existing WebGL Renderer was not passed to this Loader constructor or in setRenderer, the result of this Loader will need to be converted to a Data Texture with toDataTexture() before you can use it in your renderer.");const e=new _ee({gainMapMax:[1,1,1],gainMapMin:[0,0,0],gamma:[1,1,1],offsetHdr:[1,1,1],offsetSdr:[1,1,1],hdrCapacityMax:1,hdrCapacityMin:0,maxDisplayBoost:1,gainMap:new pi,sdr:new pi});return new $w({width:16,height:16,type:Ks,colorSpace:Bl,material:e,renderer:this._renderer,renderTargetOptions:this._renderTargetOptions})}async render(e,t,n,i){const r=i?new Blob([i],{type:"image/jpeg"}):void 0,a=new Blob([n],{type:"image/jpeg"});let l,u,h=!1;if(typeof createImageBitmap>"u"){const v=await Promise.all([r?S4(r):Promise.resolve(void 0),S4(a)]);u=v[0],l=v[1],h=!0}else{const v=await Promise.all([r?createImageBitmap(r,{imageOrientation:"flipY"}):Promise.resolve(void 0),createImageBitmap(a,{imageOrientation:"flipY"})]);u=v[0],l=v[1]}const m=new pi(u||new ImageData(2,2),nh,ps,ps,fi,y2,ms,za,1,Bl);m.flipY=h,m.needsUpdate=!0;const g=new pi(l,nh,ps,ps,fi,y2,ms,za,1,ur);g.flipY=h,g.needsUpdate=!0,e.width=l.width,e.height=l.height,e.material.gainMap=m,e.material.sdr=g,e.material.gainMapMin=t.gainMapMin,e.material.gainMapMax=t.gainMapMax,e.material.offsetHdr=t.offsetHdr,e.material.offsetSdr=t.offsetSdr,e.material.gamma=t.gamma,e.material.hdrCapacityMin=t.hdrCapacityMin,e.material.hdrCapacityMax=t.hdrCapacityMax,e.material.maxDisplayBoost=Math.pow(2,t.hdrCapacityMax),e.material.needsUpdate=!0,e.render()}}class Mee extends j6{load([e,t,n],i,r,a){const l=this.prepareQuadRenderer();let u,h,m;const g=async()=>{if(u&&h&&m){try{await this.render(l,m,u,h)}catch(O){this.manager.itemError(e),this.manager.itemError(t),this.manager.itemError(n),typeof a=="function"&&a(O),l.disposeOnDemandRenderer();return}typeof i=="function"&&i(l),this.manager.itemEnd(e),this.manager.itemEnd(t),this.manager.itemEnd(n),l.disposeOnDemandRenderer()}};let v=!0,_=0,S=0,b=!0,M=0,A=0,C=!0,B=0,D=0;const N=()=>{if(typeof r=="function"){const O=_+M+B,P=S+A+D,q=v&&b&&C;r(new ProgressEvent("progress",{lengthComputable:q,loaded:P,total:O}))}};this.manager.itemStart(e),this.manager.itemStart(t),this.manager.itemStart(n);const U=new mr(this._internalLoadingManager);U.setResponseType("arraybuffer"),U.setRequestHeader(this.requestHeader),U.setPath(this.path),U.setWithCredentials(this.withCredentials),U.load(e,async O=>{if(typeof O=="string")throw new Error("Invalid sdr buffer");u=O,await g()},O=>{v=O.lengthComputable,S=O.loaded,_=O.total,N()},O=>{this.manager.itemError(e),typeof a=="function"&&a(O)});const F=new mr(this._internalLoadingManager);F.setResponseType("arraybuffer"),F.setRequestHeader(this.requestHeader),F.setPath(this.path),F.setWithCredentials(this.withCredentials),F.load(t,async O=>{if(typeof O=="string")throw new Error("Invalid gainmap buffer");h=O,await g()},O=>{b=O.lengthComputable,A=O.loaded,M=O.total,N()},O=>{this.manager.itemError(t),typeof a=="function"&&a(O)});const z=new mr(this._internalLoadingManager);return z.setRequestHeader(this.requestHeader),z.setPath(this.path),z.setWithCredentials(this.withCredentials),z.load(n,async O=>{if(typeof O!="string")throw new Error("Invalid metadata string");m=JSON.parse(O),await g()},O=>{C=O.lengthComputable,D=O.loaded,B=O.total,N()},O=>{this.manager.itemError(n),typeof a=="function"&&a(O)}),l}}class bee extends j6{load(e,t,n,i){const r=this.prepareQuadRenderer(),a=new mr(this._internalLoadingManager);return a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setPath(this.path),a.setWithCredentials(this.withCredentials),this.manager.itemStart(e),a.load(e,async l=>{if(typeof l=="string")throw new Error("Invalid buffer, received [string], was expecting [ArrayBuffer]");const u=new Uint8Array(l);let h,m,g;try{const v=await Aee(u);h=v.sdr,m=v.gainMap,g=v.metadata}catch(v){if(v instanceof k6||v instanceof V6)console.warn(`Failure to reconstruct an HDR image from ${e}: Gain map metadata not found in the file, HDRJPGLoader will render the SDR jpeg`),g={gainMapMin:[0,0,0],gainMapMax:[1,1,1],gamma:[1,1,1],hdrCapacityMin:0,hdrCapacityMax:1,offsetHdr:[0,0,0],offsetSdr:[0,0,0]},h=u;else throw v}try{await this.render(r,g,h,m)}catch(v){this.manager.itemError(e),typeof i=="function"&&i(v),r.disposeOnDemandRenderer();return}typeof t=="function"&&t(r),this.manager.itemEnd(e),r.disposeOnDemandRenderer()},n,l=>{this.manager.itemError(e),typeof i=="function"&&i(l)}),r}}const Zy={apartment:"lebombo_1k.hdr",city:"potsdamer_platz_1k.hdr",dawn:"kiara_1_dawn_1k.hdr",forest:"forest_slope_1k.hdr",lobby:"st_fagans_interior_1k.hdr",night:"dikhololo_night_1k.hdr",park:"rooitou_park_1k.hdr",studio:"studio_small_03_1k.hdr",sunset:"venice_sunset_1k.hdr",warehouse:"empty_warehouse_01_1k.hdr"},X6="https://raw.githack.com/pmndrs/drei-assets/456060a26bbeb8fdf79326f224b6d99b8bcce736/hdri/",vg=s=>Array.isArray(s),eR=["/px.png","/nx.png","/py.png","/ny.png","/pz.png","/nz.png"];function jM({files:s=eR,path:e="",preset:t=void 0,colorSpace:n=void 0,extensions:i}={}){t&&(tR(t),s=Zy[t],e=X6);const r=vg(s),{extension:a,isCubemap:l}=nR(s),u=iR(a);if(!u)throw new Error("useEnvironment: Unrecognized file extension: "+s);const h=Jf(_=>_.gl);J.useLayoutEffect(()=>{if(a!=="webp"&&a!=="jpg"&&a!=="jpeg")return;function _(){wu.clear(u,r?[s]:s)}h.domElement.addEventListener("webglcontextlost",_,{once:!0})},[s,h.domElement]);const m=wu(u,r?[s]:s,_=>{(a==="webp"||a==="jpg"||a==="jpeg")&&_.setRenderer(h),_.setPath==null||_.setPath(e),i&&i(_)});let g=r?m[0]:m;if(a==="jpg"||a==="jpeg"||a==="webp"){var v;g=(v=g.renderTarget)==null?void 0:v.texture}return g.mapping=l?Bc:wg,g.colorSpace=n??(l?"srgb":"srgb-linear"),g}const Eee={files:eR,path:"",preset:void 0,extensions:void 0};jM.preload=s=>{const e={...Eee,...s};let{files:t,path:n=""}=e;const{preset:i,extensions:r}=e;i&&(tR(i),t=Zy[i],n=X6);const{extension:a}=nR(t);if(a==="webp"||a==="jpg"||a==="jpeg")throw new Error("useEnvironment: Preloading gainmaps is not supported");const l=iR(a);if(!l)throw new Error("useEnvironment: Unrecognized file extension: "+t);wu.preload(l,vg(t)?[t]:t,u=>{u.setPath==null||u.setPath(n),r&&r(u)})};const Tee={files:eR,preset:void 0};jM.clear=s=>{const e={...Tee,...s};let{files:t}=e;const{preset:n}=e;n&&(tR(n),t=Zy[n]);const{extension:i}=nR(t),r=iR(i);if(!r)throw new Error("useEnvironment: Unrecognized file extension: "+t);wu.clear(r,vg(t)?[t]:t)};function tR(s){if(!(s in Zy))throw new Error("Preset must be one of: "+Object.keys(Zy).join(", "))}function nR(s){var e;const t=vg(s)&&s.length===6,n=vg(s)&&s.length===3&&s.some(a=>a.endsWith("json")),i=vg(s)?s[0]:s;return{extension:t?"cube":n?"webp":i.startsWith("data:application/exr")?"exr":i.startsWith("data:application/hdr")?"hdr":i.startsWith("data:image/jpeg")?"jpg":(e=i.split(".").pop())==null||(e=e.split("?"))==null||(e=e.shift())==null?void 0:e.toLowerCase(),isCubemap:t,isGainmap:n}}function iR(s){return s==="cube"?V8:s==="hdr"?cee:s==="exr"?uee:s==="jpg"||s==="jpeg"?bee:s==="webp"?Mee:null}const Cee=s=>s.current&&s.current.isScene,wee=s=>Cee(s)?s.current:s;function sR(s,e,t,n,i={}){var r,a,l,u;i={backgroundBlurriness:0,backgroundIntensity:1,backgroundRotation:[0,0,0],environmentIntensity:1,environmentRotation:[0,0,0],...i};const h=wee(e||t),m=h.background,g=h.environment,v={backgroundBlurriness:h.backgroundBlurriness,backgroundIntensity:h.backgroundIntensity,backgroundRotation:(r=(a=h.backgroundRotation)==null||a.clone==null?void 0:a.clone())!==null&&r!==void 0?r:[0,0,0],environmentIntensity:h.environmentIntensity,environmentRotation:(l=(u=h.environmentRotation)==null||u.clone==null?void 0:u.clone())!==null&&l!==void 0?l:[0,0,0]};return s!=="only"&&(h.environment=n),s&&(h.background=n),gc(h,i),()=>{s!=="only"&&(h.environment=g),s&&(h.background=m),gc(h,v)}}function rR({scene:s,background:e=!1,map:t,...n}){const i=Jf(r=>r.scene);return J.useLayoutEffect(()=>{if(t)return sR(e,s,i,t,n)}),null}function Y6({background:s=!1,scene:e,blur:t,backgroundBlurriness:n,backgroundIntensity:i,backgroundRotation:r,environmentIntensity:a,environmentRotation:l,...u}){const h=jM(u),m=Jf(g=>g.scene);return J.useLayoutEffect(()=>sR(s,e,m,h,{backgroundBlurriness:t??n,backgroundIntensity:i,backgroundRotation:r,environmentIntensity:a,environmentRotation:l})),J.useEffect(()=>()=>{h.dispose()},[h]),null}function Ree({children:s,near:e=.1,far:t=1e3,resolution:n=256,frames:i=1,map:r,background:a=!1,blur:l,backgroundBlurriness:u,backgroundIntensity:h,backgroundRotation:m,environmentIntensity:g,environmentRotation:v,scene:_,files:S,path:b,preset:M=void 0,extensions:A}){const C=Jf(z=>z.gl),B=Jf(z=>z.scene),D=J.useRef(null),[N]=J.useState(()=>new d_),U=J.useMemo(()=>{const z=new hw(n);return z.texture.type=Ks,z},[n]);J.useEffect(()=>()=>{U.dispose()},[U]),J.useLayoutEffect(()=>{if(i===1){const z=C.autoClear;C.autoClear=!0,D.current.update(C,N),C.autoClear=z}return sR(a,_,B,U.texture,{backgroundBlurriness:l??u,backgroundIntensity:h,backgroundRotation:m,environmentIntensity:g,environmentRotation:v})},[s,N,U.texture,_,B,a,i,C]);let F=1;return b_(()=>{if(i===1/0||F<i){const z=C.autoClear;C.autoClear=!0,D.current.update(C,N),C.autoClear=z,F++}}),J.createElement(J.Fragment,null,e$(J.createElement(J.Fragment,null,s,J.createElement("cubeCamera",{ref:D,args:[e,t,U]}),S||M?J.createElement(Y6,{background:!0,files:S,preset:M,path:b,extensions:A}):r?J.createElement(rR,{background:!0,map:r,extensions:A}):null),N))}function Bee(s){var e,t,n,i;const r=jM(s),a=s.map||r;J.useMemo(()=>b6({GroundProjectedEnvImpl:C$}),[]),J.useEffect(()=>()=>{r.dispose()},[r]);const l=J.useMemo(()=>[a],[a]),u=(e=s.ground)==null?void 0:e.height,h=(t=s.ground)==null?void 0:t.radius,m=(n=(i=s.ground)==null?void 0:i.scale)!==null&&n!==void 0?n:1e3;return J.createElement(J.Fragment,null,J.createElement(rR,Tu({},s,{map:a})),J.createElement("groundProjectedEnvImpl",{args:l,scale:m,height:u,radius:h}))}function Dee(s){return s.ground?J.createElement(Bee,s):s.map?J.createElement(rR,s):s.children?J.createElement(Ree,s):J.createElement(Y6,s)}class Nee extends pa{constructor(){super({uniforms:{depth:{value:null},opacity:{value:1},attenuation:{value:2.5},anglePower:{value:12},spotPosition:{value:new ae(0,0,0)},lightColor:{value:new Ct("white")},cameraNear:{value:0},cameraFar:{value:1},resolution:{value:new at(0,0)}},transparent:!0,depthWrite:!1,vertexShader:`
        varying vec3 vNormal;
        varying float vViewZ;
        varying float vIntensity;
        uniform vec3 spotPosition;
        uniform float attenuation;

        #include <common>
        #include <logdepthbuf_pars_vertex>

        void main() {
          // compute intensity
          vNormal = normalize(normalMatrix * normal);
          vec4 worldPosition = modelMatrix * vec4(position, 1);
          vec4 viewPosition = viewMatrix * worldPosition;
          vViewZ = viewPosition.z;

          vIntensity = 1.0 - saturate(distance(worldPosition.xyz, spotPosition) / attenuation);

          gl_Position = projectionMatrix * viewPosition;

          #include <logdepthbuf_vertex>
        }
      `,fragmentShader:`
        varying vec3 vNormal;
        varying float vViewZ;
        varying float vIntensity;

        uniform vec3 lightColor;
        uniform float anglePower;
        uniform sampler2D depth;
        uniform vec2 resolution;
        uniform float cameraNear;
        uniform float cameraFar;
        uniform float opacity;

        #include <packing>
        #include <logdepthbuf_pars_fragment>

        float readDepth(sampler2D depthSampler, vec2 uv) {
          float fragCoordZ = texture(depthSampler, uv).r;

          // https://github.com/mrdoob/three.js/issues/23072
          #ifdef USE_LOGDEPTHBUF
            float viewZ = 1.0 - exp2(fragCoordZ * log(cameraFar + 1.0) / log(2.0));
          #else
            float viewZ = perspectiveDepthToViewZ(fragCoordZ, cameraNear, cameraFar);
          #endif

          return viewZ;
        }

        void main() {
          #include <logdepthbuf_fragment>

          vec3 normal = vec3(vNormal.x, vNormal.y, abs(vNormal.z));
          float angleIntensity = pow(dot(normal, vec3(0, 0, 1)), anglePower);
          float intensity = vIntensity * angleIntensity;

          // fades when z is close to sampled depth, meaning the cone is intersecting existing geometry
          bool isSoft = resolution[0] > 0.0 && resolution[1] > 0.0;
          if (isSoft) {
            vec2 uv = gl_FragCoord.xy / resolution;
            intensity *= smoothstep(0.0, 1.0, vViewZ - readDepth(depth, uv));
          }

          gl_FragColor = vec4(lightColor, intensity * opacity);

          #include <tonemapping_fragment>
          #include <${Qw>=154?"colorspace_fragment":"encodings_fragment"}>
        }
      `})}}function Oee({opacity:s=1,radiusTop:e,radiusBottom:t,depthBuffer:n,color:i="white",distance:r=5,angle:a=.15,attenuation:l=5,anglePower:u=5}){const h=J.useRef(null),m=Jf(M=>M.size),g=Jf(M=>M.camera),v=Jf(M=>M.viewport.dpr),[_]=J.useState(()=>new Nee),[S]=J.useState(()=>new ae);e=e===void 0?.1:e,t=t===void 0?a*7:t,b_(()=>{_.uniforms.spotPosition.value.copy(h.current.getWorldPosition(S)),h.current.lookAt(h.current.parent.target.getWorldPosition(S))});const b=J.useMemo(()=>{const M=new xp(e,t,r,128,64,!0);return M.applyMatrix4(new sn().makeTranslation(0,-r/2,0)),M.applyMatrix4(new sn().makeRotationX(-Math.PI/2)),M},[r,e,t]);return J.createElement(J.Fragment,null,J.createElement("mesh",{ref:h,geometry:b,raycast:()=>null},J.createElement("primitive",{object:_,attach:"material","uniforms-opacity-value":s,"uniforms-lightColor-value":i,"uniforms-attenuation-value":l,"uniforms-anglePower-value":u,"uniforms-depth-value":n,"uniforms-cameraNear-value":g.near,"uniforms-cameraFar-value":g.far,"uniforms-resolution-value":n?[m.width*v,m.height*v]:[0,0]})))}const Lee=J.forwardRef(({opacity:s=1,radiusTop:e,radiusBottom:t,depthBuffer:n,color:i="white",distance:r=5,angle:a=.15,attenuation:l=5,anglePower:u=5,volumetric:h=!0,debug:m=!1,children:g,...v},_)=>{const S=J.useRef(null);return J.useImperativeHandle(_,()=>S.current,[]),J.createElement("group",null,m&&S.current&&J.createElement("spotLightHelper",{args:[S.current]}),J.createElement("spotLight",Tu({ref:S,angle:a,color:i,distance:r,castShadow:!0},v),h&&J.createElement(Oee,{debug:m,opacity:s,radiusTop:e,radiusBottom:t,depthBuffer:n,color:i,distance:r,angle:a,attenuation:l,anglePower:u})),g&&J.cloneElement(g,{spotlightRef:S,debug:m}))});let Md,Lv;const Uee=J.createContext(null),A4=new sn,M4=new ae,Pee=J.forwardRef(({children:s,range:e,limit:t=1e3,...n},i)=>{const r=J.useRef(null);J.useImperativeHandle(i,()=>r.current,[]);const[a,l]=J.useState([]),[[u,h,m]]=J.useState(()=>[new Float32Array(t*3),Float32Array.from({length:t*3},()=>1),Float32Array.from({length:t},()=>1)]);J.useEffect(()=>{r.current.geometry.attributes.position.needsUpdate=!0}),b_(()=>{for(r.current.updateMatrix(),r.current.updateMatrixWorld(),A4.copy(r.current.matrixWorld).invert(),r.current.geometry.drawRange.count=Math.min(t,e!==void 0?e:t,a.length),Md=0;Md<a.length;Md++)Lv=a[Md].current,Lv.getWorldPosition(M4).applyMatrix4(A4),M4.toArray(u,Md*3),r.current.geometry.attributes.position.needsUpdate=!0,Lv.matrixWorldNeedsUpdate=!0,Lv.color.toArray(h,Md*3),r.current.geometry.attributes.color.needsUpdate=!0,m.set([Lv.size],Md),r.current.geometry.attributes.size.needsUpdate=!0});const g=J.useMemo(()=>({getParent:()=>r,subscribe:v=>(l(_=>[..._,v]),()=>l(_=>_.filter(S=>S.current!==v.current)))}),[]);return J.createElement("points",Tu({userData:{instances:a},matrixAutoUpdate:!1,ref:r,raycast:()=>null},n),J.createElement("bufferGeometry",null,J.createElement("bufferAttribute",{attach:"attributes-position",args:[u,3],usage:$d}),J.createElement("bufferAttribute",{attach:"attributes-color",args:[h,3],usage:$d}),J.createElement("bufferAttribute",{attach:"attributes-size",args:[m,1],usage:$d})),J.createElement(Uee.Provider,{value:g},s))}),Iee=J.forwardRef(({children:s,positions:e,colors:t,sizes:n,stride:i=3,...r},a)=>{const l=J.useRef(null);return J.useImperativeHandle(a,()=>l.current,[]),b_(()=>{const u=l.current.geometry.attributes;u.position.needsUpdate=!0,t&&(u.color.needsUpdate=!0),n&&(u.size.needsUpdate=!0)}),J.createElement("points",Tu({ref:l},r),J.createElement("bufferGeometry",null,J.createElement("bufferAttribute",{attach:"attributes-position",args:[e,i],usage:$d}),t&&J.createElement("bufferAttribute",{attach:"attributes-color",args:[t,i],count:t.length/i,usage:$d}),n&&J.createElement("bufferAttribute",{attach:"attributes-size",args:[n,1],count:n.length/i,usage:$d})),s)}),Fee=J.forwardRef((s,e)=>s.positions instanceof Float32Array?J.createElement(Iee,Tu({},s,{ref:e})):J.createElement(Pee,Tu({},s,{ref:e})));function q6(s,e,t){return Math.max(s,Math.min(e,t))}class zee{advance(e){var l;if(!this.isRunning)return;let t=!1;if(this.lerp)this.value=(n=this.value,i=this.to,r=60*this.lerp,a=e,function(u,h,m){return(1-m)*u+m*h}(n,i,1-Math.exp(-r*a))),Math.round(this.value)===this.to&&(this.value=this.to,t=!0);else{this.currentTime+=e;const u=q6(0,this.currentTime/this.duration,1);t=u>=1;const h=t?1:this.easing(u);this.value=this.from+(this.to-this.from)*h}var n,i,r,a;(l=this.onUpdate)==null||l.call(this,this.value,t),t&&this.stop()}stop(){this.isRunning=!1}fromTo(e,t,{lerp:n=.1,duration:i=1,easing:r=u=>u,onStart:a,onUpdate:l}){this.from=this.value=e,this.to=t,this.lerp=n,this.duration=i,this.easing=r,this.currentTime=0,this.isRunning=!0,a==null||a(),this.onUpdate=l}}class Hee{constructor({wrapper:e,content:t,autoResize:n=!0,debounce:i=250}={}){Ft(this,"resize",()=>{this.onWrapperResize(),this.onContentResize()});Ft(this,"onWrapperResize",()=>{this.wrapper===window?(this.width=window.innerWidth,this.height=window.innerHeight):(this.width=this.wrapper.clientWidth,this.height=this.wrapper.clientHeight)});Ft(this,"onContentResize",()=>{this.wrapper===window?(this.scrollHeight=this.content.scrollHeight,this.scrollWidth=this.content.scrollWidth):(this.scrollHeight=this.wrapper.scrollHeight,this.scrollWidth=this.wrapper.scrollWidth)});this.wrapper=e,this.content=t,n&&(this.debouncedResize=function(r,a){let l;return function(){let u=arguments,h=this;clearTimeout(l),l=setTimeout(function(){r.apply(h,u)},a)}}(this.resize,i),this.wrapper===window?window.addEventListener("resize",this.debouncedResize,!1):(this.wrapperResizeObserver=new ResizeObserver(this.debouncedResize),this.wrapperResizeObserver.observe(this.wrapper)),this.contentResizeObserver=new ResizeObserver(this.debouncedResize),this.contentResizeObserver.observe(this.content)),this.resize()}destroy(){var e,t;(e=this.wrapperResizeObserver)==null||e.disconnect(),(t=this.contentResizeObserver)==null||t.disconnect(),window.removeEventListener("resize",this.debouncedResize,!1)}get limit(){return{x:this.scrollWidth-this.width,y:this.scrollHeight-this.height}}}class W6{constructor(){this.events={}}emit(e,...t){let n=this.events[e]||[];for(let i=0,r=n.length;i<r;i++)n[i](...t)}on(e,t){var n;return(n=this.events[e])!=null&&n.push(t)||(this.events[e]=[t]),()=>{var i;this.events[e]=(i=this.events[e])==null?void 0:i.filter(r=>t!==r)}}off(e,t){var n;this.events[e]=(n=this.events[e])==null?void 0:n.filter(i=>t!==i)}destroy(){this.events={}}}const b4=100/6;class Gee{constructor(e,{wheelMultiplier:t=1,touchMultiplier:n=1}){Ft(this,"onTouchStart",e=>{const{clientX:t,clientY:n}=e.targetTouches?e.targetTouches[0]:e;this.touchStart.x=t,this.touchStart.y=n,this.lastDelta={x:0,y:0},this.emitter.emit("scroll",{deltaX:0,deltaY:0,event:e})});Ft(this,"onTouchMove",e=>{const{clientX:t,clientY:n}=e.targetTouches?e.targetTouches[0]:e,i=-(t-this.touchStart.x)*this.touchMultiplier,r=-(n-this.touchStart.y)*this.touchMultiplier;this.touchStart.x=t,this.touchStart.y=n,this.lastDelta={x:i,y:r},this.emitter.emit("scroll",{deltaX:i,deltaY:r,event:e})});Ft(this,"onTouchEnd",e=>{this.emitter.emit("scroll",{deltaX:this.lastDelta.x,deltaY:this.lastDelta.y,event:e})});Ft(this,"onWheel",e=>{let{deltaX:t,deltaY:n,deltaMode:i}=e;t*=i===1?b4:i===2?this.windowWidth:1,n*=i===1?b4:i===2?this.windowHeight:1,t*=this.wheelMultiplier,n*=this.wheelMultiplier,this.emitter.emit("scroll",{deltaX:t,deltaY:n,event:e})});Ft(this,"onWindowResize",()=>{this.windowWidth=window.innerWidth,this.windowHeight=window.innerHeight});this.element=e,this.wheelMultiplier=t,this.touchMultiplier=n,this.touchStart={x:null,y:null},this.emitter=new W6,window.addEventListener("resize",this.onWindowResize,!1),this.onWindowResize(),this.element.addEventListener("wheel",this.onWheel,{passive:!1}),this.element.addEventListener("touchstart",this.onTouchStart,{passive:!1}),this.element.addEventListener("touchmove",this.onTouchMove,{passive:!1}),this.element.addEventListener("touchend",this.onTouchEnd,{passive:!1})}on(e,t){return this.emitter.on(e,t)}destroy(){this.emitter.destroy(),window.removeEventListener("resize",this.onWindowResize,!1),this.element.removeEventListener("wheel",this.onWheel,{passive:!1}),this.element.removeEventListener("touchstart",this.onTouchStart,{passive:!1}),this.element.removeEventListener("touchmove",this.onTouchMove,{passive:!1}),this.element.removeEventListener("touchend",this.onTouchEnd,{passive:!1})}}class Vee{constructor({wrapper:e=window,content:t=document.documentElement,wheelEventsTarget:n=e,eventsTarget:i=n,smoothWheel:r=!0,syncTouch:a=!1,syncTouchLerp:l=.075,touchInertiaMultiplier:u=35,duration:h,easing:m=B=>Math.min(1,1.001-Math.pow(2,-10*B)),lerp:g=!h&&.1,infinite:v=!1,orientation:_="vertical",gestureOrientation:S="vertical",touchMultiplier:b=1,wheelMultiplier:M=1,autoResize:A=!0,__experimental__naiveDimensions:C=!1}={}){this.__isSmooth=!1,this.__isScrolling=!1,this.__isStopped=!1,this.__isLocked=!1,this.onVirtualScroll=({deltaX:B,deltaY:D,event:N})=>{if(N.ctrlKey)return;const U=N.type.includes("touch"),F=N.type.includes("wheel");if(this.options.syncTouch&&U&&N.type==="touchstart"&&!this.isStopped&&!this.isLocked)return void this.reset();const z=B===0&&D===0,O=this.options.gestureOrientation==="vertical"&&D===0||this.options.gestureOrientation==="horizontal"&&B===0;if(z||O)return;let P=N.composedPath();if(P=P.slice(0,P.indexOf(this.rootElement)),P.find(ee=>{var oe,H,Y,Z,de;return((oe=ee.hasAttribute)===null||oe===void 0?void 0:oe.call(ee,"data-lenis-prevent"))||U&&((H=ee.hasAttribute)===null||H===void 0?void 0:H.call(ee,"data-lenis-prevent-touch"))||F&&((Y=ee.hasAttribute)===null||Y===void 0?void 0:Y.call(ee,"data-lenis-prevent-wheel"))||((Z=ee.classList)===null||Z===void 0?void 0:Z.contains("lenis"))&&!(!((de=ee.classList)===null||de===void 0)&&de.contains("lenis-stopped"))}))return;if(this.isStopped||this.isLocked)return void N.preventDefault();if(this.isSmooth=this.options.syncTouch&&U||this.options.smoothWheel&&F,!this.isSmooth)return this.isScrolling=!1,void this.animate.stop();N.preventDefault();let q=D;this.options.gestureOrientation==="both"?q=Math.abs(D)>Math.abs(B)?D:B:this.options.gestureOrientation==="horizontal"&&(q=B);const ne=U&&this.options.syncTouch,te=U&&N.type==="touchend"&&Math.abs(q)>5;te&&(q=this.velocity*this.options.touchInertiaMultiplier),this.scrollTo(this.targetScroll+q,Object.assign({programmatic:!1},ne?{lerp:te?this.options.syncTouchLerp:1}:{lerp:this.options.lerp,duration:this.options.duration,easing:this.options.easing}))},this.onNativeScroll=()=>{if(!this.__preventNextScrollEvent&&!this.isScrolling){const B=this.animatedScroll;this.animatedScroll=this.targetScroll=this.actualScroll,this.velocity=0,this.direction=Math.sign(this.animatedScroll-B),this.emit()}},window.lenisVersion="1.0.42",e!==document.documentElement&&e!==document.body||(e=window),this.options={wrapper:e,content:t,wheelEventsTarget:n,eventsTarget:i,smoothWheel:r,syncTouch:a,syncTouchLerp:l,touchInertiaMultiplier:u,duration:h,easing:m,lerp:g,infinite:v,gestureOrientation:S,orientation:_,touchMultiplier:b,wheelMultiplier:M,autoResize:A,__experimental__naiveDimensions:C},this.animate=new zee,this.emitter=new W6,this.dimensions=new Hee({wrapper:e,content:t,autoResize:A}),this.toggleClassName("lenis",!0),this.velocity=0,this.isLocked=!1,this.isStopped=!1,this.isSmooth=a||r,this.isScrolling=!1,this.targetScroll=this.animatedScroll=this.actualScroll,this.options.wrapper.addEventListener("scroll",this.onNativeScroll,!1),this.virtualScroll=new Gee(i,{touchMultiplier:b,wheelMultiplier:M}),this.virtualScroll.on("scroll",this.onVirtualScroll)}destroy(){this.emitter.destroy(),this.options.wrapper.removeEventListener("scroll",this.onNativeScroll,!1),this.virtualScroll.destroy(),this.dimensions.destroy(),this.toggleClassName("lenis",!1),this.toggleClassName("lenis-smooth",!1),this.toggleClassName("lenis-scrolling",!1),this.toggleClassName("lenis-stopped",!1),this.toggleClassName("lenis-locked",!1)}on(e,t){return this.emitter.on(e,t)}off(e,t){return this.emitter.off(e,t)}setScroll(e){this.isHorizontal?this.rootElement.scrollLeft=e:this.rootElement.scrollTop=e}resize(){this.dimensions.resize()}emit(){this.emitter.emit("scroll",this)}reset(){this.isLocked=!1,this.isScrolling=!1,this.animatedScroll=this.targetScroll=this.actualScroll,this.velocity=0,this.animate.stop()}start(){this.isStopped&&(this.isStopped=!1,this.reset())}stop(){this.isStopped||(this.isStopped=!0,this.animate.stop(),this.reset())}raf(e){const t=e-(this.time||e);this.time=e,this.animate.advance(.001*t)}scrollTo(e,{offset:t=0,immediate:n=!1,lock:i=!1,duration:r=this.options.duration,easing:a=this.options.easing,lerp:l=!r&&this.options.lerp,onComplete:u,force:h=!1,programmatic:m=!0}={}){if(!this.isStopped&&!this.isLocked||h){if(["top","left","start"].includes(e))e=0;else if(["bottom","right","end"].includes(e))e=this.limit;else{let g;if(typeof e=="string"?g=document.querySelector(e):e!=null&&e.nodeType&&(g=e),g){if(this.options.wrapper!==window){const _=this.options.wrapper.getBoundingClientRect();t-=this.isHorizontal?_.left:_.top}const v=g.getBoundingClientRect();e=(this.isHorizontal?v.left:v.top)+this.animatedScroll}}if(typeof e=="number"){if(e+=t,e=Math.round(e),this.options.infinite?m&&(this.targetScroll=this.animatedScroll=this.scroll):e=q6(0,e,this.limit),n)return this.animatedScroll=this.targetScroll=e,this.setScroll(this.scroll),this.reset(),void(u==null||u(this));if(!m){if(e===this.targetScroll)return;this.targetScroll=e}this.animate.fromTo(this.animatedScroll,e,{duration:r,easing:a,lerp:l,onStart:()=>{i&&(this.isLocked=!0),this.isScrolling=!0},onUpdate:(g,v)=>{this.isScrolling=!0,this.velocity=g-this.animatedScroll,this.direction=Math.sign(this.velocity),this.animatedScroll=g,this.setScroll(this.scroll),m&&(this.targetScroll=g),v||this.emit(),v&&(this.reset(),this.emit(),u==null||u(this),this.__preventNextScrollEvent=!0,requestAnimationFrame(()=>{delete this.__preventNextScrollEvent}))}})}}}get rootElement(){return this.options.wrapper===window?document.documentElement:this.options.wrapper}get limit(){return this.options.__experimental__naiveDimensions?this.isHorizontal?this.rootElement.scrollWidth-this.rootElement.clientWidth:this.rootElement.scrollHeight-this.rootElement.clientHeight:this.dimensions.limit[this.isHorizontal?"x":"y"]}get isHorizontal(){return this.options.orientation==="horizontal"}get actualScroll(){return this.isHorizontal?this.rootElement.scrollLeft:this.rootElement.scrollTop}get scroll(){return this.options.infinite?(e=this.animatedScroll,t=this.limit,(e%t+t)%t):this.animatedScroll;var e,t}get progress(){return this.limit===0?1:this.scroll/this.limit}get isSmooth(){return this.__isSmooth}set isSmooth(e){this.__isSmooth!==e&&(this.__isSmooth=e,this.toggleClassName("lenis-smooth",e))}get isScrolling(){return this.__isScrolling}set isScrolling(e){this.__isScrolling!==e&&(this.__isScrolling=e,this.toggleClassName("lenis-scrolling",e))}get isStopped(){return this.__isStopped}set isStopped(e){this.__isStopped!==e&&(this.__isStopped=e,this.toggleClassName("lenis-stopped",e))}get isLocked(){return this.__isLocked}set isLocked(e){this.__isLocked!==e&&(this.__isLocked=e,this.toggleClassName("lenis-locked",e))}get className(){let e="lenis";return this.isStopped&&(e+=" lenis-stopped"),this.isLocked&&(e+=" lenis-locked"),this.isScrolling&&(e+=" lenis-scrolling"),this.isSmooth&&(e+=" lenis-smooth"),e}toggleClassName(e,t){this.rootElement.classList.toggle(e,t),this.emitter.emit("className change",this)}}function kee({count:s=1500}){const e=J.useRef(),[t]=J.useState(()=>{const n=[];for(let i=0;i<s;i++)n.push((Math.random()-.5)*100,Math.random()*100-25,(Math.random()-.3)*100);return new Float32Array(n)});return b_(n=>{const i=n.clock.getElapsedTime();if(e.current){const r=e.current.geometry.attributes.position.array;for(let a=0;a<r.length;a+=3)r[a]+=Math.sin(i+r[a]*.1)*.02,r[a+1]+=Math.cos(i+r[a+1]*.1)*.02,r[a+2]+=Math.sin(i+r[a+2]*.1)*.02;e.current.geometry.attributes.position.needsUpdate=!0,e.current.material.size=.15+Math.sin(i*2)*.05}}),k.jsxs("group",{children:[k.jsx(Fee,{ref:e,positions:t,stride:3,children:k.jsx(mee,{transparent:!0,color:"#8C7A32",size:.15,sizeAttenuation:!0,depthWrite:!1,opacity:.8,blending:sA,vertexColors:!1})}),k.jsx("pointLight",{color:"#8C7A32",intensity:.2,distance:100,decay:2})]})}function E4({modelRef:s,scrollProgress:e,isLeftHand:t=!0,onEntranceComplete:n}){const{scene:i}=kM("/services/Vzbl hand.glb"),[r,a]=J.useState(!1),l=J.useRef(t?Math.PI*.5:Math.PI*1.5),u=J.useRef({x:0,y:0,z:0}),h=J.useRef({x:0,y:0}),m=J.useRef(!1);return J.useEffect(()=>{i.traverse(_=>{if(_.isMesh){const S=new mo({color:"#383014",metalness:.9,roughness:.1,clearcoat:1,clearcoatRoughness:.1,reflectivity:.7,envMapIntensity:1});_.material=S}}),i.scale.set(.3,.3,.3);const g=t?-50:50;i.position.set(g,-100,0),i.rotation.y=Math.PI*2,u.current={x:g,y:-100,z:0},h.current={x:0,y:Math.PI*2};const v=On.timeline({delay:.5,ease:"power3.out",onComplete:()=>{a(!0),l.current=i.rotation.y,u.current={x:i.position.x,y:i.position.y,z:i.position.z},h.current={x:i.rotation.x,y:i.rotation.y},m.current=!1,n&&n()}});v.to(i.position,{x:t?-30:30,y:-35,z:0,duration:2.5,ease:"power4.out"}).to(i.rotation,{y:t?Math.PI*.5:Math.PI*1.5,duration:3,ease:"power2.out"},"<"),v.from(i.scale,{x:.25,y:.25,z:.25,duration:2,ease:"elastic.out(1, 0.3)"},"<0.2")},[i,t]),J.useEffect(()=>{if(s.current&&r){const v=e*3%1,S=Math.floor(e*3)%2===0;let b;t?b=S?-30+v*60:30-v*60:b=S?30-v*60:-30+v*60;const M=-35,C=M+(-30-M)*e,B=0,N=B+(-30-B)*Math.sin(e*Math.PI),U=t?1:-1,F=l.current+e*Math.PI*4*U,z=Math.sin(e*Math.PI)*.2,O=.05;u.current.x+=(b-u.current.x)*O,u.current.y+=(C-u.current.y)*O,u.current.z+=(N-u.current.z)*O,s.current.position.x=u.current.x,s.current.position.y=u.current.y,s.current.position.z=u.current.z;let P=F-h.current.y;Math.abs(P)>Math.PI&&(P=P>0?P-Math.PI*2:P+Math.PI*2),h.current.y+=P*O,h.current.x+=(z-h.current.x)*O,s.current.rotation.y=h.current.y,s.current.rotation.x=h.current.x}},[e,s,r,t]),k.jsx("primitive",{object:i,ref:s})}const jee=()=>{const s=J.useRef(null),e=J.useRef(null),t=J.useRef(null),[n,i]=J.useState(0),[r,a]=J.useState(!0),[l,u]=J.useState(!1),[h,m]=J.useState(!1);J.useRef(null);const g=J.useRef(null);J.useRef(null);const v=J.useRef(null),_=()=>{console.log("Entrance animation complete, enabling scrolling"),m(!0)};return J.useEffect(()=>{const S=new Vee({duration:1.2,easing:M=>Math.min(1,1.001-Math.pow(2,-10*M)),direction:"vertical",gestureDirection:"vertical",smooth:!0,smoothTouch:!1,touchMultiplier:2});v.current=S,S.stop();function b(M){if(S.raf(M),h){const A=document.documentElement.scrollHeight-window.innerHeight,C=window.scrollY,B=Math.min(C/A,1);i(B)}requestAnimationFrame(b)}return requestAnimationFrame(b),()=>{S.destroy()}},[h]),J.useEffect(()=>{h&&v.current&&(console.log("Starting Lenis scroll"),v.current.start())},[h]),J.useEffect(()=>{if(l){const S=On.timeline();S.to(".loader",{opacity:0,duration:.5,onComplete:()=>a(!1)});const b=document.querySelector("nav");b&&(b.classList.add("nav-reveal"),S.add(()=>{b.classList.add("visible")},"+=0.3")),S.add(()=>{const A=document.querySelector(".services-content");A&&A.classList.add("visible")},"+=0.5"),S.add(()=>{},"+=0.3"),document.querySelectorAll(".service-section").forEach((A,C)=>{S.add(()=>{A.classList.add("visible")},"+=0.2")})}},[l]),k.jsxs("div",{className:"services-container",ref:s,children:[r&&k.jsx("div",{className:"loader"}),k.jsx("div",{className:"services-content",children:k.jsx("h1",{children:"SERVICES"})}),k.jsx("div",{className:"model-container",children:k.jsxs(h$,{camera:{position:[0,0,75],fov:45},style:{width:"100%",height:"100%"},gl:{alpha:!0},onCreated:()=>u(!0),children:[k.jsx("color",{attach:"background",args:["#000000"]}),k.jsx("ambientLight",{intensity:.3}),k.jsx(Dee,{preset:"studio"}),k.jsx(Lee,{position:[0,15,25],angle:.5,penumbra:.5,intensity:15,color:"#8C7A32",distance:50,volumetric:!0,opacity:.8,attenuation:2,anglePower:3}),k.jsx(kee,{}),l&&k.jsx(E4,{modelRef:e,scrollProgress:n,isLeftHand:!0,onEntranceComplete:_}),l&&k.jsx(E4,{modelRef:t,scrollProgress:n,isLeftHand:!1,onEntranceComplete:_})]})}),k.jsxs("div",{className:"services-sections",ref:g,children:[k.jsxs("section",{className:"service-section",children:[k.jsx("div",{className:"service-number",children:"01."}),k.jsx("h2",{className:"service-title",children:"BRANDING"}),k.jsx("p",{className:"service-description",children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat."}),k.jsx("p",{className:"service-description",children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua."})]}),k.jsxs("section",{className:"service-section",children:[k.jsx("div",{className:"service-number",children:"02."}),k.jsx("h2",{className:"service-title",children:"SOCIAL MEDIA"}),k.jsx("p",{className:"service-description",children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat."}),k.jsx("p",{className:"service-description",children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua."})]}),k.jsxs("section",{className:"service-section",children:[k.jsx("div",{className:"service-number",children:"03."}),k.jsx("h2",{className:"service-title",children:"MEDIA PRODUCTION"}),k.jsx("p",{className:"service-description",children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat."}),k.jsx("p",{className:"service-description",children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua."})]}),k.jsxs("section",{className:"service-section",children:[k.jsx("div",{className:"service-number",children:"04."}),k.jsx("h2",{className:"service-title",children:"PACKAGING"}),k.jsx("p",{className:"service-description",children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat."}),k.jsx("p",{className:"service-description",children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua."})]})]})]})},Xee=yp(jee);function Yee(){const{pathname:s}=ah();return J.useEffect(()=>{setTimeout(()=>{window.scrollTo(0,0)},1400)},[s]),null}function qee(){const s=ah();return k.jsxs(k.Fragment,{children:[k.jsx(hF,{}),k.jsx(Yee,{}),k.jsx(M9,{mode:"wait",initial:!1,children:k.jsxs(II,{location:s,children:[k.jsx(Nf,{path:"/",element:k.jsx(KV,{})}),k.jsx(Nf,{path:"/about",element:k.jsx(Ik,{})}),k.jsx(Nf,{path:"/contact",element:k.jsx(Wk,{})}),k.jsx(Nf,{path:"/faq",element:k.jsx(Yk,{})}),k.jsx(Nf,{path:"/work",element:k.jsx(ZV,{})}),k.jsx(Nf,{path:"/services",element:k.jsx(Xee,{})}),k.jsx(Nf,{path:"/sample-project",element:k.jsx(Uk,{})})]},s.pathname)})]})}YP.createRoot(document.getElementById("root")).render(k.jsx(J.StrictMode,{children:k.jsx(jI,{children:k.jsx(qee,{})})}));
