import{j as M}from"./three-vendor.R-RPA-1_.js";import{b as r}from"./react-vendor.C9y_EsvM.js";import{S as b,g as l,u as d}from"./animation-vendor.Cs8CPchK.js";import{S}from"./ScrollTrigger.6qCihK2t.js";l.registerPlugin(d,S);const H=({children:$,className:x="",delay:u=0,duration:a=1,ease:p="power4.out",stagger:f=.05,lineSelector:g="",animateOnScroll:s=!0,direction:o="bottom",tag:A="p"})=>{const e=r.useRef(null),[t,E]=r.useState(null),[m,T]=r.useState(!1),i=r.useRef(null);r.useEffect(()=>{E(`copy-${Math.floor(Math.random()*1e4)}`)},[]),r.useEffect(()=>{if(!t||!e.current)return;const c=`line-${t}`,n=new b(e.current,{types:"lines",lineClass:c});i.current=n;const I=g||`.${c}`;document.querySelectorAll(I).forEach(y=>{const C=y.innerHTML;y.innerHTML=`<span class="line-inner-${t}">${C}</span>`});const R=o==="top"?"-100%":"100%";return l.set(`.line-inner-${t}`,{y:R,display:"block"}),T(!0),()=>{i.current&&i.current.revert()}},[t,g,o]),d(()=>!m||!e.current?void 0:(l.timeline({defaults:{ease:p,duration:a},...s?{scrollTrigger:{trigger:e.current,start:"top 80%",toggleActions:"play none none none"}}:{}}).to(`.line-inner-${t}`,{y:"0%",stagger:f,delay:u}),()=>{s&&S.getAll().filter(n=>n.vars.trigger===e.current).forEach(n=>n.kill())}),{scope:e,dependencies:[m,s,u,a,p,f,o]});const h=A;return M.jsx(h,{ref:e,className:`animated-copy ${x}`,"data-copy-id":t,children:$})};export{H as A};
